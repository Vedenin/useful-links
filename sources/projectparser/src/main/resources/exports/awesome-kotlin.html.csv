"category"	"name"	"url"	"description"	"star"	"stackOverflow"	"stackOverflowUrl"	"license"	"licenseUrl"	"site"	"userGuide"	"newStars"	"newWatchs"	"newForks"	"pageText"	"newStackOverflow"	"github"	"allText"	"isExist"
"Awesome Kotlin"	"RSS Link"	"http://kotlin.link/rss.xml"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"Kotlin Programming LanguageNews, blog posts, projects, podcasts, videos and other. All information about Kotlin. http://kotlin.link/http://kotlin.link/favicon.ico Kotlin Programming Language http://kotlin.link/node-rssFri, 08 Jul 2016 05:48:26 GMTFri, 08 Jul 2016 05:48:23 GMTCC0 1.0 Universal (CC0 1.0)enruslan@ibragimov.by (Ruslan Ibragimov)ruslan@ibragimov.by (Ruslan Ibragimov)https://validator.w3.org/feed/docs/rss2.html30KotlinProgrammingJVM Never say final: mocking Kotlin classes in unit tests<p><a href=""http://www.martinfowler.com/bliki/TestDouble.html"">Test doubles</a> are one of the most essential part of unit testing. A test double replaces a class that we need in our test but that is not the focus of our test. We remove that dependency by using a &ldquo;fake&rdquo; object. This way our test becomes more robust due to a reduced dependency on other classes. Such a double could be a stub, a dummy or a mock. All of these need the ability to replace an object with something artificial that looks and behaves like the object we need. In Java, the common approach for test doubles is using interfaces: one implementation of the class is the &ldquo;real&rdquo; one, and the other one is used for testing.</p> <p>Writing a lot of unit tests means that all your classes need interfaces. This creates a lot of boilerplate. Therefore it became a common rule for many developers that if you have only one implementation for your interface the interface is useless and can be dropped.</p> <p>This rule can easily be applied for testing also. As long as we only test the &ldquo;public contract&rdquo; of a class we can still replace this by a double. This can be done via extension and overriding or via a mocking framework like <a href=""https://github.com/mockito/mockito"">Mockito</a>. Mocking classes not only interfaces became pretty common and are a powerful feature. In other languages, like ObjectiveC, where developers do not focus on interfaces as much as in Java, this is the default approach.</p> <h3>The Kotlin problem</h3> <p>Everything seemed fine, until <a href=""https://kotlinlang.org/"">Kotlin</a> came around, a great modern language. Given how well Kotlin and Java work together, the Android developer community was hooked almost from the beginning. But Kotlin brought a new concept: everything is <em>final</em> by default. The rule: &ldquo;closed for modifications, open for extension&rdquo; is baked into the language. Every class is <em>final</em> by default, every method is <em>final</em> by default! Inheritance was widely overused in the last decades and Kotlin tries to make this a bit better.</p> <p>From a testing perspective this is a problem: if you can not extend a class you can not replace it with any kind of double, not even a generated mock:</p> <pre><code class=""hljs language-kotlin"">org.mockito.exceptions.base.MockitoException: Cannot mock/spy <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">com</span>.<span class=""hljs-title"">mypackage</span>.<span class=""hljs-title"">MyKotlinClass</span></span> Mockito cannot mock/spy following: — <span class=""hljs-keyword"">final</span> classes — anonymous classes — primitive types</code></pre> <p>And if the class would not be <em>final</em> you still have all the <em>final</em> methods. But as <em>final</em> methods can not be overridden, real code will suddenly run in your mock. This is something you want to avoid. The problem itself is not new, especially APIs or different third party code were sealed with <em>finals</em>. The developers from <a href=""https://www.jayway.com/sharing-knowledge/blog/"">Jayway</a> solved this solution a long time ago by creating <a href=""https://github.com/jayway/powermock/"">PowerMock</a>. PowerMock allows to mock <em>finals</em> and even <em>statics</em>. The question for us Kotlin developers is: is there a better way, easier way? Using PowerMock is like using a sledge hammer to crack a nut.</p> <p>What else could we do? Going back to interfaces? This would lead us to the situation described above. We could open all the classes we need. As we (hopefully) test all the classes, could this lead to opening all our classes!? And would this mean modifying our code just for testing? This sounds wrong! The main feature of the language would be broken.</p> <h3>An idea to solve it</h3> <p>In an ideal world we would just have something like:</p> <pre><code class=""hljs language-kotlin"">controller = mockFinal()</code></pre> <p>which would be an extension of normal <em>mock()</em> method. Everything this call would need to do, is removing the <em>final</em> modifier from the class and all its public methods.</p> <p>With Java reflection is very easy to remove the <em>final</em> modifier of a field. For example:</p> <pre><code class=""hljs language-kotlin"">Field modifiersField = Field.<span class=""hljs-keyword"">class</span>.getDeclaredField(“modifiers”); modifiersField.setAccessible(<span class=""hljs-literal"">true</span>); modifiersField.setInt(field, field.getModifiers() &amp; ~Modifier.FINAL);</code></pre> <p>But for classes and methods things tend to be a bit trickier. You can not achieve this with pure Java reflection API.</p> <p>But thanks to frameworks like <a href=""http://jboss-javassist.github.io/javassist/""><em>javassist</em></a> there is a way. Javassist is a large toolkit around byte code. It allows the manipulation and even creation of Java classes at runtime. And it also includes a way to change the class and method modifiers:</p> <pre><code class=""hljs language-kotlin"">CtClass clazz = ... int notFinalModifier = Modifier.clear(clazz.getModifiers(), Modifier.FINAL); clazz.setModifiers(notFinalModifier); <span class=""hljs-keyword"">return</span> clazz.toClass(); <span class=""hljs-comment"">// returns new non final class</span></code></pre> <p>With this, a new non-final class can be easily created. But this leads to the next problem: <em>javassist</em> creates a new class but we can not load the new class into the current test. Because the class is already loaded by the class loader. Two version of it are not allowed:</p> <pre><code class=""hljs language-kotlin"">javassist.CannotCompileException: <span class=""hljs-keyword"">by</span> java.lang.LinkageError: loader (instance of sun/misc/Launcher$AppClassLoader): attempted duplicate <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">definition</span> <span class=""hljs-title"">for</span> <span class=""hljs-title"">name</span>: <span class=""hljs-type"">""com/myPackage/MyKotlinClass""</span></span></code></pre> <p>So we just need a different class loader right? The problem: an assignment like</p> <pre><code class=""hljs language-kotlin"">controller = mockFinal()</code></pre> <p>would not work if two different class loaders would be used. So even if we could get passed that Linker error for duplicate class from above we would get a ClassCastException! This is because for the JVM classes are identified by <em>name, package</em> and _class loade_r. So even without modification, instances of two identical classes cannot be assigned to each other if the class loader differs.</p> <p>This means we need to aim a bit larger than the initial idea: there must be only one class loader for our full test class. Good news! With JUnit there is way to achieve this. We can change the TestRunner that is used for our class.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">public</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">MyTestRunner</span> <span class=""hljs-title"">extends</span> <span class=""hljs-title"">BlockJUnit4ClassRunner</span> </span>{ <span class=""hljs-keyword"">public</span> MyTestRunner(Class&lt;?&gt; clazz) throws InitializationError { <span class=""hljs-keyword"">super</span>(getFromMyClassloader(clazz)); } <span class=""hljs-keyword"">private</span> static Class&lt;?&gt; getFromMyClassloader(Class&lt;?&gt; clazz) ...</code></pre> <p>then we would write our own <em>ClassLoader</em> and override:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-meta"">@Override</span> <span class=""hljs-keyword"">public</span> Class&lt;?&gt; loadClass(String name) throws ClassNotFoundException { ...</code></pre> <p>Here you can remove the <em>final</em> modifier with <em>javassist</em> as shown above and return the new &ldquo;better&rdquo; class.</p> <p>Have a look on how all of these look when put together: <a href=""https://github.com/dpreussler/kotlin-testrunner""><em>https://github.com/dpreussler/kotlin-testrunner</em></a></p> <p>If you want to use it, all you need to do is to add <strong><em>@RunWith(KotlinTestRunner.class)</em> </strong>for Java tests or <strong><em>@RunWith(KotlinTestRunner::class)</em> </strong>for Kotlin tests</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-meta"">@RunWith(KotlinTestRunner::class)</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">MyKotlinTestclass</span> </span>{ <span class=""hljs-meta"">@Test</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">test</span><span class=""hljs-params"">()</span></span> { ... } }</code></pre> <p>With this you will never have to care about if your Kotlin class is <em>final</em> or <em>open</em>. Simply mock them, it will work :-)</p> <h3>Wrap up</h3> <p>For now it seems there is no way around without changing the Testrunner. PowerMock uses the same approach but requires more configuration. So for what we wanted to achieve this is a reasonable solution. Give it a try and let me know how it works for you.</p> <p>And of course the Runner is not limited to Kotlin. It can also be used for any Java test where a <em>final</em> method or class needs to be mocked.</p> https://medium.com/@dpreussler/never-say-final-mocking-kotlin-classes-in-unit-tests-314d275b82b1#.9oldk16f5https://medium.com/@dpreussler/never-say-final-mocking-kotlin-classes-in-unit-tests-314d275b82b1#.9oldk16f5TestingKotlinDanny PreusslerWed, 06 Jul 2016 00:00:00 GMT Kotlin 1.0.3 Is Here!<p>We are delighted to present <strong>Kotlin 1.0.3</strong>. This update is not full of brand new and shiny features, it is more about bug fixes, tooling improvements and performance boosts. That&rsquo;s why you&rsquo;ll like it <img src=""https://s.w.org/images/core/emoji/72x72/1f609.png"" alt=""&#x1F609;""> Take a look at the full <a href=""https://github.com/JetBrains/kotlin/blob/1.0.3/ChangeLog.md"">change log</a> and issues stats by subsystem:</p> <p><img src=""https://d3nmt5vlzunoa1.cloudfront.net/kotlin/files/2016/06/Pasted-image-at-2016_06_28-07_25-PM.png"" alt=""Kotlin 1.0.3. Fixed issues""></p> <p>Specifically we want to express our gratitude to our contributors whose commits are included in 1.0.3 namely <a href=""https://github.com/yarulan"">Yaroslav Ulanovych</a>, <a href=""https://github.com/JakeWharton"">Jake Wharton</a> and <a href=""https://github.com/cypressious"">Kirill Rakhman</a>. Kirill has done more than a dozen improvements to formatter and submitted 20+ commits &mdash; great job, Kirill, we really appreciate it. Here we also want to thank each and every one of our EAP users who tested and provided their priceless feedback on 1.0.3 prerelease builds.</p> <p>Although this update is not feature-rich, there are several important improvements and features which are worth highlighting here:</p> <h2>What&rsquo;s new in the compiler:</h2> <ul> <li>New option <code>-jdk-home</code> to specify the JDK against which the code is compiled</li> <li>Options to specify Kotlin language version (<code>-language-version</code>) and target Java version (<code>-jvm-target</code>) (will have effect in 1.1, added now for forward compatibility)</li> <li>More efficient bytecode (no more iterator in <code>indices</code> loop, avoid unnecessary operations with <code>Unit</code>)</li> <li>Various improvements to diagnostic messages</li> </ul> <h2>What&rsquo;s new in the IDE:</h2> <ul> <li> <p>Autosuggestion for Java to Kotlin conversion for Java code copied from browser and other sources outside of the IDE <img src=""https://d3nmt5vlzunoa1.cloudfront.net/kotlin/files/2016/06/copypaste.gif"" alt=""""></p> </li> <li> <p>Language injection for strings passed to parameters annotated with @Language. Also predefined Java injections applied in Kotlin code. Read more about using language injections in the <a href=""https://www.jetbrains.com/help/idea/2016.1/using-language-injections.html"">documentation</a> <img src=""https://d3nmt5vlzunoa1.cloudfront.net/kotlin/files/2016/06/inject.gif"" alt=""""></p> </li> <li> <p>Completion now always shows non-imported classes and methods and adds imports automatically when they are selected <img src=""https://d3nmt5vlzunoa1.cloudfront.net/kotlin/files/2016/06/import-1.gif"" alt=""""></p> </li> <li> <p>Smart completion works after &lsquo;by&rsquo; and &lsquo;in&rsquo; <img src=""https://d3nmt5vlzunoa1.cloudfront.net/kotlin/files/2016/06/smart.gif"" alt=""""></p> </li> <li> <p>Move Element Left/Right actions work for Kotlin <img src=""https://d3nmt5vlzunoa1.cloudfront.net/kotlin/files/2016/06/move.gif"" alt=""""></p> </li> <li> <p><em>Decompile</em> button is now available in Kotlin bytecode toolwindow and for .class files compiled with Kotlin <img src=""https://d3nmt5vlzunoa1.cloudfront.net/kotlin/files/2016/06/decompile.png"" alt=""decompile""></p> </li> <li> <p>Now you can navigate from stacktrace to the call site of an inline function</p> </li> <li> <p>Inspections and intentions to check and adjust Kotlin configuration in pom.xml files</p> </li> <li> <p>Various Spring support improvements</p> </li> </ul> <h2>How to update</h2> <p>To update the plugin, use Tools | Kotlin | Configure Kotlin Plugin Updates and press the &ldquo;Check for updates now&rdquo; button. Also, don&rsquo;t forget to update the compiler and standard library version in your Maven and Gradle build scripts.</p> <p>As usual, if you run into any problems with the new release, you&rsquo;re welcome to ask for help on the <a href=""https://discuss.kotlinlang.org/"">forums</a>, on Slack (get an invite <a href=""http://kotlinslackin.herokuapp.com/"">here</a>), or to report issues in the <a href=""https://youtrack.jetbrains.com/issues/KT"">issue tracker</a>.</p> <p>Let&rsquo;s Kotlin!</p> https://blog.jetbrains.com/kotlin/2016/06/kotlin-1-0-3-is-here/https://blog.jetbrains.com/kotlin/2016/06/kotlin-1-0-3-is-here/KotlinRoman BelovThu, 30 Jun 2016 00:00:00 GMT Ad-hoc polymorphism in Kotlin<p>Even though Kotlin doesn&rsquo;t natively support ad-hoc polymorphism today, it&rsquo;s actually pretty straightforward to use it with little effort. Doing so is not as straightforward as it is in Haskell, obviously, but it&rsquo;s been simple enough that I haven&rsquo;t really encountered situations in Kotlin where the lack of native support in the language was a showstopper. In this article, I present two techniques you can use to leverage ad-hoc polymorphism in Kotlin.</p> <h2>Extending for &ldquo;fun&rdquo; and some profit</h2> <p>Here is what the <a href=""https://wiki.haskell.org/Polymorphism"">Haskell wiki</a> has to say about ad-hoc polymorphism:</p> <blockquote> <p>Despite the similarity of the name, Haskell&rsquo;s type classes are quite different from the classes of most object-oriented languages. They have more in common with interfaces, in that they specify a series of methods or values by their type signature, to be implemented by an instance declaration.</p> </blockquote> <p>Before we get into details, let&rsquo;s define exactly what we are trying to do and why we&rsquo;re trying to do it. One intuitive way of looking at ad-hoc polymorphism is that it enables us to retroactively make values conform to a certain type. This is a bit abstract but I&rsquo;m pretty sure you have encountered this problem many times before even if you never realized it. Let&rsquo;s look at a simple example.</p> <p>A library typically defines types and then offers functions that take parameters and returns values of that type. The only way to make use of that library is to find a way to bring your objects into that library&rsquo;s object world, or in other words, be able to convert your objects to objects that this library expects and vice versa. You will find many examples of type classes if you do a simple search: values that behave like a Number, Functor, Applicative, Monad, Monoid, Equality, Comparability, etc... In order not to repeat what&rsquo;s already out there and in an effort to remain focused on concrete problems, I&rsquo;m going to pick a different field: JSON.</p> <p>The need to parse JSON and also convert your objects to JSON is pretty much universal, so in all likeliness, you are already using a JSON library in your code. And at some point, you have had to ask yourself a very simple question: &ldquo;How do I convert my current objects to JSON so I can use this library&rdquo;. The library probably defines some kind of <code>JsonObject</code> type and most of its API is defined in terms of this type, either with functions accepting parameters of that type or returning such values:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">interface</span> <span class=""hljs-title"">JsonObject</span> </span>{ <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">toJson</span><span class=""hljs-params"">()</span></span> : String }</code></pre> <p>In order to leverage this library, converting your objects so they conform to this interface is very important, and once you have converted your objects, you gain full access to all the functionalities that this library offers, such as pretty printing in JSON, doing search/replaces in JSON, reshaping JSON object from one form to another, etc...</p> <p>If you own (i.e. you are the author of) these classes, doing so is very easy. For example, you can modify your class to implement that interface:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Account</span> : <span class=""hljs-type"">JsonObject {</span></span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-keyword"">override</span> <span class=""hljs-title"">toJson</span><span class=""hljs-params"">()</span></span> : String { ... } }</code></pre> <p>The advantage of this approach is that you can now pass all your <code>Account</code> values directly to functions of the JSON libraries that accept a <code>JsonObject</code>. This is very useful, but the downside is that you have now polluted your class with a concern that make your design more bloated. If you are going to extend this approach to other types, very soon, your <code>Account</code> class will extend multiple interfaces filling various functionalities, and you have now tied your business logic to a lot of dependencies (i.e. you now need this JSON library in order to compile your <code>Account</code>...).</p> <p>Another approach is simply to write a function that converts your business objects to <code>JsonObjects</code>:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> Account.<span class=""hljs-title"">toJson</span><span class=""hljs-params"">()</span></span> : JsonObject { ... }</code></pre> <p>This defines an extension function that adds the method <code>toJson()</code> directly on the <code>Account</code> class, where it belongs. The extension function buys us two very important benefits:</p> <ul> <li>Since it&rsquo;s an extension function, its implementation runs on the <code>Account</code> instance itself (in other word, <code>this</code> is of type <code>Account</code>).</li> <li>This function is defined without making any modification to the <code>Account</code> class itself. Not only does it leave your class untouched and unpolluted with unrelated concerns, you can also apply this approach to classes that you don&rsquo;t own. This is extremely important and a critical step toward ad-hoc polymorphism.</li> </ul> <p>With this approach, we have won separation of concerns and a great amount of flexibility but we have lost some typing power: we can no longer pass an instance of <code>Account</code> to a function accepting a <code>JsonObject</code> parameter, we need to call <code>toJson()</code> on that instance first.</p> <p>This is how far we can go with Kotlin today and this fits in Kotlin&rsquo;s general design principle to stay away from implicit conversions, a decision I&rsquo;ve come to respect greatly after several years writing Kotlin code.</p> <h2>Escaping the tyranny of nominal typing</h2> <p>Let&rsquo;s look at another approach to implement ad hoc polymorphism. Consider the following simple function that saves an object to a database:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">persist</span><span class=""hljs-params"">(person: <span class=""hljs-type"">Person</span>)</span></span> { db.save(person.id, person) }</code></pre> <p>The object is saved to the database and associated to its <code>id</code>. A little later, I want to persist an <code>Account</code> object, and in the spirit of proper software engineering, I&rsquo;d rather abstract my existing code rather than writing a second <code>persist()</code> function. So I make my function more generic and in the process, I discover that in order to be persisted, my <code>Account</code> instance needs to be able to give me its <code>id</code>. After refactoring, my code now looks like this:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">interface</span> <span class=""hljs-title"">Id</span> </span>{ <span class=""hljs-keyword"">val</span> id : String } <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Person</span> : <span class=""hljs-type"">Id {</span></span> <span class=""hljs-keyword"">override</span> <span class=""hljs-keyword"">val</span> id: String <span class=""hljs-keyword"">get</span>() = <span class=""hljs-string"">""1""</span> } <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">persist</span><span class=""hljs-params"">(id: <span class=""hljs-type"">Id</span>)</span></span> { ... }</code></pre> <p>But now, I find myself having to make <code>Account</code> implement <code>Id</code>, which is exactly what I am trying to avoid with ad hoc polymorphism (either because I think it&rsquo;s bad design or more simply because the class <code>Account</code> is not mine, so I can&rsquo;t modify it). The realization here is that these type names get in the way of my goal and I&rsquo;d rather keep all these concepts separate.</p> <p>What if, instead, the <code>persist()</code> method accepted an additional parameter (a function) that allows me to obtain an <code>Id</code> from its parameter?</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-type"">&lt;T&gt;</span> <span class=""hljs-title"">persist</span><span class=""hljs-params"">(o: <span class=""hljs-type"">T</span>, toId: (<span class=""hljs-type"">T</span>)</span></span> -&gt; String) <span class=""hljs-comment"">// Persist a Person: easy since Person extends Id</span> persist(person, { person -&gt; person.id }) <span class=""hljs-comment"">// Persist an Account: need to get an id some other way</span> persist(account, { account -&gt; getAnIdForAccountSomehow(account) }</code></pre> <p>This new approach has a few interesting characteristics:</p> <ol> <li>Notice how completely generic the <code>persist()</code> method has become: it doesn&rsquo;t reference <code>Person</code>, <code>Account</code> and not even <code>Id</code>, even though it needs some sort of id in order to operate. This function is literally applicable &ldquo;for all&rdquo; types (I am intentionally using double quotes here, some of you will probably immediately understand what &ldquo;for all&rdquo; means in this context).</li> <li>We have detached the ability to provide an id from our types. You still have the option to implement this functionality into your types (like <code>Person</code> does) but it&rsquo;s now entirely optional (like <code>Account</code> shows). This gives you a lot of flexibility since you are now longer forced to use the id supplied by the class and you can also be more creative in your testing (e.g. trying to save two different objects but force them to have the same <code>id</code> in order to test for collision error cases).</li> </ol> <p>This approach makes a drastic step toward a more functional solution to the problem of ad hoc polymorphism: we depend less on types and more on functions. As you can see, this approach provides some interesting benefits.</p> <h2>An ad-hoc polymorphism proposal for Kotlin</h2> <p>When I reflected about this problem a while ago, it occurred to me that ad-hoc polymorphism has a lot in common with Kotlin&rsquo;s extension functions: an extension function adds a function to a type outside of the definition of that type and ad-hoc polymorphism makes a type extend another type outside of the definition of that type. I came up with the concent of &ldquo;Extension types&rdquo; and I gave a quick overview of this idea <a href=""https://discuss.kotlinlang.org/t/extension-types-for-kotlin/1390"">in this article</a>. Extension types would allow us to make types retroactively implement other types with this made up syntax:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-comment"">// Not legal Kotlin</span> <span class=""hljs-keyword"">override</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">String</span>: <span class=""hljs-type"">Monoid</span>&lt;<span class=""hljs-type"">String</span>&gt;</span></code></pre> <p>The rest of the interface would be implemented with extension functions, as demonstrated in the link above. The downside of this proposal is that it adds some form of implicit conversion, something that is at odds with Kotlin&rsquo;s current design, so it&rsquo;s probably unlikely this proposal will go past the stage of strawman but I thought it would be interesting to draw a parallel between extension functions and extension types.</p> <h2>Does Kotlin really need ad-hoc polymorphism?</h2> <p>The more I think about it, the more convinced I am that the value offered by ad-hoc polymorphism is very closely tied to the language you&rsquo;re using it in. In other words, it&rsquo;s not a universal tool but one that&rsquo;s heavily dependent on how well supported it is in your language. Ad-hoc polymorphism is obviously a critical component of Haskell and it has given rise to high amounts of reuse and elegant abstractions in that language but I&rsquo;m not sure Kotlin would benefit as much from it.</p> <p>Another important aspect of deciding how useful ad-hoc polymorphism would be in a language is whether that language supports higher kinds (type families). Without higher kinds, your ability to abstract is limited, which lessens the value of ad-hoc polymorphism significantly. And since Kotlin doesn&rsquo;t support higher kinds as of this writing, the importance of native support for ad-hoc polymorphism is questionable, or at least, certainly not as high a priority as other features.</p> <p>At any rate, I have used the two techniques described above in my own code bases with reasonable benefit, so I hope they will be useful to others as well.</p> http://beust.com/weblog/2016/06/20/ad-hoc-polymorphism-in-kotlin/http://beust.com/weblog/2016/06/20/ad-hoc-polymorphism-in-kotlin/KotlinCédric BeustMon, 20 Jun 2016 08:47:00 GMT Kotlin null safety and its performance considerations -- part 1<p><a href=""http://kotlinlang.org"">Kotlin</a> may seem like a new kid on the block &ndash; it&#x2BC;s been officially released only in <a href=""http://blog.jetbrains.com/kotlin/2016/02/kotlin-1-0-released-pragmatic-language-for-jvm-and-android/"">February</a>. Its history however dates <a href=""http://www.infoworld.com/article/2622405/java/jetbrains-readies-jvm-based-language.html"">a few years back</a> and it&#x2BC;s mature and stable enough to be used for developing solid reliable applications. Therefore at <a href=""http://allegro.pl"">Allegro</a> we decided to give it a chance &ndash; we built our new shiny server-side system using Kotlin as its primary language and we do not regret it.</p> <p>One of the first features a Kotlin developer learns is the language&#x2BC;s approach to handling <code>null</code> values. It is quite interesting &ndash; especially at times like these when the most popular way of handling this problem is to use some kind of <a href=""https://en.wikipedia.org/wiki/Option_type"">Option monad</a>. As we&#x2BC;ll soon see Kotlin actually does not introduce any new special wrapper type &ndash; it uses regular Java types albeit with slight variance.</p> <h2>Null-safe world</h2> <p>In Kotlin when you declare a variable, a field or a function parameter, by default they cannot be <code>null</code>. For example let&#x2BC;s suppose we have a class <code>Greeter</code> which has a function <code>hello</code> that by default prints a greeting message on the standard output:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Greeter</span> </span>{ <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">hello</span><span class=""hljs-params"">(who: <span class=""hljs-type"">String</span>)</span></span>: <span class=""hljs-built_in"">Unit</span> { println (<span class=""hljs-string"">""Hello <span class=""hljs-subst"">$who</span>""</span>) } }</code></pre> <p>We declared <code>who</code> to be of type <code>String</code> which is interpreted by the compiler to mean that <code>who</code> cannot be <code>null</code>. If we want to declare a <em>nullable</em> parameter we have to add a question mark at the end of the type name:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Greeter</span> </span>{ <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">hello</span><span class=""hljs-params"">(who: <span class=""hljs-type"">String</span>?)</span></span>: <span class=""hljs-built_in"">Unit</span> { println (<span class=""hljs-string"">""Hello <span class=""hljs-subst"">$who</span>""</span>) } }</code></pre> <p>This simple solution turns out to be very convenient and strong at the same time. It divides the world of our code into two areas: one where <code>null</code>s are allowed and one where they aren&#x2BC;t. As we&#x2BC;ll see in a moment Kotlin provides quite a range of helpful features which makes the transition between those areas entirely safe. Yet we have to be aware of a few surprising issues.</p> <p>To fully explore how Kotlin handles <code>null</code>s underneath we&#x2BC;ll take a closer look at the code generated by Kotlin compiler. We&#x2BC;ll do it on two levels: first we&#x2BC;ll inspect the output bytecode &ndash; although for brevity we&#x2BC;ll actually see equivalent Java code. Then, in the second part of this article &ndash; for some interesting cases we&#x2BC;ll have a glance at the machine code generated by <a href=""http://openjdk.java.net/groups/hotspot/docs/HotSpotGlossary.html#JITCompilers"">JVM JIT compiler</a>.</p> <h3>Smart casts</h3> <p>Since Kotlin compiler knows the type of every variable, field, function parameter, etc. it can check if an incorrect assignment takes place and throw an error in such case. In the code below we try to assign a <em>nullable</em> reference to a <em>non-null</em> property:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">User</span> </span>{ <span class=""hljs-keyword"">private</span> <span class=""hljs-keyword"">var</span> username: String = <span class=""hljs-string"">""""</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">setName</span><span class=""hljs-params"">(newName: <span class=""hljs-type"">String</span>?)</span></span> { username = newName <span class=""hljs-comment"">// the compiler will indicate an error here</span> } }</code></pre> <p>What if we wanted to check if the reference is not <code>null</code> and only then assign it to a property? The following code provides an answer:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">User</span> </span>{ <span class=""hljs-keyword"">private</span> <span class=""hljs-keyword"">var</span> username: String = <span class=""hljs-string"">""""</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">setName</span><span class=""hljs-params"">(newName: <span class=""hljs-type"">String</span>?)</span></span> { <span class=""hljs-keyword"">if</span> (newName == <span class=""hljs-literal"">null</span>) <span class=""hljs-keyword"">throw</span> NullPointerException(<span class=""hljs-string"">""Name cannot be null!""</span>) username = newName <span class=""hljs-comment"">// here the compiler knows that newName cannot be null and therefore</span> } <span class=""hljs-comment"">// its type is String and not String?</span> }</code></pre> <p>This construct &ndash; where the compiler can infer that the reference cannot be <code>null</code> &ndash; is called smart casting as it seems to cast the reference from <code>String?</code> to <code>String</code>.</p> <p>There is one thing we have to bear in mind when using smart casts. We can only do it with references that cannot be changed between the checkpoint and the actual assignment. In the code above the reference was taken from the function parameter which cannot change in the course of function execution. If we were to take the reference from some read/write property the compiler would not allow it:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">UserRequest</span> </span>{ <span class=""hljs-keyword"">var</span> username: String? = <span class=""hljs-literal"">null</span> } <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">User</span> </span>{ <span class=""hljs-keyword"">private</span> <span class=""hljs-keyword"">var</span> username: String = <span class=""hljs-string"">""""</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">setNameFrom</span><span class=""hljs-params"">(request: <span class=""hljs-type"">UserRequest</span>)</span></span> { <span class=""hljs-keyword"">if</span> (request.username == <span class=""hljs-literal"">null</span>) <span class=""hljs-keyword"">throw</span> NullPointerException(<span class=""hljs-string"">""Name cannot be null!""</span>) username = request.username <span class=""hljs-comment"">// here the compiler cannot be sure that request.username</span> } <span class=""hljs-comment"">// is not null - it could change in some other thread</span> } <span class=""hljs-comment"">// right after the condition check</span></code></pre> <h3>The !! operator</h3> <p>The code shown in the above example looks quite common. When we expect a reference to be not <code>null</code> and this assumption proves wrong we may want to throw <code>NullPointerException</code>. Kotlin has a special syntax for such cases:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">User</span> </span>{ <span class=""hljs-keyword"">private</span> <span class=""hljs-keyword"">var</span> username: String = <span class=""hljs-string"">""""</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">setName</span><span class=""hljs-params"">(newName: <span class=""hljs-type"">String</span>?)</span></span> { username = newName!! <span class=""hljs-comment"">// the type of newName!! is String and the compiler generates a runtime check to be sure of that...</span> } }</code></pre> <p>The equivalent Java code as taken from the bytecode generated by the Kotlin compiler is as follows:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">import</span> org.jetbrains.annotations.Nullable; <span class=""hljs-keyword"">import</span> static kotlin.jvm.<span class=""hljs-keyword"">internal</span>.Intrinsics.throwNpe; <span class=""hljs-keyword"">public</span> <span class=""hljs-keyword"">final</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">User</span> </span>{ <span class=""hljs-keyword"">private</span> String username = <span class=""hljs-string"">""""</span>; <span class=""hljs-keyword"">public</span> void setName(<span class=""hljs-meta"">@Nullable</span> newName: String) { <span class=""hljs-keyword"">if</span> (newName == <span class=""hljs-literal"">null</span>) { throwNpe(); } username = newName; } }</code></pre> <p>We can see a couple of interesting things here:</p> <ol> <li>The <code>newName</code> parameter of the <code>setName</code> method gets an annotation indicating its <em>nullability</em>. This annotation is used internally by Kotlin compiler and <a href=""https://www.jetbrains.com/idea/"">IntelliJ IDEA</a>, although one can think of using it also in tools like <a href=""http://findbugs.sourceforge.net/"">FindBugs</a> or <a href=""http://types.cs.washington.edu/checker-framework/current/checker-framework-manual.html#nullness-checker"">Checker Framework</a>.</li> <li>The code in <code>setName</code> has a striking resemblance (surprise!) to the code we wrote in our smart cast example. The only difference is the usage of the <code>throwNpe</code> method. We&#x2BC;ll delve into the details in part 2 &ndash; for now we can make a simplification and state that it throws <code>KotlinNullPointerException</code> (which extends <code>NullPointerException</code>).</li> </ol> <h3>Parameter validation</h3> <p>So far in our examples we didn&#x2BC;t have methods which were not private and at the same time had non-<code>null</code> parameters. In order to gain some insight into what happens in such situations let&#x2BC;s modify our code:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">User</span> </span>{ <span class=""hljs-keyword"">var</span> username: String = <span class=""hljs-string"">""""</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">setName</span><span class=""hljs-params"">(newName: <span class=""hljs-type"">String</span>)</span></span> { username = newName } }</code></pre> <p>One obvious method that we&#x2BC;d like to have a look at is the <code>setName</code> method. But the equivalent Java code contains a surprise:</p> <pre><code class=""hljs language-java""><span class=""hljs-keyword"">import</span> org.jetbrains.annotations.NotNull; <span class=""hljs-keyword"">import</span> org.jetbrains.annotations.Nullable; <span class=""hljs-keyword"">import</span> <span class=""hljs-keyword"">static</span> kotlin.jvm.internal.Intrinsics.checkParameterIsNotNull; <span class=""hljs-keyword"">public</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">User</span> </span>{ <span class=""hljs-meta"">@NotNull</span> <span class=""hljs-keyword"">private</span> String username = <span class=""hljs-string"">""""</span>; <span class=""hljs-meta"">@NotNull</span> <span class=""hljs-function""><span class=""hljs-keyword"">public</span> String <span class=""hljs-title"">getUsername</span><span class=""hljs-params"">()</span> </span>{ <span class=""hljs-keyword"">return</span> username; } <span class=""hljs-function""><span class=""hljs-keyword"">public</span> <span class=""hljs-keyword"">void</span> <span class=""hljs-title"">setUsername</span><span class=""hljs-params"">(@NotNull String value)</span> </span>{ checkParameterIsNotNull(value, <span class=""hljs-string"">""&lt;set-?&gt;""</span>); username = value; } <span class=""hljs-function""><span class=""hljs-keyword"">public</span> <span class=""hljs-keyword"">void</span> <span class=""hljs-title"">setName</span><span class=""hljs-params"">(@NotNull String newName)</span> </span>{ checkParameterIsNotNull(value, <span class=""hljs-string"">""newName""</span>); username = value; } }</code></pre> <p>We can see that we now have two additional methods (<code>getUsername</code> and <code>setUsername</code>) and the <code>username</code> field earned a <code>@NotNull</code> annotation. We&#x2BC;re witnesses to how Kotlin compiler manages properties in classes:</p> <ol> <li>If it is <code>private</code> then a property is simply a field of the class with no special annotations &ndash; this is because this property is not visible anywhere outside the class and therefore Kotlin compiler can optimize access to it and it can be sure that the field will always be non-<code>null</code>.</li> <li>If it is not <code>private</code> then a property is actually a field with a pair of setter and getter methods &ndash; this is because the property is visible to the outside world and Kotlin compiler must check upon every access that it is non-<code>null</code> and at the same time provide this information to this outside world.</li> </ol> <p>We can also observe that to check whether a value of a parameter is not <code>null</code> the <code>checkParameterIsNotNull</code> method is used. Again we&#x2BC;ll investigate this method in part 2. For now it is enough to say that upon receiving a <code>null</code> value an <code>IllegalArgumentException</code> will be thrown.</p> <h3>Elvis operator</h3> <p>When we have a <code>null</code> value there are situations when instead of throwing an exception we&#x2BC;d rather do something else. We can compare this to a <code>default</code> block in Java <code>switch</code> statement. A simple <code>if</code> statement with an <code>else</code> should suffice here, but Kotlin has a special syntax for it &ndash; the famous <a href=""https://en.wikipedia.org/wiki/Elvis_operator"">Elvis operator</a>.</p> <p>Let&#x2BC;s suppose that for a <code>null</code> value we&#x2BC;d like to set <code>username</code> to <code>&quot;N/A&quot;</code>:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">User</span> </span>{ <span class=""hljs-keyword"">private</span> <span class=""hljs-keyword"">var</span> username: String = <span class=""hljs-string"">""""</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">setName</span><span class=""hljs-params"">(newName: <span class=""hljs-type"">String</span>?)</span></span> { username = newName ?: <span class=""hljs-string"">""N/A""</span> } }</code></pre> <p>The equivalent Java code is:</p> <pre><code class=""hljs language-java""><span class=""hljs-keyword"">import</span> org.jetbrains.annotations.Nullable; <span class=""hljs-keyword"">public</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">User</span> </span>{ <span class=""hljs-keyword"">private</span> String username = <span class=""hljs-string"">""""</span>; <span class=""hljs-function""><span class=""hljs-keyword"">public</span> <span class=""hljs-keyword"">void</span> <span class=""hljs-title"">setName</span><span class=""hljs-params"">(@Nullable String newName)</span> </span>{ username = (newName != <span class=""hljs-keyword"">null</span>) ? newName : <span class=""hljs-string"">""N/A""</span>; } }</code></pre> <p>The Kotlin syntax is more concise and it&#x2BC;s also worth mentioning that the expression after the Elvis operator is lazily evaluated and it can also throw an exception. So it&#x2BC;s completely legal to have this kind of code:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">User</span> </span>{ <span class=""hljs-keyword"">private</span> <span class=""hljs-keyword"">var</span> username: String = <span class=""hljs-string"">""""</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">setName</span><span class=""hljs-params"">(newName: <span class=""hljs-type"">String</span>?)</span></span> { username = newName ?: <span class=""hljs-keyword"">throw</span> RuntimeException(<span class=""hljs-string"">""Are you nuts?""</span>) } }</code></pre> <p>The equivalent Java code is:</p> <pre><code class=""hljs language-java""><span class=""hljs-keyword"">import</span> org.jetbrains.annotations.Nullable; <span class=""hljs-keyword"">public</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">User</span> </span>{ <span class=""hljs-keyword"">private</span> String username = <span class=""hljs-string"">""""</span>; <span class=""hljs-function""><span class=""hljs-keyword"">public</span> <span class=""hljs-keyword"">void</span> <span class=""hljs-title"">setName</span><span class=""hljs-params"">(@Nullable String newName)</span> </span>{ <span class=""hljs-keyword"">if</span> (newName != <span class=""hljs-keyword"">null</span>) username = newName; <span class=""hljs-keyword"">else</span> <span class=""hljs-keyword"">throw</span> <span class=""hljs-keyword"">new</span> RuntimeException(<span class=""hljs-string"">""Are you nuts?""</span>); } }</code></pre> <h3>Safe calls and let/run/apply functions</h3> <p>There are circumstances when we have a possibly <code>null</code> object and we want to invoke a method on it but only if it is actually non-<code>null</code> (because otherwise we would get <code>NullPointerException</code>). We can do it with simple <code>if</code>, but Kotlin provides a fancy <code>?.</code> operator to make the code more compact. So this code:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">data</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">SimpleUser</span></span>(<span class=""hljs-keyword"">var</span> name: String) <span class=""hljs-keyword"">object</span> Users { <span class=""hljs-keyword"">private</span> <span class=""hljs-keyword"">val</span> userMap = mapOf(<span class=""hljs-number"">1</span> to SimpleUser(<span class=""hljs-string"">""John""</span>)) <span class=""hljs-meta"">@JvmStatic</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">getUser</span><span class=""hljs-params"">(userId: <span class=""hljs-type"">Int</span>)</span></span>: SimpleUser? = userMap[userId] } <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">getUserName</span><span class=""hljs-params"">(userId: <span class=""hljs-type"">Int</span>)</span></span>: String? = getUser (userId)?.name</code></pre> <p>has the following equivalent Java code for <code>getUserName</code>:</p> <pre><code class=""hljs language-java""><span class=""hljs-meta"">@Nullable</span> <span class=""hljs-function""><span class=""hljs-keyword"">public</span> String <span class=""hljs-title"">getUserName</span><span class=""hljs-params"">(<span class=""hljs-keyword"">int</span> userId)</span> </span>{ SimpleUser simpleUser = getUser(userId); <span class=""hljs-keyword"">return</span> simpleUser != <span class=""hljs-keyword"">null</span> ? simpleUser.getName() : <span class=""hljs-keyword"">null</span>; }</code></pre> <p>Kotlin code is indeed a lot shorter and more expressive. To further aid developers Kotlin provides three convenient <a href=""https://kotlinlang.org/docs/reference/lambdas.html#higher-order-functions"">higher-order functions</a>: <code>let</code>, <code>run</code> and <code>apply</code>. Although they are not directly related to <code>null</code>-safety issues we often use them with potentially <code>null</code> objects. Below you can find some code examples &ndash; they should give you an intuition about when and how to use them.</p> <h4>let</h4> <p>Let&#x2BC;s look at the following code with <a href=""https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/let.html""><code>let</code></a> (pardon the pun):</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">findUserNameWithLet</span><span class=""hljs-params"">(userId: <span class=""hljs-type"">Int</span>)</span></span>: String? = getUser (userId)?.let { it.name }</code></pre> <p><code>let</code> is essentially an <a href=""https://kotlinlang.org/docs/reference/extensions.html#extension-functions"">extension function</a> (i.e. a method of a class which you can define outside of the class definition) that can be invoked on any type. It takes a <a href=""https://kotlinlang.org/docs/reference/lambdas.html#lambda-expressions-and-anonymous-functions"">lambda expression</a> as its parameter and calls the expression with <code>this</code> as an argument. If a <em>lambda expression</em> has only one parameter then we may skip declaring it and simply access the parameter via the name... <code>it</code>. Therefore in the example above <code>this</code> inside the lambda (<code>this</code> is of type <code>SimpleUser</code> &ndash; the type returned by the <code>getUser</code> method) is accessible as <code>it</code>. The value of the <em>lambda expression</em> is returned as the result of the <code>let</code> function.</p> <p>The equivalent Java code for <code>findUserNameWithLet</code> is as follows:</p> <pre><code class=""hljs language-java""><span class=""hljs-meta"">@Nullable</span> <span class=""hljs-function""><span class=""hljs-keyword"">public</span> String <span class=""hljs-title"">findUserNameWithLet</span><span class=""hljs-params"">(<span class=""hljs-keyword"">int</span> userId)</span> </span>{ String result; SimpleUser simpleUser = getUser(userId); <span class=""hljs-keyword"">if</span> (simpleUser != <span class=""hljs-keyword"">null</span>) { SimpleUser it = simpleUser; result = it.getName(); <span class=""hljs-comment"">// { it.name }</span> } <span class=""hljs-keyword"">else</span> { result = <span class=""hljs-keyword"">null</span>; } <span class=""hljs-keyword"">return</span> result; }</code></pre> <p><code>let</code> is usually used if we want to perform some operations on a non-<code>null</code> object and return the result of these operations while simply returning <code>null</code> for <code>null</code> objects.</p> <h4>run</h4> <p>The <a href=""https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/run.html""><code>run</code></a> function is a slight variation of <code>let</code>. It takes a parameterless <em>lambda expression</em> as its parameter and the object on which you invoke <code>run</code> can be accessed via <code>this</code> inside the <em>lambda expression</em>. Just like in <code>let</code> the result of the <em>lambda expression</em> is returned as the result of the <code>run</code> function.</p> <p>Let&#x2BC;s see an example:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">findUserNameWithRun</span><span class=""hljs-params"">(userId: <span class=""hljs-type"">Int</span>)</span></span>: String? = getUser (userId)?.run { name }</code></pre> <p>and the equivalent Java code:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-meta"">@Nullable</span> <span class=""hljs-keyword"">public</span> String findUserNameWithRun(int userId) { String result; SimpleUser simpleUser = getUser(userId); <span class=""hljs-keyword"">if</span> (simpleUser != <span class=""hljs-literal"">null</span>) { SimpleUser $receiver = simpleUser; result = $receiver.getName(); <span class=""hljs-comment"">// { name }</span> } <span class=""hljs-keyword"">else</span> { result = <span class=""hljs-literal"">null</span>; } <span class=""hljs-keyword"">return</span> result; }</code></pre> <p>As we can see there is little difference with <code>let</code> &ndash; Kotlin code is similar although with <code>run</code> it is even more concise.</p> <h4>apply</h4> <p>The last of the three convenient functions we&#x2BC;re going to talk about is <a href=""https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/apply.html""><code>apply</code></a>. The following code illustrates its usage:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">findUserNameWithApply</span><span class=""hljs-params"">(userId: <span class=""hljs-type"">Int</span>)</span></span>: SimpleUser? = getUser (userId)?.apply { name = <span class=""hljs-string"">""Jane""</span> } }</code></pre> <p><code>apply</code> is similar to <code>run</code> &ndash; it is an <em>extension function</em> which takes a parameterless <em>lambda expression</em> as its parameter and the object on which you invoke <code>apply</code> can be accessed via <code>this</code> inside the <em>lambda expression</em>. However, the return value of <code>apply</code> is the object on which you invoke it (and not the <em>lambda expression</em> result).</p> <p>The equivalent Java code for <code>findUserNameWithApply</code> is as follows:</p> <pre><code class=""hljs language-java""><span class=""hljs-meta"">@Nullable</span> <span class=""hljs-function""><span class=""hljs-keyword"">public</span> SimpleUser <span class=""hljs-title"">findUserNameWithApply</span><span class=""hljs-params"">(<span class=""hljs-keyword"">int</span> userId)</span> </span>{ SimpleUser result; SimpleUser simpleUser = getUser(userId); <span class=""hljs-keyword"">if</span> (simpleUser != <span class=""hljs-keyword"">null</span>) { SimpleUser $receiver = simpleUser; $receiver.setName(<span class=""hljs-string"">""Jane""</span>); <span class=""hljs-comment"">// { name = ""Jane"" }</span> result = simpleUser; } <span class=""hljs-keyword"">else</span> { result = <span class=""hljs-keyword"">null</span>; } <span class=""hljs-keyword"">return</span> result; }</code></pre> <p>The most common reason to use <code>apply</code> is the initialisation of an object. If there is something we have to do before returning an object (and simply return <code>null</code> if it is <code>null</code>) then <code>apply</code> is the way to go.</p> <h3>Platform types</h3> <p>So far we have not talked about the interoperability with Java. While from Java code point of view with regard to <code>null</code>-safety nothing unusual happens if we call Kotlin code, there is a difference when we want to call Java code from Kotlin. This is especially important for the case of the result returned from Java method where Kotlin compiler has to take some precautions. After all it does not know if the value returned can be <code>null</code> or not.</p> <p>To resolve this problem Kotlin introduces the concept of <a href=""https://kotlinlang.org/docs/reference/java-interop.html#null-safety-and-platform-types"">platform types</a>. In essence <em>platform type</em> is used every time Kotlin compiler encounters an invocation of Java method which was not generated by Kotlin compiler. At the same time a developer cannot explicitly declare anything to be of <em>platform type</em> &ndash; it exists solely when Kotlin compiler infers it from the code.</p> <p>Let&#x2BC;s look at some code samples which present most of things you have to know about <em>platform types</em>:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">writeOutNullable</span><span class=""hljs-params"">(s: <span class=""hljs-type"">String</span>?)</span></span> = println(s) <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">nullableCase</span><span class=""hljs-params"">()</span></span> { <span class=""hljs-keyword"">val</span> value = System.getProperty(<span class=""hljs-string"">""key""</span>) <span class=""hljs-comment"">// value has a platform type String!</span> writeOutNullable(value) <span class=""hljs-comment"">// The ! after a type indicates it's a platform type</span> }</code></pre> <p>The equivalent Java code is:</p> <pre><code class=""hljs language-java""><span class=""hljs-function""><span class=""hljs-keyword"">public</span> <span class=""hljs-keyword"">void</span> <span class=""hljs-title"">nullableCase</span><span class=""hljs-params"">()</span> </span>{ String value = System.getProperty(<span class=""hljs-string"">""key""</span>); writeOutNullable(value); }</code></pre> <p>We can see nothing special here &ndash; the <em>platform type</em> is taken as is when it is converted to a <em>nullable</em> type.</p> <p>Let&#x2BC;s see what happens when the target type is non-<code>null</code>:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">writeOut</span><span class=""hljs-params"">(s: <span class=""hljs-type"">String</span>)</span></span> { println(s) } <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">nonNullCase</span><span class=""hljs-params"">()</span></span> { <span class=""hljs-keyword"">val</span> value = System.getProperty(<span class=""hljs-string"">""key""</span>) <span class=""hljs-comment"">// value has a platform type String!</span> writeOut(value) }</code></pre> <p>The equivalent Java code is:</p> <pre><code class=""hljs language-java""><span class=""hljs-keyword"">import</span> <span class=""hljs-keyword"">static</span> kotlin.jvm.internal.Intrinsics.checkExpressionValueIsNotNull; <span class=""hljs-function""><span class=""hljs-keyword"">public</span> <span class=""hljs-keyword"">void</span> <span class=""hljs-title"">nonNullCase</span><span class=""hljs-params"">()</span> </span>{ String value = System.getProperty(<span class=""hljs-string"">""key""</span>); checkExpressionValueIsNotNull(value, <span class=""hljs-string"">""value""</span>); writeOut(value); }</code></pre> <p>Now we have a validation in the generated code. <code>writeOut</code> expects a non-<code>null</code> type, but the <code>value</code> type is <em>platform type</em> and in theory it could be <code>null</code>. Therefore the compiler produces a runtime check with the help of <code>checkExpressionValueIsNotNull</code> method which we&#x2BC;ll explore in part 2.</p> <p>Next example shows the code where only Java methods are used.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">pureJavaCase</span><span class=""hljs-params"">()</span></span> { <span class=""hljs-keyword"">val</span> value = System.getProperty(<span class=""hljs-string"">""key""</span>) <span class=""hljs-comment"">// value has a platform type String!</span> System.setProperty(<span class=""hljs-string"">""other_key""</span>, value) }</code></pre> <p>The equivalent Java code is:</p> <pre><code class=""hljs language-java""><span class=""hljs-function""><span class=""hljs-keyword"">public</span> <span class=""hljs-keyword"">void</span> <span class=""hljs-title"">pureJavaCase</span><span class=""hljs-params"">()</span> </span>{ String value = System.getProperty(<span class=""hljs-string"">""key""</span>); System.setProperty(<span class=""hljs-string"">""other_key""</span>, value); }</code></pre> <p>Just like when we had the <em>nullable</em> types no runtime check is generated. After all at no place in the code do we pass the value to the code which explicitly expects non-<code>null</code> values.</p> <p>One might ask what happens after the value is checked not to be <code>null</code> &ndash; does the compiler treat it as a non-<code>null</code> value?</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">doubleCheckCase</span><span class=""hljs-params"">()</span></span> { <span class=""hljs-keyword"">val</span> value = System.getProperty(<span class=""hljs-string"">""key""</span>) <span class=""hljs-comment"">// value has a platform type String!</span> writeOut(value) writeOut(value) }</code></pre> <p>The equivalent Java code is:</p> <pre><code class=""hljs language-java""><span class=""hljs-function""><span class=""hljs-keyword"">public</span> <span class=""hljs-keyword"">void</span> <span class=""hljs-title"">doubleCheckCase</span><span class=""hljs-params"">()</span> </span>{ String value = System.getProperty(<span class=""hljs-string"">""key""</span>); checkExpressionValueIsNotNull(value, <span class=""hljs-string"">""value""</span>); writeOut(value); checkExpressionValueIsNotNull(value, <span class=""hljs-string"">""value""</span>); writeOut(value); }</code></pre> <p>It appears it doesn&#x2BC;t &ndash; the runtime checks are generated each time the conversion to non-<code>null</code> type takes place.</p> <p>The following example shows assigning the value with <em>platform type</em> to some variable without explicitly stating this variable type:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">assignCase</span><span class=""hljs-params"">()</span></span> { <span class=""hljs-keyword"">val</span> value = System.getProperty(<span class=""hljs-string"">""key""</span>) <span class=""hljs-comment"">// value has a platform type String!</span> <span class=""hljs-keyword"">val</span> newValue = value <span class=""hljs-comment"">// newValue has a platform type String!</span> writeOut(newValue) }</code></pre> <p>The equivalent Java code is:</p> <pre><code class=""hljs language-java""><span class=""hljs-function""><span class=""hljs-keyword"">public</span> <span class=""hljs-keyword"">void</span> <span class=""hljs-title"">assignCase</span><span class=""hljs-params"">()</span> </span>{ String value = System.getProperty(<span class=""hljs-string"">""key""</span>); String newValue = value; checkExpressionValueIsNotNull(newValue, <span class=""hljs-string"">""newValue""</span>); writeOut(newValue); }</code></pre> <p>No surprise here &ndash; the type of the variable <code>newValue</code> is also a <em>platform type</em> and runtime checks are generated.</p> <p>What if we explicitly state the variable&#x2BC;s type?</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">explicitCase</span><span class=""hljs-params"">()</span></span> { <span class=""hljs-keyword"">val</span> value = System.getProperty(<span class=""hljs-string"">""key""</span>) <span class=""hljs-comment"">// value has a platform type String!</span> <span class=""hljs-keyword"">val</span> nullableValue: String? = value writeOutNullable(nullableValue) <span class=""hljs-keyword"">val</span> nonNullValue: String = value writeOut(nonNullValue) writeOut(nonNullValue) }</code></pre> <p>The equivalent Java code is:</p> <pre><code class=""hljs language-java""><span class=""hljs-function""><span class=""hljs-keyword"">public</span> <span class=""hljs-keyword"">void</span> <span class=""hljs-title"">explicitCase</span><span class=""hljs-params"">()</span> </span>{ String value = System.getProperty(<span class=""hljs-string"">""key""</span>); String nullableValue = value; writeOutNullable(nullableValue); checkExpressionValueIsNotNull(value) String nonNullValue = value; writeOut(nonNullValue); writeOut(nonNullValue); }</code></pre> <p>As we can see the rule is simple &ndash; every time we go from the <em>plaform type</em> to non-<code>null</code> type a runtime check is generated. Once we&#x2BC;re in the <code>null</code>-safe world no additional validation is needed.</p> <p>In the examples above we&#x2BC;ve seen that the <code>checkExpressionValueIsNotNull</code> method takes a variable name as the second parameter. This is done so that when a <code>null</code> value is passed you&#x2BC;ll see an error message with the name of the variable in it. But as the name of the method implies the second parameter does not have to be a variable name. In fact it&#x2BC;s always an expression name, but in the cases presented above we had simple one-variable expressions. If we had a more complicated expression...:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">funnyCase</span><span class=""hljs-params"">()</span></span> { writeOut(System.getProperty(<span class=""hljs-string"">""key""</span>)) }</code></pre> <p>The equivalent Java code is:</p> <pre><code class=""hljs language-java""><span class=""hljs-function""><span class=""hljs-keyword"">public</span> <span class=""hljs-keyword"">void</span> <span class=""hljs-title"">funnyCase</span><span class=""hljs-params"">()</span> </span>{ String tmp = System.getProperty(<span class=""hljs-string"">""key""</span>); checkExpressionValueIsNotNull(tmp, <span class=""hljs-string"">""System.getProperty(\""key\"")""</span>); writeOut(tmp); }</code></pre> <p>If we now call <code>funnyCase</code> (and there is no <code>&quot;key&quot;</code> system property set) then we&#x2BC;ll see the following stack trace:</p> <pre><code>Exception in thread &quot;main&quot; java.lang.IllegalStateException: System.getProperty(&quot;key&quot;) must not be null at pl.kk.test.kotlin.PlatformTypesKt.funnyCase(PlatformTypes.kt:54) at pl.kk.test.kotlin.FunnyCaseCall.main(PlatformTypes.kt:60) </code></pre> <h3>Summary</h3> <p>We&#x2BC;ve taken a tour of different Kotlin language constructs where you could observe the code generated by the compiler. During regular development you rarely have to think about how things work under the hood. Nonetheless it is useful to know a thing or two about it. And if you&#x2BC;re interested in the performance issues surrounding some of those constructs check out the second part of this article which will be soon published.</p> http://allegro.tech/2016/06/kotlin-null-safety-part1.htmlhttp://allegro.tech/2016/06/kotlin-null-safety-part1.htmlKotlinKonrad KamińskiMon, 20 Jun 2016 00:00:00 GMT Kotlin Native<h3>Kotlin Native</h3> <p>A frequent question about Kotlin is if/when it will support compilation to native binaries that run without a JVM. Usually this takes the form of a more technical question like, &ldquo;will the Kotlin compiler get an LLVM backend?&rdquo;</p> <p>I am not on the JetBrains team and I believe they&rsquo;ve already made up their minds to do this, but I don&rsquo;t personally think this feature would be the best way to solve the problems that are driving these questions.</p> <p>Luckily, there are better ways that can. Kotlin doesn&rsquo;t need an LLVM backend: the wider JVM community is producing all the needed puzzle pieces already. Someone just has to put them together.</p> <h3>Why do people want native binaries?</h3> <p>Here&rsquo;s an entirely unscientific summary of the top reasons why people so often request a native backend for managed languages, based on conversations I&rsquo;ve had over the years:</p> <ol> <li>They think the code would run faster or use less memory</li> <li>They want better startup time</li> <li>They think deploying programs that have only one file is simpler</li> <li>They want to avoid garbage collection</li> <li>They want to run on iOS, which forbids JIT compilers by policy</li> <li>They want better native-code interop</li> </ol> <p>This list covers two of the three reasons cited by <a href=""http://www.scala-native.org/"">the Scala Native website</a> for why it exists. The other reason is that Scala Native is extending the language to support C++ like constructs that are normally forbidden by the JVM, like forced stack allocation, but building a better C++ is already being handled by Rust. I suspect that trying to convert Scala or Kotlin into C++/Rust competitors wouldn&rsquo;t go well.</p> <p>Sometimes people think a &lsquo;native&rsquo; version of a managed language would fix problems that have nothing to do with compiler technology, like <a href=""https://news.ycombinator.com/item?id=11226023"">this guy</a> who believes it would change font rendering. I&rsquo;ve seen &lsquo;native&rsquo; become a mythical cure-all for any frustration or problem the user might have ... which isn&rsquo;t surprising, given that most people have no experience with managed-to-native technologies.</p> <h3>A &lsquo;Kotlin Native&rsquo; would make slower code</h3> <p>It is a common belief that code compiled by an ahead-of-time compiler must be faster or less memory hungry than just-in-time compiled code. I used to believe this too. It makes sense: C++ apps run fast, and C++ compilers are very slow. It stands to reason that the compilers are slow because they&rsquo;re spending a lot of time optimising the code they&rsquo;re producing. Surely, a compiler that can only grab a handful of spare cycles here and there whilst the app is running can never do such a good job?</p> <p>Unfortunately, performance is subtle and often unintuitive. C++ compilers are slow mostly due to the #include and generics model the language uses, not due to optimisations. And a team at Oracle is adding ahead of time compilation to HotSpot. They gave a tech talk about it last year called &ldquo;<a href=""https://www.youtube.com/watch?v=Xybzyv8qbOc"">Java goes AOT</a>&rdquo;. Plain old AOT seems to give around 10%&ndash;20% slower code, depending on the kind of app (in the talk this is the difference between tiered and non-tiered). The reason is that virtual machines that support deoptimization, as the JVM does, can make speculative optimisations that aren&rsquo;t always correct. Programs written in higher level languages benefit from this technique more, for instance Scala code benefits more than Java code does. The AOT compiler they&rsquo;re using (Graal) isn&rsquo;t weak or amateur: it&rsquo;s competitive with GCC when compiling C code. It&rsquo;s just that these advanced optimisations are really powerful.</p> <p>It&rsquo;s for this reason that the HotSpot AOT mode actually supports using a mix of AOT and JIT compiled code. The app can be compiled ahead of time so the interpreter isn&rsquo;t used, but in a way that self-profiles. Then the JIT compiler is still invoked at runtime to recompile the hot spots, winning back most of the performance loss. You get a much less severe warmup period, whilst still obtaining the best peak performance.</p> <p>Android has learned the same lesson. The replacement for Dalvik that was introduced in Marshmallow (ART) started out as a pure AOT compiler. In Android N, it will start using a mix of AOT and JIT compilation.</p> <p>Additionally, the shortest path to a Kotlin-specific native compiler backend would be LLVM. LLVM is primarily used to compile C and C++. Many optimisations that can really help high level managed languages like Kotlin simply don&rsquo;t apply to C++, so LLVM doesn&rsquo;t implement them at all. That&rsquo;d result in an even bigger speed hit.</p> <blockquote> <p><strong>Sidenote</strong>: the .NET virtual machine does not have an interpreter nor does it support speculative optimisations. It&rsquo;s really just a regular compiler that happens to run the first time a method is called. This is why Microsoft has tended to be more interested in AOT compilation than the Java space has been: they never exploited the potential of JIT compilation, so they have less to lose from abandoning it.</p> </blockquote> <p>What about other forms of bloat, like memory usage, binary size and startup time?</p> <p>Even those are complicated. Most of the memory usage of apps written in managed languages like Kotlin, Scala, Java, C# etc comes from their reliance on object identity, garbage collection, unicode strings and other things that native compilation doesn&rsquo;t affect.</p> <p>Worse, native CPU code is a lot larger than JVM bytecode. Larger code bloats downloads and uses more RAM, lowering cache utilisation. An AOT compiled &ldquo;Hello World&rdquo; Java app doesn&rsquo;t start any faster than the regular interpreted version because even though the interpreter runs far fewer instructions per second than the CPU can, each instruction does a lot more and takes much less space in memory. Runtime of a hello world app is only about 80 milliseconds anyway, which is a relevant cost only if you&rsquo;re making tiny tools for a UNIX shell.</p> <p>And whilst hauling around a couple of JIT compilers and three garbage collectors adds bloat, that&rsquo;s not inherent to using a virtual machine rather than compiling to native. It&rsquo;s just that HotSpot is a one-size-fits-all program that is designed to run on everything from laptops to giant servers. You can make much smaller virtual machines if you&rsquo;re willing to specialise.</p> <h3>Enter Avian</h3> <blockquote> <p>&ldquo;Avian is a lightweight virtual machine and class library designed to provide a useful subset of Java&rsquo;s features, suitable for building self-contained applications.&rdquo;</p> </blockquote> <p>So says <a href=""https://readytalk.github.io/avian/"">the website</a>. They aren&rsquo;t joking. The example app demos use of the native UI toolkit on Windows, MacOS X or Linux. It&rsquo;s not a trivial Hello World app at all, yet it&rsquo;s a standalone self-contained binary that clocks in at only one megabyte. In contrast, &ldquo;Hello World&rdquo; in Go generates a binary that is 1.1mb in size, despite doing much less.</p> <p>Avian can get these tiny sizes because it&rsquo;s fully focused on doing so: it implements optimisations and features the standard HotSpot JVM lacks, like the use of LZMA compression and ProGuard to strip the standard libraries. Yet it still provides a garbage collector and a JIT compiler.</p> <p>For people who want to use Kotlin to write small, self contained command line apps of the kind Go is sometimes used for, a much simpler and better solution than an LLVM backend would be to make a fully integrated Avian/Kotlin combination. Avian is hard to use right now&#x200A;&mdash;&#x200A;you&rsquo;re expected to be familiar with native-world tools like GCC and make. Making a one-click JetBrains style GUI would yield programs that <em>look</em> to the user like they were AOT compiled: they&rsquo;re single executables that only require the base OS. And using SWT you can build GUIs that look native on every platform because under the hood they <em>are</em> native. But you wouldn&rsquo;t need to abandon the benefits of JIT compilation or garbage collection.</p> <h3>Losing garbage collection</h3> <p>Sometimes the people requesting a native backend want it because they want to avoid GC, and associate &ldquo;native&rdquo; with &ldquo;not garbage collected&rdquo;. There is no connection between these things: you can have garbage collected C++ and you can do manual memory management in Java (and some high performance libraries do).</p> <p>The problem with extensively mixing techniques is that it forks the language. A library that assumes garbage collection cannot be used without a collector and likewise, a library that expects manual management becomes a lot harder to use from code that expects a GC. You&rsquo;d have to introduce smart pointers and other C++ like constructs to the language to make it really convenient.</p> <p>I wouldn&rsquo;t like to see Kotlin splinter into two different languages, Kotlin-GC and Kotlin-Manual. That would hurt the community and ecosystem for questionable benefits.</p> <p>And the benefits <em>are</em> questionable. Many devs who think they can&rsquo;t tolerate GC are basing their opinions on old/crappy GCs in mobile phones or (worse) web browsers. This impression is heightened by the fact that some well known garbage collected apps are written by people who just don&rsquo;t seem to care about performance at all, like Minecraft or Eclipse, leading people to blame GC for what is in reality just badly written code. But there are counterexamples that show it doesn&rsquo;t have to be this way: Unreal Engine is written in C++ and has used a core garbage collected game heap since version 3. It powers many of the worlds AAA titles. They can hit 60 frames per second and they are using a very basic GC. Tim Sweeney&rsquo;s secret is that he cares about performance and productivity simultaneously. If they can do it, so can you.</p> <h3>iOS and native code interop</h3> <p>The final reasons people want a native compiler backend are iOS support and to make native code interop easier.</p> <p>iOS is a good reason. That platform bans JIT compilers because it helps Apple enforce their incredibly rigid policies. But doing a native backend at the language level is the wrong approach. RoboVM is a project that built a JVM bytecode to ARM AOT compiler, and although RoboVM is now a dead project due to being acquired by Microsoft, old versions of its code are still available under an open source license. It works for any JVM language and doesn&rsquo;t really suffer from this generality: a Scala or Kotlin specific ARM compiler wouldn&rsquo;t do much different.</p> <p>But that&rsquo;s probably not the long term direction the JVM platform will go in for iOS. As HotSpot itself is getting support for AOT compilation, and HotSpot has an ARM backend too, and there&rsquo;s an official OpenJDK mobile project that&rsquo;s already made an iOS (interpreter only) mobile version, it would make sense for them to plug these things together and end up with a mode in which HotSpot can generate AOT iOS binaries too. I wouldn&rsquo;t be surprised to see something like this announced between Java 9 and 10.</p> <p>The final reason is native code interop. If you compile to native, so the reasoning goes, it&rsquo;ll be easier to use C/C++ libraries like the ones your operating system provides.</p> <p>But the existence of projects like JNA seem to disprove this&#x200A;&mdash;&#x200A;you can have convenient interop without generating native code yourself. And there are some exciting techniques for working with native libraries coming up:</p> <ul> <li>The OpenJDK Panama project is adding support for things like inline assembly, pointers and struct layouts directly to Java and HotSpot. Yes, if you check out the Panama branch of the hotspot repository you can actually define assembly snippets in Java and they&rsquo;ll be inlined directly into usage sites, just like an <strong>asm</strong> block in C would. Panama also provides a clang-based tool that parses C/C++ headers and auto generates the equivalent Java declarations. All this should be automatically available to Kotlin and Scala users too.</li> <li>The Graal/Truffle research projects are creating <a href=""http://github.com/graalvm/sulong/"">Sulong</a>, which is a way to JIT compile LLVM bitcode on top of the JVM. There is a simple C API that exists when code is run on top of Sulong that allows for near zero-overhead interop with managed code.</li> </ul> <h3>Conclusion</h3> <p>Kotlin doesn&rsquo;t need an LLVM backend, and by extension I believe neither does Scala. Creating such a thing would be a huge and ongoing drain of manpower, take a long time, and end up duplicating work already being done elsewhere in the JVM ecosystem ... very likely with worse results.</p> <p>Instead, I think the right direction for the community to go is:</p> <ol> <li>Building a simple IntelliJ plugin that uses Avian to spit out tiny, self contained binaries, for when weight is more important than features. This would present some strong competition to Go in the command line tools space.</li> <li>Using the AOT mode being added to HotSpot to eliminate warmup times and (hopefully) support iOS, for times when AOT compilation really is the only solution.</li> <li>Waiting for JVM upgrades to reduce memory usage, support better native interop and so on. Don&rsquo;t try to duplicate these efforts at the language level.</li> <li>Educating the developer community about how to write high performance garbage collected apps <em>outside</em> of the server context.</li> </ol> <p>This approach isn&rsquo;t flawless: the AOT mode being added to HotSpot is planned to be a commercial feature, and big upgrades like Panama are long term projects. But adding an LLVM backend to the Kotlin or Scala compilers would be a long term project too, it&rsquo;d mean sacrificing other features that might be more useful, and it would likely never close the performance gap.</p> <p>As always in engineering, there are no solutions&#x200A;&mdash;&#x200A;only trade offs. I&rsquo;d rather have more features in the core Kotlin language/tooling than a native backend, and let other teams tackle the varying challenges involved.</p> https://medium.com/@octskyward/kotlin-native-310ffac94af2#.3oep6gxpahttps://medium.com/@octskyward/kotlin-native-310ffac94af2#.3oep6gxpaKotlinMike HearnFri, 17 Jun 2016 00:00:00 GMT Kotlin Night in San Francisco Recordings<p>On May 17th we held an evening event at San Francisco in cooperation with Realm and Netflix. Thanks to everyone who joined us this evening! There were great talks and important announcements, and the good news is that all of them were recorded:</p> <h2>Talk #1: Andrey Breslav. <strong>Where We Stand and What&rsquo;s Next</strong></h2> <p>Kotlin project lead Andrey Breslav gave an overview of what Kotlin is today and took a peek into the near future: what the Kotlin team is planning for the next release.</p> <iframe src=""https://www.youtube.com/embed/POZmfjRHdfE"" allowfullscreen="""" frameborder=""0"" height=""480"" width=""960""></iframe> <iframe webkitallowfullscreen=""true"" mozallowfullscreen=""true"" allowfullscreen=""true"" src=""//speakerdeck.com/player/f1dea41f659a4c70a6e8fb20291b871b?"" style=""border: 0px none; background: transparent none repeat scroll 0% 0%; margin: 0px; padding: 0px; border-radius: 5px; width: 960px; height: 480px;"" class=""speakerdeck-iframe"" frameborder=""0""></iframe> <h2>Bonus Talk by Hans Dockter. <strong>Gradle goes Kotlin</strong></h2> <p>Hans Dockter, CEO of Gradle demoed the first milestone of writing a Gradle build script using Kotlin.</p> <iframe src=""https://www.youtube.com/embed/4gmanjWNZ8E"" allowfullscreen="""" frameborder=""0"" height=""480"" width=""960""></iframe> <h2>Talk #2: Jake Wharton. <strong>Instrumentation Testing Robots</strong></h2> <p>Libraries like Espresso allow UI tests to have stable interactions with your app, but without discipline these tests can become hard to manage and require frequent updating. In this talk Jake covered how the so-called robot pattern allows you to create stable, readable, and maintainable tests with the aid of Kotlin&rsquo;s language features.</p> <p>See the full recording along with transcribing on <a href=""https://realm.io/news/kau-jake-wharton-testing-robots/"">realm.io</a></p> <h2>Talk #3: Laura Kogler &amp; Rob Fletcher. <strong>Kotlin Testing</strong></h2> <p>Spek framework contributor Laura and Spock maintainer Rob demonstrated the current state of Kotlin testing frameworks and discussed expected further advancements in testing support.</p> <p>Part1:</p> <iframe src=""https://www.youtube.com/embed/pCg3P7AOtHo"" allowfullscreen="""" frameborder=""0"" height=""480"" width=""960""></iframe> <iframe webkitallowfullscreen=""true"" mozallowfullscreen=""true"" allowfullscreen=""true"" src=""//speakerdeck.com/player/4bfe84ca3f6f45979f2bd1d67fb2d12b?"" style=""border: 0px none; background: transparent none repeat scroll 0% 0%; margin: 0px; padding: 0px; border-radius: 5px; width: 960px; height: 480px;"" class=""speakerdeck-iframe"" frameborder=""0""></iframe> <p>Part2:</p> <iframe src=""https://www.youtube.com/embed/y5U8uiI2S0I"" allowfullscreen="""" frameborder=""0"" height=""480"" width=""960""></iframe> <iframe src=""//www.slideshare.net/slideshow/embed_code/key/9ZqOCfx8zmnOXZ"" marginwidth=""0"" marginheight=""0"" scrolling=""no"" style=""border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;"" allowfullscreen="""" frameborder=""0"" height=""480"" width=""960""></iframe> <p>Thanks all participants and speakers for great atmosphere and engaging discussions. Here are several photos from the event: <img src=""https://i2.wp.com/blog.jetbrains.com/kotlin/files/2016/06/IMG_0109-1.jpg?zoom=1.5&amp;resize=370%252C278&amp;ssl=1"" alt=""Swag""> <img src=""https://i2.wp.com/blog.jetbrains.com/kotlin/files/2016/06/IMG_0114-1.jpg?zoom=1.5&amp;resize=370%252C278&amp;ssl=1"" alt=""Community""> <img src=""https://i1.wp.com/blog.jetbrains.com/kotlin/files/2016/06/IMG_0129-1.jpg?zoom=1.5&amp;resize=370%252C278&amp;ssl=1"" alt=""Hans""> <img src=""https://i1.wp.com/blog.jetbrains.com/kotlin/files/2016/06/IMG_0150-1.jpg?zoom=1.5&amp;resize=370%252C278&amp;ssl=1"" alt=""Kotlin&amp;Gradle""></p> <p><strong>See you on next K&bull;NIGHT!</strong></p> https://blog.jetbrains.com/kotlin/2016/06/kotlin-night-recordings/https://blog.jetbrains.com/kotlin/2016/06/kotlin-night-recordings/KotlinK.NightRoman BelovTue, 14 Jun 2016 15:32:00 GMT News from KotlinTest<p>In the last weeks <a href=""https://github.com/kotlintest/kotlintest"">KotlinTest</a> got some new and useful features:</p> <h2>Testing for Exceptions</h2> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> exception = shouldThrow&lt;IllegalAccessException&gt; { <span class=""hljs-comment"">// code in here that you expect to throw an IllegalAccessException</span> } exception.message should start with <span class=""hljs-string"">""Something went wrong""</span></code></pre> <h2>Before and after each</h2> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">override</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">beforeEach</span><span class=""hljs-params"">()</span></span> { println(<span class=""hljs-string"">""Test starting""</span>) } <span class=""hljs-keyword"">override</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">afterEach</span><span class=""hljs-params"">()</span></span> { println(<span class=""hljs-string"">""Test completed""</span>) }</code></pre> <h2>Test configuration</h2> <p>Each test case can followed by a call to the <code>config</code> function.</p> <p>To execute a test two times with two threads you would write:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">MyTests</span> : <span class=""hljs-type"">ShouldSpec</span></span>() { init { should(<span class=""hljs-string"">""return the length of the string""</span>) { <span class=""hljs-string"">""sammy""</span>.length shouldBe <span class=""hljs-number"">5</span> <span class=""hljs-string"">""""</span>.length shouldBe <span class=""hljs-number"">0</span> }.config(invocations = <span class=""hljs-number"">10</span>, threads = <span class=""hljs-number"">2</span>) } }</code></pre> <p>You can tag tests to be able run them selectively:</p> <pre><code class=""hljs language-kotlin"">... }.config(tags = listOf(<span class=""hljs-string"">""database""</span>, <span class=""hljs-string"">""linux""</span>))</code></pre> <p>Timeouts are configured like this:</p> <pre><code class=""hljs language-kotlin"">... }.config(timeout = 2, timeoutUnit = TimeUnit.SECONDS)</code></pre> <p>To ignore a test, you set <code>ignored</code> to true:</p> <pre><code class=""hljs language-kotlin"">... }.config(ignored = <span class=""hljs-literal"">true</span>)</code></pre> <h2>Future</h2> <p>Some more features like property based (and table driven) testing are on the roadmap.</p> https://discuss.kotlinlang.org/t/news-from-kotlintest/1797https://discuss.kotlinlang.org/t/news-from-kotlintest/1797TestingKotlinmediumTue, 14 Jun 2016 00:00:00 GMT Meet the Kotlin Team at Gradle Summit<p>You&rsquo;ve probably heard the news announcing that you&rsquo;ll soon be able to <a href=""https://blog.jetbrains.com/kotlin/2016/05/gradle-meets-kotlin/"">write your Gradle build scripts and plugins in Kotlin</a>. At the Kotlin Night in San Francisco, Hans Dockter from Gradle demoed the first prototype of the support. After the initial announcement, we&rsquo;ve continued our work together with the Gradle team to flesh out the prototype and bring it closer to the release. And next week, at the <a href=""https://gradlesummit.com/"">Gradle Summit in Palo Alto</a>, we&rsquo;ll be sharing the details on our progress.</p> <p>In addition to presentations by Gradle developers and users, you&rsquo;ll see <a href=""https://gradlesummit.com/schedule/kotlin"">the keynote by Dmitry Jemerov from the Kotlin team</a>, talking about the DSL support features of Kotlin and their use in the Gradle build script DSL. And in the expo area, you&rsquo;ll be able to chat with developers working on Kotlin, IntelliJ IDEA and TeamCity, who will help you with any questions related to the use of Gradle together with JetBrains products.</p> <p>The summit will be on June 23-24th in Palo Alto, California, and <a href=""https://info.gradlesummit.com/conference/palo_alto/2016/06/register"">the registration is open</a>. Looking forward to seeing you there!</p> https://blog.jetbrains.com/kotlin/2016/06/meet-the-kotlin-team-at-gradle-summit/https://blog.jetbrains.com/kotlin/2016/06/meet-the-kotlin-team-at-gradle-summit/KotlinGradleDmitry JemerovMon, 13 Jun 2016 00:00:00 GMT Архитектор Kotlin: «Язык программирования — рабочий инструмент. Если никогда их не менять, можно отстать от жизни» <p>&#x412; &#x444;&#x435;&#x432;&#x440;&#x430;&#x43B;&#x435; 2016-&#x433;&#x43E;, &#x43F;&#x43E;&#x441;&#x43B;&#x435; &#x448;&#x435;&#x441;&#x442;&#x438; &#x43B;&#x435;&#x442; &#x440;&#x430;&#x437;&#x440;&#x430;&#x431;&#x43E;&#x442;&#x43A;&#x438;, &#x43A;&#x43E;&#x43C;&#x43F;&#x430;&#x43D;&#x438;&#x44F; JetBrains &#x432;&#x44B;&#x43F;&#x443;&#x441;&#x442;&#x438;&#x43B;&#x430; &#x432; &#x440;&#x435;&#x43B;&#x438;&#x437; &#x432;&#x435;&#x440;&#x441;&#x438;&#x44E; 1.0 &#x441;&#x442;&#x430;&#x442;&#x438;&#x447;&#x435;&#x441;&#x43A;&#x438; &#x442;&#x438;&#x43F;&#x438;&#x437;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x43D;&#x43D;&#x43E;&#x433;&#x43E; &#x44F;&#x437;&#x44B;&#x43A;&#x430; &#x43F;&#x440;&#x43E;&#x433;&#x440;&#x430;&#x43C;&#x43C;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x43D;&#x438;&#x44F; <a href=""https://kotlinlang.org/"">Kotlin</a>. &#x415;&#x433;&#x43E; &#x430;&#x432;&#x442;&#x43E;&#x440;&#x44B; &#x441;&#x442;&#x430;&#x432;&#x438;&#x43B;&#x438; &#x446;&#x435;&#x43B;&#x44C;&#x44E; &#x441;&#x43E;&#x437;&#x434;&#x430;&#x442;&#x44C; &#x44F;&#x437;&#x44B;&#x43A; &laquo;&#x431;&#x43E;&#x43B;&#x435;&#x435; &#x43B;&#x430;&#x43A;&#x43E;&#x43D;&#x438;&#x447;&#x43D;&#x44B;&#x439; &#x438; &#x442;&#x438;&#x43F;&#x43E;&#x431;&#x435;&#x437;&#x43E;&#x43F;&#x430;&#x441;&#x43D;&#x44B;&#x439;, &#x447;&#x435;&#x43C; Java, &#x438; &#x431;&#x43E;&#x43B;&#x435;&#x435; &#x43F;&#x440;&#x43E;&#x441;&#x442;&#x43E;&#x439;, &#x447;&#x435;&#x43C; Scala&raquo;. &#x41E; &#x442;&#x43E;&#x43C;, &#x447;&#x442;&#x43E; &#x438;&#x437; &#x44D;&#x442;&#x43E;&#x433;&#x43E; &#x432;&#x44B;&#x448;&#x43B;&#x43E;, &#x430; &#x442;&#x430;&#x43A;&#x436;&#x435; &#x43E; &#x43C;&#x43E;&#x434;&#x435; &#x43D;&#x430; &#x44F;&#x437;&#x44B;&#x43A;&#x438; &#x43F;&#x440;&#x43E;&#x433;&#x440;&#x430;&#x43C;&#x43C;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x43D;&#x438;&#x44F;, &#x43A;&#x43E;&#x43D;&#x43A;&#x443;&#x440;&#x435;&#x43D;&#x446;&#x438;&#x438; &#x43C;&#x435;&#x436;&#x434;&#x443; &#x43D;&#x438;&#x43C;&#x438;, &#x43F;&#x435;&#x440;&#x441;&#x43F;&#x435;&#x43A;&#x442;&#x438;&#x432;&#x430;&#x445; &#x438; &laquo;&#x441;&#x435;&#x440;&#x435;&#x431;&#x440;&#x44F;&#x43D;&#x43E;&#x439; &#x43F;&#x443;&#x43B;&#x435;&raquo; &#x432; &#x438;&#x43D;&#x442;&#x435;&#x440;&#x432;&#x44C;&#x44E; dev.by &#x440;&#x430;&#x441;&#x441;&#x43A;&#x430;&#x437;&#x430;&#x43B; &#x440;&#x443;&#x43A;&#x43E;&#x432;&#x43E;&#x434;&#x438;&#x442;&#x435;&#x43B;&#x44C; &#x440;&#x430;&#x437;&#x440;&#x430;&#x431;&#x43E;&#x442;&#x43A;&#x438; &#x43F;&#x440;&#x43E;&#x435;&#x43A;&#x442;&#x430; Kotlin &#x432; JetBrains&#x200B; <strong>&#x410;&#x43D;&#x434;&#x440;&#x435;&#x439; &#x411;&#x440;&#x435;&#x441;&#x43B;&#x430;&#x432;</strong>.</p> <p><img src=""https://dev.by/ckeditor_assets/pictures/20014/content_breslav.jpg"" alt=""""></p> <h1>&#x41E; Kotlin &#x438; &#x43E; &#x43A;&#x43E;&#x43D;&#x43A;&#x443;&#x440;&#x435;&#x43D;&#x446;&#x438;&#x438;</h1> <p><strong>&mdash; &#x41F;&#x435;&#x440;&#x432;&#x43E;&#x43C;&#x443; &#x440;&#x435;&#x43B;&#x438;&#x437;&#x443; Kotlin &#x43F;&#x440;&#x435;&#x434;&#x448;&#x435;&#x441;&#x442;&#x432;&#x43E;&#x432;&#x430;&#x43B;&#x438; &#x448;&#x435;&#x441;&#x442;&#x44C; &#x43B;&#x435;&#x442; &#x440;&#x430;&#x437;&#x440;&#x430;&#x431;&#x43E;&#x442;&#x43A;&#x438;. &#x41F;&#x43E;&#x43B;&#x443;&#x447;&#x438;&#x43B;&#x43E;&#x441;&#x44C; &#x43B;&#x438; &#x443; &#x432;&#x430;&#x441; &#x442;&#x43E;, &#x43A; &#x447;&#x435;&#x43C;&#x443; &#x441;&#x442;&#x440;&#x435;&#x43C;&#x438;&#x43B;&#x438;&#x441;&#x44C;?</strong></p> <p><strong>&mdash;</strong> &#x412; &#x440;&#x430;&#x437;&#x43D;&#x44B;&#x435; &#x43C;&#x43E;&#x43C;&#x435;&#x43D;&#x442;&#x44B; &#x43C;&#x44B; &#x441;&#x442;&#x440;&#x435;&#x43C;&#x438;&#x43B;&#x438;&#x441;&#x44C; &#x43A; &#x440;&#x430;&#x437;&#x43D;&#x44B;&#x43C; &#x432;&#x435;&#x449;&#x430;&#x43C;, &#x43D;&#x43E; &#x431;&#x43E;&#x43B;&#x44C;&#x448;&#x430;&#x44F; &#x447;&#x430;&#x441;&#x442;&#x44C; &#x438;&#x437; &#x442;&#x43E;&#x433;&#x43E;, &#x447;&#x442;&#x43E; &#x441;&#x435;&#x439;&#x447;&#x430;&#x441; &#x43C;&#x44B; &#x441;&#x447;&#x438;&#x442;&#x430;&#x435;&#x43C; &#x43F;&#x440;&#x430;&#x432;&#x438;&#x43B;&#x44C;&#x43D;&#x44B;&#x43C;&#x438; &#x446;&#x435;&#x43B;&#x44F;&#x43C;&#x438;, &#x441;&#x43E;&#x441;&#x442;&#x43E;&#x44F;&#x43B;&#x430;&#x441;&#x44C;. &#x41C;&#x44B; &#x445;&#x43E;&#x442;&#x435;&#x43B;&#x438; &#x441;&#x434;&#x435;&#x43B;&#x430;&#x442;&#x44C; &#x443;&#x434;&#x43E;&#x431;&#x43D;&#x44B;&#x439; &#x44F;&#x437;&#x44B;&#x43A; &#x434;&#x43B;&#x44F; &#x440;&#x430;&#x437;&#x440;&#x430;&#x431;&#x43E;&#x442;&#x447;&#x438;&#x43A;&#x43E;&#x432; &#x441; &#x448;&#x438;&#x440;&#x43E;&#x43A;&#x438;&#x43C; &#x43A;&#x440;&#x443;&#x433;&#x43E;&#x43C; &#x437;&#x430;&#x434;&#x430;&#x447; &mdash; &#x43F;&#x43E;&#x43B;&#x443;&#x447;&#x438;&#x43B;&#x43E;&#x441;&#x44C;. &#x41C;&#x44B; &#x445;&#x43E;&#x442;&#x435;&#x43B;&#x438; &#x441;&#x434;&#x435;&#x43B;&#x430;&#x442;&#x44C; &#x44F;&#x437;&#x44B;&#x43A;, &#x43A;&#x43E;&#x442;&#x43E;&#x440;&#x44B;&#x439; &#x431;&#x443;&#x434;&#x435;&#x442; &#x43D;&#x440;&#x430;&#x432;&#x438;&#x442;&#x44C;&#x441;&#x44F; &#x43B;&#x44E;&#x434;&#x44F;&#x43C; &#x438; &#x441;&#x434;&#x435;&#x43B;&#x430;&#x435;&#x442; &#x438;&#x445; &#x436;&#x438;&#x437;&#x43D;&#x44C; &#x437;&#x430;&#x43C;&#x435;&#x442;&#x43D;&#x43E; &#x43B;&#x443;&#x447;&#x448;&#x435; &mdash; &#x440;&#x435;&#x437;&#x443;&#x43B;&#x44C;&#x442;&#x430;&#x442;&#x43E;&#x43C; &#x43C;&#x44B; &#x434;&#x43E;&#x432;&#x43E;&#x43B;&#x44C;&#x43D;&#x44B;. &#x426;&#x435;&#x43B;&#x438; &#x432; &#x43F;&#x440;&#x43E;&#x446;&#x435;&#x441;&#x441;&#x435; &#x43C;&#x435;&#x43D;&#x44F;&#x43B;&#x438;&#x441;&#x44C;: &#x43C;&#x435;&#x43D;&#x44F;&#x43B;&#x438;&#x441;&#x44C; &#x43F;&#x440;&#x438;&#x43E;&#x440;&#x438;&#x442;&#x435;&#x442;&#x44B;, &#x43F;&#x43E;&#x44F;&#x432;&#x43B;&#x44F;&#x43B;&#x438;&#x441;&#x44C; &#x43D;&#x43E;&#x432;&#x44B;&#x435; &#x432;&#x43D;&#x435;&#x448;&#x43D;&#x438;&#x435; &#x43E;&#x431;&#x441;&#x442;&#x43E;&#x44F;&#x442;&#x435;&#x43B;&#x44C;&#x441;&#x442;&#x432;&#x430; &mdash; &#x43A;&#x43E;&#x43D;&#x43A;&#x443;&#x440;&#x435;&#x43D;&#x442;&#x44B;, &#x43D;&#x43E;&#x432;&#x44B;&#x435; &#x43F;&#x43B;&#x430;&#x442;&#x444;&#x43E;&#x440;&#x43C;&#x44B;. &#x41D;&#x430;&#x43F;&#x440;&#x438;&#x43C;&#x435;&#x440;, Android, &#x43E; &#x43A;&#x43E;&#x442;&#x43E;&#x440;&#x43E;&#x43C; &#x43C;&#x44B; &#x438;&#x437;&#x43D;&#x430;&#x447;&#x430;&#x43B;&#x44C;&#x43D;&#x43E; &#x43D;&#x435; &#x434;&#x443;&#x43C;&#x430;&#x43B;&#x438;, &#x441;&#x442;&#x430;&#x43B; &#x434;&#x43B;&#x44F; &#x43D;&#x430;&#x441; &#x43E;&#x447;&#x435;&#x43D;&#x44C; &#x438;&#x43D;&#x442;&#x435;&#x440;&#x435;&#x441;&#x43D;&#x43E;&#x439; &#x438; &#x432;&#x430;&#x436;&#x43D;&#x43E;&#x439; &#x43F;&#x43B;&#x430;&#x442;&#x444;&#x43E;&#x440;&#x43C;&#x43E;&#x439;, &#x438; &#x441;&#x435;&#x439;&#x447;&#x430;&#x441; &#x43C;&#x44B; &#x43F;&#x43E;&#x43B;&#x443;&#x447;&#x430;&#x435;&#x43C; &#x430;&#x443;&#x434;&#x438;&#x442;&#x43E;&#x440;&#x438;&#x44E; &#x432; &#x441;&#x440;&#x435;&#x434;&#x435; Android-&#x440;&#x430;&#x437;&#x440;&#x430;&#x431;&#x43E;&#x442;&#x447;&#x438;&#x43A;&#x43E;&#x432;. &#x41C;&#x44B; &#x43F;&#x440;&#x438;&#x434;&#x443;&#x43C;&#x430;&#x43B;&#x438; &#x43A;&#x43E;&#x43C;&#x43F;&#x438;&#x43B;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x442;&#x44C;&#x441;&#x44F; &#x432; JavaScript &mdash; &#x441;&#x440;&#x430;&#x437;&#x443; &#x442;&#x430;&#x43A;&#x43E;&#x439; &#x43C;&#x44B;&#x441;&#x43B;&#x438; &#x43D;&#x435; &#x431;&#x44B;&#x43B;&#x43E;, &#x430; &#x441;&#x435;&#x439;&#x447;&#x430;&#x441; &#x43F;&#x43E;&#x43D;&#x44F;&#x442;&#x43D;&#x43E;, &#x447;&#x442;&#x43E; &#x44D;&#x442;&#x43E; &#x442;&#x43E;&#x436;&#x435; &#x43E;&#x447;&#x435;&#x43D;&#x44C; &#x43F;&#x43E;&#x43B;&#x435;&#x437;&#x43D;&#x43E;&#x435; &#x43D;&#x430;&#x43F;&#x440;&#x430;&#x432;&#x43B;&#x435;&#x43D;&#x438;&#x435;.</p> <p><strong>&mdash; &#x41A;&#x441;&#x442;&#x430;&#x442;&#x438;, &#x43E; &#x43A;&#x43E;&#x43D;&#x43A;&#x443;&#x440;&#x435;&#x43D;&#x442;&#x430;&#x445;. &#x417;&#x430; &#x43F;&#x43E;&#x441;&#x43B;&#x435;&#x434;&#x43D;&#x438;&#x435; 10-15 &#x43B;&#x435;&#x442; &#x44F;&#x437;&#x44B;&#x43A;&#x43E;&#x432; &#x43F;&#x43E;&#x434; JVM &#x440;&#x430;&#x437;&#x432;&#x435;&#x43B;&#x43E;&#x441;&#x44C; &#x43C;&#x43D;&#x43E;&#x433;&#x43E;, &#x438; &#x43C;&#x43D;&#x43E;&#x433;&#x438;&#x435; &#x43D;&#x430; &#x441;&#x43B;&#x443;&#x445;&#x443;: Groovy, Gosu, Ceylon. &#x41F;&#x43E;&#x447;&#x435;&#x43C;&#x443; &#x44D;&#x442;&#x438;&#x445; &#x440;&#x430;&#x437;&#x440;&#x430;&#x431;&#x43E;&#x442;&#x43E;&#x43A; &#x442;&#x430;&#x43A; &#x43C;&#x43D;&#x43E;&#x433;&#x43E;? &#x41F;&#x43E;&#x447;&#x435;&#x43C;&#x443; &#x43D;&#x435; &#x443;&#x434;&#x430;&#x451;&#x442;&#x441;&#x44F; &#x441;&#x43A;&#x43E;&#x43D;&#x446;&#x435;&#x43D;&#x442;&#x440;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x442;&#x44C;&#x441;&#x44F; &#x43D;&#x430; &#x43A;&#x430;&#x43A;&#x43E;&#x439;-&#x442;&#x43E; &#x43E;&#x434;&#x43D;&#x43E;&#x439;, &#x43E;&#x441;&#x43E;&#x431;&#x435;&#x43D;&#x43D;&#x43E; &#x432; &#x441;&#x43B;&#x443;&#x447;&#x430;&#x44F;&#x445;, &#x43A;&#x43E;&#x433;&#x434;&#x430; &#x446;&#x435;&#x43B;&#x438; &#x441;&#x445;&#x43E;&#x436;&#x438;?</strong></p> <p>&mdash; &#x42F;&#x437;&#x44B;&#x43A;&#x43E;&#x432; &#x43F;&#x440;&#x43E;&#x433;&#x440;&#x430;&#x43C;&#x43C;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x43D;&#x438;&#x44F; &#x432;&#x43E;&#x43E;&#x431;&#x449;&#x435; &#x43F;&#x43E;&#x44F;&#x432;&#x43B;&#x44F;&#x435;&#x442;&#x441;&#x44F; &#x43C;&#x43D;&#x43E;&#x433;&#x43E;, &#x438; &#x43F;&#x43E;&#x438;&#x441;&#x43A; &#x432; &#x44D;&#x442;&#x43E;&#x43C; &#x43F;&#x43E;&#x43B;&#x435; &#x431;&#x435;&#x441;&#x43A;&#x43E;&#x43D;&#x435;&#x447;&#x435;&#x43D;.</p> <blockquote> <p>&#x421;&#x43E;&#x437;&#x434;&#x430;&#x442;&#x44C; &#x43D;&#x43E;&#x432;&#x44B;&#x439; &#x44F;&#x437;&#x44B;&#x43A; &mdash; &#x43E;&#x434;&#x43D;&#x430; &#x438;&#x437; &#x43D;&#x435;&#x43C;&#x43D;&#x43E;&#x433;&#x438;&#x445; &#x437;&#x430;&#x434;&#x430;&#x447; &#x441;&#x438;&#x441;&#x442;&#x435;&#x43C;&#x43D;&#x43E;&#x433;&#x43E; &#x43F;&#x440;&#x43E;&#x433;&#x440;&#x430;&#x43C;&#x43C;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x43D;&#x438;&#x44F;, &#x43E;&#x442;&#x43D;&#x43E;&#x441;&#x438;&#x442;&#x435;&#x43B;&#x44C;&#x43D;&#x43E; &#x43D;&#x435;&#x441;&#x43B;&#x43E;&#x436;&#x43D;&#x430;&#x44F;, &#x441; &#x438;&#x43D;&#x442;&#x435;&#x440;&#x435;&#x441;&#x43D;&#x43E;&#x439; &laquo;&#x43C;&#x430;&#x442;&#x435;&#x43C;&#x430;&#x442;&#x438;&#x43A;&#x43E;&#x439;&raquo;. &#x41D;&#x430;&#x43F;&#x438;&#x441;&#x430;&#x442;&#x44C; &#x431;&#x430;&#x437;&#x443; &#x434;&#x430;&#x43D;&#x43D;&#x44B;&#x445; &#x438;&#x43B;&#x438; &#x43E;&#x43F;&#x435;&#x440;&#x430;&#x446;&#x438;&#x43E;&#x43D;&#x43D;&#x443;&#x44E; &#x441;&#x438;&#x441;&#x442;&#x435;&#x43C;&#x443; &#x43A;&#x443;&#x434;&#x430; &#x441;&#x43B;&#x43E;&#x436;&#x43D;&#x435;&#x435;, &#x43F;&#x43E;&#x44D;&#x442;&#x43E;&#x43C;&#x443; &#x44D;&#x442;&#x43E; &#x434;&#x435;&#x43B;&#x430;&#x44E;&#x442; &#x43D;&#x435; &#x442;&#x430;&#x43A; &#x447;&#x430;&#x441;&#x442;&#x43E;.</p> </blockquote> <p>&#x41C;&#x43D;&#x43E;&#x433;&#x438;&#x435; &#x44F;&#x437;&#x44B;&#x43A;&#x438; &#x432;&#x43E;&#x437;&#x43D;&#x438;&#x43A;&#x430;&#x44E;&#x442;, &#x447;&#x442;&#x43E;&#x431;&#x44B; &#x437;&#x430;&#x43F;&#x43E;&#x43B;&#x43D;&#x438;&#x442;&#x44C; &#x43D;&#x43E;&#x432;&#x44B;&#x435; &#x438;&#x43B;&#x438; &#x43F;&#x443;&#x441;&#x442;&#x443;&#x44E;&#x449;&#x438;&#x435; &#x43D;&#x438;&#x448;&#x438;. &#x41D;&#x430;&#x43F;&#x440;&#x438;&#x43C;&#x435;&#x440;, Gosu &#x438;&#x437;&#x43D;&#x430;&#x447;&#x430;&#x43B;&#x44C;&#x43D;&#x43E; &#x441;&#x43E;&#x437;&#x434;&#x430;&#x432;&#x430;&#x43B;&#x441;&#x44F; &#x434;&#x43B;&#x44F; &#x432;&#x43D;&#x443;&#x440;&#x435;&#x43D;&#x43D;&#x438;&#x445; &#x43A;&#x43E;&#x43D;&#x444;&#x438;&#x433;&#x443;&#x440;&#x430;&#x446;&#x438;&#x43E;&#x43D;&#x43D;&#x44B;&#x445; &#x441;&#x43A;&#x440;&#x438;&#x43F;&#x442;&#x43E;&#x432;, &#x442;&#x43E; &#x435;&#x441;&#x442;&#x44C; &#x43A;&#x430;&#x43A; &#x44F;&#x437;&#x44B;&#x43A; &#x432;&#x43D;&#x443;&#x442;&#x440;&#x438; &#x43A;&#x43E;&#x43D;&#x43A;&#x440;&#x435;&#x442;&#x43D;&#x43E;&#x433;&#x43E; &#x43F;&#x440;&#x43E;&#x434;&#x443;&#x43A;&#x442;&#x430; &#x43A;&#x43E;&#x43C;&#x43F;&#x430;&#x43D;&#x438;&#x438; Guidewire, &#x438; &#x442;&#x43E;&#x43B;&#x44C;&#x43A;&#x43E; &#x43F;&#x43E;&#x442;&#x43E;&#x43C; &#x43E;&#x442;&#x434;&#x435;&#x43B;&#x438;&#x43B;&#x441;&#x44F; &#x438; &#x441;&#x442;&#x430;&#x43B; &#x431;&#x43E;&#x43B;&#x435;&#x435; &#x441;&#x430;&#x43C;&#x43E;&#x441;&#x442;&#x43E;&#x44F;&#x442;&#x435;&#x43B;&#x44C;&#x43D;&#x44B;&#x43C;. Groovy &mdash; &#x43E;&#x434;&#x43D;&#x430; &#x438;&#x437; &#x43F;&#x435;&#x440;&#x432;&#x44B;&#x445; &#x443;&#x441;&#x43F;&#x435;&#x448;&#x43D;&#x44B;&#x445; &#x43F;&#x43E;&#x43F;&#x44B;&#x442;&#x43E;&#x43A; &#x441;&#x434;&#x435;&#x43B;&#x430;&#x442;&#x44C; &#x434;&#x438;&#x43D;&#x430;&#x43C;&#x438;&#x447;&#x435;&#x441;&#x43A;&#x438; &#x442;&#x438;&#x43F;&#x438;&#x437;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x43D;&#x43D;&#x44B;&#x439; &#x44F;&#x437;&#x44B;&#x43A; &#x441;&#x43F;&#x435;&#x446;&#x438;&#x430;&#x43B;&#x44C;&#x43D;&#x43E; &#x434;&#x43B;&#x44F; JVM, &#x438; &#x432; &#x43A;&#x430;&#x43A;&#x43E;&#x439;-&#x442;&#x43E; &#x43C;&#x43E;&#x43C;&#x435;&#x43D;&#x442; &#x43E;&#x43D; &#x441;&#x442;&#x430;&#x43B; &#x43D;&#x43E;&#x432;&#x44B;&#x43C; &#x441;&#x43B;&#x43E;&#x432;&#x43E;&#x43C; &#x432; &#x44D;&#x442;&#x43E;&#x43C; &#x43D;&#x430;&#x43F;&#x440;&#x430;&#x432;&#x43B;&#x435;&#x43D;&#x438;&#x438;.</p> <p><strong>&mdash; &#x41C;&#x43D;&#x43E;&#x433;&#x438;&#x435; &#x43B;&#x438; &#x438;&#x434;&#x435;&#x438; &#x43A;&#x43E;&#x43D;&#x43A;&#x443;&#x440;&#x435;&#x43D;&#x442;&#x43E;&#x432; &#x43F;&#x435;&#x440;&#x435;&#x43A;&#x43E;&#x447;&#x435;&#x432;&#x430;&#x43B;&#x438; &#x432; Kotlin?</strong></p> <p>&mdash; &#x41C;&#x44B; &#x438;&#x441;&#x43F;&#x43E;&#x43B;&#x44C;&#x437;&#x43E;&#x432;&#x430;&#x43B;&#x438; &#x432;&#x441;&#x451; &#x43F;&#x43E;&#x43B;&#x435;&#x437;&#x43D;&#x43E;&#x435;, &#x447;&#x442;&#x43E; &#x43D;&#x430;&#x448;&#x43B;&#x438; &#x443; &#x434;&#x440;&#x443;&#x433;&#x438;&#x445;: &#x446;&#x435;&#x43B;&#x438; &#x43F;&#x440;&#x438;&#x434;&#x443;&#x43C;&#x44B;&#x432;&#x430;&#x442;&#x44C; &#x432;&#x441;&#x451; &#x441; &#x43D;&#x443;&#x43B;&#x44F; &#x43D;&#x435; &#x431;&#x44B;&#x43B;&#x43E;. &#x418;&#x437; &#x43D;&#x430;&#x437;&#x432;&#x430;&#x43D;&#x43D;&#x44B;&#x445; &#x44F;&#x437;&#x44B;&#x43A;&#x43E;&#x432; &#x43F;&#x43E; &#x437;&#x430;&#x434;&#x430;&#x447;&#x430;&#x43C; &#x43C;&#x44B; &#x43F;&#x435;&#x440;&#x435;&#x441;&#x435;&#x43A;&#x430;&#x435;&#x43C;&#x441;&#x44F; &#x441; Ceylon, &#x43D;&#x43E; &#x43E;&#x431;&#x449;&#x438;&#x439; &#x43D;&#x430;&#x431;&#x43E;&#x440; &#x442;&#x440;&#x435;&#x431;&#x43E;&#x432;&#x430;&#x43D;&#x438;&#x439; &#x443; &#x43D;&#x430;&#x441; &#x434;&#x440;&#x443;&#x433;&#x43E;&#x439;. &#x411;&#x43E;&#x43B;&#x44C;&#x448;&#x43E;&#x439; &#x443;&#x43F;&#x43E;&#x440; &#x432; Kotlin &mdash; &#x43D;&#x430; &#x432;&#x437;&#x430;&#x438;&#x43C;&#x43E;&#x434;&#x435;&#x439;&#x441;&#x442;&#x432;&#x438;&#x435; &#x441; &#x441;&#x443;&#x449;&#x435;&#x441;&#x442;&#x432;&#x443;&#x44E;&#x449;&#x438;&#x43C; &#x43A;&#x43E;&#x434;&#x43E;&#x43C;, &#x442;&#x430;&#x43A; &#x43D;&#x430;&#x437;&#x44B;&#x432;&#x430;&#x435;&#x43C;&#x44B;&#x439; interop &#x441; Java, &#x430; &#x441;&#x43E;&#x437;&#x434;&#x430;&#x442;&#x435;&#x43B;&#x438; Ceylon &#x43E;&#x442; &#x44D;&#x442;&#x43E;&#x439; &#x438;&#x434;&#x435;&#x438; &#x43E;&#x442;&#x43A;&#x430;&#x437;&#x430;&#x43B;&#x438;&#x441;&#x44C;. &#x41E;&#x43D;&#x438; &#x437;&#x430;&#x43F;&#x443;&#x441;&#x43A;&#x430;&#x44E;&#x442;&#x441;&#x44F; &#x43D;&#x430; JVM, &#x43D;&#x43E; &#x43F;&#x440;&#x438; &#x44D;&#x442;&#x43E;&#x43C; &#x43F;&#x43E;&#x43B;&#x43D;&#x43E;&#x441;&#x442;&#x44C;&#x44E; &#x43F;&#x435;&#x440;&#x435;&#x43F;&#x438;&#x441;&#x44B;&#x432;&#x430;&#x44E;&#x442; &#x441;&#x442;&#x430;&#x43D;&#x434;&#x430;&#x440;&#x442;&#x43D;&#x443;&#x44E; &#x431;&#x438;&#x431;&#x43B;&#x438;&#x43E;&#x442;&#x435;&#x43A;&#x443;: &#x432;&#x43C;&#x435;&#x441;&#x442;&#x43E; &#x43A;&#x43B;&#x430;&#x441;&#x441;&#x43E;&#x432; &#x438;&#x437; JDK &#x438;&#x441;&#x43F;&#x43E;&#x43B;&#x44C;&#x437;&#x443;&#x435;&#x442;&#x441;&#x44F; &#x438;&#x445; &#x441;&#x43E;&#x431;&#x441;&#x442;&#x432;&#x435;&#x43D;&#x43D;&#x430;&#x44F; SDK. &#x42D;&#x442;&#x43E; &#x441;&#x438;&#x43B;&#x44C;&#x43D;&#x43E; &#x43C;&#x435;&#x43D;&#x44F;&#x435;&#x442; &#x434;&#x435;&#x43B;&#x43E;: &#x43F;&#x43E;&#x434;&#x43C;&#x435;&#x448;&#x430;&#x442;&#x44C; &#x43D;&#x435;&#x43C;&#x43D;&#x43E;&#x436;&#x435;&#x447;&#x43A;&#x43E; Ceylon &#x432; &#x441;&#x443;&#x449;&#x435;&#x441;&#x442;&#x432;&#x443;&#x44E;&#x449;&#x438;&#x439; &#x43F;&#x440;&#x43E;&#x435;&#x43A;&#x442; &#x43D;&#x430; Java &mdash; &#x431;&#x43E;&#x43B;&#x44C;&#x448;&#x430;&#x44F; &#x43F;&#x440;&#x43E;&#x431;&#x43B;&#x435;&#x43C;&#x430; &#x43F;&#x440;&#x43E;&#x441;&#x442;&#x43E; &#x43F;&#x43E;&#x442;&#x43E;&#x43C;&#x443;, &#x447;&#x442;&#x43E; &#x44F;&#x437;&#x44B;&#x43A; &#x441;&#x43E;&#x437;&#x434;&#x430;&#x43D; &#x43D;&#x435; &#x434;&#x43B;&#x44F; &#x44D;&#x442;&#x43E;&#x433;&#x43E;, &#x430; &#x434;&#x43B;&#x44F; &#x442;&#x43E;&#x433;&#x43E;, &#x447;&#x442;&#x43E;&#x431;&#x44B; &#x43D;&#x430; &#x43D;&#x451;&#x43C; &#x441; &#x43D;&#x443;&#x43B;&#x44F; &#x440;&#x430;&#x437;&#x440;&#x430;&#x431;&#x430;&#x442;&#x44B;&#x432;&#x430;&#x442;&#x44C; &#x43A;&#x440;&#x430;&#x441;&#x438;&#x432;&#x44B;&#x435; &#x43F;&#x440;&#x43E;&#x435;&#x43A;&#x442;&#x44B;. &#x410; Kotlin &#x445;&#x43E;&#x440;&#x43E;&#x448;&#x43E; &#x43F;&#x43E;&#x434;&#x445;&#x43E;&#x434;&#x438;&#x442; &#x434;&#x43B;&#x44F; &#x443;&#x436;&#x435; &#x441;&#x443;&#x449;&#x435;&#x441;&#x442;&#x432;&#x443;&#x44E;&#x449;&#x438;&#x445; &#x43F;&#x440;&#x43E;&#x435;&#x43A;&#x442;&#x43E;&#x432;.</p> <p><strong>&mdash; &#x421;&#x43E;&#x437;&#x434;&#x430;&#x43D;&#x438;&#x435; &#x43E;&#x431;&#x440;&#x430;&#x442;&#x43D;&#x43E;&#x439; &#x441;&#x43E;&#x432;&#x43C;&#x435;&#x441;&#x442;&#x438;&#x43C;&#x43E;&#x441;&#x442;&#x438; &#x441; Java &#x438; &#x441;&#x442;&#x430;&#x43B;&#x43E; &#x441;&#x430;&#x43C;&#x43E;&#x439; &#x441;&#x43B;&#x43E;&#x436;&#x43D;&#x43E;&#x439; &#x447;&#x430;&#x441;&#x442;&#x44C;&#x44E; &#x43F;&#x440;&#x43E;&#x435;&#x43A;&#x442;&#x430;?</strong></p> <p>&mdash; &#x414;&#x430;, &#x44D;&#x442;&#x43E;, &#x43F;&#x43E;&#x436;&#x430;&#x43B;&#x443;&#x439;, &#x43F;&#x440;&#x438;&#x43D;&#x435;&#x441;&#x43B;&#x43E; &#x431;&#x43E;&#x43B;&#x44C;&#x448;&#x435; &#x432;&#x441;&#x435;&#x433;&#x43E; &#x433;&#x43E;&#x43B;&#x43E;&#x432;&#x43D;&#x43E;&#x439; &#x431;&#x43E;&#x43B;&#x438;. &#x41F;&#x43E; &#x43F;&#x443;&#x442;&#x438; &#x43C;&#x44B; &#x43F;&#x435;&#x440;&#x435;&#x431;&#x440;&#x430;&#x43B;&#x438; &#x447;&#x435;&#x442;&#x44B;&#x440;&#x435; &#x43E;&#x441;&#x43D;&#x43E;&#x432;&#x43D;&#x44B;&#x445; &#x441;&#x445;&#x435;&#x43C;&#x44B; &#x432;&#x437;&#x430;&#x438;&#x43C;&#x43E;&#x434;&#x435;&#x439;&#x441;&#x442;&#x432;&#x438;&#x44F; &#x441; &#x431;&#x438;&#x431;&#x43B;&#x438;&#x43E;&#x442;&#x435;&#x43A;&#x430;&#x43C;&#x438; Java. &#x41F;&#x435;&#x440;&#x432;&#x430;&#x44F; &#x431;&#x44B;&#x43B;&#x430; &#x43E;&#x447;&#x435;&#x43D;&#x44C; &#x43A;&#x43E;&#x43D;&#x441;&#x435;&#x440;&#x432;&#x430;&#x442;&#x438;&#x432;&#x43D;&#x43E;&#x439;: &#x43C;&#x44B; &#x441;&#x447;&#x438;&#x442;&#x430;&#x43B;&#x438;, &#x447;&#x442;&#x43E; &#x43A;&#x43E;&#x434; &#x43D;&#x430; Java &#x43E;&#x447;&#x435;&#x43D;&#x44C; &#x43D;&#x435;&#x431;&#x435;&#x437;&#x43E;&#x43F;&#x430;&#x441;&#x435;&#x43D;, &#x438; &#x432; Kotlin &#x43D;&#x443;&#x436;&#x43D;&#x43E; &#x43F;&#x440;&#x43E;&#x432;&#x435;&#x440;&#x44F;&#x442;&#x44C; &#x432;&#x441;&#x451;, &#x447;&#x442;&#x43E; &#x43C;&#x43E;&#x436;&#x43D;&#x43E;. &#x41E;&#x43A;&#x430;&#x437;&#x430;&#x43B;&#x43E;&#x441;&#x44C;, &#x447;&#x442;&#x43E; &#x44D;&#x442;&#x43E; &#x43E;&#x447;&#x435;&#x43D;&#x44C; &#x43D;&#x435;&#x443;&#x434;&#x43E;&#x431;&#x43D;&#x43E;. &#x41F;&#x43E;&#x442;&#x43E;&#x43C; &#x43C;&#x44B; &#x43F;&#x44B;&#x442;&#x430;&#x43B;&#x438;&#x441;&#x44C; &#x430;&#x43D;&#x43D;&#x43E;&#x442;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x442;&#x44C; Java-&#x431;&#x438;&#x431;&#x43B;&#x438;&#x43E;&#x442;&#x435;&#x43A;&#x438;, &#x447;&#x442;&#x43E;&#x431;&#x44B; &#x432;&#x43D;&#x435;&#x441;&#x442;&#x438; &#x432; &#x43A;&#x43E;&#x434; &#x43D;&#x430; Java &#x434;&#x43E;&#x43F;&#x43E;&#x43B;&#x43D;&#x438;&#x442;&#x435;&#x43B;&#x44C;&#x43D;&#x443;&#x44E; &#x442;&#x438;&#x43F;&#x43E;&#x432;&#x443;&#x44E; &#x438;&#x43D;&#x444;&#x43E;&#x440;&#x43C;&#x430;&#x446;&#x438;&#x44E; &#x438; &#x435;&#x451; &#x438;&#x441;&#x43F;&#x43E;&#x43B;&#x44C;&#x437;&#x43E;&#x432;&#x430;&#x442;&#x44C; &mdash; &#x44D;&#x442;&#x43E; &#x440;&#x435;&#x448;&#x435;&#x43D;&#x438;&#x435; &#x43E;&#x43A;&#x430;&#x437;&#x430;&#x43B;&#x43E;&#x441;&#x44C; &#x441;&#x43B;&#x438;&#x448;&#x43A;&#x43E;&#x43C; &#x445;&#x440;&#x443;&#x43F;&#x43A;&#x438;&#x43C;. &#x417;&#x430;&#x43A;&#x43E;&#x43D;&#x447;&#x438;&#x43B;&#x438; &#x43C;&#x44B; &#x442;&#x435;&#x43C;, &#x447;&#x442;&#x43E; &#x441;&#x43E;&#x437;&#x434;&#x430;&#x43B;&#x438; &#x43A;&#x43E;&#x43D;&#x446;&#x435;&#x43F;&#x446;&#x438;&#x44E; &#x43F;&#x43B;&#x430;&#x442;&#x444;&#x43E;&#x440;&#x43C;&#x435;&#x43D;&#x43D;&#x44B;&#x445; &#x442;&#x438;&#x43F;&#x43E;&#x432;, &#x443; &#x43C;&#x435;&#x43D;&#x44F; &#x435;&#x441;&#x442;&#x44C; <a href=""http://medianetwork.oracle.com/video/player/1785452087001"">&#x446;&#x435;&#x43B;&#x44B;&#x439; &#x434;&#x43E;&#x43A;&#x43B;&#x430;&#x434; &#x43E; &#x43D;&#x435;&#x439;</a> &#x43D;&#x430; JVM Language Summit. &#x41C;&#x43E;&#x434;&#x435;&#x43B;&#x44C; &#x434;&#x43E;&#x441;&#x442;&#x430;&#x442;&#x43E;&#x447;&#x43D;&#x43E; &#x441;&#x43B;&#x43E;&#x436;&#x43D;&#x430; &#x438; &#x43E;&#x440;&#x438;&#x433;&#x438;&#x43D;&#x430;&#x43B;&#x44C;&#x43D;&#x430;, &#x43D;&#x43E; &#x43D;&#x430; &#x43F;&#x440;&#x430;&#x43A;&#x442;&#x438;&#x43A;&#x435; &#x43E;&#x43D;&#x430; &#x440;&#x430;&#x431;&#x43E;&#x442;&#x430;&#x435;&#x442; &#x445;&#x43E;&#x440;&#x43E;&#x448;&#x43E;.</p> <p><strong>&mdash; &#x412;&#x435;&#x440;&#x43D;&#x451;&#x43C;&#x441;&#x44F; &#x43A; &#x440;&#x435;&#x43B;&#x438;&#x437;&#x443;. &#x41F;&#x435;&#x440;&#x432;&#x44B;&#x439; &#x444;&#x438;&#x434;&#x431;&#x435;&#x43A; &#x443;&#x436;&#x435; &#x441;&#x43E;&#x431;&#x440;&#x430;&#x43D;? &#x427;&#x442;&#x43E; &#x43F;&#x43E;&#x43D;&#x440;&#x430;&#x432;&#x438;&#x43B;&#x43E;&#x441;&#x44C; &#x43F;&#x43E;&#x43B;&#x44C;&#x437;&#x43E;&#x432;&#x430;&#x442;&#x435;&#x43B;&#x44F;&#x43C;?</strong></p> <p>&mdash; &#x420;&#x430;&#x437;&#x43D;&#x44B;&#x43C; &#x43B;&#x44E;&#x434;&#x44F;&#x43C; &mdash; &#x440;&#x430;&#x437;&#x43D;&#x44B;&#x435; &#x432;&#x435;&#x449;&#x438;. &#x41E;&#x447;&#x435;&#x43D;&#x44C; &#x43C;&#x43D;&#x43E;&#x433;&#x438;&#x43C; &#x43D;&#x440;&#x430;&#x432;&#x438;&#x442;&#x441;&#x44F;, &#x447;&#x442;&#x43E; &#x43F;&#x440;&#x43E;&#x433;&#x440;&#x430;&#x43C;&#x43C;&#x44B; &#x441;&#x442;&#x430;&#x43D;&#x43E;&#x432;&#x44F;&#x442;&#x441;&#x44F; &#x43A;&#x43E;&#x440;&#x43E;&#x442;&#x43A;&#x438;&#x43C;&#x438; &#x438; &#x43F;&#x43E;&#x43D;&#x44F;&#x442;&#x43D;&#x44B;&#x43C;&#x438;, &#x447;&#x442;&#x43E; &#x43A;&#x43E;&#x43C;&#x43F;&#x438;&#x43B;&#x44F;&#x442;&#x43E;&#x440; &#x43B;&#x43E;&#x432;&#x438;&#x442; &#x43E;&#x448;&#x438;&#x431;&#x43A;&#x438;, &#x43A;&#x43E;&#x442;&#x43E;&#x440;&#x44B;&#x435; &#x434;&#x440;&#x443;&#x433;&#x438;&#x435; &#x43A;&#x43E;&#x43C;&#x43F;&#x438;&#x43B;&#x44F;&#x442;&#x43E;&#x440;&#x44B; &#x43D;&#x435; &#x43F;&#x43E;&#x439;&#x43C;&#x430;&#x43B;&#x438; &#x431;&#x44B;.</p> <blockquote> <p>&#x41D;&#x430; Kotlin &#x443;&#x434;&#x430;&#x451;&#x442;&#x441;&#x44F; &#x438; &#x43F;&#x440;&#x43E;&#x437;&#x440;&#x430;&#x447;&#x43D;&#x43E; &#x438;&#x441;&#x43F;&#x43E;&#x43B;&#x44C;&#x437;&#x43E;&#x432;&#x430;&#x442;&#x44C; &#x441;&#x443;&#x449;&#x435;&#x441;&#x442;&#x432;&#x443;&#x44E;&#x449;&#x438;&#x435; &#x431;&#x438;&#x431;&#x43B;&#x438;&#x43E;&#x442;&#x435;&#x43A;&#x438;, &#x438; &#x43F;&#x438;&#x441;&#x430;&#x442;&#x44C; &#x445;&#x43E;&#x440;&#x43E;&#x448;&#x438;&#x435; &#x43D;&#x43E;&#x432;&#x44B;&#x435; &mdash; &#x430; &#x44D;&#x442;&#x43E; &#x437;&#x43D;&#x430;&#x447;&#x438;&#x442;, &#x447;&#x442;&#x43E; &#x43C;&#x43E;&#x436;&#x43D;&#x43E; &#x434;&#x43E;&#x431;&#x430;&#x432;&#x43B;&#x44F;&#x442;&#x44C; &#x43D;&#x435;&#x43C;&#x43D;&#x43E;&#x436;&#x43A;&#x43E; &#x43A;&#x43E;&#x434;&#x430; &#x43D;&#x430; Kotlin &#x432; &#x441;&#x443;&#x449;&#x435;&#x441;&#x442;&#x432;&#x443;&#x44E;&#x449;&#x438;&#x439; &#x43F;&#x440;&#x43E;&#x435;&#x43A;&#x442; &#x438; &#x43D;&#x438;&#x447;&#x435;&#x433;&#x43E; &#x43D;&#x435; &#x431;&#x43E;&#x44F;&#x442;&#x44C;&#x441;&#x44F;. &#x415;&#x441;&#x442;&#x44C; &#x438; &#x443;&#x437;&#x43A;&#x43E;&#x441;&#x43F;&#x435;&#x446;&#x438;&#x430;&#x43B;&#x438;&#x437;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x43D;&#x43D;&#x44B;&#x435; &#x432;&#x435;&#x449;&#x438;: &#x43F;&#x43E;&#x43B;&#x44C;&#x437;&#x43E;&#x432;&#x430;&#x442;&#x435;&#x43B;&#x44F;&#x43C; &#x43D;&#x430; Android, &#x43D;&#x430;&#x43F;&#x440;&#x438;&#x43C;&#x435;&#x440;, &#x43D;&#x440;&#x430;&#x432;&#x438;&#x442;&#x441;&#x44F;, &#x447;&#x442;&#x43E; &#x443; &#x43D;&#x430;&#x441; &#x43C;&#x430;&#x43B;&#x435;&#x43D;&#x44C;&#x43A;&#x430;&#x44F; &#x441;&#x442;&#x430;&#x43D;&#x434;&#x430;&#x440;&#x442;&#x43D;&#x430;&#x44F; &#x431;&#x438;&#x431;&#x43B;&#x438;&#x43E;&#x442;&#x435;&#x43A;&#x430;.</p> </blockquote> <h1>&#x41A;&#x430;&#x43A; &#x438; &#x43F;&#x43E;&#x447;&#x435;&#x43C;&#x443; &#x432;&#x43E;&#x437;&#x43D;&#x438;&#x43A;&#x430;&#x435;&#x442; &#x43C;&#x43E;&#x434;&#x430; &#x43D;&#x430; &#x44F;&#x437;&#x44B;&#x43A;&#x438;</h1> <p><strong>&mdash; &#x41F;&#x43E;&#x44F;&#x432;&#x438;&#x43B;&#x438;&#x441;&#x44C; &#x43B;&#x438; &#x432; &#x43F;&#x43E;&#x441;&#x43B;&#x435;&#x434;&#x43D;&#x438;&#x435; &#x43B;&#x435;&#x442; 10-15 &#x44F;&#x437;&#x44B;&#x43A;&#x438;, &#x43A;&#x43E;&#x442;&#x43E;&#x440;&#x44B;&#x435; &#x443;&#x436;&#x435; &#x441;&#x442;&#x430;&#x43B;&#x438; &#x43F;&#x43E;&#x432;&#x43E;&#x440;&#x43E;&#x442;&#x43D;&#x44B;&#x43C;&#x438; &#x434;&#x43B;&#x44F; &#x441;&#x444;&#x435;&#x440;&#x44B; &#x438;&#x43B;&#x438; &#x43C;&#x43E;&#x433;&#x443;&#x442; &#x438;&#x43C;&#x438; &#x441;&#x442;&#x430;&#x442;&#x44C;?</strong></p> <p>&mdash; &#x415;&#x441;&#x442;&#x44C; &#x442;&#x430;&#x43A;&#x43E;&#x435; &#x43E;&#x431;&#x440;&#x430;&#x437;&#x43D;&#x43E;&#x435; &#x432;&#x44B;&#x440;&#x430;&#x436;&#x435;&#x43D;&#x438;&#x435;: &laquo;&#x42F;&#x437;&#x44B;&#x43A; &#x43F;&#x440;&#x435;&#x432;&#x440;&#x430;&#x442;&#x438;&#x43B;&#x441;&#x44F; &#x432; COBOL&raquo;. &#x41A;&#x430;&#x437;&#x430;&#x43B;&#x43E;&#x441;&#x44C; &#x431;&#x44B;, COBOL &mdash; &#x441;&#x442;&#x430;&#x440;&#x44B;&#x439; &#x44F;&#x437;&#x44B;&#x43A;, &#x43A;&#x43E;&#x442;&#x43E;&#x440;&#x44B;&#x439; &#x434;&#x43E;&#x43B;&#x436;&#x43D;&#x44B; &#x434;&#x430;&#x432;&#x43D;&#x43E; &#x437;&#x430;&#x431;&#x44B;&#x442;&#x44C;, &#x43D;&#x43E; &#x432; &#x440;&#x435;&#x430;&#x43B;&#x44C;&#x43D;&#x43E;&#x441;&#x442;&#x438; &#x43D;&#x430; &#x43D;&#x451;&#x43C; &#x440;&#x430;&#x431;&#x43E;&#x442;&#x430;&#x435;&#x442; &#x435;&#x449;&#x451; &#x43E;&#x447;&#x435;&#x43D;&#x44C; &#x43C;&#x43D;&#x43E;&#x433;&#x43E; &#x441;&#x438;&#x441;&#x442;&#x435;&#x43C;, &#x43E;&#x441;&#x43E;&#x431;&#x435;&#x43D;&#x43D;&#x43E; &#x432; &#x444;&#x438;&#x43D;&#x430;&#x43D;&#x441;&#x43E;&#x432;&#x43E;&#x439; &#x441;&#x444;&#x435;&#x440;&#x435;. &#x41C;&#x44B; &#x43D;&#x430;&#x432;&#x435;&#x440;&#x43D;&#x44F;&#x43A;&#x430; &#x43F;&#x438;&#x448;&#x435;&#x43C; &#x43D;&#x430; Java &#x431;&#x43E;&#x43B;&#x44C;&#x448;&#x435; &#x43D;&#x43E;&#x432;&#x44B;&#x445; &#x43F;&#x440;&#x43E;&#x435;&#x43A;&#x442;&#x43E;&#x432;, &#x447;&#x435;&#x43C; &#x43D;&#x430; COBOL, &#x43D;&#x43E; &#x43F;&#x440;&#x438; &#x44D;&#x442;&#x43E;&#x43C; &#x44F; &#x43D;&#x435; &#x431;&#x440;&#x430;&#x43B;&#x441;&#x44F; &#x431;&#x44B; &#x443;&#x442;&#x432;&#x435;&#x440;&#x436;&#x434;&#x430;&#x442;&#x44C;, &#x447;&#x442;&#x43E; &#x43C;&#x44B; &#x43F;&#x438;&#x448;&#x435;&#x43C; &#x431;&#x43E;&#x43B;&#x44C;&#x448;&#x435; &#x43A;&#x43E;&#x434;&#x430; &#x43D;&#x430; Java &#x432; &#x446;&#x435;&#x43B;&#x43E;&#x43C; :).</p> <blockquote> <p>&#x42F; &#x43A; &#x442;&#x43E;&#x43C;&#x443;, &#x447;&#x442;&#x43E; &#x441;&#x443;&#x434;&#x44C;&#x431;&#x43E;&#x43D;&#x43E;&#x441;&#x43D;&#x44B;&#x43C;&#x438; &#x441;&#x442;&#x430;&#x43D;&#x43E;&#x432;&#x44F;&#x442;&#x441;&#x44F; &#x442;&#x435; &#x44F;&#x437;&#x44B;&#x43A;&#x438;, &#x43A;&#x43E;&#x442;&#x43E;&#x440;&#x44B;&#x435; &#x432; &#x43A;&#x430;&#x43A;&#x43E;&#x439;-&#x442;&#x43E; &#x43C;&#x43E;&#x43C;&#x435;&#x43D;&#x442; &#x431;&#x44B;&#x43B;&#x438; &#x43F;&#x43E;&#x43F;&#x443;&#x43B;&#x44F;&#x440;&#x43D;&#x44B; &mdash; &#x43D;&#x430; &#x43D;&#x438;&#x445; &#x43F;&#x438;&#x448;&#x443;&#x442; &#x43C;&#x43D;&#x43E;&#x433;&#x43E; &#x431;&#x43E;&#x43B;&#x44C;&#x448;&#x438;&#x445; &#x441;&#x438;&#x441;&#x442;&#x435;&#x43C;, &#x43A;&#x43E;&#x442;&#x43E;&#x440;&#x44B;&#x435; &#x43F;&#x43E;&#x442;&#x43E;&#x43C; &#x43D;&#x443;&#x436;&#x43D;&#x43E; &#x43F;&#x43E;&#x434;&#x434;&#x435;&#x440;&#x436;&#x438;&#x432;&#x430;&#x442;&#x44C;, &#x438; &#x43E;&#x442; &#x43D;&#x438;&#x445; &#x43D;&#x438;&#x43A;&#x443;&#x434;&#x430; &#x43D;&#x435; &#x434;&#x435;&#x43D;&#x435;&#x448;&#x44C;&#x441;&#x44F;.</p> </blockquote> <p>&#x412; &#x441;&#x432;&#x43E;&#x451; &#x432;&#x440;&#x435;&#x43C;&#x44F; C &#x432; &#x44D;&#x442;&#x43E;&#x43C; &#x441;&#x43C;&#x44B;&#x441;&#x43B;&#x435; &#x441;&#x43E;&#x432;&#x435;&#x440;&#x448;&#x438;&#x43B; &#x440;&#x435;&#x432;&#x43E;&#x43B;&#x44E;&#x446;&#x438;&#x44E;, Java &#x442;&#x43E;&#x436;&#x435; &#x441;&#x442;&#x430;&#x43B;&#x430; &#x441;&#x443;&#x434;&#x44C;&#x431;&#x43E;&#x43D;&#x43E;&#x441;&#x43D;&#x44B;&#x43C; &#x44F;&#x437;&#x44B;&#x43A;&#x43E;&#x43C;. &#x418;&#x437; &#x431;&#x43E;&#x43B;&#x435;&#x435; &#x43D;&#x43E;&#x432;&#x44B;&#x445; &#x44F;&#x437;&#x44B;&#x43A;&#x43E;&#x432; &#x43D;&#x435; &#x441;&#x43C;&#x43E;&#x433;&#x443; &#x43D;&#x430;&#x437;&#x432;&#x430;&#x442;&#x44C; &#x43D;&#x438; &#x43E;&#x434;&#x43D;&#x43E;&#x433;&#x43E; &mdash; &#x43D;&#x430;&#x432;&#x435;&#x440;&#x43D;&#x43E;&#x435;, &#x43F;&#x440;&#x43E;&#x448;&#x43B;&#x43E; &#x43D;&#x435;&#x434;&#x43E;&#x441;&#x442;&#x430;&#x442;&#x43E;&#x447;&#x43D;&#x43E; &#x43C;&#x43D;&#x43E;&#x433;&#x43E; &#x432;&#x440;&#x435;&#x43C;&#x435;&#x43D;&#x438;, &#x447;&#x442;&#x43E;&#x431;&#x44B; &#x43E;&#x43D;&#x438; &#x43C;&#x43E;&#x433;&#x43B;&#x438; &#x43D;&#x430;&#x431;&#x440;&#x430;&#x442;&#x44C; &#x442;&#x430;&#x43A;&#x443;&#x44E; &#x43F;&#x43E;&#x43F;&#x443;&#x43B;&#x44F;&#x440;&#x43D;&#x43E;&#x441;&#x442;&#x44C;. &#x41D;&#x43E; &#x432; &#x43B;&#x44E;&#x431;&#x43E;&#x43C; &#x441;&#x43B;&#x443;&#x447;&#x430;&#x435;, &#x43E;&#x447;&#x435;&#x43D;&#x44C; &#x443;&#x441;&#x43F;&#x435;&#x448;&#x43D;&#x44B;&#x435; &#x44F;&#x437;&#x44B;&#x43A;&#x438; &#x431;&#x44B;&#x43B;&#x438;. &#x41D;&#x430; JVM &#x44D;&#x442;&#x43E; Scala &#x438; Groovy, &#x43D;&#x430; &#x43A;&#x43E;&#x442;&#x43E;&#x440;&#x44B;&#x445; &#x43A;&#x440;&#x443;&#x43F;&#x43D;&#x44B;&#x435; &#x43A;&#x43E;&#x43C;&#x43F;&#x430;&#x43D;&#x438;&#x438; &#x43D;&#x430;&#x43F;&#x438;&#x441;&#x430;&#x43B;&#x438; &#x443;&#x436;&#x435; &#x43D;&#x435;&#x43C;&#x430;&#x43B;&#x43E; &#x43A;&#x43E;&#x434;&#x430;. &#x412;&#x43D;&#x435; JVM &#x432; &#x441;&#x432;&#x43E;&#x451; &#x432;&#x440;&#x435;&#x43C;&#x44F; &#x438;&#x43C;&#x435;&#x43B; &#x43E;&#x433;&#x440;&#x43E;&#x43C;&#x43D;&#x44B;&#x439; &#x443;&#x441;&#x43F;&#x435;&#x445; Ruby, &#x43D;&#x430; &#x43D;&#x451;&#x43C; &#x43F;&#x438;&#x441;&#x430;&#x43B;&#x438; &#x43A;&#x440;&#x443;&#x43F;&#x43D;&#x44B;&#x435; web-&#x43F;&#x440;&#x43E;&#x435;&#x43A;&#x442;&#x44B;; &#x43F;&#x43E;&#x442;&#x43E;&#x43C; &#x441;&#x43B;&#x443;&#x447;&#x438;&#x43B;&#x441;&#x44F; &#x43A;&#x440;&#x438;&#x437;&#x438;&#x441; &#x440;&#x43E;&#x441;&#x442;&#x430;, &#x43B;&#x44E;&#x434;&#x438; &#x441;&#x442;&#x430;&#x43B;&#x438; &#x43E;&#x442;&#x43A;&#x430;&#x437;&#x44B;&#x432;&#x430;&#x442;&#x44C;&#x441;&#x44F; &#x43E;&#x442; Ruby, &#x43D;&#x43E; &#x44D;&#x442;&#x43E;&#x442; &#x44F;&#x437;&#x44B;&#x43A; &#x442;&#x430;&#x43A; &#x438;&#x43B;&#x438; &#x438;&#x43D;&#x430;&#x447;&#x435; &#x441;&#x435;&#x440;&#x44C;&#x451;&#x437;&#x43D;&#x43E; &#x43F;&#x43E;&#x432;&#x43B;&#x438;&#x44F;&#x43B; &#x43D;&#x430; &#x432;&#x43E;&#x441;&#x43F;&#x440;&#x438;&#x44F;&#x442;&#x438;&#x435; &#x434;&#x438;&#x43D;&#x430;&#x43C;&#x438;&#x447;&#x435;&#x441;&#x43A;&#x438;&#x445; &#x44F;&#x437;&#x44B;&#x43A;&#x43E;&#x432; &#x43F;&#x440;&#x43E;&#x433;&#x440;&#x430;&#x43C;&#x43C;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x43D;&#x438;&#x44F;.</p> <p>&#x41E;&#x447;&#x435;&#x43D;&#x44C; &#x431;&#x43E;&#x43B;&#x44C;&#x448;&#x43E;&#x435; &#x432;&#x43B;&#x438;&#x44F;&#x43D;&#x438;&#x435; &#x43D;&#x430; &#x43D;&#x430;&#x43F;&#x440;&#x430;&#x432;&#x43B;&#x435;&#x43D;&#x438;&#x435; &#x43C;&#x44B;&#x441;&#x43B;&#x438; &#x43E;&#x43A;&#x430;&#x437;&#x44B;&#x432;&#x430;&#x44E;&#x442; &#x444;&#x443;&#x43D;&#x43A;&#x446;&#x438;&#x43E;&#x43D;&#x430;&#x43B;&#x44C;&#x43D;&#x44B;&#x435; &#x44F;&#x437;&#x44B;&#x43A;&#x438;. &#x421; &#x43E;&#x434;&#x43D;&#x43E;&#x439; &#x441;&#x442;&#x43E;&#x440;&#x43E;&#x43D;&#x44B;, &#x44D;&#x442;&#x43E; &#x44F;&#x437;&#x44B;&#x43A;&#x438; &#x441;&#x435;&#x43C;&#x435;&#x439;&#x441;&#x442;&#x432;&#x430; Lisp-Scheme &#x438; &#x432;&#x441;&#x451;, &#x447;&#x442;&#x43E; &#x440;&#x44F;&#x434;&#x43E;&#x43C; &#x441; &#x43D;&#x438;&#x43C;. &#x41D;&#x430; JVM &#x435;&#x441;&#x442;&#x44C; Clojure, &#x43A;&#x43E;&#x442;&#x43E;&#x440;&#x44B;&#x439; &#x432;&#x43E;&#x43F;&#x43B;&#x43E;&#x449;&#x430;&#x435;&#x442; &#x442;&#x435; &#x436;&#x435; &#x438;&#x434;&#x435;&#x438;. &#x421; &#x434;&#x440;&#x443;&#x433;&#x43E;&#x439; &#x441;&#x442;&#x43E;&#x440;&#x43E;&#x43D;&#x44B; &mdash; Haskell &#x438; &#x434;&#x440;&#x443;&#x433;&#x438;&#x435; &#x44F;&#x437;&#x44B;&#x43A;&#x438; &#x441;&#x435;&#x43C;&#x435;&#x439;&#x441;&#x442;&#x432;&#x430; ML. &#x414;&#x443;&#x43C;&#x430;&#x44E;, &#x447;&#x442;&#x43E; &#x445;&#x43E;&#x440;&#x43E;&#x448;&#x43E; &#x437;&#x430;&#x43A;&#x440;&#x435;&#x43F;&#x438;&#x442;&#x441;&#x44F; Swift, &#x43F;&#x43E;&#x441;&#x43A;&#x43E;&#x43B;&#x44C;&#x43A;&#x443; Apple &#x43F;&#x435;&#x440;&#x435;&#x432;&#x43E;&#x434;&#x438;&#x442; &#x43D;&#x430; &#x43D;&#x435;&#x433;&#x43E; &#x440;&#x430;&#x437;&#x440;&#x430;&#x431;&#x43E;&#x442;&#x447;&#x438;&#x43A;&#x43E;&#x432; &#x434;&#x43B;&#x44F; &#x441;&#x432;&#x43E;&#x438;&#x445; &#x43F;&#x43B;&#x430;&#x442;&#x444;&#x43E;&#x440;&#x43C;, &#x430; &#x43F;&#x43B;&#x430;&#x442;&#x444;&#x43E;&#x440;&#x43C;&#x430; &mdash; &#x432;&#x435;&#x449;&#x44C; &#x442;&#x430;&#x43A;&#x430;&#x44F;, &#x447;&#x442;&#x43E; &#x441; &#x43D;&#x435;&#x439; &#x43D;&#x435; &#x43F;&#x43E;&#x441;&#x43F;&#x43E;&#x440;&#x438;&#x448;&#x44C;. &#x420;&#x430;&#x437; &#x432;&#x435;&#x43B;&#x435;&#x43D;&#x43E; &#x43F;&#x438;&#x441;&#x430;&#x442;&#x44C; &#x43D;&#x430; Swift &#x43F;&#x43E;&#x434; &#x443;&#x441;&#x442;&#x440;&#x43E;&#x439;&#x441;&#x442;&#x432;&#x430; Apple, &#x437;&#x43D;&#x430;&#x447;&#x438;&#x442;, &#x432;&#x441;&#x435; &#x431;&#x443;&#x434;&#x443;&#x442; &#x43F;&#x438;&#x441;&#x430;&#x442;&#x44C; &#x43D;&#x430; Swift &mdash; &#x430; &#x44F;&#x437;&#x44B;&#x43A; &#x43E;&#x447;&#x435;&#x43D;&#x44C; &#x445;&#x43E;&#x440;&#x43E;&#x448;&#x438;&#x439;, &#x43F;&#x43E;&#x44D;&#x442;&#x43E;&#x43C;&#x443; &#x43D;&#x438;&#x43A;&#x430;&#x43A;&#x43E;&#x433;&#x43E; &#x441;&#x43E;&#x43F;&#x440;&#x43E;&#x442;&#x438;&#x432;&#x43B;&#x435;&#x43D;&#x438;&#x44F; &#x44F; &#x43D;&#x435; &#x43E;&#x436;&#x438;&#x434;&#x430;&#x44E;.</p> <p><strong>&mdash; &#x41A;&#x430;&#x43A; &#x432;&#x44B; &#x441;&#x447;&#x438;&#x442;&#x430;&#x435;&#x442;&#x435;, &#x441;&#x442;&#x43E;&#x438;&#x442; &#x43B;&#x438; &#x433;&#x43D;&#x430;&#x442;&#x44C;&#x441;&#x44F; &#x437;&#x430; &#x43C;&#x43E;&#x434;&#x43E;&#x439; &#x43D;&#x430; &#x44F;&#x437;&#x44B;&#x43A;&#x438;?</strong></p> <p>&mdash; &#x415;&#x441;&#x442;&#x44C; &#x43B;&#x44E;&#x434;&#x438;, &#x43A;&#x43E;&#x442;&#x43E;&#x440;&#x44B;&#x435; &#x43F;&#x43E;&#x43B;&#x443;&#x447;&#x430;&#x44E;&#x442; &#x443;&#x434;&#x43E;&#x432;&#x43E;&#x43B;&#x44C;&#x441;&#x442;&#x432;&#x438;&#x435; &#x43E;&#x442; &#x442;&#x43E;&#x433;&#x43E;, &#x447;&#x442;&#x43E; &#x43F;&#x440;&#x43E;&#x431;&#x443;&#x44E;&#x442; &#x43D;&#x43E;&#x432;&#x44B;&#x435; &#x44F;&#x437;&#x44B;&#x43A;&#x438; &#x438; &#x442;&#x435;&#x445;&#x43D;&#x43E;&#x43B;&#x43E;&#x433;&#x438;&#x438; &mdash; &#x438;&#x43C;, &#x431;&#x435;&#x437;&#x443;&#x441;&#x43B;&#x43E;&#x432;&#x43D;&#x43E;, &#x441;&#x442;&#x43E;&#x438;&#x442; &#x43F;&#x440;&#x43E;&#x431;&#x43E;&#x432;&#x430;&#x442;&#x44C;. &#x410; &#x435;&#x441;&#x442;&#x44C; &#x442;&#x435;, &#x443; &#x43A;&#x43E;&#x442;&#x43E;&#x440;&#x44B;&#x445; &#x43D;&#x435;&#x442; &#x43D;&#x430; &#x44D;&#x442;&#x43E; &#x432;&#x440;&#x435;&#x43C;&#x435;&#x43D;&#x438; &mdash; &#x438;&#x43C; &#x435;&#x441;&#x442;&#x44C; &#x441;&#x43C;&#x44B;&#x441;&#x43B; &#x43F;&#x43E;&#x434;&#x43E;&#x436;&#x434;&#x430;&#x442;&#x44C;, &#x43F;&#x43E;&#x43A;&#x430; &#x431;&#x43E;&#x43B;&#x435;&#x435; &#x440;&#x435;&#x437;&#x432;&#x44B;&#x435; &#x43A;&#x43E;&#x43B;&#x43B;&#x435;&#x433;&#x438; &#x440;&#x430;&#x437;&#x431;&#x435;&#x440;&#x443;&#x442;&#x441;&#x44F;, &#x43A;&#x430;&#x43A;&#x43E;&#x439; &#x438;&#x437; &#x43A;&#x43E;&#x43D;&#x43A;&#x443;&#x440;&#x438;&#x440;&#x443;&#x44E;&#x449;&#x438;&#x445; &#x44F;&#x437;&#x44B;&#x43A;&#x43E;&#x432; &#x43B;&#x443;&#x447;&#x448;&#x435;, &#x438; &#x443;&#x436;&#x435; &#x43F;&#x43E;&#x441;&#x442;&#x444;&#x430;&#x43A;&#x442;&#x443;&#x43C; &#x432;&#x44B;&#x431;&#x438;&#x440;&#x430;&#x442;&#x44C; &#x44F;&#x437;&#x44B;&#x43A; &#x434;&#x43B;&#x44F; &#x441;&#x435;&#x431;&#x44F;.</p> <blockquote> <p>&#x412; &#x43F;&#x440;&#x438;&#x43D;&#x446;&#x438;&#x43F;&#x435;, &#x44F;&#x437;&#x44B;&#x43A; &#x43F;&#x440;&#x43E;&#x433;&#x440;&#x430;&#x43C;&#x43C;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x43D;&#x438;&#x44F; &mdash; &#x44D;&#x442;&#x43E; &#x442;&#x43E;&#x43B;&#x44C;&#x43A;&#x43E; &#x440;&#x430;&#x431;&#x43E;&#x447;&#x438;&#x439; &#x438;&#x43D;&#x441;&#x442;&#x440;&#x443;&#x43C;&#x435;&#x43D;&#x442;. &#x41C;&#x435;&#x43D;&#x44F;&#x442;&#x44C; &#x435;&#x433;&#x43E; &#x441;&#x43B;&#x438;&#x448;&#x43A;&#x43E;&#x43C; &#x447;&#x430;&#x441;&#x442;&#x43E; &#x43D;&#x435; &#x43D;&#x443;&#x436;&#x43D;&#x43E; &mdash; &#x43D;&#x435; &#x431;&#x443;&#x434;&#x435;&#x442; &#x43F;&#x43E;&#x43B;&#x43D;&#x43E;&#x442;&#x44B; &#x43E;&#x432;&#x43B;&#x430;&#x434;&#x435;&#x43D;&#x438;&#x44F; &#x438;&#x43D;&#x441;&#x442;&#x440;&#x443;&#x43C;&#x435;&#x43D;&#x442;&#x43E;&#x43C;. &#x41D;&#x43E; &#x435;&#x441;&#x43B;&#x438; &#x43D;&#x435; &#x43C;&#x435;&#x43D;&#x44F;&#x442;&#x44C; &#x438;&#x43D;&#x441;&#x442;&#x440;&#x443;&#x43C;&#x435;&#x43D;&#x442;&#x44B; &#x441;&#x43E;&#x432;&#x441;&#x435;&#x43C;, &#x43C;&#x43E;&#x436;&#x43D;&#x43E; &#x43E;&#x442;&#x441;&#x442;&#x430;&#x442;&#x44C; &#x43E;&#x442; &#x436;&#x438;&#x437;&#x43D;&#x438;.</p> </blockquote> <p>&#x417;&#x434;&#x435;&#x441;&#x44C; &#x43D;&#x443;&#x436;&#x435;&#x43D; &#x431;&#x430;&#x43B;&#x430;&#x43D;&#x441;. &#x412;&#x430;&#x436;&#x43D;&#x43E; &#x43F;&#x440;&#x430;&#x432;&#x438;&#x43B;&#x44C;&#x43D;&#x43E; &#x432;&#x44B;&#x431;&#x438;&#x440;&#x430;&#x442;&#x44C; &#x438;&#x43D;&#x441;&#x442;&#x440;&#x443;&#x43C;&#x435;&#x43D;&#x442; &#x43F;&#x43E; &#x437;&#x430;&#x434;&#x430;&#x447;&#x435;. &#x41A;&#x43E;&#x433;&#x434;&#x430; &#x43C;&#x44B; &#x43C;&#x435;&#x43D;&#x44F;&#x435;&#x43C; &#x441;&#x444;&#x435;&#x440;&#x443; &#x434;&#x435;&#x44F;&#x442;&#x435;&#x43B;&#x44C;&#x43D;&#x43E;&#x441;&#x442;&#x438; &#x438;&#x43B;&#x438; &#x43F;&#x435;&#x440;&#x435;&#x445;&#x43E;&#x434;&#x438;&#x43C; &#x43A; &#x440;&#x430;&#x431;&#x43E;&#x442;&#x435; &#x432; &#x434;&#x440;&#x443;&#x433;&#x43E;&#x439; &#x43E;&#x431;&#x43B;&#x430;&#x441;&#x442;&#x438;, &#x438;&#x43B;&#x438; &#x43F;&#x440;&#x43E;&#x441;&#x442;&#x43E; &#x443;&#x441;&#x442;&#x430;&#x43B;&#x438; &#x43E;&#x442; &#x43F;&#x440;&#x43E;&#x431;&#x43B;&#x435;&#x43C; &#x441; &#x442;&#x435;&#x43C;, &#x447;&#x442;&#x43E; &#x438;&#x441;&#x43F;&#x43E;&#x43B;&#x44C;&#x437;&#x443;&#x435;&#x43C; &#x441;&#x435;&#x439;&#x447;&#x430;&#x441;, &#x442;&#x43E; &#x435;&#x441;&#x442;&#x44C; &#x441;&#x43C;&#x44B;&#x441;&#x43B; &#x440;&#x430;&#x441;&#x441;&#x43C;&#x43E;&#x442;&#x440;&#x435;&#x442;&#x44C; &#x43D;&#x43E;&#x432;&#x44B;&#x435; &#x438;&#x43D;&#x441;&#x442;&#x440;&#x443;&#x43C;&#x435;&#x43D;&#x442;&#x44B;, &#x43F;&#x43E;&#x43D;&#x44F;&#x442;&#x44C;, &#x43D;&#x435; &#x441;&#x434;&#x435;&#x43B;&#x430;&#x44E;&#x442; &#x43B;&#x438; &#x43E;&#x43D;&#x438; &#x43D;&#x430;&#x448;&#x443; &#x440;&#x430;&#x431;&#x43E;&#x442;&#x443; &#x43F;&#x440;&#x438;&#x43D;&#x446;&#x438;&#x43F;&#x438;&#x430;&#x43B;&#x44C;&#x43D;&#x43E; &#x43B;&#x443;&#x447;&#x448;&#x435;.</p> <p><strong>&mdash; &#x422;&#x43E;&#x442; &#x436;&#x435; Ruby, &#x434;&#x430; &#x438; Swift &#x442;&#x43E;&#x436;&#x435;, &#x447;&#x430;&#x441;&#x442;&#x435;&#x43D;&#x44C;&#x43A;&#x43E; &#x43D;&#x430;&#x437;&#x44B;&#x432;&#x430;&#x44E;&#x442; &laquo;&#x445;&#x438;&#x43F;&#x441;&#x442;&#x435;&#x440;&#x441;&#x43A;&#x438;&#x43C;&#x438; &#x44F;&#x437;&#x44B;&#x43A;&#x430;&#x43C;&#x438;&raquo;. &#x41F;&#x43E;&#x447;&#x435;&#x43C;&#x443; &#x43E;&#x43D;&#x438; &#x441;&#x442;&#x430;&#x43B;&#x438; &#x442;&#x430;&#x43A;&#x438;&#x43C;&#x438; &#x43C;&#x43E;&#x434;&#x43D;&#x44B;&#x43C;&#x438;?</strong></p> <p>&mdash; &#x42D;&#x43B;&#x435;&#x43C;&#x435;&#x43D;&#x442; &#x43C;&#x43E;&#x434;&#x44B; &#x432;&#x43E;&#x437;&#x43D;&#x438;&#x43A;&#x430;&#x435;&#x442; &#x442;&#x430;&#x43C;, &#x433;&#x434;&#x435; &#x43F;&#x438;&#x448;&#x443;&#x442;&#x441;&#x44F; &#x43A;&#x43E;&#x440;&#x43E;&#x442;&#x43A;&#x438;&#x435; &#x43C;&#x430;&#x43B;&#x435;&#x43D;&#x44C;&#x43A;&#x438;&#x435; &#x43F;&#x440;&#x43E;&#x435;&#x43A;&#x442;&#x44B;. &#x41B;&#x44E;&#x434;&#x438; &#x43D;&#x430;&#x447;&#x438;&#x43D;&#x430;&#x44E;&#x442; &#x43D;&#x43E;&#x432;&#x44B;&#x439; &#x43F;&#x440;&#x43E;&#x435;&#x43A;&#x442; &#x43A;&#x430;&#x436;&#x434;&#x44B;&#x435; &#x442;&#x440;&#x438; &#x43C;&#x435;&#x441;&#x44F;&#x446;&#x430; &#x438; &#x43C;&#x43E;&#x433;&#x443;&#x442; &#x441;&#x435;&#x431;&#x435; &#x43F;&#x43E;&#x437;&#x432;&#x43E;&#x43B;&#x438;&#x442;&#x44C; &#x43E;&#x447;&#x435;&#x440;&#x435;&#x434;&#x43D;&#x43E;&#x439; &#x438;&#x437; &#x43D;&#x438;&#x445; &#x43D;&#x430;&#x43F;&#x438;&#x441;&#x430;&#x442;&#x44C; &#x43D;&#x430; Ruby &#x438;&#x43B;&#x438; &#x43D;&#x430; &#x43D;&#x43E;&#x432;&#x43E;&#x43C;&#x43E;&#x434;&#x43D;&#x43E;&#x439; &#x442;&#x435;&#x445;&#x43D;&#x43E;&#x43B;&#x43E;&#x433;&#x438;&#x438; &#x43D;&#x430; &#x431;&#x430;&#x437;&#x435; JavaScript. &#x415;&#x441;&#x442;&#x435;&#x441;&#x442;&#x432;&#x435;&#x43D;&#x43D;&#x43E;, &#x44D;&#x442;&#x43E;&#x442; &#x44D;&#x444;&#x444;&#x435;&#x43A;&#x442; &#x445;&#x430;&#x439;&#x43F;&#x430; &#x43D;&#x435;&#x434;&#x43E;&#x43B;&#x433;&#x43E;&#x432;&#x435;&#x447;&#x435;&#x43D;, &#x43A;&#x430;&#x43A; &#x438; &#x43B;&#x44E;&#x431;&#x430;&#x44F; &#x43C;&#x43E;&#x434;&#x430;. &#x412; &#x43C;&#x438;&#x440;&#x435; &#x43A;&#x43B;&#x438;&#x435;&#x43D;&#x442;&#x441;&#x43A;&#x43E;&#x439; &#x440;&#x430;&#x437;&#x440;&#x430;&#x431;&#x43E;&#x442;&#x43A;&#x438; &#x44D;&#x442;&#x43E; &#x432;&#x438;&#x434;&#x43D;&#x43E; &#x43E;&#x441;&#x43E;&#x431;&#x435;&#x43D;&#x43D;&#x43E; &#x44F;&#x440;&#x43A;&#x43E;: &#x444;&#x440;&#x435;&#x439;&#x43C;&#x432;&#x43E;&#x440;&#x43A;&#x438; &#x438; &#x441;&#x438;&#x441;&#x442;&#x435;&#x43C;&#x44B; &#x43F;&#x440;&#x43E;&#x433;&#x440;&#x430;&#x43C;&#x43C;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x43D;&#x438;&#x44F; &#x43D;&#x430; JavaScript &#x441;&#x43C;&#x435;&#x43D;&#x44F;&#x44E;&#x442; &#x43E;&#x434;&#x43D;&#x430; &#x434;&#x440;&#x443;&#x433;&#x443;&#x44E; &#x441;&#x43E; &#x441;&#x442;&#x440;&#x430;&#x448;&#x43D;&#x43E;&#x439; &#x441;&#x43A;&#x43E;&#x440;&#x43E;&#x441;&#x442;&#x44C;&#x44E;. &#x41C;&#x44B; &#x434;&#x430;&#x436;&#x435; &#x438;&#x441;&#x43F;&#x44B;&#x442;&#x44B;&#x432;&#x430;&#x435;&#x43C; &#x43D;&#x435;&#x43A;&#x43E;&#x442;&#x43E;&#x440;&#x44B;&#x435; &#x441;&#x43B;&#x43E;&#x436;&#x43D;&#x43E;&#x441;&#x442;&#x438; &#x438;&#x437;-&#x437;&#x430; &#x44D;&#x442;&#x43E;&#x433;&#x43E; &#x43F;&#x440;&#x438; &#x440;&#x430;&#x437;&#x440;&#x430;&#x431;&#x43E;&#x442;&#x43A;&#x435; Kotlin, &#x43F;&#x43E;&#x442;&#x43E;&#x43C;&#x443; &#x447;&#x442;&#x43E; &#x43F;&#x440;&#x438; &#x43A;&#x43E;&#x43C;&#x43F;&#x438;&#x43B;&#x44F;&#x446;&#x438;&#x438; &#x432; JavaScript &#x43D;&#x430;&#x43C; &#x43D;&#x443;&#x436;&#x43D;&#x43E; &#x43F;&#x43E;&#x434;&#x434;&#x435;&#x440;&#x436;&#x438;&#x432;&#x430;&#x442;&#x44C; &#x43A;&#x430;&#x43A;&#x438;&#x435;-&#x442;&#x43E; &#x43F;&#x43E;&#x43F;&#x443;&#x43B;&#x44F;&#x440;&#x43D;&#x44B;&#x435; &#x442;&#x435;&#x445;&#x43D;&#x43E;&#x43B;&#x43E;&#x433;&#x438;&#x438;, &#x430; &#x438;&#x445; &#x43A;&#x430;&#x436;&#x434;&#x44B;&#x439; &#x434;&#x435;&#x43D;&#x44C; &#x43F;&#x43E;&#x44F;&#x432;&#x43B;&#x44F;&#x435;&#x442;&#x441;&#x44F; &#x43E;&#x447;&#x435;&#x43D;&#x44C; &#x43C;&#x43D;&#x43E;&#x433;&#x43E;, &#x438; &#x437;&#x430; &#x432;&#x441;&#x435;&#x43C; &#x43E;&#x447;&#x435;&#x43D;&#x44C; &#x441;&#x43B;&#x43E;&#x436;&#x43D;&#x43E; &#x443;&#x441;&#x43B;&#x435;&#x434;&#x438;&#x442;&#x44C;. &#x414;&#x43B;&#x44F; Swift &#x432;&#x441;&#x451; &#x441;&#x43A;&#x430;&#x437;&#x430;&#x43D;&#x43D;&#x43E;&#x435; &#x442;&#x43E;&#x436;&#x435; &#x447;&#x430;&#x441;&#x442;&#x438;&#x447;&#x43D;&#x43E; &#x440;&#x435;&#x43B;&#x435;&#x432;&#x430;&#x43D;&#x442;&#x43D;&#x43E;, &#x43D;&#x43E; &#x443; &#x44D;&#x442;&#x43E;&#x433;&#x43E; &#x44F;&#x437;&#x44B;&#x43A;&#x430; &#x43F;&#x440;&#x438;&#x43D;&#x446;&#x438;&#x43F;&#x438;&#x430;&#x43B;&#x44C;&#x43D;&#x43E; &#x434;&#x440;&#x443;&#x433;&#x430;&#x44F; &#x441;&#x443;&#x434;&#x44C;&#x431;&#x430;: &#x44D;&#x442;&#x43E; &#x441;&#x442;&#x430;&#x43D;&#x434;&#x430;&#x440;&#x442;&#x43D;&#x43E;&#x435; &#x440;&#x435;&#x448;&#x435;&#x43D;&#x438;&#x435;, &#x43A;&#x43E;&#x442;&#x43E;&#x440;&#x43E;&#x435; &#x43F;&#x43E;&#x441;&#x442;&#x430;&#x432;&#x43B;&#x44F;&#x435;&#x442;&#x441;&#x44F; &#x432;&#x43C;&#x435;&#x441;&#x442;&#x435; &#x441; &#x43F;&#x43B;&#x430;&#x442;&#x444;&#x43E;&#x440;&#x43C;&#x43E;&#x439;, &#x438; &#x435;&#x433;&#x43E; &#x432;&#x44B;&#x431;&#x438;&#x440;&#x430;&#x44E;&#x442; &#x43D;&#x435; &#x438;&#x437;-&#x437;&#x430; &#x43C;&#x43E;&#x434;&#x44B;.</p> <p><strong>&mdash; &#x415;&#x441;&#x442;&#x44C; &#x43B;&#x438;, &#x43F;&#x43E;-&#x432;&#x430;&#x448;&#x435;&#x43C;&#x443;, &#x43A;&#x440;&#x438;&#x442;&#x435;&#x440;&#x438;&#x438;, &#x43F;&#x43E; &#x43A;&#x43E;&#x442;&#x43E;&#x440;&#x44B;&#x43C; &#x44F;&#x437;&#x44B;&#x43A; &#x43C;&#x43E;&#x436;&#x435;&#x442; &laquo;&#x432;&#x44B;&#x441;&#x442;&#x440;&#x435;&#x43B;&#x438;&#x442;&#x44C;&raquo;?</strong></p> <p>&mdash; &#x412;&#x43E;&#x437;&#x432;&#x440;&#x430;&#x449;&#x430;&#x44F;&#x441;&#x44C; &#x43A; &#x441;&#x43A;&#x430;&#x437;&#x430;&#x43D;&#x43D;&#x43E;&#x43C;&#x443;, &#x441;&#x430;&#x43C;&#x44B;&#x439; &#x43D;&#x430;&#x434;&#x451;&#x436;&#x43D;&#x44B;&#x439; &#x441;&#x43F;&#x43E;&#x441;&#x43E;&#x431; &laquo;&#x432;&#x44B;&#x441;&#x442;&#x440;&#x435;&#x43B;&#x438;&#x442;&#x44C;&raquo; &mdash; &#x431;&#x44B;&#x442;&#x44C; &#x44F;&#x437;&#x44B;&#x43A;&#x43E;&#x43C;, &#x43F;&#x440;&#x438;&#x432;&#x44F;&#x437;&#x430;&#x43D;&#x43D;&#x44B;&#x43C; &#x43A; &#x43F;&#x43B;&#x430;&#x442;&#x444;&#x43E;&#x440;&#x43C;&#x435;. &#x412; &#x441;&#x432;&#x43E;&#x451; &#x432;&#x440;&#x435;&#x43C;&#x44F; C &#x448;&#x438;&#x440;&#x43E;&#x43A;&#x43E; &#x440;&#x430;&#x441;&#x43F;&#x440;&#x43E;&#x441;&#x442;&#x440;&#x430;&#x43D;&#x438;&#x43B;&#x441;&#x44F;, &#x43F;&#x43E;&#x442;&#x43E;&#x43C;&#x443; &#x447;&#x442;&#x43E; &#x43E;&#x43D; &#x431;&#x44B;&#x43B; &#x44F;&#x437;&#x44B;&#x43A;&#x43E;&#x43C; &#x434;&#x43B;&#x44F; &#x43F;&#x43B;&#x430;&#x442;&#x444;&#x43E;&#x440;&#x43C;&#x44B; Unix, &#x43A;&#x43E;&#x442;&#x43E;&#x440;&#x430;&#x44F; &#x431;&#x44B;&#x43B;&#x430; &#x43F;&#x43E;&#x43F;&#x443;&#x43B;&#x44F;&#x440;&#x43D;&#x43E;&#x439; &#x438; &#x43E;&#x447;&#x435;&#x43D;&#x44C; &#x443;&#x434;&#x43E;&#x431;&#x43D;&#x43E;&#x439;. Java &#x442;&#x43E;&#x436;&#x435; &#x432; &#x440;&#x430;&#x441;&#x43F;&#x440;&#x43E;&#x441;&#x442;&#x440;&#x430;&#x43D;&#x44F;&#x43B;&#x430;&#x441;&#x44C; &#x43A;&#x430;&#x43A; &#x43F;&#x43B;&#x430;&#x442;&#x444;&#x43E;&#x440;&#x43C;&#x430;, &#x438; &#x44F;&#x437;&#x44B;&#x43A; &#x431;&#x44B;&#x43B; &#x435;&#x451; &#x447;&#x430;&#x441;&#x442;&#x44C;&#x44E;. &#x422;&#x43E; &#x436;&#x435; &#x43A;&#x430;&#x441;&#x430;&#x435;&#x442;&#x441;&#x44F; C#: &#x43F;&#x443;&#x441;&#x43A;&#x430;&#x439; &#x44D;&#x442;&#x43E; &#x438; &#x43D;&#x435; &#x435;&#x434;&#x438;&#x43D;&#x441;&#x442;&#x432;&#x435;&#x43D;&#x43D;&#x44B;&#x439;, &#x43D;&#x43E; &#x43E;&#x441;&#x43D;&#x43E;&#x432;&#x43D;&#x43E;&#x439; &#x44F;&#x437;&#x44B;&#x43A; &#x434;&#x43B;&#x44F; &#x43F;&#x43B;&#x430;&#x442;&#x444;&#x43E;&#x440;&#x43C;&#x44B; .NET. &#x41E;&#x43F;&#x44F;&#x442;&#x44C; &#x436;&#x435;, &#x435;&#x441;&#x442;&#x44C; JavaScript, &#x43A;&#x43E;&#x442;&#x43E;&#x440;&#x44B;&#x439; &#x43F;&#x43E;&#x43F;&#x443;&#x43B;&#x44F;&#x440;&#x435;&#x43D; &#x43D;&#x435; &#x43F;&#x43E;&#x442;&#x43E;&#x43C;&#x443;, &#x447;&#x442;&#x43E; &#x43E;&#x43D; &#x445;&#x43E;&#x440;&#x43E;&#x448;&#x438;&#x439; &#x438;&#x43B;&#x438; &#x43F;&#x43B;&#x43E;&#x445;&#x43E;&#x439;, &#x430; &#x43F;&#x43E;&#x442;&#x43E;&#x43C;&#x443;, &#x447;&#x442;&#x43E; &#x44D;&#x442;&#x43E; &#x44F;&#x437;&#x44B;&#x43A; &#x434;&#x43B;&#x44F; &#x431;&#x440;&#x430;&#x443;&#x437;&#x435;&#x440;&#x430;, &#x431;&#x440;&#x430;&#x443;&#x437;&#x435;&#x440; &#x43D;&#x443;&#x436;&#x435;&#x43D; &#x432;&#x441;&#x435;&#x43C;.</p> <p>&#x414;&#x430;&#x442;&#x44C; &#x43D;&#x430;&#x434;&#x435;&#x436;&#x43D;&#x44B;&#x439; &#x440;&#x435;&#x446;&#x435;&#x43F;&#x442; &laquo;&#x41A;&#x430;&#x43A; &#x441;&#x434;&#x435;&#x43B;&#x430;&#x442;&#x44C; &#x44F;&#x437;&#x44B;&#x43A;, &#x43A;&#x43E;&#x442;&#x43E;&#x440;&#x44B;&#x439; &#x441;&#x442;&#x430;&#x43D;&#x435;&#x442; &#x43F;&#x43E;&#x43F;&#x443;&#x43B;&#x44F;&#x440;&#x43D;&#x44B;&#x43C;&raquo;, &#x44F; &#x43D;&#x435; &#x43C;&#x43E;&#x433;&#x443;, &#x43D;&#x43E; &#x435;&#x441;&#x442;&#x44C; &#x438; &#x434;&#x440;&#x443;&#x433;&#x438;&#x435; &#x43F;&#x43E;&#x43D;&#x44F;&#x442;&#x43D;&#x44B;&#x435; &#x43F;&#x440;&#x438;&#x447;&#x438;&#x43D;&#x44B;, &#x43F;&#x43E; &#x43A;&#x43E;&#x442;&#x43E;&#x440;&#x44B;&#x43C; &#x44F;&#x437;&#x44B;&#x43A;&#x438; &#x441;&#x442;&#x430;&#x43D;&#x43E;&#x432;&#x44F;&#x442;&#x441;&#x44F; &#x43F;&#x43E;&#x43F;&#x443;&#x43B;&#x44F;&#x440;&#x43D;&#x44B;&#x43C;&#x438;.</p> <p>&#x415;&#x441;&#x442;&#x44C; &#x44F;&#x437;&#x44B;&#x43A;&#x438;, &#x43A;&#x43E;&#x442;&#x43E;&#x440;&#x44B;&#x435; &#x440;&#x430;&#x441;&#x43F;&#x440;&#x43E;&#x441;&#x442;&#x440;&#x430;&#x43D;&#x44F;&#x44E;&#x442;&#x441;&#x44F; &#x43F;&#x43E; &#x438;&#x434;&#x435;&#x43E;&#x43B;&#x43E;&#x433;&#x438;&#x447;&#x435;&#x441;&#x43A;&#x438;&#x43C; &#x43C;&#x43E;&#x434;&#x435;&#x43B;&#x44F;&#x43C; &mdash; &#x43D;&#x430;&#x43F;&#x440;&#x438;&#x43C;&#x435;&#x440;, Haskell &#x438;&#x43B;&#x438; &#x432; &#x43A;&#x430;&#x43A;&#x43E;&#x439;-&#x442;&#x43E; &#x441;&#x442;&#x435;&#x43F;&#x435;&#x43D;&#x438; Python. &#x41D;&#x43E; &#x438;&#x434;&#x435;&#x43E;&#x43B;&#x43E;&#x433;&#x438;&#x44F; &mdash; &#x44D;&#x442;&#x43E; &#x441;&#x43A;&#x43E;&#x440;&#x435;&#x435; &#x441;&#x43F;&#x43E;&#x441;&#x43E;&#x431; &#x441;&#x444;&#x43E;&#x440;&#x43C;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x442;&#x44C; &#x43A;&#x43E;&#x43C;&#x44C;&#x44E;&#x43D;&#x438;&#x442;&#x438;, &#x430; &#x43D;&#x435; &#x443;&#x434;&#x435;&#x440;&#x436;&#x430;&#x442;&#x44C; &#x435;&#x433;&#x43E;. &#x422;&#x43E;&#x442; &#x436;&#x435; Python &mdash; &#x44D;&#x442;&#x43E; &#x43F;&#x440;&#x43E;&#x441;&#x442;&#x43E; &#x445;&#x43E;&#x440;&#x43E;&#x448;&#x438;&#x439; &#x44F;&#x437;&#x44B;&#x43A; &#x434;&#x43B;&#x44F; &#x43C;&#x43D;&#x43E;&#x433;&#x438;&#x445; &#x437;&#x430;&#x434;&#x430;&#x447;. &#x410; &#x432;&#x43E;&#x442; &#x43A;&#x442;&#x43E; &#x43F;&#x43E;&#x431;&#x435;&#x434;&#x438;&#x442; &#x438;&#x437; &#x43D;&#x435;&#x441;&#x43A;&#x43E;&#x43B;&#x44C;&#x43A;&#x438;&#x445; &#x43A;&#x43E;&#x43D;&#x43A;&#x443;&#x440;&#x438;&#x440;&#x443;&#x44E;&#x449;&#x438;&#x445; &#x44F;&#x437;&#x44B;&#x43A;&#x43E;&#x432;, &#x43A;&#x43E;&#x442;&#x43E;&#x440;&#x44B;&#x435; &#x43D;&#x435; &#x44F;&#x432;&#x43B;&#x44F;&#x44E;&#x442;&#x441;&#x44F; &#x447;&#x430;&#x441;&#x442;&#x44C;&#x44E; &#x43F;&#x43B;&#x430;&#x442;&#x444;&#x43E;&#x440;&#x43C;&#x44B; &#x438; &#x43D;&#x435; &#x44F;&#x432;&#x43B;&#x44F;&#x44E;&#x442;&#x441;&#x44F; &#x438;&#x434;&#x435;&#x43E;&#x43B;&#x43E;&#x433;&#x438;&#x447;&#x435;&#x441;&#x43A;&#x43E;&#x439; &#x440;&#x435;&#x432;&#x43E;&#x43B;&#x44E;&#x446;&#x438;&#x435;&#x439; &mdash; &#x43A;&#x430;&#x43A; Kotlin, &#x43D;&#x430;&#x43F;&#x440;&#x438;&#x43C;&#x435;&#x440;, &mdash; &#x440;&#x435;&#x448;&#x430;&#x435;&#x442; &#x440;&#x44B;&#x43D;&#x43E;&#x43A;.</p> <blockquote> <p>&#x41F;&#x43E;&#x43F;&#x430;&#x434;&#x430;&#x43D;&#x438;&#x435; &#x432;&#x43E; &#x432;&#x440;&#x435;&#x43C;&#x44F; &#x438; &#x43F;&#x43E;&#x442;&#x440;&#x435;&#x431;&#x43D;&#x43E;&#x441;&#x442;&#x438; &#x43F;&#x43E;&#x43B;&#x44C;&#x437;&#x43E;&#x432;&#x430;&#x442;&#x435;&#x43B;&#x435;&#x439;, &#x43F;&#x440;&#x430;&#x432;&#x438;&#x43B;&#x44C;&#x43D;&#x430;&#x44F; &#x43C;&#x430;&#x440;&#x43A;&#x435;&#x442;&#x438;&#x43D;&#x433;&#x43E;&#x432;&#x430;&#x44F; &#x440;&#x430;&#x431;&#x43E;&#x442;&#x430;, &#x441;&#x432;&#x43E;&#x435;&#x432;&#x440;&#x435;&#x43C;&#x435;&#x43D;&#x43D;&#x44B;&#x439; &#x43E;&#x442;&#x437;&#x44B;&#x432; &#x43E;&#x442; &#x44F;&#x440;&#x43A;&#x438;&#x445; &#x43F;&#x440;&#x435;&#x434;&#x441;&#x442;&#x430;&#x432;&#x438;&#x442;&#x435;&#x43B;&#x435;&#x439; &#x441;&#x43E;&#x43E;&#x431;&#x449;&#x435;&#x441;&#x442;&#x432;&#x430; &mdash; &#x44D;&#x442;&#x43E; &#x432;&#x441;&#x435; &#x43E;&#x447;&#x435;&#x43D;&#x44C; &#x432;&#x430;&#x436;&#x43D;&#x43E;, &#x43D;&#x43E; &#x43D;&#x430; &#x43F;&#x43E;&#x43F;&#x443;&#x43B;&#x44F;&#x440;&#x43D;&#x43E;&#x441;&#x442;&#x44C; &#x432;&#x43B;&#x438;&#x44F;&#x435;&#x442; &#x435;&#x449;&#x451; &#x446;&#x435;&#x43B;&#x430;&#x44F; &#x43A;&#x443;&#x447;&#x430; &#x440;&#x430;&#x437;&#x43D;&#x44B;&#x445; &#x432;&#x435;&#x449;&#x435;&#x439;, &#x43A;&#x43E;&#x442;&#x43E;&#x440;&#x44B;&#x435; &#x442;&#x440;&#x443;&#x434;&#x43D;&#x43E; &#x43F;&#x440;&#x435;&#x434;&#x441;&#x43A;&#x430;&#x437;&#x44B;&#x432;&#x430;&#x442;&#x44C;.</p> </blockquote> <p><img src=""https://dev.by/ckeditor_assets/pictures/20015/content_breslav2.jpg"" alt=""""></p> <h1>&#x41F;&#x440;&#x438;&#x43B;&#x435;&#x442;&#x438;&#x442; &#x43B;&#x438; &laquo;&#x441;&#x435;&#x440;&#x435;&#x431;&#x440;&#x44F;&#x43D;&#x430;&#x44F; &#x43F;&#x443;&#x43B;&#x44F;&raquo;?</h1> <p><strong>&mdash; &#x412; &#x43A;&#x430;&#x43A;&#x43E;&#x43C; &#x43D;&#x430;&#x43F;&#x440;&#x430;&#x432;&#x43B;&#x435;&#x43D;&#x438;&#x438; &#x441;&#x435;&#x439;&#x447;&#x430;&#x441; &#x43C;&#x435;&#x43D;&#x44F;&#x44E;&#x442;&#x441;&#x44F; &#x44F;&#x437;&#x44B;&#x43A;&#x438; &#x43F;&#x440;&#x43E;&#x433;&#x440;&#x430;&#x43C;&#x43C;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x43D;&#x438;&#x44F;?</strong></p> <p>&mdash; &#x415;&#x441;&#x442;&#x44C; &#x432;&#x44B;&#x440;&#x430;&#x436;&#x435;&#x43D;&#x43D;&#x430;&#x44F; &#x442;&#x435;&#x43D;&#x434;&#x435;&#x43D;&#x446;&#x438;&#x44F; &#x432;&#x43A;&#x43B;&#x44E;&#x447;&#x435;&#x43D;&#x438;&#x44F; &#x432; &#x43C;&#x435;&#x439;&#x43D;&#x441;&#x442;&#x440;&#x438;&#x43C;&#x43E;&#x432;&#x44B;&#x435; &#x44F;&#x437;&#x44B;&#x43A;&#x438; &#x432;&#x43E;&#x437;&#x43C;&#x43E;&#x436;&#x43D;&#x43E;&#x441;&#x442;&#x435;&#x439;, &#x438;&#x437;&#x43D;&#x430;&#x447;&#x430;&#x43B;&#x44C;&#x43D;&#x43E; &#x43F;&#x440;&#x438;&#x434;&#x443;&#x43C;&#x430;&#x43D;&#x43D;&#x44B;&#x445; &#x432; &#x43C;&#x438;&#x440;&#x435; &#x444;&#x443;&#x43D;&#x43A;&#x446;&#x438;&#x43E;&#x43D;&#x430;&#x43B;&#x44C;&#x43D;&#x43E;&#x433;&#x43E; &#x43F;&#x440;&#x43E;&#x433;&#x440;&#x430;&#x43C;&#x43C;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x43D;&#x438;&#x44F;. &#x41D;&#x430;&#x438;&#x431;&#x43E;&#x43B;&#x44C;&#x448;&#x443;&#x44E; &#x43F;&#x43E;&#x43F;&#x443;&#x43B;&#x44F;&#x440;&#x43D;&#x43E;&#x441;&#x442;&#x44C; &#x43F;&#x43E;&#x43B;&#x443;&#x447;&#x438;&#x43B;&#x438; &#x444;&#x443;&#x43D;&#x43A;&#x446;&#x438;&#x438; &#x432;&#x44B;&#x441;&#x448;&#x438;&#x445; &#x43F;&#x43E;&#x440;&#x44F;&#x434;&#x43A;&#x43E;&#x432; &#x438; &#x43B;&#x44F;&#x43C;&#x431;&#x434;&#x430;-&#x432;&#x44B;&#x440;&#x430;&#x436;&#x435;&#x43D;&#x438;&#x44F;.</p> <p>&#x415;&#x449;&#x451; &#x43E;&#x434;&#x43D;&#x430; &#x43F;&#x43E;&#x43F;&#x443;&#x43B;&#x44F;&#x440;&#x43D;&#x430;&#x44F; &#x432;&#x435;&#x449;&#x44C;, &#x43A;&#x43E;&#x442;&#x43E;&#x440;&#x430;&#x44F; &#x43F;&#x440;&#x438;&#x448;&#x43B;&#x430; &#x438;&#x437; &#x444;&#x443;&#x43D;&#x43A;&#x446;&#x438;&#x43E;&#x43D;&#x430;&#x43B;&#x44C;&#x43D;&#x43E;&#x433;&#x43E; &#x43C;&#x438;&#x440;&#x430; &mdash; &#x43D;&#x435;&#x438;&#x437;&#x43C;&#x435;&#x43D;&#x44F;&#x435;&#x43C;&#x44B;&#x435; &#x434;&#x430;&#x43D;&#x43D;&#x44B;&#x435;. &#x417;&#x434;&#x435;&#x441;&#x44C; &#x435;&#x441;&#x442;&#x44C; &#x432;&#x43F;&#x43E;&#x43B;&#x43D;&#x435; &#x43F;&#x43E;&#x43D;&#x44F;&#x442;&#x43D;&#x430;&#x44F; &#x43F;&#x440;&#x438;&#x447;&#x438;&#x43D;&#x430;: &#x43C;&#x43D;&#x43E;&#x433;&#x43E;&#x44F;&#x434;&#x435;&#x440;&#x43D;&#x44B;&#x435; &#x43F;&#x440;&#x43E;&#x446;&#x435;&#x441;&#x441;&#x43E;&#x440;&#x44B;, &#x43A;&#x43E;&#x442;&#x43E;&#x440;&#x44B;&#x435; &#x43D;&#x435; &#x442;&#x430;&#x43A; &#x434;&#x430;&#x432;&#x43D;&#x43E; &#x43F;&#x440;&#x43E;&#x438;&#x437;&#x432;&#x435;&#x43B;&#x438; &#x440;&#x435;&#x432;&#x43E;&#x43B;&#x44E;&#x446;&#x438;&#x44E; &#x43D;&#x430; &#x440;&#x44B;&#x43D;&#x43A;&#x435; &#x430;&#x43F;&#x43F;&#x430;&#x440;&#x430;&#x442;&#x43D;&#x44B;&#x445; &#x441;&#x440;&#x435;&#x434;&#x441;&#x442;&#x432;, &#x430; &#x432;&#x43C;&#x435;&#x441;&#x442;&#x435; &#x441; &#x441;&#x43E;&#x431;&#x43E;&#x439; &#x43F;&#x440;&#x438;&#x43D;&#x435;&#x441;&#x43B;&#x438; &#x43C;&#x43D;&#x43E;&#x433;&#x43E; &#x442;&#x430;&#x43A; &#x43D;&#x430;&#x437;&#x44B;&#x432;&#x430;&#x435;&#x43C;&#x43E;&#x433;&#x43E; &laquo;&#x43A;&#x43E;&#x43D;&#x43A;&#x443;&#x440;&#x435;&#x43D;&#x442;&#x43D;&#x43E;&#x433;&#x43E; &#x43F;&#x440;&#x43E;&#x433;&#x440;&#x430;&#x43C;&#x43C;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x43D;&#x438;&#x44F;&raquo;, &#x43A;&#x43E;&#x433;&#x434;&#x430; &#x43F;&#x440;&#x43E;&#x433;&#x440;&#x430;&#x43C;&#x43C;&#x430; &#x432;&#x44B;&#x43F;&#x43E;&#x43B;&#x43D;&#x44F;&#x435;&#x442;&#x441;&#x44F; &#x432; &#x43D;&#x435;&#x441;&#x43A;&#x43E;&#x43B;&#x44C;&#x43A;&#x438;&#x445; &#x43F;&#x430;&#x440;&#x430;&#x43B;&#x43B;&#x435;&#x43B;&#x44C;&#x43D;&#x44B;&#x445; &#x43D;&#x438;&#x442;&#x44F;&#x445;. &#x420;&#x430;&#x437;&#x434;&#x435;&#x43B;&#x44F;&#x435;&#x43C;&#x44B;&#x435; &#x43C;&#x435;&#x436;&#x434;&#x443; &#x440;&#x430;&#x437;&#x43D;&#x44B;&#x43C;&#x438; &#x43F;&#x43E;&#x442;&#x43E;&#x43A;&#x430;&#x43C;&#x438; &#x438;&#x437;&#x43C;&#x435;&#x43D;&#x44F;&#x435;&#x43C;&#x44B;&#x435; &#x434;&#x430;&#x43D;&#x43D;&#x44B;&#x435; &#x432;&#x435;&#x434;&#x443;&#x442; &#x441;&#x435;&#x431;&#x44F; &#x43F;&#x43B;&#x43E;&#x445;&#x43E;, &#x43E;&#x448;&#x438;&#x431;&#x43A;&#x438; &#x43E;&#x442;&#x441;&#x43B;&#x435;&#x436;&#x438;&#x432;&#x430;&#x442;&#x44C; &#x43E;&#x447;&#x435;&#x43D;&#x44C; &#x441;&#x43B;&#x43E;&#x436;&#x43D;&#x43E;, &#x430; &#x447;&#x442;&#x43E;&#x431;&#x44B; &#x44D;&#x442;&#x438;&#x445; &#x43E;&#x448;&#x438;&#x431;&#x43E;&#x43A; &#x43D;&#x435; &#x434;&#x435;&#x43B;&#x430;&#x442;&#x44C;, &#x43D;&#x443;&#x436;&#x43D;&#x43E; &#x43E;&#x447;&#x435;&#x43D;&#x44C; &#x43C;&#x43D;&#x43E;&#x433;&#x43E;&#x435; &#x434;&#x435;&#x440;&#x436;&#x430;&#x442;&#x44C; &#x432; &#x433;&#x43E;&#x43B;&#x43E;&#x432;&#x435;. &#x412; &#x444;&#x443;&#x43D;&#x43A;&#x446;&#x438;&#x43E;&#x43D;&#x430;&#x43B;&#x44C;&#x43D;&#x44B;&#x445; &#x44F;&#x437;&#x44B;&#x43A;&#x430;&#x445; &#x43F;&#x440;&#x43E;&#x433;&#x440;&#x430;&#x43C;&#x43C;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x43D;&#x438;&#x44F; &#x43C;&#x443;&#x442;&#x438;&#x440;&#x443;&#x44E;&#x449;&#x438;&#x435; &#x43E;&#x43F;&#x435;&#x440;&#x430;&#x446;&#x438;&#x438; &#x438;&#x437;&#x43D;&#x430;&#x447;&#x430;&#x43B;&#x44C;&#x43D;&#x43E; &#x43D;&#x435; &#x432; &#x447;&#x435;&#x441;&#x442;&#x438;, &#x438; &#x441;&#x435;&#x439;&#x447;&#x430;&#x441; &#x44D;&#x442;&#x430; &#x438;&#x434;&#x435;&#x44F; &#x43D;&#x435;&#x438;&#x437;&#x43C;&#x435;&#x43D;&#x44F;&#x435;&#x43C;&#x44B;&#x445; &#x434;&#x430;&#x43D;&#x43D;&#x44B;&#x445; &#x441;&#x442;&#x430;&#x43D;&#x43E;&#x432;&#x438;&#x442;&#x441;&#x44F; &#x432;&#x441;&#x451; &#x43F;&#x43E;&#x43F;&#x443;&#x43B;&#x44F;&#x440;&#x43D;&#x435;&#x435;, &#x43F;&#x43E;&#x441;&#x43A;&#x43E;&#x43B;&#x44C;&#x43A;&#x443; &#x43F;&#x43E;&#x43B;&#x44C;&#x437;&#x43E;&#x432;&#x430;&#x442;&#x44C;&#x441;&#x44F; &#x438;&#x43C;&#x438; &#x433;&#x43E;&#x440;&#x430;&#x437;&#x434;&#x43E; &#x43F;&#x440;&#x43E;&#x449;&#x435; &#x438; &#x43D;&#x430;&#x434;&#x451;&#x436;&#x43D;&#x435;&#x435;.</p> <p><strong>&mdash; &#x427;&#x435;&#x433;&#x43E;, &#x43D;&#x430; &#x432;&#x430;&#x448; &#x432;&#x437;&#x433;&#x43B;&#x44F;&#x434;, &#x441;&#x43E;&#x432;&#x440;&#x435;&#x43C;&#x435;&#x43D;&#x43D;&#x44B;&#x43C; &#x44F;&#x437;&#x44B;&#x43A;&#x430;&#x43C; &#x43D;&#x435; &#x445;&#x432;&#x430;&#x442;&#x430;&#x435;&#x442;? &#x427;&#x442;&#x43E; &#x432; &#x43D;&#x438;&#x445; &laquo;&#x435;&#x449;&#x451; &#x43D;&#x435; &#x43F;&#x440;&#x438;&#x448;&#x43B;&#x43E;&raquo; &#x438;&#x437; &#x442;&#x43E;&#x433;&#x43E;, &#x447;&#x442;&#x43E; &#x443;&#x436;&#x435;, &#x43A;&#x430;&#x437;&#x430;&#x43B;&#x43E;&#x441;&#x44C; &#x431;&#x44B;, &#x434;&#x43E;&#x43B;&#x436;&#x43D;&#x43E;?</strong></p> <p>&mdash; &#x41F;&#x440;&#x43E; &#x44F;&#x437;&#x44B;&#x43A;&#x438; &#x43C;&#x43D;&#x435; &#x441;&#x43B;&#x43E;&#x436;&#x43D;&#x43E; &#x43E;&#x442;&#x432;&#x435;&#x442;&#x438;&#x442;&#x44C;: &#x435;&#x441;&#x43B;&#x438; &#x431;&#x44B; &#x437;&#x43D;&#x430;&#x43B;, &#x447;&#x435;&#x433;&#x43E; &#x43D;&#x435; &#x445;&#x432;&#x430;&#x442;&#x430;&#x435;&#x442;, &#x443;&#x436;&#x435; &#x434;&#x43E;&#x431;&#x430;&#x432;&#x438;&#x43B; &#x431;&#x44B;! &#x41C;&#x43D;&#x435; &#x43A;&#x430;&#x436;&#x435;&#x442;&#x441;&#x44F;, &#x447;&#x442;&#x43E; &#x43E;&#x441;&#x43D;&#x43E;&#x432;&#x43D;&#x44B;&#x435; &#x431;&#x43E;&#x43B;&#x435;&#x437;&#x43D;&#x435;&#x43D;&#x43D;&#x44B;&#x435; &#x43C;&#x435;&#x441;&#x442;&#x430; &#x43D;&#x430; &#x441;&#x435;&#x433;&#x43E;&#x434;&#x43D;&#x44F; &#x441;&#x432;&#x44F;&#x437;&#x430;&#x43D;&#x44B;, &#x43A;&#x430;&#x43A; &#x44F; &#x43E;&#x442;&#x43C;&#x435;&#x447;&#x430;&#x43B; &#x432;&#x44B;&#x448;&#x435;, &#x441; &#x43C;&#x43D;&#x43E;&#x433;&#x43E;&#x43F;&#x43E;&#x442;&#x43E;&#x447;&#x43D;&#x43E;&#x441;&#x442;&#x44C;&#x44E;. &#x410; &#x442;&#x430;&#x43C; &#x433;&#x43B;&#x430;&#x432;&#x43D;&#x430;&#x44F; &#x441;&#x43B;&#x43E;&#x436;&#x43D;&#x43E;&#x441;&#x442;&#x44C; &#x432; &#x442;&#x43E;&#x43C;, &#x447;&#x442;&#x43E; &#x43D;&#x438;&#x43A;&#x442;&#x43E; &#x43D;&#x435; &#x437;&#x43D;&#x430;&#x435;&#x442; &#x445;&#x43E;&#x440;&#x43E;&#x448;&#x435;&#x439; &#x43C;&#x43E;&#x434;&#x435;&#x43B;&#x438; &#x434;&#x43B;&#x44F; &#x43C;&#x43D;&#x43E;&#x433;&#x43E;&#x43F;&#x43E;&#x442;&#x43E;&#x447;&#x43D;&#x43E;&#x433;&#x43E; &#x43F;&#x440;&#x43E;&#x433;&#x440;&#x430;&#x43C;&#x43C;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x43D;&#x438;&#x44F;. &#x421;&#x430;&#x43C;&#x430; &#x44D;&#x442;&#x430; &#x438;&#x434;&#x435;&#x44F; &mdash; &#x43D;&#x435;&#x437;&#x430;&#x432;&#x438;&#x441;&#x438;&#x43C;&#x44B;&#x435; &#x43D;&#x438;&#x442;&#x43A;&#x438; &#x438;&#x441;&#x43F;&#x43E;&#x43B;&#x43D;&#x435;&#x43D;&#x438;&#x44F;, &#x438;&#x43C;&#x435;&#x44E;&#x449;&#x438;&#x435; &#x43E;&#x431;&#x449;&#x443;&#x44E; &#x43F;&#x430;&#x43C;&#x44F;&#x442;&#x44C; &mdash; &#x43D;&#x435;&#x441;&#x43A;&#x43E;&#x43B;&#x44C;&#x43A;&#x43E; &#x43F;&#x440;&#x43E;&#x442;&#x438;&#x432;&#x43E;&#x435;&#x441;&#x442;&#x435;&#x441;&#x442;&#x432;&#x435;&#x43D;&#x43D;&#x430;&#x44F;, &#x438; &#x43F;&#x43E;&#x440;&#x43E;&#x436;&#x434;&#x430;&#x435;&#x442; &#x442;&#x44F;&#x436;&#x43A;&#x438;&#x435; &#x443;&#x445;&#x438;&#x449;&#x440;&#x435;&#x43D;&#x438;&#x44F; &#x43D;&#x430; &#x430;&#x43F;&#x43F;&#x430;&#x440;&#x430;&#x442;&#x43D;&#x43E;&#x43C; &#x443;&#x440;&#x43E;&#x432;&#x43D;&#x435;. &#x41F;&#x440;&#x43E;&#x446;&#x435;&#x441;&#x441;&#x43E;&#x440;, &#x441;&#x438;&#x43D;&#x445;&#x440;&#x43E;&#x43D;&#x438;&#x437;&#x438;&#x440;&#x443;&#x44F; &#x43A;&#x435;&#x448;&#x438; &#x43C;&#x435;&#x436;&#x434;&#x443; &#x44F;&#x434;&#x440;&#x430;&#x43C;&#x438;, &#x444;&#x430;&#x43A;&#x442;&#x438;&#x447;&#x435;&#x441;&#x43A;&#x438; &#x440;&#x435;&#x430;&#x43B;&#x438;&#x437;&#x443;&#x435;&#x442; message passing, &#x43D;&#x43E; &#x43C;&#x44B; &#x43F;&#x440;&#x438;&#x442;&#x432;&#x43E;&#x440;&#x44F;&#x435;&#x43C;&#x441;&#x44F;, &#x447;&#x442;&#x43E; &#x44D;&#x442;&#x43E;&#x433;&#x43E; &#x43D;&#x435;&#x442;, &#x438; &#x43D;&#x430; &#x441;&#x430;&#x43C;&#x43E;&#x43C; &#x434;&#x435;&#x43B;&#x435; &#x443; &#x43D;&#x430;&#x441; &#x440;&#x430;&#x437;&#x434;&#x435;&#x43B;&#x44F;&#x435;&#x43C;&#x430;&#x44F; &#x43F;&#x430;&#x43C;&#x44F;&#x442;&#x44C;. &#x41D;&#x43E; &#x447;&#x442;&#x43E;&#x431;&#x44B; &#x43A;&#x430;&#x43A;-&#x442;&#x43E; &#x441;&#x43E;&#x432;&#x43B;&#x430;&#x434;&#x430;&#x442;&#x44C; &#x441; &#x43C;&#x43D;&#x43E;&#x433;&#x43E;&#x43F;&#x43E;&#x442;&#x43E;&#x447;&#x43D;&#x44B;&#x43C; &#x43F;&#x440;&#x43E;&#x433;&#x440;&#x430;&#x43C;&#x43C;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x43D;&#x438;&#x435;&#x43C;, &#x43C;&#x44B; &#x441;&#x442;&#x430;&#x440;&#x430;&#x435;&#x43C;&#x441;&#x44F; &#x43F;&#x43E;&#x43C;&#x435;&#x43D;&#x44C;&#x448;&#x435; &#x43F;&#x43E;&#x43B;&#x44C;&#x437;&#x43E;&#x432;&#x430;&#x442;&#x44C;&#x441;&#x44F; &#x440;&#x430;&#x437;&#x434;&#x435;&#x43B;&#x44F;&#x435;&#x43C;&#x43E;&#x439; &#x43F;&#x430;&#x43C;&#x44F;&#x442;&#x44C;&#x44E;, &#x438; &#x43F;&#x440;&#x43E;&#x433;&#x440;&#x430;&#x43C;&#x43C;&#x43D;&#x43E; &#x440;&#x435;&#x430;&#x43B;&#x438;&#x437;&#x443;&#x435;&#x43C; &#x43F;&#x43E;&#x432;&#x435;&#x440;&#x445; &#x43D;&#x435;&#x451; &mdash; &#x441;&#x43D;&#x43E;&#x432;&#x430; message passing!</p> <p>&#x422;&#x430;&#x43A; &#x43F;&#x43E;&#x43B;&#x443;&#x447;&#x438;&#x43B;&#x43E;&#x441;&#x44C; &#x438;&#x441;&#x442;&#x43E;&#x440;&#x438;&#x447;&#x435;&#x441;&#x43A;&#x438;: &#x43D;&#x43E;&#x432;&#x44B;&#x435; &#x43F;&#x440;&#x43E;&#x446;&#x435;&#x441;&#x441;&#x43E;&#x440;&#x44B; &#x44D;&#x43C;&#x443;&#x43B;&#x438;&#x440;&#x443;&#x44E;&#x442; &#x43F;&#x43E;&#x432;&#x435;&#x434;&#x435;&#x43D;&#x438;&#x435; &#x441;&#x442;&#x430;&#x440;&#x44B;&#x445; &#x434;&#x43B;&#x44F; &#x441;&#x43E;&#x432;&#x43C;&#x435;&#x441;&#x442;&#x438;&#x43C;&#x43E;&#x441;&#x442;&#x438;, &#x43F;&#x43E;&#x44D;&#x442;&#x43E;&#x43C;&#x443; &#x441;&#x43C;&#x435;&#x43D;&#x438;&#x442;&#x44C; &#x43F;&#x430;&#x440;&#x430;&#x434;&#x438;&#x433;&#x43C;&#x443; &#x440;&#x430;&#x434;&#x438;&#x43A;&#x430;&#x43B;&#x44C;&#x43D;&#x43E; &#x43E;&#x447;&#x435;&#x43D;&#x44C; &#x441;&#x43B;&#x43E;&#x436;&#x43D;&#x43E;. &#x418; &#x44D;&#x442;&#x43E; &#x43E;&#x442;&#x440;&#x430;&#x436;&#x430;&#x435;&#x442;&#x441;&#x44F; &#x43D;&#x430; &#x43F;&#x440;&#x43E;&#x433;&#x440;&#x430;&#x43C;&#x43C;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x43D;&#x438;&#x438;, &#x43A;&#x43E;&#x43D;&#x435;&#x447;&#x43D;&#x43E;. &#x415;&#x441;&#x43B;&#x438; &#x431;&#x44B; &#x436;&#x435;&#x43B;&#x435;&#x437;&#x43E; &#x43C;&#x43E;&#x433;&#x43B;&#x43E; &#x431;&#x44B;&#x442;&#x44C; &#x433;&#x438;&#x431;&#x447;&#x435;, &#x43F;&#x440;&#x43E;&#x433;&#x440;&#x430;&#x43C;&#x43C;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x43D;&#x438;&#x435; &#x442;&#x43E;&#x436;&#x435; &#x431;&#x44B;&#x43B;&#x43E; &#x431;&#x44B; &#x434;&#x440;&#x443;&#x433;&#x438;&#x43C;, &#x44F; &#x434;&#x443;&#x43C;&#x430;&#x44E;. &#x41D;&#x43E; &#x43C;&#x44B; &#x432;&#x441;&#x435; &#x432; &#x44D;&#x442;&#x43E;&#x43C; &#x441;&#x43C;&#x44B;&#x441;&#x43B;&#x435; &#x441;&#x432;&#x44F;&#x437;&#x430;&#x43D;&#x44B; &#x432;&#x43E; &#x43C;&#x43D;&#x43E;&#x433;&#x43E;&#x43C; &#x432;&#x441;&#x451; &#x442;&#x43E;&#x439; &#x436;&#x435; &#x441;&#x43E;&#x432;&#x43C;&#x435;&#x441;&#x442;&#x438;&#x43C;&#x43E;&#x441;&#x442;&#x44C;&#x44E;. &#x41C;&#x43E;&#x436;&#x43D;&#x43E; &#x441;&#x434;&#x435;&#x43B;&#x430;&#x442;&#x44C; &#x432;&#x441;&#x451; &#x43E;&#x447;&#x435;&#x43D;&#x44C; &#x437;&#x434;&#x43E;&#x440;&#x43E;&#x432;&#x43E; &mdash; &#x438; &#x43F;&#x440;&#x43E;&#x446;&#x435;&#x441;&#x441;&#x43E;&#x440; &#x438; &#x44F;&#x437;&#x44B;&#x43A;&#x438;, &#x43D;&#x43E; &#x442;&#x43E;&#x43B;&#x44C;&#x43A;&#x43E; &#x43F;&#x440;&#x43E;&#x433;&#x440;&#x430;&#x43C;&#x43C; &#x438; &#x431;&#x438;&#x431;&#x43B;&#x438;&#x43E;&#x442;&#x435;&#x43A; &#x43F;&#x43E;&#x434; &#x44D;&#x442;&#x43E; &#x432;&#x441;&#x435; &#x43D;&#x438;&#x43A;&#x430;&#x43A;&#x438;&#x445; &#x43D;&#x435; &#x431;&#x443;&#x434;&#x435;&#x442;, &#x438; &#x43F;&#x43E;&#x43B;&#x44C;&#x437;&#x43E;&#x432;&#x430;&#x442;&#x435;&#x43B;&#x438; &#x43E;&#x441;&#x442;&#x430;&#x43D;&#x443;&#x442;&#x441;&#x44F; &#x43D;&#x430; &#x442;&#x440;&#x430;&#x434;&#x438;&#x446;&#x438;&#x43E;&#x43D;&#x43D;&#x44B;&#x445; &#x43F;&#x43B;&#x430;&#x442;&#x444;&#x43E;&#x440;&#x43C;&#x430;&#x445;...</p> <p><strong>&mdash; &#x423; &#x43F;&#x440;&#x43E;&#x433;&#x440;&#x430;&#x43C;&#x43C;&#x438;&#x441;&#x442;&#x43E;&#x432; &#x435;&#x441;&#x442;&#x44C; &#x434;&#x430;&#x432;&#x43D;&#x44F;&#x44F; &#x43C;&#x435;&#x447;&#x442;&#x430; &#x43E; &laquo;&#x441;&#x435;&#x440;&#x435;&#x431;&#x440;&#x44F;&#x43D;&#x43E;&#x439; &#x43F;&#x443;&#x43B;&#x435;&raquo; &mdash; &#x43E;&#x434;&#x43D;&#x43E;&#x43C; &#x44F;&#x437;&#x44B;&#x43A;&#x435;, &#x43A;&#x43E;&#x442;&#x43E;&#x440;&#x44B;&#x439; &#x443;&#x434;&#x43E;&#x432;&#x43B;&#x435;&#x442;&#x432;&#x43E;&#x440;&#x438;&#x43B; &#x431;&#x44B; &#x431;&#x43E;&#x43B;&#x44C;&#x448;&#x438;&#x43D;&#x441;&#x442;&#x432;&#x43E; &#x438;&#x43B;&#x438; &#x434;&#x430;&#x436;&#x435; &#x432;&#x441;&#x435;&#x445;. &#x412;&#x43E;&#x437;&#x43C;&#x43E;&#x436;&#x43D;&#x43E; &#x43B;&#x438; &#x435;&#x433;&#x43E; &#x43F;&#x43E;&#x44F;&#x432;&#x43B;&#x435;&#x43D;&#x438;&#x435;?</strong></p> <p>&mdash; &#x414;&#x443;&#x43C;&#x430;&#x44E;, &#x432; &#x43E;&#x431;&#x43E;&#x437;&#x440;&#x438;&#x43C;&#x43E;&#x435; &#x432;&#x440;&#x435;&#x43C;&#x44F; &#x43D;&#x438; &#x43E;&#x434;&#x438;&#x43D; &#x44F;&#x437;&#x44B;&#x43A; &#x43D;&#x435; &#x43F;&#x43E;&#x431;&#x435;&#x434;&#x438;&#x442;. &#x415;&#x441;&#x442;&#x44C; &#x438;&#x441;&#x43A;&#x443;&#x441;&#x441;&#x442;&#x432;&#x435;&#x43D;&#x43D;&#x44B;&#x435; &#x441;&#x438;&#x442;&#x443;&#x430;&#x446;&#x438;&#x438;, &#x432; &#x43A;&#x43E;&#x442;&#x43E;&#x440;&#x44B;&#x445; &#x43C;&#x43E;&#x436;&#x43D;&#x43E; &#x43F;&#x438;&#x441;&#x430;&#x442;&#x44C; &#x442;&#x43E;&#x43B;&#x44C;&#x43A;&#x43E; &#x43D;&#x430; &#x43E;&#x434;&#x43D;&#x43E;&#x43C; &#x44F;&#x437;&#x44B;&#x43A;&#x435;: &#x43D;&#x430;&#x43F;&#x440;&#x438;&#x43C;&#x435;&#x440;, &#x432; &#x441;&#x43B;&#x443;&#x447;&#x430;&#x435; &#x441; &#x43A;&#x43B;&#x438;&#x435;&#x43D;&#x442;&#x441;&#x43A;&#x438;&#x43C; &#x432;&#x435;&#x431;&#x43E;&#x43C;. &#x41E;&#x441;&#x43D;&#x43E;&#x432;&#x43D;&#x44B;&#x43C; &#x44F;&#x437;&#x44B;&#x43A;&#x43E;&#x43C; &#x431;&#x440;&#x430;&#x443;&#x437;&#x435;&#x440;&#x430; &#x431;&#x44B;&#x43B; &#x438; &#x43E;&#x441;&#x442;&#x430;&#x451;&#x442;&#x441;&#x44F; JavaScript, &#x438; &#x43D;&#x435; &#x43E;&#x447;&#x435;&#x43D;&#x44C; &#x43F;&#x43E;&#x43D;&#x44F;&#x442;&#x43D;&#x43E;, &#x43C;&#x43E;&#x436;&#x435;&#x442; &#x43B;&#x438; &#x44D;&#x442;&#x43E; &#x438;&#x437;&#x43C;&#x435;&#x43D;&#x438;&#x442;&#x44C;&#x441;&#x44F;. &#x410; &#x432; &#x43E;&#x441;&#x442;&#x430;&#x43B;&#x44C;&#x43D;&#x44B;&#x445; &#x441;&#x43B;&#x443;&#x447;&#x430;&#x44F;&#x445;, &#x43A;&#x43E;&#x433;&#x434;&#x430; &#x435;&#x441;&#x442;&#x44C; &#x441;&#x432;&#x43E;&#x431;&#x43E;&#x434;&#x430; &#x432;&#x44B;&#x431;&#x43E;&#x440;&#x430;, &#x44F; &#x43D;&#x435; &#x432;&#x438;&#x436;&#x443; &#x43D;&#x438;&#x43A;&#x430;&#x43A;&#x438;&#x445; &#x43F;&#x440;&#x435;&#x434;&#x43F;&#x43E;&#x441;&#x44B;&#x43B;&#x43E;&#x43A; &#x43A; &#x43F;&#x43E;&#x44F;&#x432;&#x43B;&#x435;&#x43D;&#x438;&#x44E; &#x443;&#x43D;&#x438;&#x432;&#x435;&#x440;&#x441;&#x430;&#x43B;&#x44C;&#x43D;&#x43E;&#x439; &#x438;&#x434;&#x435;&#x438;, &#x43A;&#x43E;&#x442;&#x43E;&#x440;&#x430;&#x44F; &#x431;&#x44B; &#x432;&#x441;&#x435;&#x445; &#x43F;&#x440;&#x438;&#x43C;&#x438;&#x440;&#x438;&#x43B;&#x430;. &#x421;&#x43B;&#x438;&#x448;&#x43A;&#x43E;&#x43C; &#x443;&#x436; &#x43C;&#x43D;&#x43E;&#x433;&#x43E; &#x43F;&#x440;&#x43E;&#x442;&#x438;&#x432;&#x43E;&#x440;&#x435;&#x447;&#x438;&#x432;&#x44B;&#x445; &#x442;&#x440;&#x435;&#x431;&#x43E;&#x432;&#x430;&#x43D;&#x438;&#x439;.</p> <h1>&#x41D;&#x430;&#x434;&#x43E; &#x43B;&#x438; &#x443;&#x43C;&#x435;&#x442;&#x44C; &#x43F;&#x440;&#x43E;&#x433;&#x440;&#x430;&#x43C;&#x43C;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x442;&#x44C; &#x43A;&#x430;&#x436;&#x434;&#x43E;&#x43C;&#x443; &#x448;&#x43A;&#x43E;&#x43B;&#x44C;&#x43D;&#x438;&#x43A;&#x443;</h1> <p><strong>&mdash; &#x41F;&#x440;&#x43E;&#x433;&#x440;&#x430;&#x43C;&#x43C;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x43D;&#x438;&#x435; &#x441;&#x442;&#x430;&#x43D;&#x43E;&#x432;&#x438;&#x442;&#x441;&#x44F; &#x432;&#x441;&#x451; &#x431;&#x43E;&#x43B;&#x435;&#x435; &#x43F;&#x43E;&#x43F;&#x443;&#x43B;&#x44F;&#x440;&#x43D;&#x44B;&#x43C;. &#x421;&#x43B;&#x43E;&#x436;&#x438;&#x442;&#x441;&#x44F; &#x43B;&#x438; &#x442;&#x430;&#x43A;, &#x447;&#x442;&#x43E; &#x447;&#x435;&#x440;&#x435;&#x437; &#x43A;&#x430;&#x43A;&#x43E;&#x435;-&#x442;&#x43E; &#x432;&#x440;&#x435;&#x43C;&#x44F; &#x43F;&#x440;&#x43E;&#x433;&#x440;&#x430;&#x43C;&#x43C;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x442;&#x44C; &#x434;&#x43E;&#x43B;&#x436;&#x435;&#x43D; &#x431;&#x443;&#x434;&#x435;&#x442; &#x443;&#x43C;&#x435;&#x442;&#x44C; &#x43A;&#x430;&#x436;&#x434;&#x44B;&#x439;?</strong></p> <p>&mdash; &#x41D;&#x435; &#x434;&#x443;&#x43C;&#x430;&#x44E;, &#x447;&#x442;&#x43E; &#x442;&#x430;&#x43A;&#x43E;&#x435; &#x434;&#x43E;&#x43B;&#x436;&#x43D;&#x43E; &#x43F;&#x440;&#x43E;&#x438;&#x437;&#x43E;&#x439;&#x442;&#x438;. &#x423; &#x43B;&#x44E;&#x434;&#x435;&#x439; &#x435;&#x441;&#x442;&#x44C; &#x430;&#x432;&#x442;&#x43E;&#x43C;&#x430;&#x442;&#x438;&#x447;&#x435;&#x441;&#x43A;&#x438; &#x43D;&#x435; &#x43F;&#x440;&#x438;&#x43E;&#x431;&#x440;&#x435;&#x442;&#x430;&#x435;&#x43C;&#x44B;&#x435; &#x43D;&#x430;&#x432;&#x44B;&#x43A;&#x438;, &#x43A;&#x43E;&#x442;&#x43E;&#x440;&#x44B;&#x435; &#x43D;&#x443;&#x436;&#x43D;&#x44B; &#x432;&#x441;&#x435;&#x43C;. &#x41D;&#x430;&#x43F;&#x440;&#x438;&#x43C;&#x435;&#x440;, &#x43F;&#x438;&#x441;&#x430;&#x442;&#x44C; &#x43D;&#x430; &#x440;&#x43E;&#x434;&#x43D;&#x43E;&#x43C; &#x44F;&#x437;&#x44B;&#x43A;&#x435; &#x438;&#x43B;&#x438; &#x441;&#x447;&#x438;&#x442;&#x430;&#x442;&#x44C;. &#x410; &#x432;&#x43E;&#x442; &#x437;&#x430;&#x447;&#x435;&#x43C; &#x432;&#x441;&#x435;&#x43C; &#x43D;&#x430; &#x441;&#x432;&#x435;&#x442;&#x435; &#x43D;&#x443;&#x436;&#x43D;&#x43E; &#x431;&#x443;&#x434;&#x435;&#x442; &#x43F;&#x440;&#x43E;&#x433;&#x440;&#x430;&#x43C;&#x43C;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x442;&#x44C;, &#x44F; &#x441;&#x435;&#x431;&#x435; &#x43F;&#x440;&#x435;&#x434;&#x441;&#x442;&#x430;&#x432;&#x438;&#x442;&#x44C; &#x43D;&#x435; &#x43C;&#x43E;&#x433;&#x443;. &#x41D;&#x435;&#x43F;&#x440;&#x43E;&#x433;&#x440;&#x430;&#x43C;&#x43C;&#x438;&#x441;&#x442;&#x44B; &#x438;&#x43D;&#x43E;&#x433;&#x434;&#x430; &#x43F;&#x438;&#x448;&#x443;&#x442; &#x43F;&#x440;&#x43E;&#x433;&#x440;&#x430;&#x43C;&#x43C;&#x44B;, &#x43D;&#x43E;, &#x43A;&#x430;&#x43A; &#x43F;&#x440;&#x430;&#x432;&#x438;&#x43B;&#x43E;, &#x44D;&#x442;&#x438;&#x43C; &#x432;&#x441;&#x451; &#x436;&#x435; &#x437;&#x430;&#x43D;&#x438;&#x43C;&#x430;&#x44E;&#x442;&#x441;&#x44F; &#x43F;&#x440;&#x43E;&#x444;&#x435;&#x441;&#x441;&#x438;&#x43E;&#x43D;&#x430;&#x43B;&#x44B;. &#x41D;&#x430;&#x43F;&#x440;&#x438;&#x43C;&#x435;&#x440;, &#x438;&#x43D;&#x436;&#x435;&#x43D;&#x435;&#x440;&#x44B;, &#x43A;&#x43E;&#x442;&#x43E;&#x440;&#x44B;&#x435; &#x440;&#x430;&#x431;&#x43E;&#x442;&#x430;&#x44E;&#x442; &#x441; &#x447;&#x438;&#x441;&#x43B;&#x435;&#x43D;&#x43D;&#x44B;&#x43C;&#x438; &#x43C;&#x43E;&#x434;&#x435;&#x43B;&#x44F;&#x43C;&#x438; &#x438; &#x438;&#x441;&#x43F;&#x43E;&#x43B;&#x44C;&#x437;&#x443;&#x44E;&#x442; &#x441;&#x43F;&#x435;&#x446;&#x438;&#x430;&#x43B;&#x438;&#x437;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x43D;&#x43D;&#x44B;&#x435; &#x44F;&#x437;&#x44B;&#x43A;&#x438; &#x43F;&#x440;&#x43E;&#x433;&#x440;&#x430;&#x43C;&#x43C;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x43D;&#x438;&#x44F; &#x434;&#x43B;&#x44F; &#x43C;&#x430;&#x442;&#x435;&#x43C;&#x430;&#x442;&#x438;&#x447;&#x435;&#x441;&#x43A;&#x43E;&#x433;&#x43E; &#x43C;&#x43E;&#x434;&#x435;&#x43B;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x43D;&#x438;&#x44F;. &#x418;&#x43B;&#x438; &#x43B;&#x44E;&#x434;&#x438;, &#x43A;&#x43E;&#x442;&#x43E;&#x440;&#x44B;&#x435; &#x43F;&#x43E;&#x43B;&#x44C;&#x437;&#x443;&#x44E;&#x442;&#x441;&#x44F; &#x441;&#x43B;&#x43E;&#x436;&#x43D;&#x44B;&#x43C;&#x438; &#x43E;&#x444;&#x438;&#x441;&#x43D;&#x44B;&#x43C;&#x438; &#x43F;&#x440;&#x43E;&#x433;&#x440;&#x430;&#x43C;&#x43C;&#x430;&#x43C;&#x438; &mdash; &#x432;&#x43D;&#x443;&#x442;&#x440;&#x438; &#x442;&#x43E;&#x433;&#x43E; &#x436;&#x435; Microsoft Office &#x435;&#x441;&#x442;&#x44C; &#x44F;&#x437;&#x44B;&#x43A; &#x43F;&#x440;&#x43E;&#x433;&#x440;&#x430;&#x43C;&#x43C;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x43D;&#x438;&#x44F; Visual Basic for Applications, &#x43D;&#x430; &#x43A;&#x43E;&#x442;&#x43E;&#x440;&#x43E;&#x43C; &#x447;&#x430;&#x441;&#x442;&#x43E; &#x43F;&#x438;&#x448;&#x443;&#x442; &#x434;&#x43E;&#x441;&#x442;&#x430;&#x442;&#x43E;&#x447;&#x43D;&#x43E; &#x441;&#x43B;&#x43E;&#x436;&#x43D;&#x44B;&#x435; &#x432;&#x435;&#x449;&#x438;.</p> <p>&#x415;&#x441;&#x43B;&#x438; &#x447;&#x435;&#x43B;&#x43E;&#x432;&#x435;&#x43A; &#x43F;&#x43E; &#x440;&#x43E;&#x434;&#x443; &#x434;&#x435;&#x44F;&#x442;&#x435;&#x43B;&#x44C;&#x43D;&#x43E;&#x441;&#x442;&#x438; &#x43D;&#x438;&#x43A;&#x430;&#x43A; &#x43D;&#x435; &#x441;&#x432;&#x44F;&#x437;&#x430;&#x43D; &#x441; &#x442;&#x430;&#x43A;&#x438;&#x43C; &#x43D;&#x430;&#x431;&#x43E;&#x440;&#x43E;&#x43C; &#x437;&#x430;&#x434;&#x430;&#x447;, &#x442;&#x43E; &#x437;&#x430;&#x447;&#x435;&#x43C; &#x435;&#x43C;&#x443; &#x43F;&#x440;&#x43E;&#x433;&#x440;&#x430;&#x43C;&#x43C;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x442;&#x44C;? &#x41C;&#x43D;&#x43E;&#x433;&#x438;&#x435; &#x441;&#x447;&#x438;&#x442;&#x430;&#x44E;&#x442;, &#x447;&#x442;&#x43E; &#x440;&#x430;&#x437; &#x43A;&#x43E;&#x43C;&#x43F;&#x44C;&#x44E;&#x442;&#x435;&#x440;&#x44B; &mdash; &#x43F;&#x435;&#x440;&#x435;&#x434;&#x43D;&#x438;&#x439; &#x43A;&#x440;&#x430;&#x439; &#x43F;&#x440;&#x43E;&#x433;&#x440;&#x435;&#x441;&#x441;&#x430;, &#x437;&#x43D;&#x430;&#x447;&#x438;&#x442;, &#x432;&#x441;&#x435; &#x434;&#x43E;&#x43B;&#x436;&#x43D;&#x44B; &#x440;&#x430;&#x437;&#x431;&#x438;&#x440;&#x430;&#x442;&#x44C;&#x441;&#x44F; &#x432; &#x43A;&#x43E;&#x43C;&#x43F;&#x44C;&#x44E;&#x442;&#x435;&#x440;&#x430;&#x445;. &#x41A;&#x43E;&#x433;&#x434;&#x430; &#x43A;&#x432;&#x430;&#x43D;&#x442;&#x43E;&#x432;&#x430;&#x44F; &#x444;&#x438;&#x437;&#x438;&#x43A;&#x430; &#x43A;&#x430;&#x437;&#x430;&#x43B;&#x430;&#x441;&#x44C; &#x43F;&#x435;&#x440;&#x435;&#x434;&#x43D;&#x438;&#x43C; &#x43A;&#x440;&#x430;&#x435;&#x43C; &#x43F;&#x440;&#x43E;&#x433;&#x440;&#x435;&#x441;&#x441;&#x430;, &#x43C;&#x43D;&#x43E;&#x433;&#x438;&#x435; &#x434;&#x443;&#x43C;&#x430;&#x43B;&#x438;, &#x447;&#x442;&#x43E; &#x432;&#x441;&#x435; &#x431;&#x443;&#x434;&#x443;&#x442; &#x43E;&#x447;&#x435;&#x43D;&#x44C; &laquo;&#x43A;&#x432;&#x430;&#x43D;&#x442;&#x43E;&#x432;&#x43E;&raquo; &#x436;&#x438;&#x442;&#x44C;, &#x43D;&#x43E; &#x43D;&#x430; &#x441;&#x430;&#x43C;&#x43E;&#x43C; &#x434;&#x435;&#x43B;&#x435; &#x43D;&#x438;&#x43A;&#x442;&#x43E; &#x43D;&#x435; &#x431;&#x443;&#x434;&#x435;&#x442; &#x436;&#x438;&#x442;&#x44C; &#x431;&#x43E;&#x43B;&#x435;&#x435; &laquo;&#x43A;&#x432;&#x430;&#x43D;&#x442;&#x43E;&#x432;&#x43E;&raquo;, &#x447;&#x435;&#x43C; &#x436;&#x438;&#x432;&#x451;&#x442; &#x441;&#x435;&#x439;&#x447;&#x430;&#x441;, &#x43F;&#x43E;-&#x43C;&#x43E;&#x435;&#x43C;&#x443;.</p> <p><strong>&mdash; &#x422;&#x435;&#x43C; &#x43D;&#x435; &#x43C;&#x435;&#x43D;&#x435;&#x435;, &#x43F;&#x43E;&#x43A;&#x430; &#x447;&#x438;&#x441;&#x43B;&#x43E; &#x43F;&#x440;&#x43E;&#x433;&#x440;&#x430;&#x43C;&#x43C;&#x438;&#x441;&#x442;&#x43E;&#x432; &#x440;&#x430;&#x441;&#x442;&#x451;&#x442;, &#x438; &#x43A;&#x43E;&#x43B;&#x438;&#x447;&#x435;&#x441;&#x442;&#x432;&#x43E; &#x437;&#x430;&#x43F;&#x440;&#x43E;&#x441;&#x43E;&#x432; &#x43D;&#x430; &#x43F;&#x440;&#x43E;&#x433;&#x440;&#x430;&#x43C;&#x43C;&#x44B; &#x442;&#x43E;&#x436;&#x435; &#x440;&#x430;&#x441;&#x442;&#x451;&#x442;.</strong></p> <p>&mdash; &#x418; &#x432; &#x431;&#x43B;&#x438;&#x436;&#x430;&#x439;&#x448;&#x435;&#x435; &#x432;&#x440;&#x435;&#x43C;&#x44F; &#x44D;&#x442;&#x43E;&#x442; &#x440;&#x43E;&#x441;&#x442; &#x43D;&#x438;&#x43A;&#x443;&#x434;&#x430; &#x43D;&#x435; &#x434;&#x435;&#x43D;&#x435;&#x442;&#x441;&#x44F; &#x445;&#x43E;&#x442;&#x44F; &#x431;&#x44B; &#x438;&#x437;-&#x437;&#x430; &#x442;&#x43E;&#x433;&#x43E;, &#x447;&#x442;&#x43E; &#x43F;&#x440;&#x430;&#x432;&#x438;&#x442;&#x435;&#x43B;&#x44C;&#x441;&#x442;&#x432;&#x43E; &#x41A;&#x438;&#x442;&#x430;&#x44F; &#x438;&#x437;&#x43C;&#x435;&#x43D;&#x44F;&#x435;&#x442; &#x44D;&#x43A;&#x43E;&#x43D;&#x43E;&#x43C;&#x438;&#x447;&#x435;&#x441;&#x43A;&#x438;&#x439; &#x43A;&#x443;&#x440;&#x441;. &#x41D;&#x430;&#x441;&#x43A;&#x43E;&#x43B;&#x44C;&#x43A;&#x43E; &#x44F; &#x43F;&#x43E;&#x43D;&#x438;&#x43C;&#x430;&#x44E;, &#x43A;&#x43E;&#x43B;&#x438;&#x447;&#x435;&#x441;&#x442;&#x432;&#x43E; &#x43F;&#x440;&#x43E;&#x433;&#x440;&#x430;&#x43C;&#x43C;&#x438;&#x441;&#x442;&#x43E;&#x432; &#x432; &#x41A;&#x438;&#x442;&#x430;&#x435; &#x434;&#x43E;&#x43B;&#x436;&#x43D;&#x43E; &#x440;&#x435;&#x437;&#x43A;&#x43E; &#x443;&#x432;&#x435;&#x43B;&#x438;&#x447;&#x438;&#x442;&#x44C;&#x441;&#x44F; &#x432; &#x431;&#x43B;&#x438;&#x436;&#x430;&#x439;&#x448;&#x438;&#x435; &#x433;&#x43E;&#x434;&#x44B;, &#x438; &#x434;&#x43B;&#x44F; &#x43C;&#x438;&#x440;&#x43E;&#x432;&#x43E;&#x433;&#x43E; &#x440;&#x44B;&#x43D;&#x43A;&#x430; &#x43F;&#x440;&#x43E;&#x433;&#x440;&#x430;&#x43C;&#x43C;&#x438;&#x441;&#x442;&#x43E;&#x432; &#x44D;&#x442;&#x43E; &#x431;&#x443;&#x434;&#x435;&#x442; &#x432;&#x435;&#x441;&#x44C;&#x43C;&#x430; &#x437;&#x430;&#x43C;&#x435;&#x442;&#x43D;&#x44B;&#x439; &#x440;&#x43E;&#x441;&#x442;. &#x41E;&#x437;&#x43D;&#x430;&#x447;&#x430;&#x435;&#x442; &#x43B;&#x438; &#x44D;&#x442;&#x43E;, &#x447;&#x442;&#x43E; &#x432; &#x434;&#x440;&#x443;&#x433;&#x438;&#x445; &#x441;&#x442;&#x440;&#x430;&#x43D;&#x430;&#x445; &#x43A;&#x43E;&#x43B;&#x438;&#x447;&#x435;&#x441;&#x442;&#x432;&#x43E; &#x440;&#x430;&#x431;&#x43E;&#x447;&#x438;&#x445; &#x43C;&#x435;&#x441;&#x442; &#x434;&#x43B;&#x44F; &#x43F;&#x440;&#x43E;&#x433;&#x440;&#x430;&#x43C;&#x43C;&#x438;&#x441;&#x442;&#x43E;&#x432; &#x437;&#x430;&#x43C;&#x435;&#x434;&#x43B;&#x438;&#x442; &#x440;&#x43E;&#x441;&#x442; &#x438;&#x43B;&#x438; &#x43D;&#x430;&#x447;&#x43D;&#x451;&#x442; &#x43F;&#x430;&#x434;&#x430;&#x442;&#x44C; &mdash; &#x445;&#x43E;&#x440;&#x43E;&#x448;&#x438;&#x439; &#x432;&#x43E;&#x43F;&#x440;&#x43E;&#x441;.</p> <p><strong>&mdash; &#x421;&#x442;&#x43E;&#x438;&#x442; &#x43B;&#x438; &#x442;&#x43E;&#x433;&#x434;&#x430;, &#x43D;&#x430; &#x432;&#x430;&#x448; &#x432;&#x437;&#x433;&#x43B;&#x44F;&#x434;, &#x43F;&#x440;&#x435;&#x43F;&#x43E;&#x434;&#x430;&#x432;&#x430;&#x442;&#x44C; &#x43F;&#x440;&#x43E;&#x433;&#x440;&#x430;&#x43C;&#x43C;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x43D;&#x438;&#x435; &#x432; &#x448;&#x43A;&#x43E;&#x43B;&#x435;?</strong></p> <p>&mdash; &#x42F; &#x441;&#x430;&#x43C; &#x432;&#x43E;&#x441;&#x435;&#x43C;&#x44C; &#x43B;&#x435;&#x442; &#x43F;&#x440;&#x435;&#x43F;&#x43E;&#x434;&#x430;&#x432;&#x430;&#x43B; &#x43F;&#x440;&#x43E;&#x433;&#x440;&#x430;&#x43C;&#x43C;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x43D;&#x438;&#x435; &#x432; &#x444;&#x438;&#x437;&#x438;&#x43A;&#x43E;-&#x43C;&#x430;&#x442;&#x435;&#x43C;&#x430;&#x442;&#x438;&#x447;&#x435;&#x441;&#x43A;&#x43E;&#x439; &#x448;&#x43A;&#x43E;&#x43B;&#x435;, &#x438; &#x43C;&#x43D;&#x435; &#x43A;&#x430;&#x436;&#x435;&#x442;&#x441;&#x44F;, &#x447;&#x442;&#x43E; &#x44D;&#x442;&#x43E; &#x441;&#x442;&#x43E;&#x43B;&#x44C; &#x436;&#x435; &#x440;&#x430;&#x437;&#x443;&#x43C;&#x43D;&#x43E;, &#x43A;&#x430;&#x43A; &#x438; &#x43F;&#x440;&#x435;&#x43F;&#x43E;&#x434;&#x430;&#x432;&#x430;&#x43D;&#x438;&#x435; &#x43C;&#x430;&#x442;&#x435;&#x43C;&#x430;&#x442;&#x438;&#x43A;&#x438; &#x438;&#x43B;&#x438; &#x444;&#x438;&#x437;&#x438;&#x43A;&#x438;. &#x414;&#x440;&#x443;&#x433;&#x43E;&#x439; &#x432;&#x43E;&#x43F;&#x440;&#x43E;&#x441; &mdash; &#x441;&#x43E;&#x434;&#x435;&#x440;&#x436;&#x430;&#x43D;&#x438;&#x435; &#x43A;&#x443;&#x440;&#x441;&#x430;. &#x41A;&#x430;&#x43A; &#x43F;&#x440;&#x430;&#x432;&#x438;&#x43B;&#x44C;&#x43D;&#x43E; &#x43F;&#x440;&#x435;&#x43F;&#x43E;&#x434;&#x430;&#x432;&#x430;&#x442;&#x44C; &#x43F;&#x440;&#x43E;&#x433;&#x440;&#x430;&#x43C;&#x43C;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x43D;&#x438;&#x435; &#x432; &#x448;&#x43A;&#x43E;&#x43B;&#x435; &#x431;&#x435;&#x437; &#x441;&#x43F;&#x435;&#x446;&#x438;&#x430;&#x43B;&#x438;&#x437;&#x430;&#x446;&#x438;&#x438; &#x438;&#x43B;&#x438; &#x441; &#x433;&#x443;&#x43C;&#x430;&#x43D;&#x438;&#x442;&#x430;&#x440;&#x43D;&#x44B;&#x43C; &#x443;&#x43A;&#x43B;&#x43E;&#x43D;&#x43E;&#x43C;, &#x44F; &#x43D;&#x435; &#x437;&#x43D;&#x430;&#x44E;, &#x43D;&#x43E; &#x432;&#x441;&#x451; &#x440;&#x430;&#x432;&#x43D;&#x43E; &#x441;&#x447;&#x438;&#x442;&#x430;&#x44E;, &#x447;&#x442;&#x43E; &#x44D;&#x442;&#x43E; &#x43C;&#x43E;&#x436;&#x435;&#x442; &#x431;&#x44B;&#x442;&#x44C; &#x43F;&#x43E;&#x43B;&#x435;&#x437;&#x43D;&#x44B;&#x43C;. &#x41F;&#x440;&#x43E;&#x433;&#x440;&#x430;&#x43C;&#x43C;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x43D;&#x438;&#x435; &#x440;&#x430;&#x437;&#x432;&#x438;&#x432;&#x430;&#x435;&#x442; &#x430;&#x43B;&#x433;&#x43E;&#x440;&#x438;&#x442;&#x43C;&#x438;&#x447;&#x435;&#x441;&#x43A;&#x438;&#x435; &#x438; &#x430;&#x43D;&#x430;&#x43B;&#x438;&#x442;&#x438;&#x447;&#x435;&#x441;&#x43A;&#x438;&#x435; &#x43D;&#x430;&#x432;&#x44B;&#x43A;&#x438; &#x43C;&#x44B;&#x448;&#x43B;&#x435;&#x43D;&#x438;&#x44F;, &#x43E;&#x447;&#x435;&#x43D;&#x44C; &#x43F;&#x43E;&#x43B;&#x435;&#x437;&#x43D;&#x44B;&#x435; &#x43F;&#x43E; &#x436;&#x438;&#x437;&#x43D;&#x438;, &#x434;&#x430;&#x436;&#x435; &#x435;&#x441;&#x43B;&#x438; &#x447;&#x435;&#x43B;&#x43E;&#x432;&#x435;&#x43A; &#x43D;&#x438;&#x43A;&#x43E;&#x433;&#x434;&#x430; &#x431;&#x43E;&#x43B;&#x44C;&#x448;&#x435; &#x43D;&#x435; &#x431;&#x443;&#x434;&#x435;&#x442; &#x43F;&#x438;&#x441;&#x430;&#x442;&#x44C; &#x43F;&#x440;&#x43E;&#x433;&#x440;&#x430;&#x43C;&#x43C;&#x44B;.</p> https://dev.by/lenta/main/arhitektor-kotlin-yazyk-programmirovaniya-rabochiy-instrumenthttps://dev.by/lenta/main/arhitektor-kotlin-yazyk-programmirovaniya-rabochiy-instrumentKotlinyankoitsThu, 09 Jun 2016 00:00:00 GMT Kotlin 1.0.3 EAP<p>We&#x27;re starting Kotlin <code>1.0.3</code> EAP.</p> <h3>What&#x27;s new</h3> <p>1.0.3 brings some minor changes to compiler and lots of improvements to IntelliJ plugin:</p> <ul> <li>Improved completion, refactorings, Maven support, formatter and Spring support</li> <li>Language injection support</li> <li>New intentions, inspections and quickfixes</li> <li>Lots of bugfixes</li> </ul> <p>See full <a href=""https://github.com/JetBrains/kotlin/blob/3731e170e459bf02b562464ca02ccb6812760ee2/ChangeLog.md"">changelog</a></p> <h3>How to get EAP build</h3> <p>To use this build from Gradle or Maven, add <a href=""https://dl.bintray.com/kotlin/kotlin-eap"">https://dl.bintray.com/kotlin/kotlin-eap</a> to your repositories. To use the new version of the Kotlin plugin for IntelliJ IDEA, configure Early Access Preview channel in <strong>Tools | Kotlin | Configure Kotlin Plugin Updates</strong> and press &quot;Check for updates now&quot;.</p> <p>Build number is <code>1.0.3-eap-30</code></p> <p>Please do provide feedback and report any issues to our <a href=""https://youtrack.jetbrains.com/issues/KT#newissue"">issue tracker</a> (please specify your plugin version and IDE version)</p> https://discuss.kotlinlang.org/t/kotlin-1-0-3-eap/1729https://discuss.kotlinlang.org/t/kotlin-1-0-3-eap/1729KotlinPavel TalanovWed, 08 Jun 2016 21:57:00 GMT When Kotlin met Gradle<p><em>Love story alert</em></p> <p><img src=""https://jaxenter.com/wp-content/uploads/2016/06/Screen-Shot-2016-06-06-at-2.56.13-PM.png"" alt=""Kotlin""></p> <p>Source: <a href=""http://gradle.org/"">http://gradle.org/</a></p> <p>The idea of having a Kotlin-based approach to writing Gradle build scripts and plugins was enticing enough to convince the JetBrains team and the Gradle team to concoct a way to get the best of both worlds. And this is how Gradle Script Kotlin was born.</p> <p>Kotlin seems tireless these days! First, Gradle announced what they call <em><a href=""http://gradle.org/blog/kotlin-meets-gradle/"">Gradle Script Kotlin</a></em>; then JetBrains announced <a href=""https://blog.jetbrains.com/kotlin/2016/06/kotlin-eclipse-plugin-0-7-is-here/"">a new release of their plugin</a> for Eclipse IDE. But first things first!</p> <h2>Gradle + Kotlin = New project</h2> <p>Gradle&rsquo;s Chris Beams <a href=""http://gradle.org/blog/kotlin-meets-gradle/"">announced</a> in mid-May that after years of closely watching Kotlin, the team sat down with some people from the JetBrains team in late 2015 and tried to answer the following questions: what might it look like to have a Kotlin-based approach to writing Gradle build scripts and plugins? How might it help teams&mdash;especially big ones&mdash;work faster and write better structured, more maintainable builds?</p> <p>Kotlin could give Gradle users proper IDE support from auto-completion to refactoring and everything in-between since this statically-typed language offers deep support in both IDEA and Eclipse. Plus, the fact that it is rich with features such as first-class functions and extension methods means that it could retain and improve on the best parts of writing Gradle build scripts. The result is called Gradle Script Kotlin, a Kotlin-based build language for Gradle.</p> <p><a href=""https://github.com/gradle/gradle-script-kotlin/releases/tag/v1.0.0-M1"">The first milestone</a> towards version 1.0 was launched less than a month ago and its repository was open-sourced at <a href=""https://github.com/gradle/gradle-script-kotlin"">https://github.com/gradle/gradle-script-kotlin</a>. Take a look at the outcome:</p> <p><a href=""http://gradle.org/blog/kotlin-meets-gradle/""><img src=""https://jaxenter.com/wp-content/uploads/2016/06/Screen-Shot-2016-06-06-at-3.28.27-PM.png"" alt=""Screen Shot 2016-06-06 at 3.28.27 PM""></a></p> <p>Source: <a href=""http://gradle.org/blog/kotlin-meets-gradle/"">http://gradle.org/blog/kotlin-meets-gradle/</a></p> <p>As you begin to explore what&rsquo;s possible in the IDE, you will will be able to &lsquo;play with&rsquo; things such as refactoring, quick documentation, auto-completion and content assist, navigation to source and more.</p> <h2>Kotlin Eclipse plugin 0.7</h2> <p>Roughly two weeks after <em>Gradle Script Kotlin</em> was announced, Kotlin returned to the spotlight thanks to a new release. In addition to the support for Kotlin 1.0.2 compiler, Eclipse plugin 0.7 brings highly important features and improvements such as a rebuilt code formatting feature and the <em>Organize Imports</em> feature which cleans unused imports, adds missing imports for classes used in the file and resorts them.</p> <p>The team also added some quick-fixes about missing or illegal modifiers. As a result, it is now possible to add an open modifier to a declaration which is overridden or subclassed and it is easy to deal with the &ldquo;class must be declared abstract&rdquo; compiler error. Plus, invalid modifier removing is now available for the quick-fix popup.</p> https://jaxenter.com/when-kotlin-met-gradle-126726.htmlhttps://jaxenter.com/when-kotlin-met-gradle-126726.htmlKotlinGradleGabriela MotrocMon, 06 Jun 2016 15:44:00 GMT Kotlin Eclipse Plugin 0.7 Is Here!<p>We are happy to present a new release of our plugin for Eclipse IDE. Along with the support for Kotlin <strong>1.0.2</strong> compiler, this update brings very important features and improvements.</p> <p>The code formatting feature was rebuilt in this release. Instead of our first naive implementation we have mostly managed to port the advanced formatter from the Kotlin IntelliJ Idea plugin into Eclipse. This means that <a href=""https://youtrack.jetbrains.com/issues/KT?q=Formatter%20State:%20Fixed%20Subsystems:%20IDE"">a lot of fixes</a> are already there and upcoming improvements will be picked up automatically!</p> <p><img src=""http://d3nmt5vlzunoa1.cloudfront.net/kotlin/files/2016/06/fromater.gif"" alt=""""></p> <p>New line auto-indent also benefitted from this code reuse and now shows far more predictable and smart behaviour.</p> <p>It was possible to add missing classes imports one-by-one with a quick-fix since 0.1.0 version, and now we&rsquo;ve improved on that by introducing the <em>Organize Imports</em> feature. It will clean unused imports, add missing imports for classes used in the file and resort them.</p> <p><img src=""http://d3nmt5vlzunoa1.cloudfront.net/kotlin/files/2016/06/organize.gif"" alt=""""></p> <p>Our completion got several fixes in prioritizing variants and is now far more usable. Also not-imported classes are now suggested in completion popup at once and will be inserted together with the corresponding import.</p> <p><img src=""http://d3nmt5vlzunoa1.cloudfront.net/kotlin/files/2016/06/import.gif"" alt=""""></p> <p>Several quick-fixes about missing or illegal modifiers were added:</p> <ul> <li> <p>It&rsquo;s now possible to add an open modifier to a declaration which is overridden or subclassed. <img src=""http://d3nmt5vlzunoa1.cloudfront.net/kotlin/files/2016/06/open.gif"" alt=""""></p> </li> <li> <p>It&rsquo;s now easy to deal with the <em>&ldquo;class must be declared abstract&rdquo;</em> compiler error. <img src=""http://d3nmt5vlzunoa1.cloudfront.net/kotlin/files/2016/06/abstract.png"" alt=""""></p> </li> <li> <p>Invalid modifier removing is now also available from the quick-fix popup. <img src=""http://d3nmt5vlzunoa1.cloudfront.net/kotlin/files/2016/06/modifiers.png"" alt=""""></p> </li> </ul> <p>Please give it a try.</p> <p><a href=""http://marketplace.eclipse.org/marketplace-client-intro?mpc_install=2257536"" title=""Drag to your running Eclipse workspace to install Kotlin Plugin for Eclipse""><img src=""http://i2.wp.com/marketplace.eclipse.org/sites/all/themes/solstice/_themes/solstice_marketplace/public/images/btn-install.png?zoom=1.5&amp;w=640"" alt=""Drag to your running Eclipse workspace to install Kotlin Plugin for Eclipse""></a></p> <p>If you run into any problems or encounter missing features, please don&rsquo;t hesitate to leave your feedback here or file issues in YouTrack.</p> http://blog.jetbrains.com/kotlin/2016/06/kotlin-eclipse-plugin-0-7-is-here/http://blog.jetbrains.com/kotlin/2016/06/kotlin-eclipse-plugin-0-7-is-here/KotlinEclipseNikolay KraskoFri, 03 Jun 2016 00:00:00 GMT What’s in store for Kotlin this year<p><em>Taking a peek into the near future</em></p> <p>Andrey Breslav, the lead language designer of Kotlin at JetBrains, is spilling the beans about the next Kotlin release in a new <a href=""https://realm.io/news/andrey-breslav-whats-next-for-kotlin-roadmap/"">video</a>. Breslav talks about where Kotlin stands right now and what&rsquo;s next for it.</p> <p>Three months after releasing Kotlin 1.0.1, Andrey Breslav, the lead language designer of Kotlin, shared a <a href=""https://realm.io/news/andrey-breslav-whats-next-for-kotlin-roadmap/"">video</a> in which he explained where this programming language stands and what&rsquo;s next for it.</p> <iframe webkitallowfullscreen=""true"" mozallowfullscreen=""true"" allowfullscreen=""true"" src=""//speakerdeck.com/player/f1dea41f659a4c70a6e8fb20291b871b?"" style=""border: 0px none; background: transparent none repeat scroll 0% 0%; margin: 0px; padding: 0px; border-radius: 5px; width: 960px; height: 480px;"" frameborder=""0""></iframe> <p>Breslav announced that the development is in two lines: the incremental updates, 1.0.2, 1.0.3, which are source compatible, and 1.1 &mdash;another parallel line where they do language features, and their source compatibility is backward compatibility. 1.0 may not be able to compile 1.1.</p> <h2>Goals: Java 8/9</h2> <p>Breslav revealed that their current target is Java 6, which means that whatever users compile in Kotlin can run on anything which runs Java 6, including Java 8/9. JetBrains is now working on generating default methods for Java 8 because even though one can always implement methods and interfaces in Kotlin, extending such an interface in Java is not possible with Java 6 since it wouldn&rsquo;t know that those methods are implemented.</p> <p>Furthermore, the support library for Java 8 streams will be removed in Kotlin 1.1.</p> <p>The lead language designer of Kotlin answered a question that has been on everybody&rsquo;s lips in the past few months, namely &ldquo;Can I run Kotlin in a native environment without a virtual machine?&rdquo; Although the answer is &ldquo;No,&rdquo; Breslav sweetened it by suggesting that this is not a permanent answer.</p> <p>Click <a href=""https://realm.io/news/andrey-breslav-whats-next-for-kotlin-roadmap/"">here</a> if you want to see the video or read the entire summary.</p> <p><strong>SEE ALSO: <a href=""https://jaxenter.com/10-features-i-wish-java-would-steal-from-the-kotlin-language-2-125308.html"">10 features I wish Java would steal from the Kotlin language</a></strong></p> <h2>An unexpected ode to Kotlin</h2> <p>Kotlin is loved &mdash;we can conclude this after seeing Java champion <a href=""https://jaxenter.com/10-features-i-wish-java-would-steal-from-the-kotlin-language-2-125308.html"">Lukas Eder</a> and former Bitcoin core developer <a href=""https://medium.com/@octskyward/why-kotlin-is-my-next-programming-language-c25c001e26e3#.b3lyfhjmr"">Mike Hearn</a> praise this language. In his ode to Kotlin, Hearn opined that this programming language will be a very successful project because it comes from industry, not academia, it costs nothing to adopt, it can be learned in a few hours and it enforces no particular philosophy of programming. Kotlin imposes no runtime overhead, is highly suitable for enterprise Java shops and adopting it is low risk.</p> <p>Because nothing is perfect in this world, Hearn also encountered some issues while using Kotlin: there are no type aliases yet, the IDE plugin still throws exceptions more often than it should and it targets Java 6 bytecode. Plus, the community is still experiencing its growth pains and is pickier about some things than Java, but the good news is that Kotlin is outgrowing its minuses.</p> https://jaxenter.com/whats-in-store-for-kotlin-this-year-126672.htmlhttps://jaxenter.com/whats-in-store-for-kotlin-this-year-126672.htmlKotlinGabriela MotrocThu, 02 Jun 2016 00:00:00 GMT Where We Stand & What's Next for Kotlin<p>Andrey Breslav, the Kotlin project lead, gives an overview of what Kotlin is today, as a tool for developers and as an ecosystem. He then takes a peek into the near future, to their next release.</p> <p>See the discussion on <a href=""http://news.ycombinator.com/item?id=11814488"">Hacker News</a>.</p> <p>Transcription below provided by Realm: a replacement for SQLite that you can use in Java or Kotlin. <a href=""https://realm.io/docs/java/latest/"">Check out the docs!</a></p> <iframe width=""960"" height=""480"" src=""https://www.youtube.com/embed/LtfxNPOImyg"" style=""border-radius: 5px;"" frameborder=""0"" allowfullscreen></iframe> <iframe width=""960"" height=""480"" src=""//speakerdeck.com/player/f1dea41f659a4c70a6e8fb20291b871b?"" allowfullscreen=""true"" mozallowfullscreen=""true"" webkitallowfullscreen=""true"" style=""border-radius: 5px;"" frameborder=""0""></iframe> <p>Andrey Breslav, the lead language designer for Kotlin, began his career at Borland, where he worked on language implementations for MDA support. After spending a few years as a college teacher, he joined JetBrains in 2010 to lead Project Kotlin and currently serves as a member of the Java Community Process Expert Group for JSR 335, &ldquo;Project Lambda.&rdquo; He is a frequent conference speaker at venues such as OSCON, JavaOne, Strange Loop, and Devoxx.</p> <p><a href=""https://twitter.com/abreslav"">@abreslav</a></p> <h3>Introduction 00:00</h3> <p>My name is Andrey, I lead the <a href=""http://kotlinlang.org"">Kotlin</a> team at <a href=""https://www.jetbrains.com"">JetBrains</a>. I am here to tell you about where we stand and about what is next.</p> <h3>Learning Materials 00:30</h3> <p>This talk is not an introduction to Kotlin. If you want to learn Kotlin, there are many sources to learn from. There is <a href=""http://kotlinlang.org"">language reference, tutorials, talk videos</a>. Check out our <a href=""http://try.kotlinlang.org"">mini-IDE</a>, Kotlin Koans is a set of problems that walks you through the language, similar to an IDE with a educational plug-in. <em>I am here to motivate you to learn!</em></p> <h3>Where We Stand 01:03</h3> <p>Kotlin 1.0 released in February 2016. Since then we were doing incremental updates: 1.0.2 is our current version, and we are working on 1.1 (a feature driven release, although I am not giving you a date yet). The Early Access Program (EAP) will start this summer.</p> <p>In this slide (<em>see video</em>) we have the people that have used Kotlin (<em>maybe not admitting it publicly!</em>). JetBrains is a big user, we were probably the first to start trying it in production. We have over half a million lines of code and production in different projects, from IntelliJ production of our main IDE to server side products (...to everything). A few projects are written in Kotlin from scratch. Others are catching up. We are grateful to everyone trying Kotlin in production. It is such an early stage of the release time! Join in, you will be in a good company.</p> <p>And being in a good company, you will not be alone. We have a lively community, Slack, forums, StackOverflow, full of people who are happy to tell you what you are doing wrong, and how to fix whatever issues you have. Come over to our GitHub Project, it is open source, you can join (we already have over 100 OSS contributors!). If you are stuck, we will work as hard as we can to be responsive. If you have a critical issue, we will role it out as an EAP build, which you can use to work on the problem.</p> <h3>KEEP 03:14</h3> <p>Kotlin Evolution and Enhancement Process (KEEP): we try to accumulate all the design process we are having, and be as open as possible. If you go to this <a href=""https://github.com/Kotlin/KEEP"">GitHub repo</a> you will see all the proposals that are considered for Kotlin 1.1 at the moment. You can provide your ideas, feedback, do corrections. We are very grateful: use cases are what drive our design. KEEP is the venue for our plans.</p> <h3>Our Plans - Lines of Development 03:56</h3> <p>Now we have 1.0, 1.0.2, as the main release, and our development is in two lines. We have those incremental updates, 1.0.2, 1.0.3, which are source compatible (meaning that language does not change more than the bugs). We fix bugs in the compiler; this sometimes slightly changes the language (but that is always for the better). There you find bugfixes, performance updates, and tooling features. This is where IDEs are improved: build systems.</p> <p>1.1 is another parallel line, where we do language features, and their source compatibility is backward compatibility. 1.0 may not be able to compile 1.1 (because there are new features 1.0 does not know about). Backwards is always compatible. If you have your old code, it will work with 1.1.</p> <p><em>This slide does not mention anything about binary compatibility, because that goes without saying.</em></p> <h3>Tooling Plans: 1.0.X 05:18</h3> <ul> <li> <p>We released 1.0.2, which has incremental compilation for Gradle (<em>and speeds things up quite a bit</em>). Now, when you change something you are calling code, and recompile it with Gradle, with the incremental flag enabled (it is an experimental flag, you do not have it on by default), you only have those files recompiled that actually need recompilation. The whole project is not rebuilt, only those individual files touched or that were affected by your changes. And we will be working on this feature; after some time it will be not experimental anymore (<em>hopefully!</em>). That is one big infrastructural change.</p> </li> <li> <p>Spring Support in the IDE. You have some of the features that the big IntelliJ idea has for Java, but in caudlen.</p> </li> <li> <p>Reduce our standard library size. That is not because our standard library is big (it is probably the smallest among the alternative jvm languages). Last time we shaved off some 1500 methods off the library binary, without changing the API. It is a compatible change, but there are fewer functions now. If you are an Android developer, it matters to you.</p> </li> <li> <p>Android Lint Checks (<em>people were asking for those</em>). The IDE warns you if you do something wrong in Android specific terms (not language specific terms). We will have more and more Lint Checks added over time.</p> </li> <li> <p>Jack&amp;Jill, the new Android tool chain we are integrating with. We are fixing bugs to be able to Jill compile the Kotlin center library (because, without the bug fixes, it would not).</p> </li> </ul> <h3>New Targets 07:49</h3> <p>And for 1.1... we are planning many things!</p> <ol> <li> <p><strong>Java 8/9</strong>. Our current target is Java 6: whatever you compile in Kotlin can run on anything that runs Java 6, including Java 8/9 (but it does not use the features of 8/9). We are working on generating default methods for Java 8. In Kotlin, you can always implement methods and interfaces, but if you want to extend such an interface in Java, Java 6 would not know that those methods are implemented (Java 8 would). We also have some issues with Stream API collection in Java 8. We have a support library for Java 8 streams, but that will be removed in Kotlin 1.1 and we will just support natively in the compiler.</p> </li> <li> <p>The JavaScript backend for Kotlin has been around for years, but we de-prioritized it to shape 1.0 for Java as soon as we could. We are working on it again, and all the language features are covered. We are working on runtime module support (amd, umd, common.js). JavaScript has many common toolchains (npm, browserify, gulp, ...), and we will try to support as many of them as we can.</p> </li> <li> <p>Another popular question, can I run Kotlin in a native environment without a virtual machine? The current answer is no; at least, not easily. No code is written in this section yet, and it is probably not going to be available in 1.1, but we are looking into this and we will probably have some news sometime later.</p> </li> </ol> <h3>Scripting: example.kts 10:08</h3> <p>One thing that is needed from any modern language is to be a scripting language. This is more or less supported, although it has not been officially promoted that much. You can write a script in Kotlin, the file extension would be .kts. For now, you can import anything and write the expressions and statements on the top level of the file. It will be compiled to a Java class and run as normal.</p> <p>However, you cannot define dependencies inside a script, which means you have to either configure your class path, or be stuck with the jtk and the Kotlin standard library. This is something we are working on now, and it will probably help many other usages of Kotlin. This is an infrastructural change.</p> <h4>Type Aliases 11:04</h4> <p>When you want to pass a function (say, a foo and bar to buzz), you end up repeating this function signature many times. That is why people want some abbreviation mechanism, to give a name to this complex type.</p> <pre><code class=""hljs language-kotlin"">typealias Int32 = <span class=""hljs-built_in"">Int</span> typealias Predicate&lt;T&gt; = (T) -&gt; <span class=""hljs-built_in"">Boolean</span></code></pre> <p>Here my complex type is T to Boolean, a function, and I want a name for it. I say <code>typealias Predicate&lt;T&gt; = (T) -&gt; Boolean</code>. This is not a new type, this is just an abbreviation; an alias. <code>Int32</code> here is just an <code>Int</code>. These are interchangeable, but they will help you abbreviate your long types and make your APIs more speaking. The new type is something many people want. It is not something a type alias is. It will be covered later, probably in 1.1, with value types (or something related to those). You have probably heard about Project Valhalla (those of you interested in Java), it is easier.</p> <h3>Bound Method References 12:35</h3> <p>You probably know that Kotlin has reflection (on top of whatever platform reflection there is). There is language support for reflection.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> p: Predicate&lt;String&gt; = “foo”::equals <span class=""hljs-comment"">// behaves as { x -&gt; “foo”.equals(x) }</span> <span class=""hljs-keyword"">val</span> c: KClass&lt;Foo&gt; = x.foo()::<span class=""hljs-class""><span class=""hljs-keyword"">class</span></span></code></pre> <p>Those two colons (type ::foo) is something that is supported now. You can take a type, and take a reference to it is member, a function or a property. Or, you can take a type and make it a class literal by saying Type::class. This is something you can do now, but in 1.1 you will be able to do that with an object. It can take a foo (&ldquo;foo&rdquo; is a string, obviously), and it can take an <code>equals</code> of that string, which is a function of one argument, and put to a variable as a predicate. It will be comparing any string you pass to it to foo. This is a partial application, but a limited one. Convenient, according to our use-case surveys.</p> <p>More or less works, like lamda over there. Same thing you will be able to do with a class; you can take a class of x to foo by saying ::class.</p> <h3>Enhancements for Properties 13:54</h3> <p>If you do not know what delegated properties are... Google it, because they are cool. <em>(Ed. note: <a href=""https://kotlinlang.org/docs/reference/delegated-properties.html"">Here you go!</a>)</em> This is something that allows good re-using code, Kotlin. Good news: in 1.1 we will allow that as a local variable. Now you can use <strong>delegated properties</strong> on a top level or in a class; you will be able to do it in a function. This enables DSLs, and this will help us with new cases.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">foo</span><span class=""hljs-params"">()</span></span> { <span class=""hljs-keyword"">val</span> lazyBar <span class=""hljs-keyword"">by</span> lazy { ... } <span class=""hljs-keyword"">while</span> (...) { <span class=""hljs-keyword"">if</span> (...) { lazyBar.doBaz() ... }</code></pre> <p>Inline properties: technical thing for some libraries; for binary compatibility, it is better to have properties inlineable.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> foo: Foo <span class=""hljs-keyword"">inline</span> <span class=""hljs-keyword"">get</span>() = ... <span class=""hljs-keyword"">inline</span> <span class=""hljs-keyword"">set</span>(v) { ... }</code></pre> <h3>Hierarchies for Data Classes 14:53</h3> <p>(<em>If you have not heard of data classes, learn about them</em>). <em>(Ed. note: <a href=""https://kotlinlang.org/docs/reference/data-classes.html"">Here you go!</a>)</em></p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">data</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">User</span></span>(<span class=""hljs-keyword"">val</span> name: String, <span class=""hljs-keyword"">val</span> age: <span class=""hljs-built_in"">Int</span>) <span class=""hljs-comment"">// automatically gets</span> equals() / hashCode() / toString() copy() <span class=""hljs-comment"">// val newUser = someUser.copy(name = “Jane Doe”)</span> componentN() <span class=""hljs-comment"">// val (name, age) = someUser</span></code></pre> <p>Kotlin has this simple but useful feature, where it can define a class with two members. It is a <code>class User</code>, which has a name and an age (these are fields). It can mark it data, and the compiler can generate all this for you. It will give you equals() and hashCode() based on those values, toString(), rendering those. A copy() method to change a name of an object in a shallow copy of it. And componentN() functions for destructuring. It can say: I have a user (a user is a pair of name and age), I declare a local variable, name and age at the same time and assign the user to two of them. I have two values at the same time assigned to those names.</p> <p>Data classes are good, but we did not support any inheritance for those. 1.1 will fix that; you will be able to say, have a sealed class, and be able to extend a data class from it.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">sealed</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">C</span></span>() { <span class=""hljs-keyword"">data</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Example</span></span>(...) : C() }</code></pre> <p>This covers everything people need about algebraic data types in Kotlin. It is not Haskell yet (it will never be), but it is as close to Haskell as use cases we see require.</p> <h3>Destructuring in Lambdas 16:22</h3> <pre><code class=""hljs language-kotlin"">myMap.forEach { (k, v) -&gt; println(“$k =&gt; $v”) }</code></pre> <p>A map from N to string is a sequence of pairs, map entries of keys and values. In the library, Map has a .forEach method. That simply iterates through the pairs, and you can do whatever with them. In Kotlin 1.0, you only have one variable for the whole pair. You can say, forEach has an entry, and it can say <code>(k, v) -&gt; println(&ldquo;$k =&gt; $v&rdquo;)</code>. And this new syndex in 1.1 will help you destructure right away. If you say K and V is a pair (which means that the entry is structured in the two), and then you can print the two. <em>Have I lost all of my audience by now?</em></p> <p>I have a black screen for you (<em>see video</em>). You are not supposed to read the code. All you care about is this staircase of brackets. This is the picture I Googled by the query &lsquo;callback hell&rsquo;. This picture is a typical piece of JavaScript (not only JavaScript, other languages suffer from this as well). This illustrates the world of asyncronist computation as it is, more or less, today in many languages.</p> <p>We want to be asynchronist as much as we can, because we like to offload things on different threads or other different ways of execution. The way I want to read from a file is: &ldquo;Here is my file, I want to read from it. When the read is done, here is my callback, call it when it is finished&rdquo;. That is great; I can call something, I am not blocking. I can continue working; the read will do its work. But, if after that read I want to write, and then another read, each next asynchronist call has to be nested inside that callback. It is a callback in a callback in a callback in a callback... and at the end I have this staircase. It is okay if it fits in 115 lines, but sometimes it does not. And this is why some languages have async/await.</p> <h3>Asynchronous Computation 19:10</h3> <p>Some languages want to write the same asyncronist code that does not block on many calls, but in a sequential way.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">loadImage</span><span class=""hljs-params"">(url: <span class=""hljs-type"">URL</span>)</span></span> = async { <span class=""hljs-keyword"">val</span> bytes = await(loadBytes(url)) bytesToImage(bytes) }</code></pre> <p>I just say loadBytes and then bytesToImage, meaning that loadBytes should work asynchronistically and execute bytes image only when it is done. There is this <code>await</code> keyword, that means call load bytes, put the rest of the computation away somewhere, do not block the thread, give the thread up to somebody else who can use it. And, when the loadBytes is done, resurrect the whole computation and run the next line.</p> <p>This is what C# introduced in version five. Many other languages adopted this idea because it is fruitful, and this is something we want to cover. But we do not want to copy it from others because it is not general enough, in our opinion. They have a asynchronist computation, a sync block, and a suspension point. Await means we can suspend here and then resurrect afterwards.</p> <h4>Coroutines 20:24</h4> <p>Alternatively, we want to do coroutines. It is a generalization. We want to cover async/await/yield on generator blocks from other languages, but with maximum flexibility. We want to support virtually all existing asynchronous APIs, futures, callbacks, promises. And this means that the language is not bound to a given task framework.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">loadImage</span><span class=""hljs-params"">(url: <span class=""hljs-type"">URL</span>)</span></span> = async { <span class=""hljs-keyword"">val</span> bytes = await(loadBytes(url)) bytesToImage(bytes) }</code></pre> <p>We have these <code>async</code> and <code>await</code>: these are library functions, not keywords. It is the same machinery with a different API, and much flexibility. The prototype for this is under way (maybe available in June), and we will be able to play with library making and library using, using this abstraction.</p> <h3>Conclusion 21:25</h3> <p>I invite you to come to KEEP, and review the proposals. Give us your feedback, ideas, use cases.</p> <p>Kotlin has been known for making nice APIs, and some people like making APIs so much that I have the honor to invite Hans Docter on stage, because he has <a href=""https://realm.io/news/gradle-kotlin/"">something to show you</a>.</p> <p>See the discussion on <a href=""http://news.ycombinator.com/item?id=11814488"">Hacker News</a>.</p> https://realm.io/news/andrey-breslav-whats-next-for-kotlin-roadmap/https://realm.io/news/andrey-breslav-whats-next-for-kotlin-roadmap/KotlinAndrey BreslavWed, 01 Jun 2016 00:00:00 GMT Neural Networks in Kotlin (part 2)<p>In the <a href=""http://beust.com/weblog/2016/05/27/neural-network-in-kotlin/"">previous installment</a>, I introduced a mystery class <code>NeuralNetwork</code> which is capable of calculating different results depending on the data that you train it with. In this article, we&rsquo;ll take a closer look at this neural network and crunch a few numbers.</p> <h2>Neural networks overview</h2> <p>A neural network is a graph of neurons made of successive layers. The graph is typically split in three parts: the leftmost column of neurons is called the &ldquo;input layer&rdquo;, the rightmost columns of neurons is the &ldquo;output layer&rdquo; and all the neurons in-between are the &ldquo;hidden&rdquo; layer. This hidden layer is the most important part of your graph since it&rsquo;s responsible for making the calculations. There can be any numbers of hidden layers and any number of neurons in each of them (note that the Kotlin class I wrote for this series of articles only uses one hidden layer).</p> <p>Each edge that connects two neurons has a weight which is used to calculate the output of this neuron. The calculation is a simple addition of each input value multiplied by its weight. Let&rsquo;s take a look at a quick example:</p> <p><img src=""https://docs.google.com/drawings/d/1lnkGCoJ5DsJcXlqXnjmE0oGM6l1wHrf9pRuN-8ZU7Xc/pub?w=480&amp;h=360"" alt=""""></p> <p>This network has two input values, one hidden layer of size two and one output. Our first calculation is therefore:</p> <pre><code class=""hljs language-kotlin"">w11-output = 2 * 0.1 + (-3) * (-0.2) = 0.8 w12-output = 2 * (-0.4) + (-3) * 0.3 = -1.7</code></pre> <p>We&rsquo;re not quite done: the actual outputs of neurons (also called &ldquo;activations&rdquo;) are typically passed to a normalization function first. To get a general intuition for this function, you can think of it as a way to constrain the outputs within the [-1, 1] range, which prevents the values flowing through the network from overflowing or underflowing. Also, it&rsquo;s useful in practice for this function to have additional properties connected to its derivative but I&rsquo;ll skip over this part for now. This function is called the &ldquo;activation function&rdquo; and the implementation I used in the <code>NeuralNetwork</code> class is the <a href=""http://mathworld.wolfram.com/HyperbolicTangent.html"">hyperbolic tangent, <code>tanh</code></a>.</p> <p>In order to remain general, I&rsquo;ll just refer to the activation function as <code>f()</code>. We therefore refine our first calculations as follows:</p> <pre><code class=""hljs language-kotlin"">w11-output = f(2 * 0.1 + (-3) * (-0.2)) w12-output = f(2 * (-0.4) + (-3) * 0.3)</code></pre> <p>There are a few additional details to this calculation in actual neural networks but I&rsquo;ll skip those for now.</p> <p>Now that we have all our activations for the hidden layer, we are ready to move to the next layer, which happens to be the ouput layer, so we&rsquo;re almost done:</p> <pre><code class=""hljs language-kotlin"">output = f(0.1 * w11-output - 0.2 * w12-output = 0.42</code></pre> <p>As you can see, calculating the output of a neural network is fairly straightforward and fast, much faster than actually training that network. Once you have created your networks and you are satisfied with its results, you can just pass around the characteristics of that network (weights, sizes, ...) and any device (even phones) can then use that network.</p> <h2>Revisiting the xor network</h2> <p>Let&rsquo;s go back to the <code>xor</code> network we created in the first episode. I created this network as follows:</p> <pre><code class=""hljs language-kotlin"">NeuralNetwork(inputSize = 2, hiddenSize = 2, outputSize = 1)</code></pre> <p>We only need two inputs (the two bits) and one output (the result of <code>a xor b</code>). These two values are fixed. What is not fixed is the size of the hidden layer, and I decided to pick 2 here, for no particular reason. It&rsquo;s interesting to tweak these values and see whether your neural network performs better of worse based on these values and there is actually a great deal of both intuition and arbitrary choices that go into these decisions. These values that you use to configure your network before you run it are called &ldquo;hyper parameters&rdquo;, in contrast to the other values which get updated while your network runs (e.g. the weights).</p> <p>Let&rsquo;s now take a look at the weights that our <code>xor</code> network came up with, which you can display by running the Kotlin application with <tt>--log 2</tt>:</p> <pre><code class=""hljs language-plain"">Input weights: -1.21 -3.36 -1.20 -3.34 1.12 1.67 Output weights: 3.31 -2.85 </code></pre> <p>Let&rsquo;s put these values on the visual representation of our graph to get a better idea:</p> <p><img src=""https://docs.google.com/drawings/d/1vzNDxpKkIP0h6pp8KglUn55a-pLE5PIAaO204ZNqYR0/pub?w=960&amp;h=720"" alt=""""></p> <p>You will notice that the network above contains a neuron called &ldquo;bias&rdquo; that I haven&rsquo;t introduced yet. And I&rsquo;m not going to just yet besides saying that this bias helps the network avoid edge cases and learn more rapidly. For now, just accept it as an additional neuron whose output is not influenced by the previous layers.</p> <p>Let&rsquo;s run the graph manually on the input (1,0), which should produce 1:</p> <pre><code class=""hljs language-kotlin"">hidden1<span class=""hljs-number"">-1</span> = <span class=""hljs-number"">1</span> * <span class=""hljs-number"">-1.21</span> hidden1<span class=""hljs-number"">-2</span> = <span class=""hljs-number"">0</span> * <span class=""hljs-number"">-1.20</span> bias1 = <span class=""hljs-number"">1</span> * <span class=""hljs-number"">1.12</span> output1 = tanh(<span class=""hljs-number"">-1.21</span> + <span class=""hljs-number"">1.12</span>) = <span class=""hljs-number"">-0.09</span> hidden2<span class=""hljs-number"">-1</span> = <span class=""hljs-number"">1</span> * <span class=""hljs-number"">-3.36</span> hidden2<span class=""hljs-number"">-2</span> = <span class=""hljs-number"">0</span> * <span class=""hljs-number"">-3.34</span> bias2 = <span class=""hljs-number"">1</span> * <span class=""hljs-number"">1.67</span> output2 = tanh(<span class=""hljs-number"">-3.36</span> + <span class=""hljs-number"">1.6</span>) = <span class=""hljs-number"">-0.94</span> <span class=""hljs-comment"">// Now that we have the outputs of the hidden layer, we can caculate</span> <span class=""hljs-comment"">// our final result by combining them with the output weights:</span> finalOutput = tanh(output1 * <span class=""hljs-number"">3.31</span> + output2 * (<span class=""hljs-number"">-2.85</span>)) = <span class=""hljs-number"">0.98</span></code></pre> <p>We have just verified that if we input <code>(0,1)</code> into the network, we&rsquo;ll receive <code>0.98</code> in output. Feel free to calculate the other three inputs yourself or maybe just run the <code>NeuralNetwork</code> class with a log level of 2, which will show you all these calculations.</p> <h2>Revisiting the parity network</h2> <p>So the calculations hold up but it&rsquo;s still a bit hard to understand where these weights come from and why they interact in the way they do. Elucidating this will be the topic of the next installment but before I wrap up this article, I&rsquo;d like to take a quick look at the parity network because its content might look a bit more intuitive to the human eye, while the <code>xor</code> network detailed above still seems mysterious.</p> <p>If you train the parity network and you ask the <code>NeuralNetwotk</code> class to dump its output, here are the weights that you&rsquo;ll get:</p> <pre><code class=""hljs language-plain"">Input weights: 0.36 -0.36 0.10 -0.09 0.30 -0.30 -2.23 -1.04 0.57 -0.58 Output weights: -1.65 -1.64 </code></pre> <p>If you pay attention, you will notice an interesting detail about these numbers: the weights of the first three neurons of our hidden layer cancel each other out while the two inputs of the fourth neuron reinforce each other. It&rsquo;s pretty clear that the network has learned that when you are testing the parity of a number in binary format, the only bit that really matters is the least significant one (the last one). All the others can simply be ignored, so the network has learned from the training data that the best way to get close to the desired output is to only pay attention to that last bit and cancel all the other ones out so they don&rsquo;t take part in the final result.</p> <h2>Wrapping up</h2> <p>This last result is quite remarkable if you think about it, because it really looks like the network learned how to test parity at the formal level (&ldquo;The output of the network should be the value of the least significant bit, ignore all the others&rdquo;), inferring that result just from the numeric data we trained it with. Understanding how the network learned how to modify itself to reach this level will be the topic of the next installment of the series.</p> http://beust.com/weblog/2016/05/30/neural-networks-in-kotlin-part-2/http://beust.com/weblog/2016/05/30/neural-networks-in-kotlin-part-2/KotlinCédric BeustMon, 30 May 2016 14:26:00 GMT Neural Network in Kotlin<p><img src=""http://beust.com/pics/neural-network.png"" alt=""""></p> <p>It&rsquo;s hard not to hear about machine learning and neural networks these days since the practice is being applied to an ever increasingly wide variety of problems. Neural networks can be intimidating and look downright magical to the untrained (ah!) eye, so I&rsquo;m going to attempt to dispel these fears by demonstrating how these mysterious networks operate. And since there are already so many tutorials on the subject, I&rsquo;m going to take a different approach and go from top to bottom.</p> <h2>Goal</h2> <p>In this first series of articles, I will start by running a very simple network on two simple problems, show you that they work and then walk through the network to explain what happened. Then I&rsquo;ll backtrack to deconstruct the logic behind the network and why it works.</p> <p>The neural network I&rsquo;ll be using in this article is a simple one I wrote. No TensorFlow, no Torch, no Theano. Just some basic Kotlin code. The original version was about 230 lines but it&rsquo;s a bit bigger now that I broke it up in separate classes and added comments. The <a href=""http://github.com/cbeust/nnk"">whole project can be found on github under the temporary &ldquo;nnk&rdquo; name</a>. In particular, <a href=""https://github.com/cbeust/nnk/blob/master/src/main/kotlin/com/beust/nnk/NeuralNetwork.kt"">here is the source of the neural network we&rsquo;ll be using</a>.</p> <p>I will be glossing over a lot of technical terms in this introduction in order to focus on the numeric aspect but I&rsquo;m hoping to be able to get into more details as we slowly peel the layers. For now, we&rsquo;ll just look at the network as a black box that get fed input values and which outputs values.</p> <p>The main characteristic of a neural network is that it starts completely empty but it can be taught to solve problems. We do this by feeding it values and telling it what the expected output is. We iterate over this approach many times, changing these inputs/expected parameters and as we do that, the network updates its knowledge to come up with answers that are as close to the expected answers as possible. This phase is called &ldquo;training&rdquo; the network. Once we think the network is trained enough, we can then feed it new values that it hasn&rsquo;t seen yet and compare its answer to the one we&rsquo;re expecting.</p> <h2>The problems</h2> <p>Let&rsquo;s start with a very simple example: <code>xor</code>.</p> <p>This is a trivial and fundamental binary arithmetic operation which returns 1 if the two inputs are different and 0 if they are equal. We will train the network by feeding it all four possible combinations and telling it what the expected outcome is. With the Kotlin implementation of the Neural Network, the code looks like this:</p> <pre><code class=""hljs language-kotlin"">with(NeuralNetwork(inputSize = <span class=""hljs-number"">2</span>, hiddenSize = <span class=""hljs-number"">2</span>, outputSize = <span class=""hljs-number"">1</span>)) { <span class=""hljs-keyword"">val</span> trainingValues = listOf( NetworkData.create(listOf(<span class=""hljs-number"">0</span>, <span class=""hljs-number"">0</span>), listOf(<span class=""hljs-number"">0</span>)), NetworkData.create(listOf(<span class=""hljs-number"">0</span>, <span class=""hljs-number"">1</span>), listOf(<span class=""hljs-number"">1</span>)), NetworkData.create(listOf(<span class=""hljs-number"">1</span>, <span class=""hljs-number"">0</span>), listOf(<span class=""hljs-number"">1</span>)), NetworkData.create(listOf(<span class=""hljs-number"">1</span>, <span class=""hljs-number"">1</span>), listOf(<span class=""hljs-number"">0</span>))) train(trainingValues) test(trainingValues) }</code></pre> <p>Let&rsquo;s ignore the parameters given to <code>NeuralNetwork</code> for now and focus on the rest. Each line of <code>NetworkData</code> contains the inputs (each combination of 0 and 1: (0,0), (0,1), (1,0), (1,1)) and the expected output. In this example, the output is just a single value (the result of the operation) so it&rsquo;s a list of one value, but networks can return an arbitrary number of outputs.</p> <p>The next step is to test the network. Since there are only four different inputs here and we used them all for training, let&rsquo;s just use that same list of inputs but this time, we&rsquo;ll display the ouput produced by the network instead of the expected one. The result of this run is as follows:</p> <p>Running neural network xor()</p> <pre><code class=""hljs language-plain"">[0.0, 0.0] -&gt; [0.013128957] [0.0, 1.0] -&gt; [0.9824073] [1.0, 0.0] -&gt; [0.9822749] [1.0, 1.0] -&gt; [-2.1314621E-4]</code></pre> <p>As you can see, these values are pretty decent for such a simple network and such a small training data set and you might rightfully wonder: is this just luck? Or did the network cheat and memorize the values we fed it while we were training it?</p> <p>One way to find out is to see if we can train our network to learn something else, so let&rsquo;s do that.</p> <h2>A harder problem</h2> <p>This time, we are going to teach our network to determine whether a number is odd or even. Because the implementation of the graph is pretty na&iuml;ve and this is just an example, we are going to train our network with binary numbers. Also, we are going to learn a first important lesson in neural networks which is to choose your training and testing data wisely.</p> <p>You probably noticed in the example above that I used the same data to train and test the network. This is not a good practice but it was necessary for <code>xor</code> since there are so few cases. For better results, you usually want to train your network on a certain population of the data and then test it on data that your network hasn&rsquo;t seen yet. This will guarantee that you are not &ldquo;overfitting&rdquo; your network and also that it is able to generalize what you taught it to input values that it hasn&rsquo;t seen yet. Overfitting means that your network does great on the data you trained it with but poorly on new data. When this happens, you usually want to tweak your network so that it will possibly perform less well on the training data but it will return better results for new data.</p> <p>For our parity test network, let&rsquo;s settle on four bits (integers 0 &ndash; 15) and we&rsquo;ll train our network on about ten numbers and test it on the remaining six:</p> <pre><code class=""hljs language-kotlin"">with(NeuralNetwork(inputSize = <span class=""hljs-number"">4</span>, hiddenSize = <span class=""hljs-number"">2</span>, outputSize = <span class=""hljs-number"">1</span>)) { <span class=""hljs-keyword"">val</span> trainingValues = listOf( NetworkData.create(listOf(<span class=""hljs-number"">0</span>, <span class=""hljs-number"">0</span>, <span class=""hljs-number"">0</span>, <span class=""hljs-number"">0</span>), listOf(<span class=""hljs-number"">0</span>)), NetworkData.create(listOf(<span class=""hljs-number"">0</span>, <span class=""hljs-number"">0</span>, <span class=""hljs-number"">0</span>, <span class=""hljs-number"">1</span>), listOf(<span class=""hljs-number"">1</span>)), NetworkData.create(listOf(<span class=""hljs-number"">0</span>, <span class=""hljs-number"">0</span>, <span class=""hljs-number"">1</span>, <span class=""hljs-number"">0</span>), listOf(<span class=""hljs-number"">0</span>)), NetworkData.create(listOf(<span class=""hljs-number"">0</span>, <span class=""hljs-number"">1</span>, <span class=""hljs-number"">1</span>, <span class=""hljs-number"">0</span>), listOf(<span class=""hljs-number"">0</span>)), NetworkData.create(listOf(<span class=""hljs-number"">0</span>, <span class=""hljs-number"">1</span>, <span class=""hljs-number"">1</span>, <span class=""hljs-number"">1</span>), listOf(<span class=""hljs-number"">1</span>)), NetworkData.create(listOf(<span class=""hljs-number"">1</span>, <span class=""hljs-number"">0</span>, <span class=""hljs-number"">1</span>, <span class=""hljs-number"">0</span>), listOf(<span class=""hljs-number"">0</span>)), NetworkData.create(listOf(<span class=""hljs-number"">1</span>, <span class=""hljs-number"">0</span>, <span class=""hljs-number"">1</span>, <span class=""hljs-number"">1</span>), listOf(<span class=""hljs-number"">1</span>)), NetworkData.create(listOf(<span class=""hljs-number"">1</span>, <span class=""hljs-number"">1</span>, <span class=""hljs-number"">0</span>, <span class=""hljs-number"">0</span>), listOf(<span class=""hljs-number"">0</span>)), NetworkData.create(listOf(<span class=""hljs-number"">1</span>, <span class=""hljs-number"">1</span>, <span class=""hljs-number"">0</span>, <span class=""hljs-number"">1</span>), listOf(<span class=""hljs-number"">1</span>)), NetworkData.create(listOf(<span class=""hljs-number"">1</span>, <span class=""hljs-number"">1</span>, <span class=""hljs-number"">1</span>, <span class=""hljs-number"">0</span>), listOf(<span class=""hljs-number"">0</span>)), NetworkData.create(listOf(<span class=""hljs-number"">1</span>, <span class=""hljs-number"">1</span>, <span class=""hljs-number"">1</span>, <span class=""hljs-number"">1</span>), listOf(<span class=""hljs-number"">1</span>)) ) train(trainingValues) <span class=""hljs-keyword"">val</span> testValues = listOf( NetworkData.create(listOf(<span class=""hljs-number"">0</span>, <span class=""hljs-number"">0</span>, <span class=""hljs-number"">1</span>, <span class=""hljs-number"">1</span>), listOf(<span class=""hljs-number"">1</span>)), NetworkData.create(listOf(<span class=""hljs-number"">0</span>, <span class=""hljs-number"">1</span>, <span class=""hljs-number"">0</span>, <span class=""hljs-number"">0</span>), listOf(<span class=""hljs-number"">0</span>)), NetworkData.create(listOf(<span class=""hljs-number"">0</span>, <span class=""hljs-number"">1</span>, <span class=""hljs-number"">0</span>, <span class=""hljs-number"">1</span>), listOf(<span class=""hljs-number"">1</span>)), NetworkData.create(listOf(<span class=""hljs-number"">1</span>, <span class=""hljs-number"">0</span>, <span class=""hljs-number"">0</span>, <span class=""hljs-number"">0</span>), listOf(<span class=""hljs-number"">0</span>)), NetworkData.create(listOf(<span class=""hljs-number"">1</span>, <span class=""hljs-number"">0</span>, <span class=""hljs-number"">0</span>, <span class=""hljs-number"">1</span>), listOf(<span class=""hljs-number"">1</span>)) ) test(testValues) }</code></pre> <p>And here is the output of the test:</p> <pre><code class=""hljs language-plain"">Running neural network isOdd() [0.0, 0.0, 1.0, 1.0] -&gt; [0.9948013] [0.0, 1.0, 0.0, 0.0] -&gt; [0.0019584869] [0.0, 1.0, 0.0, 1.0] -&gt; [0.9950419] [1.0, 0.0, 0.0, 0.0] -&gt; [0.0053276513] [1.0, 0.0, 0.0, 1.0] -&gt; [0.9947305]</code></pre> <p>Notice that the network is now outputting correct results for numbers that it hadn&rsquo;t seen before, just because of the way it adapted itself to the training data it was initially fed. This gives us good confidence that the network has configured itself to classify numbers from any input values and not just the one it was trained for.</p> <h2>Wrapping up</h2> <p>I hope that this brief overview will have whetted your appetite or at least piqued your curiosity. In the <a href=""http://beust.com/weblog/2016/05/30/neural-networks-in-kotlin-part-2/"">next installment</a>, I&rsquo;ll dive a bit deeper into the <code>NeuralNetwork</code> class, explain the constructor parameters and we&rsquo;ll walk through the inner working of the neural network that we created to demonstrate how it works.</p> http://beust.com/weblog/2016/05/27/neural-network-in-kotlin/http://beust.com/weblog/2016/05/27/neural-network-in-kotlin/KotlinCédric BeustFri, 27 May 2016 07:57:00 GMT Kotlin, dragging java into the modern world<p><img src=""http://35gd0g2fpmpc2rmy8u1ld360.wpengine.netdna-cdn.com/wp-content/uploads/2016/05/kotlin_800x320.png"" alt=""kotlin_800x320""></p> <p>Even though we love our coffee here at OptimalBI, we have never had a place in our hearts for Java. Even so Java has a lot to offer for the modern cloud-driven world, but writing good, maintainable and human readable code has never been part of a Java developers life. This is where <a href=""https://kotlinlang.org/"">Kotlin&nbsp;</a> comes into things. Kotlin is a statically typed language that runs on the JVM (Java Virtual Machine) which is designed to write better and safer Java-like applications that also have a certain level of human readability.</p> <h2>Why do we need Java anyway?</h2> <p>At OptimalBI we do stuff in the cloud. This means that we have a large toolbox we can reach into to help us with a bunch of different tasks. As you might have seen from <a href=""https://github.com/OptimalBI/optimal-spyglass-open-source"">Optimal Spyglass</a>&nbsp;Java was one of the tools we have used to create a reliable cross-platform GUI, using the always helpful AWS SDK. Java was chosen here so that support for all platforms could be offered easily without maintaining multiple versions<a href=""http://35gd0g2fpmpc2rmy8u1ld360.wpengine.netdna-cdn.com/wp-content/uploads/2016/05/Campagnolo_Tool_Kit_Super_Record_Wooden_Box_Nr._16.jpg""><img src=""http://35gd0g2fpmpc2rmy8u1ld360.wpengine.netdna-cdn.com/wp-content/uploads/2016/05/Campagnolo_Tool_Kit_Super_Record_Wooden_Box_Nr._16-300x225.jpg"" alt=""Campagnolo_Tool_Kit_Super_Record_Wooden_Box_Nr._16""></a> of the same application. The issue here is that most of the code in Optimal Spyglass tend towards making Java&rsquo;s life easier to run rather than developer&rsquo;s lives easier to add features. Being in the cloud sometimes means that we have a need for long-running jobs; Monitoring system health, SQL execution systems, etc.&nbsp;There is a strange Java shaped hole in our toolbox for these types of jobs, but despite fitting in the toolbox, Java never fitted in our hearts. We just never felt like battling the language to do what we wanted it to do. So up until recently we have jammed Python or NodeJS into the Java shaped hole and hoped that they would be quiet and help us out until we have a better fitting solution.</p> <h2>What about the other traditional big chunky&nbsp;languages?</h2> <p><img src=""http://35gd0g2fpmpc2rmy8u1ld360.wpengine.netdna-cdn.com/wp-content/uploads/2016/05/Prog-languages-300x125.png"" alt=""Prog-languages""></p> <p>Java is not the only language that can run long jobs without creaking, but all of these languages have some drawbacks, big or small.</p> <p><strong>C#</strong> is one of our favorite languages; it talks well to SQL Server, is has one of the easiest to read syntax for your traditional developer types, it compiles to a proper executable, it has a proper GC, it is easy to make services that run on windows, it has the best desktop/mobile GUI system ... and much more. All of that aside, C# has one big problem, Windows. When you run in the cloud you want your OS to quietly get on with managing the system and stay out of the way of your nicely performance tweaked code. Windows likes to poke his head in the door a little too much&nbsp;and then charges you license fees for the privilege. We like our code to run on Linux and C# doesn&rsquo;t <a href=""https://dotnet.github.io/"">(yet... reliably...)</a>.</p> <p><strong>C++</strong>&nbsp;makes it too hard to produce a good system in the time-frames we have available to us. When you always have in the back of your mind that if you have a bad day in the office you could accidentally fill 64 GB of RAM with an array of Integers that you forgot to clear, it&rsquo;s really hard to make good code quickly. Or at least for your average non-superhero based programmer. (Where is C++ man when I need him?)</p> <p><a href=""https://nodejs.org""><strong>Node.js</strong></a> was the industry favorite child recently, but the JavaScript world is full of terrible code that no one <em>wants</em> to pay to maintain. That being said with a proper development team Node.js is a very powerful tool. (<a href=""https://www.typescriptlang.org"">TypeScript</a> anyone?)</p> <p>There are many, more than this, but this blog is long as it is</p> <p>There are many choices but from a functional point of view, Java still manages to keep&nbsp;its head above the ocean of programming languages.</p> <h2>So what does this Kotlin thing do for us anyway?</h2> <blockquote> <p><em>&ldquo;Kotlin is designed to be an industrial-strength object-oriented language, and to be a better language than Java but still be fully interoperable with Java code, allowing companies to make a gradual migration from Java to Kotlin.&rdquo;</em> &ndash; Andrey Breslav, Development Lead for Kotlin.</p> </blockquote> <p>Kotlin is a&nbsp;statically typed language just like Java, that ends up as Java byte code that then can be run on the JVM. This means the outputs are .jar files as we would expect for a Java application.</p> <p>One of Kotlin&rsquo;s main selling points is that they are 100% interoperable with Java. This means that if you want a JSON serializer for your Kotlin application that you can just grab and run the rather useful Google GSON library and Kotlin will have no issues using it.</p> <p>Another thing that Kotlin likes to brag about is its safety or mainly it&rsquo;s system of avoiding NullPointerExceptions. Types in Kotlin have no ability to hold nulls (unless you ask really really nicely) which mean&nbsp;that there is no chance of accidentally asking for a null to split itself on &ldquo;,&rdquo;.</p> <p>For us though the main thing Kotlin does is clean up the mess that is working with Java. Take the simple job of writing a line to the terminal for example. System.out.println(&ldquo;Man this is annoying to do all the time&rdquo;); becomes println(&ldquo;Java don&rsquo;t hurt me, no more!&rdquo;);. This is easier to type, but also easier to read, makes developers happier. And a happy developer is a good developer.</p> <p>There are many examples of why Kotlin helps us with writing modern cloud-based applications with Java level&nbsp;reliability (another blog post someday perhaps), all we know for now is we have found a better fit for that hole in our toolkit. Will it stick around? We will have to wait and see.</p> <h5><em>Coffee to Code &ndash;&nbsp;Tim Gray</em></h5> <h5><em>Tim blogs about the sharp end of code and the languages we write in.</em></h5> http://optimalbi.com/blog/2016/05/20/kotlin-dragging-java-into-the-modern-world/http://optimalbi.com/blog/2016/05/20/kotlin-dragging-java-into-the-modern-world/KotlinTim GrayFri, 20 May 2016 00:00:00 GMT Gradle Meets Kotlin<p>Back at <strong>JavaOne 2015</strong>, during a lunch break we started chatting with <strong>Hans Dockter, CEO of Gradle</strong>. A couple of days after the conference, a few of us were at the Gradle offices talking about what would be the beginning of the collaboration between JetBrains and Gradle; to bring first-class tooling and support for a static language to Gradle.</p> <p>Today, at the <a href=""http://info.jetbrains.com/Kotlin-Night-2016.html"">Kotlin Night in San Francisco</a>, Hans Dockter demoed the first milestone of writing a Gradle build script using Kotlin.</p> <iframe src=""https://www.youtube.com/embed/4gmanjWNZ8E"" allowfullscreen="""" frameborder=""0"" height=""480"" width=""960""></iframe> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">import</span> org.gradle.api.plugins.* <span class=""hljs-keyword"">import</span> org.gradle.api.tasks.wrapper.* <span class=""hljs-keyword"">import</span> org.gradle.script.lang.kotlin.* apply&lt;ApplicationPlugin&gt;() configure&lt;ApplicationPluginConvention&gt; { mainClassName = <span class=""hljs-string"">""samples.HelloWorld""</span> } repositories { jcenter() } dependencies { <span class=""hljs-string"">""testCompile""</span>(<span class=""hljs-string"">""junit:junit:4.12""</span>) }</code></pre> <p>Gradle allows developers and build engineers to deal with complex build automation scripts. As complexity grows, having a language that is statically-typed can help detect potential misconfigurations at compile time, contributing in reducing runtime issues. Static typing also opens up the door to more sophisticated tooling. All this, combined with key characteristics of Kotlin that enable easy creation of DSL&rsquo;s, can provide Gradle users benefits while maintaining the level of fluency they are accustomed to.</p> <p>For the past 6 months, we&rsquo;ve been working closely with the Gradle team, in particular with Chris Beams and Rodrigo de Oliveira in bringing Kotlin to Gradle. It has been a tremendously rewarding experience because it has also helped us see use-case scenarios for making scripting in Kotlin a first-class citizen.</p> <p>We are very excited for what Gradle has in store and are happy to continue collaborating with them closely in bringing a great experience to Gradle users.</p> <p>For more information and how to get the bits to start playing with this, make sure you read the <a href=""http://gradle.org/blog/kotlin-meets-gradle"">blog post by the Gradle team</a> for more details. In addition, if you are on the public <a href=""https://kotlinlang.slack.com""><strong>Kotlin Slack</strong></a>, there&rsquo;s a newly created <strong>#gradle</strong> channel for discussions.</p> http://blog.jetbrains.com/kotlin/2016/05/gradle-meets-kotlin/http://blog.jetbrains.com/kotlin/2016/05/gradle-meets-kotlin/KotlinGradleHadi HaririWed, 18 May 2016 02:18:00 GMT Kotlin Meets Gradle<p>Many readers will be familiar with JetBrains&rsquo; excellent <a href=""http://kotlinlang.com"">Kotlin</a> programming language. It&rsquo;s been under development since 2010, had its first public release in 2012, and went 1.0 GA earlier this year.</p> <p>We&rsquo;ve been watching Kotlin over the years, and have been increasingly impressed with what the language has to offer, as well as with its considerable uptake&mdash;particularly in the Android community.</p> <p>Late last year, Hans sat down with a few folks from the JetBrains team, and they wondered together: what might it look like to have a Kotlin-based approach to writing Gradle build scripts and plugins? How might it help teams&mdash;especially big ones&mdash;work faster and write better structured, more maintainable builds?</p> <p>The possibilities were enticing.</p> <p>Because Kotlin is a statically-typed language with deep support in both IDEA and Eclipse, it could give Gradle users proper IDE support from auto-completion to refactoring and everything in-between. And because Kotlin is rich with features like first-class functions and extension methods, it could retain and improve on the best parts of writing Gradle build scripts&mdash;including a clean, declarative syntax and the ability to craft DSLs with ease.</p> <p>So we got serious about exploring these possibilities, and over the last several months we&rsquo;ve had the pleasure of working closely with the Kotlin team to develop a new, Kotlin-based build language for Gradle.</p> <p>We call it Gradle Script Kotlin, and Hans just delivered the first demo of it onstage at JetBrains&rsquo; Kotlin Night event in San Francisco. We&rsquo;ve <a href=""https://github.com/gradle/gradle-script-kotlin/releases/tag/v1.0.0-M1"">released the first milestone</a> towards version 1.0 of this work today, along with open-sourcing its repository at <a href=""https://github.com/gradle/gradle-script-kotlin"">https://github.com/gradle/gradle-script-kotlin</a>.</p> <p><a href=""http://gradle.wpengine.netdna-cdn.com/wp-content/uploads/2016/05/KotlinGradleBanner.gif""><img src=""http://gradle.wpengine.netdna-cdn.com/wp-content/uploads/2016/05/KotlinGradleBanner.gif"" alt=""KotlinGradleBanner""></a></p> <p>So what does it look like, and what can you do with it? At a glance, it doesn&rsquo;t look <em>too</em> different from the Gradle build scripts you know today:</p> <p><a href=""http://gradle.wpengine.netdna-cdn.com/wp-content/uploads/2016/05/pasted-image-0.png""><img src=""http://gradle.wpengine.netdna-cdn.com/wp-content/uploads/2016/05/pasted-image-0.png"" alt=""pasted image 0""></a></p> <p>But things get very interesting when you begin to explore what&rsquo;s possible in the IDE. You&rsquo;ll find that, suddenly, the things you usually expect from your IDE <em>just work</em>, including:</p> <ul> <li>auto-completion and content assist</li> <li>quick documentation</li> <li>navigation to source</li> <li>refactoring and more</li> </ul> <p>The effect is dramatic, and we think it&rsquo;ll make a big difference for Gradle users. Now, you might be wondering about a few things at this point&mdash;like whether existing Gradle plugins will work with Gradle Script Kotlin (yes, they will), and whether writing build scripts in Groovy is deprecated (no, it&rsquo;s not). You can find complete answers to these and other questions in the <a href=""https://github.com/gradle/gradle-script-kotlin/wiki/Frequently-Asked-Questions"">project FAQ</a>. Do let us know if you have a question that&rsquo;s not answered there.</p> <p>Of course, all this is just the beginning. We&rsquo;re happy to announce that Kotlin scripting support will be available in Gradle 3.0, and we&rsquo;ll be publishing more information about our roadmap soon. In the meantime, there&rsquo;s no need to wait&mdash;you can try out Gradle Script Kotlin for yourself right now by <a href=""https://github.com/gradle/gradle-script-kotlin/tree/master/samples#readme"">getting started with our samples</a>.</p> <p>And we hope you do, because we&rsquo;d love your feedback. We&rsquo;d love to hear what you think, and how you&rsquo;d like to see this new work evolve. You can file issues via the project&rsquo;s <a href=""https://github.com/gradle/gradle-script-kotlin/issues"">GitHub Issues</a> and please come chat with us in the #gradle channel of the public <a href=""http://kotlinslackin.herokuapp.com/"">Kotlin Slack</a>.</p> <p>I&rsquo;d like to say a big thanks to my colleague Rodrigo B. de Oliveira for the last few months of working together on this project&mdash;it&rsquo;s been a lot of fun! And a big thanks to the Kotlin team, in particular Ilya Chernikov and Ilya Ryzhenkov for being so responsive in providing us with everything we needed in the Kotlin compiler and Kotlin IDEA plugin. Onward!</p> http://gradle.org/blog/kotlin-meets-gradle/http://gradle.org/blog/kotlin-meets-gradle/KotlinGradleChris BeamsWed, 18 May 2016 00:00:00 GMT Gradle Elevates the Build to First-Class Programming With Kotlin Language<h2>Alliance between Gradle Inc. and JetBrains makes the Build a first-class citizen in Software Development</h2> <p>SAN FRANCISCO--(<a href=""http://www.businesswire.com/"">BUSINESS WIRE</a>)--Gradle Inc. today announced an alliance with JetBrains to provide a Kotlin-based Build Programming Language for Gradle, the popular open source build automation software.</p> <blockquote> <p>Build programming is advanced engineering&mdash; @Gradle @JetBrains alliance promotes @Kotlin-based builds #ElevateBuilds</p> </blockquote> <p>Why is this important? Historically, build automation has relied on simplistic shell scripts or inflexible XML files. This no longer works. In the age of Continuous Delivery and DevOps, builds have become a full-fledged engineering discipline. Today, a product&rsquo;s build is mission-critical; it automates and assembles, connects, tests, packages and&mdash;in many cases&mdash;deploys or ships that product. As such, the design, implementation and maintainability of build code demands first-class treatment. Today, Gradle is taking the next step in elevating the discipline of build automation by supporting writing Gradle builds in Kotlin&mdash;a modern, pragmatic, and statically-typed language developed by JetBrains. The result for Gradle users will be best-in-class usability and performance, and deep IDE support in IntelliJ IDEA and Eclipse&mdash;including refactoring, symbol navigation, code completion and content assist. Why is this important? Historically, build automation has relied on simplistic shell scripts or inflexible XML files. This no longer works. In the age of Continuous Delivery and DevOps, builds have become a full-fledged engineering discipline. Today, a product&rsquo;s build is mission-critical; it automates and assembles, connects, tests, packages and&mdash;in many cases&mdash;deploys or ships that product. As such, the design, implementation and maintainability of build code demands first-class treatment. Today, Gradle is taking the next step in elevating the discipline of build automation by supporting writing Gradle builds in Kotlin&mdash;a modern, pragmatic, and statically-typed language developed by JetBrains. The result for Gradle users will be best-in-class usability and performance, and deep IDE support in IntelliJ IDEA and Eclipse&mdash;including refactoring, symbol navigation, code completion and content assist.</p> <p>&ldquo;JetBrains is widely respected for their excellent products.&rdquo; said Hans Dockter, CEO and founder of Gradle Inc. &ldquo;This alliance is based on mutual technical admiration and a common goal to place the most effective tools in the hands of developers.&rdquo;</p> <p>Build programming is an advanced engineering discipline&mdash; @Gradle @JetBrains alliance promotes @Kotlin-based builds #ElevateBuilds</p> <p><strong>Modern Build Infrastructure, Largest Community</strong></p> <p>A majority of enterprises are already using Gradle to build and deliver mission-critical software written in dozens of programming languages and platforms including Java, Android, C, C++, Python, Kotlin, Groovy, Scala, Hadoop and many more. Gradle is the new market leader for build automation, with 10.4 million direct downloads in 2015, and is growing fast with nearly 2 million new direct downloads per month in 2016. Because Gradle is a core part of Google&rsquo;s Android Studio IDE (based on JetBrains&rsquo; IntelliJ IDEA), virtually every Android developer also uses Gradle. The fact that Google chose both JetBrains and Gradle Inc. for Android tooling further validates IntelliJ IDEA and Gradle as world-class technologies.</p> <p>&ldquo;The ultimate goal of Kotlin is to make developers&#x27; lives easier, and we&rsquo;re excited to partner with a great product like Gradle on this mission.&rdquo; said Andrey Breslav, Kotlin team lead at JetBrains. &ldquo;Together we&rsquo;ll create a unique experience to the benefit of Gradle&rsquo;s many users.&rdquo;</p> <p><strong>Advanced Customers Lead the Way</strong></p> <p>Mobile, SaaS, IoT and Container technologies along with modern DevOps practices have transformed the requirements for modern build systems. With the DevOps and Continuous Delivery age producing more and more complex automation requirements on the build, there is an increased need to see build code as first-class, performance optimized software&mdash;an enterprise asset as opposed to a collection of scattered, convenience scripts.</p> <p>&ldquo;We are building the future of software delivery for all enterprises by working closely and at a large scale with some of the best software teams in the world.&rdquo; said Adam Murdoch, CTO and co-founder of Gradle Inc. &ldquo;We see these teams increasing their investment in scaling up their automation pipeline to improve their ability to deliver software.&rdquo;</p> <p>With organizations running tens of thousands of builds a day, having a fast, maintainable, extensible build is required to be successful. Since build code has become a first-class citizen in software, the need for a statically-typed, elegant, high-performing build language with deep IDE integration led Gradle to embrace Kotlin.</p> <p><strong>Learn More at Gradle Summit 2016</strong></p> <p>Learn more about this development and much more at the Continuous Delivery conference of the year, Gradle Summit 2016 in Palo Alto CA June 23-24th. You can win a free ticket at <a href=""http://cts.businesswire.com/ct/CT?id=smartlink&amp;url=http%253A%252F%252Fgradle.org&amp;esheet=51343942&amp;newsitemid=20160517006230&amp;lan=en-US&amp;anchor=http%253A%252F%252Fgradle.org&amp;index=1&amp;md5=0a36f28ca4ba005bd64f525e4c278adf"">http://gradle.org</a>.</p> <p><strong>About Gradle</strong></p> <p>Gradle Inc. is a Silicon Valley startup whose mission is to transform how software is built and shipped. Gradle Inc. develops, distributes and supports the Gradle Platform&mdash;consisting of the popular Gradle open source build tool and Gradle.com commercial SaaS service. With approximately 2 million downloads per month, Gradle is the most popular build automation system world-wide. Powered by a unique Build Programming Language, Gradle also boasts an ecosystem with over eight hundred plugins supporting all facets of software development and deployment. Gradle is at the heart of the Continuous Delivery pipelines of some of the most advanced software companies in the world including LinkedIn, Netflix, Unity Technologies and many more. Gradle helps enterprises ship software faster, with fewer defects, and more continuously by unifying and automating build processes. Gradle Inc. also provides training, consulting and support for its customers. Our motto is &ldquo;Build Happiness&rdquo;. Learn more at <a href=""http://cts.businesswire.com/ct/CT?id=smartlink&amp;url=http%253A%252F%252Fgradle.org&amp;esheet=51343942&amp;newsitemid=20160517006230&amp;lan=en-US&amp;anchor=gradle.org&amp;index=2&amp;md5=3e96189fc8c662c318c35dfc5645b553"">gradle.org</a> and follow us on Twitter at <a href=""http://cts.businesswire.com/ct/CT?id=smartlink&amp;url=http%253A%252F%252Ftwitter.com%252Fgradle&amp;esheet=51343942&amp;newsitemid=20160517006230&amp;lan=en-US&amp;anchor=%2540Gradle&amp;index=3&amp;md5=83692a7d6b9a8e7968410ff7e19a8df2"">@Gradle</a>.</p> <p><strong>About JetBrains</strong></p> <p>JetBrains s.r.o. is a technology-leading software development firm specializing in the creation of intelligent, productivity-enhancing software. It maintains its headquarters in Prague, Czech Republic, with its R&amp;D labs located in St. Petersburg, Moscow, Munich and Boston. JetBrains employs over 600 people and is organically grown. Its product catalogue includes award-winning tools such as IntelliJ IDEA and ReSharper, and its IntelliJ Platform has been chosen by variety of companies to build their own tooling on, including Google&#x27;s Android Studio. For more information, see <a href=""http://cts.businesswire.com/ct/CT?id=smartlink&amp;url=https%253A%252F%252Fwww.jetbrains.com%252F&amp;esheet=51343942&amp;newsitemid=20160517006230&amp;lan=en-US&amp;anchor=www.jetbrains.com&amp;index=4&amp;md5=b00800605a6efcea3b36eed88b76c699"">www.jetbrains.com</a>.</p> http://www.businesswire.com/news/home/20160517006230/en/Gradle-Elevates-Build-First-Class-Programming-Kotlin-Languagehttp://www.businesswire.com/news/home/20160517006230/en/Gradle-Elevates-Build-First-Class-Programming-Kotlin-LanguageKotlinGradleBusinessWireTue, 17 May 2016 11:16:00 GMT Kotlin 1.0.2 is Here<p>We&rsquo;re happy to announce the release of Kotlin 1.0.2, the second bugfix and tooling update for Kotlin. In addition to compiler and language bugfixes, Kotlin 1.0.2 adds a number of major features to the IDE and the build tools.</p> <h3>Incremental Compilation in Gradle and the IDE</h3> <p>The new release continues our work on Kotlin incremental compilation support, speeding up the turnaround time during development. Incremental compilation in the IDE (which was previously marked as experimental) is now enabled by default. Also, the long-awaited support for <strong>incremental compilation in Gradle builds</strong> is now there.</p> <p>To enable incremental compilation for Gradle, you need to set the <strong>kotlin.incremental</strong> property to true (for example, by adding the line <code>kotlin.incremental=true</code> to the <code>gradle.properties</code> file in the root directory of your project).</p> <h3>Android Lint Checks</h3> <p>Kotlin 1.0.2 introduces support for <strong>Android Lint checks</strong> for Kotlin code, ensuring that issues like using the API not available in the Android version you&rsquo;re targeting are correctly detected.</p> <p>The set of checks supported in Kotlin 1.0.2 corresponds to the checks supported in Android Studio 1.5; checks added or improved in Android Studio 2.0 will be supported in the next release of Kotlin. Also, the current version runs Lint checks for Kotlin code only inside the IDE (as part of on-the-fly code inspections, or in batch mode through Analyze | Inspect Code). Running checks from the command line will be supported in the next release.</p> <h3>Compact Standard Library</h3> <p>One other improvement relevant for Android developers is that the size of the standard library has been reduced by ~1500 methods (from approximately 6600 to 5100). Even before this change, the library was <a href=""https://github.com/SidneyXu/AndroidDemoIn4Languages"">smaller than those of Kotlin&rsquo;s main competitors</a>, and now the situation is even better. Of course, the library is still fully binary compatible.</p> <h3>Java 7/8 Support Libraries</h3> <p>As a temporary workaround for better Java 7/8 support before full support is introduced in Kotlin 1.1, we&rsquo;re now providing support libraries that expose the APIs added in Java 7 and 8 (such as the Stream API) as extension functions on Kotlin standard library classes. See the <a href=""https://discuss.kotlinlang.org/t/jdk7-8-features-in-kotlin-1-0/1625"">forum post</a> for instructions on using the libraries.</p> <h3>IntelliJ IDEA Plugin features</h3> <p>The IntelliJ IDEA plugin has gained a number of major new features:</p> <ul> <li>For users of Android Studio, there&rsquo;s now a possibility to create a <strong>new activity</strong> in Kotlin;</li> <li>For users of IntelliJ IDEA Ultimate, there is now initial support for the <strong>Spring Framework</strong>, including inspections, line markers, SpEL language injection support, actions to generate dependencies, and more;</li> <li>A bunch of <strong>inspections and quickfixes</strong> have been added, such as an inspection for highlighting <code>var</code>s that can be <code>val</code>;</li> <li>Improvements to Gradle integration, debugger, formatter, refactorings and other areas of the plugin.</li> </ul> <h3>JavaScript support</h3> <p>We&rsquo;ve resumed work on our JavaScript backend, and the version 1.0.2 fills in most of the remaining gaps in the language feature support when targeting JavaScript. Newly supported features include nested classes, local classes, non-local returns in local lambdas, unsafe casts and more.</p> <h3>Maven Archetype</h3> <p>We&rsquo;re now providing a Maven archetype to easily create Kotlin projects. Use &ldquo;New project | Maven | Create from Archetype...&rdquo; in IntelliJ IDEA, or the following command line:</p> <pre><code class=""hljs language-kotlin"">mvn archetype:generate -Dfilter=org.jetbrains.kotlin:</code></pre> <h3>Dokka 0.9.8</h3> <p>Together with Kotlin 1.0.2, we&rsquo;re releasing a new version of <a href=""https://github.com/kotlin/dokka"">Dokka</a>, the Kotlin documentation generation tool. If you&rsquo;re using Dokka in your project, you need to upgrade Dokka together with Kotlin, because older Dokka versions are incompatible with Kotlin 1.0.2. New features in Dokka 0.9.8 include:</p> <ul> <li>Android Gradle plugin, for generating documentation for Android libraries and applications;</li> <li>Support for generating a javadoc jar file in the Maven plugin.</li> </ul> <h3>Conclusion</h3> <p>You can see the full list of bugfixes and changes to the compiler, standard library and the tools in the <a href=""https://github.com/JetBrains/kotlin/blob/1.0.2/ChangeLog.md"">changelog</a>.</p> <p>While working on the release, we received a lot of valuable feedback from the users of the <a href=""https://discuss.kotlinlang.org/t/kotlin-1-0-2-eap/1581"">Early Access Preview builds</a>. We&rsquo;re really grateful to everyone who has provided feedback, and we welcome you to join the EAP program for future updates.</p> <p>As usual, if you run into any problems with the new release, you&rsquo;re welcome to ask for help on the <a href=""https://discuss.kotlinlang.org/"">forums</a>, on Slack (get an invite <a href=""http://kotlinslackin.herokuapp.com/"">here</a>), or to report issues in the <a href=""https://youtrack.jetbrains.com/issues/KT"">issue tracker</a>.</p> http://blog.jetbrains.com/kotlin/2016/05/kotlin-1-0-2-is-here/http://blog.jetbrains.com/kotlin/2016/05/kotlin-1-0-2-is-here/KotlinReleaseDmitry JemerovFri, 13 May 2016 00:00:00 GMT Kosent<p>I&#x27;ve just released <a href=""https://github.com/dmcg/konsent"">Kosent</a>, an acceptance testing library for Kotlin.</p> <p>The basic idea is that you can write your tests in a nice IDE-friendly and refactorable Kotlin DSL, but they generate Gherkin that your customer can read and approve as the spec.</p> <p>So you write this</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-meta"">@RunWith(Konsent::class)</span> <span class=""hljs-meta"">@Preamble( <span class=""hljs-meta-string"">""As a developer named Duncan""</span>, <span class=""hljs-meta-string"">""I want to know that example.com is up and running""</span>)</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">KonsentExampleTests</span> : <span class=""hljs-type"">ChromeAcceptanceTest</span></span>() { <span class=""hljs-keyword"">val</span> duncan = actorNamed(<span class=""hljs-string"">""Duncan""</span>) <span class=""hljs-meta"">@Scenario(1)</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> `Example_dot_com loads`<span class=""hljs-params"">()</span></span> { Given(duncan).loadsThePageAt(<span class=""hljs-string"">""http://example.com""</span>) Then(duncan) { shouldSee(::`the page location`, pathContains(<span class=""hljs-string"">""example.com""</span>)) shouldSee(::`the page title`, equalTo(<span class=""hljs-string"">""Example Domain""</span>)) shouldSee(::`the page content`, containsALink(<span class=""hljs-string"">""More information...""</span>, <span class=""hljs-string"">""http://www.iana.org/domains/example""</span>)) } } <span class=""hljs-meta"">@Scenario(2, <span class=""hljs-meta-string"">""Following a link from example.com""</span>)</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">cant_have_dots_in_quoted_method_names</span><span class=""hljs-params"">()</span></span> { Given(duncan).loadsThePageAt(<span class=""hljs-string"">""http://example.com""</span>) When(duncan).followsTheLink(<span class=""hljs-string"">""More information...""</span>, <span class=""hljs-string"">""http://www.iana.org/domains/example""</span>) Then(duncan).shouldSee(::`the page location`, equalTo(URI(<span class=""hljs-string"">""http://www.iana.org/domains/reserved""</span>))) } <span class=""hljs-meta"">@Scenario(3)</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> `Dispensing with the given <span class=""hljs-keyword"">when</span> then`<span class=""hljs-params"">()</span></span> { duncan.he.loadsThePageAt(<span class=""hljs-string"">""http://example.com""</span>) duncan.he.followsTheLink(<span class=""hljs-string"">""More information...""</span>, <span class=""hljs-string"">""http://www.iana.org/domains/example""</span>) duncan.shouldSee(::`the page location`, equalTo(URI(<span class=""hljs-string"">""http://www.iana.org/domains/reserved""</span>))) } }</code></pre> <p>and they read this</p> <pre><code class=""hljs language-gherkin"">Feature: Konsent Example Tests As a developer named Duncan I want to know that example.com is up and running Scenario: Example_dot_com loads Given Duncan loads the page at ""http://example.com"" Then Duncan sees the page location ""location contains ""example.com"" and Duncan sees the page title is equal to ""Example Domain"" and Duncan sees the page content contains a link [More information...](http://www.iana.org/domains/example) Scenario: Following a link from example.com Given Duncan loads the page at ""http://example.com"" When Duncan follows the link [More information...](http://www.iana.org/domains/example) Then Duncan sees the page location is equal to http://www.iana.org/domains/reserved Scenario: Dispensing with the given when then Duncan loads the page at ""http://example.com"" Duncan follows the link [More information...](http://www.iana.org/domains/example) Duncan sees the page location is equal to http://www.iana.org/domains/reserved</code></pre> <p>Thanks to my patrons at <a href=""http://springernature.com"">Springer Nature</a>, on whose dime this approach has been developed. We&#x27;re hiring, so <a href=""https://twitter.com/duncanmcg"">get in touch</a> if you&#x27;re in London and this stuff interests you.</p> <p>Stay tuned - I&#x27;m planning a post soon on how to implement a DSL like this in Kotlin.</p> http://oneeyedmen.com/konsent.htmlhttp://oneeyedmen.com/konsent.htmlTestingKotlinDuncan McGregorThu, 12 May 2016 00:00:00 GMT Testing in Kotlin<p>Following on from my recent article on Kotlin for Scala developers, in this blog I&rsquo;ll introduce how you can use the <a href=""https://github.com/kotlintest/kotlintest"">KotlinTest</a> framework to write unit tests in Kotlin, which is a great way to begin exploring Kotlin.</p> <p>KotlinTest is based on <a href=""http://www.scalatest.org/"">ScalaTest</a> (a superb jUnit like test framework created by Bill Venners) and offers the same choice of testing styles as well as many assertions and helpers for matching through the use of a light DSL.</p> <p>To use KotlinTest first add the dependencies to your build. We&rsquo;ll assume you&rsquo;re using gradle (but obviously Maven is fine too).</p> <pre><code class=""hljs language-kotlin"">compile <span class=""hljs-string"">'io.kotlintest:kotlintest:1.1.1'</span></code></pre> <p>Then we can create a test. Each test must extend from one of the spec classes. Each spec class offers a different way of laying out your tests. Some are very similar and similar to jTest&rsquo;s @Test annotation, and some are more complicated offering BDD style descriptions.</p> <h3>Testing Styles</h3> <p>Lets give an example of the FlatSpec, which allows you to write tests like this:</p> <pre><code class=""hljs language-kotlin"">class SomeTests : FlatSpec() { init { ""ListStack.pop"" should ""return the last element from stack” { // your test here } ""ListStack.pop"" should ""remove the element from the stack"" { // another test } } }</code></pre> <p>As you can see, you start with some text, then the keyword should, then some more text, and finally the test as a block. This gives you a readable description of what your test is doing. The split of the test description into two parts means that the IDE / build tools can nest the test output into something like:</p> <p>ListStack.pop should</p> <ul> <li>return the last element from stack ok</li> <li>remove the element from the stack ok</li> </ul> <p>All tests need to be placed inside the init {} block. For those of you coming from a Scala background, this is because Kotlin doesn&rsquo;t allow the body of the class to be treated as the constructor like you can in Scala.</p> <p>A quick example of another style is WordSpec, in which the tests are nested. So,</p> <p>&quot;ListStack.pop&quot; should { &quot;remove the last element from stack&quot; { // test 1 } }</p> <p>&quot;ListStack.peek&quot; should { &quot;should leave the stack unmodified&quot; { // test 2 } }</p> <p>I think this is fairly self explanatory. The rest of the testing styles are available on the KotlinTest homepage.</p> <h3>Matchers</h3> <p>Let&#x27;s move onto the matchers. When writing your tests in Java, it is common to use assertions like assertEquals(a, b). This is fine, but we can do something a bit more readable with KotlinTest. As a simple example, to assert two values are equal, we can say</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-string"">""a""</span> shouldBe <span class=""hljs-string"">""a""</span> or <span class=""hljs-string"">""a""</span> shouldEqual <span class=""hljs-string"">""a""</span></code></pre> <p>We can do clever things with strings:</p> <pre><code class=""hljs language-kotlin"">someStr should start with <span class=""hljs-string"">""foo""</span> someStr should end with <span class=""hljs-string"">""bar""</span> someStr should have substring <span class=""hljs-string"">""xxx""</span></code></pre> <p>Or with collections</p> <pre><code class=""hljs language-kotlin"">myList should have size <span class=""hljs-number"">4</span> mySet should contain element <span class=""hljs-string"">""a""</span></code></pre> <p>There are many matchers available for collections, strings, longs, ints, etc.</p> <p>Sometimes we need to assert that an exception is thrown under certain conditions. The typical way to do this in other test frameworks is to wrap the code in a try/catch and then assert false at the bottom of the try, eg</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">try</span> { <span class=""hljs-comment"">// this code should throw an exception</span> assert(<span class=""hljs-literal"">false</span>) } <span class=""hljs-keyword"">catch</span> (Exception e) { <span class=""hljs-comment"">// good</span> }</code></pre> <p>We can remove this boilerplate in KotlinTest using the <code>shouldThrow&lt;T&gt;</code> function. Just wrap your code with this function, replacing T with the type (or supertype) of Exception you want to catch, eg</p> <pre><code class=""hljs language-kotlin"">shouldThrow&lt;IllegalArgumentException&gt; { <span class=""hljs-comment"">// code that should throw an exception</span> }</code></pre> <p>One of the more tricky things in testing, is when you have code that completes non-deterministically. Perhaps you&rsquo;re sending off an async call and need to wait until a reply comes back.</p> <p>The naive way to do this is to sprinkle your test code with Thread.sleeps but how long to wait? You don&rsquo;t want the time-out to expire prematurely. So if your call takes 2 seconds to complete, you set your sleep to 5 seconds. Until the time your build server is running slow, and 5 seconds wasn&#x27;t enough, so you set it to 15 seconds. But now you wait 15 seconds every time regardless.</p> <p>Another tool is to use countdown latches, and these are often my preferred choice. Have some code trigger the latch once it&#x27;s completed (i.e. in a callback) and have the main test thread block on the latch.</p> <p>If that doesn&#x27;t work, KotlinTest introduces the eventually function. This allows you to repeatedly probe for a test condition and once it passes the function will return. This means you can wait up to a set time, but no more. It&rsquo;s very easy to use, you just supply the max time you&rsquo;re prepared to wait before considering it a failure. Extend the Eventually interface in your test class, e.g.:</p> <pre><code class=""hljs language-kotlin"">Class MyTest : FlatSpec(), Eventually { Init { <span class=""hljs-string"">""This test""</span> should <span class=""hljs-string"">""finish quickly""</span> { eventually(<span class=""hljs-number"">5</span>, TimeUnit.SECONDS) { <span class=""hljs-comment"">// code here</span> } } } }</code></pre> <p>Now if the assertions doesn&#x27;t pass within 5 seconds, the test will fail. If the assertions pass quicker than 5 seconds, your test will return as soon as it can.</p> <p>KotlinTest borrows another feature from ScalaTest in the form of inspectors. Inspectors are helpers for assertions on elements of collections.</p> <p>Let&#x27;s suppose you wanted to test that a collection of strings had one at most one string &ldquo;root&rdquo;, and the rest of the elements were not &ldquo;root&rdquo;, you could do this:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> count = strings.count { it == <span class=""hljs-string"">""root""</span> } (count ==<span class=""hljs-number"">0</span> || count == <span class=""hljs-number"">1</span>) shouldBe <span class=""hljs-literal"">true</span></code></pre> <p>We can do this very easily using an inspector called forAtMostOne. This function will assert that there either zero or one elements pass the assertions, otherwise the test fails.</p> <pre><code class=""hljs language-kotlin"">forAtMostOne(strings) { it == <span class=""hljs-string"">""root""</span> }</code></pre> <p>There are many inspectors: forAll, forNone, forSome, forExactly(k), forAtMostOne, forAtLeastOne. The full list can be found <a href=""https://github.com/kotlintest/kotlintest#inspectors"">here</a></p> <p>Another quick example to assert that in a collection of people, some of them are called David some live in London, and some work for 51zero. (By some we mean at least 1, but not all).</p> <pre><code class=""hljs language-kotlin"">forSome(people) { it .firstName() shouldBe <span class=""hljs-string"">""David""</span> } forSome(people) { it .location() shouldBe <span class=""hljs-string"">""London""</span> } forSome(people) { it .employer() shouldBe <span class=""hljs-string"">""51zero""</span> }</code></pre> <p>Writing that without an inspector would be at least a few lines longer.</p> <p>The final thing I want to mention is setting up and tearing down tests. We can do this before and after each test, or before and after each test suite (test suite is the class file). To do this we just override whichever methods we need, e.g.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">override</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">beforeEach</span><span class=""hljs-params"">()</span></span> { println(<span class=""hljs-string"">""Test starting""</span>) } <span class=""hljs-keyword"">override</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">afterEach</span><span class=""hljs-params"">()</span></span> { println(<span class=""hljs-string"">""Test completed""</span>) } <span class=""hljs-keyword"">override</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">beforeAll</span><span class=""hljs-params"">()</span></span> { println(<span class=""hljs-string"">""Setting up my tests""</span>) } <span class=""hljs-keyword"">override</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">afterAll</span><span class=""hljs-params"">()</span></span> { println(<span class=""hljs-string"">""Cleaning up after my tests""</span>) }</code></pre> <p>That&rsquo;s all for now. This should help get you up and running and using Kotlin in your projects. In the next article, we&rsquo;ll write about how you can create custom matchers to allow your own DSL syntax for complicated matchers.</p> <p>Please let <a href=""http://www.51zero.com/about"">us</a> know your experience of testing in Kotlin in the comments below.</p> http://www.51zero.com/blog/testing-in-kotlinhttp://www.51zero.com/blog/testing-in-kotlinKotlinTestingStephen SamuelTue, 10 May 2016 00:00:00 GMT JMock and Kotlin<p><a href=""http://www.jmock.org/"">JMock</a> may have lost the mocking war, but for the London crowd it&#x27;s still the go-to mocking tool. It turns out that a little Kotlin fairy-dust can make it even more expressive.</p> <p>In <a href=""/mocks-v-approvals-tests-part2.html"">my last post</a> we saw a pretty vanilla use of JMock. In fact there was <em>one</em> nice Kotlin&#x27;ism, defining an extension method on Mockery. So where in Java we would write</p> <pre><code class=""hljs language-java"">mockery.checking(<span class=""hljs-keyword"">new</span> Expectations() { { oneOf(progress).reset(<span class=""hljs-number"">2</span>); oneOf(indexer).createIndex(); } })</code></pre> <p>in Kotlin, by defining</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> Mockery.<span class=""hljs-title"">expecting</span><span class=""hljs-params"">(block: <span class=""hljs-type"">MyExpectations</span>.()</span></span> -&gt; <span class=""hljs-built_in"">Unit</span>) { <span class=""hljs-keyword"">this</span>.checking(MyExpectations().apply(block)) }</code></pre> <p>we can write</p> <pre><code class=""hljs language-kotlin"">mockery.expecting { oneOf(progress).reset(2) oneOf(indexer).createIndex() }</code></pre> <p>In addition, in the name of more readable tests, I had added a subclass of Expectations to allow me to write, for example</p> <pre><code class=""hljs language-kotlin"">mockery.expecting { givenActiveJournalIds( <span class=""hljs-string"">""1""</span> to throwException(RuntimeException(<span class=""hljs-string"">""oops""</span>)), <span class=""hljs-string"">""2""</span> to returnValue(journal2)) } ...</code></pre> <p>This was achieved with</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">MyExpectations</span> : <span class=""hljs-type"">Expectations</span></span>() { <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">givenActiveJournalIds</span><span class=""hljs-params"">(<span class=""hljs-keyword"">vararg</span> idResultPairs: <span class=""hljs-type"">Pair</span>&lt;<span class=""hljs-type"">String</span>, Action&gt;)</span></span> { allowing(journals).loadActiveIds() will(returnValue(idResultPairs.map { it.first })) idResultPairs.forEach { pair -&gt; allowing(journals).loadJournalWithArticles(pair.first, <span class=""hljs-number"">99</span>) will(pair.second) } } }</code></pre> <p>which is tighter in Kotlin, but nothing that you couldn&#x27;t do in Java.</p> <p>Looking at a one of the tests, this plugs together into something like</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-meta"">@Test</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">reports_exceptions_and_continues</span><span class=""hljs-params"">()</span></span> { mockery.expecting { <span class=""hljs-keyword"">val</span> x = RuntimeException(<span class=""hljs-string"">""oops""</span>) givenActiveJournalIds( <span class=""hljs-string"">""1""</span> to throwException(x), <span class=""hljs-string"">""2""</span> to returnValue(journal2)) oneOf(progress).reset(<span class=""hljs-number"">2</span>) oneOf(indexer).createIndex() never(indexer).index(JournalJson(journal1)) oneOf(progress).exception(<span class=""hljs-string"">""1""</span>, x) oneOf(indexer).index(JournalJson(journal2)) oneOf(progress).indexed(journal2) } refresher.refresh(journals, indexer, emptySet()) }</code></pre> <p>This isn&#x27;t bad, but one of JMock&#x27;s problems is that it doesn&#x27;t differentiate between interactions that are queries, and those that are operations. In this case the refresher queries the <code>journals</code> to find what needs to be indexed, then operates on the <code>indexer</code> to add them. Introducing <code>givenActiveJournalIds</code> gives a clue, but it would be nice to see the split more formally.</p> <p>What I&#x27;d like to see is</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-meta"">@Test</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">reports_exceptions_and_continues</span><span class=""hljs-params"">()</span></span> { <span class=""hljs-keyword"">val</span> x = RuntimeException(<span class=""hljs-string"">""oops""</span>) mockery.given { activeJournalIds( <span class=""hljs-string"">""1""</span> to throwException(x), <span class=""hljs-string"">""2""</span> to returnValue(journal2)) }.whenRunning { refresher.refresh(journals, indexer, emptySet()) }.thenExpect { oneOf(progress).reset(<span class=""hljs-number"">2</span>) oneOf(indexer).createIndex() never(indexer).index(JournalJson(journal1)) oneOf(progress).exception(<span class=""hljs-string"">""1""</span>, x) oneOf(indexer).index(JournalJson(journal2)) oneOf(progress).indexed(journal2) } }</code></pre> <p>This can be achieved through 2 extension methods and a little class -</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> Mockery.<span class=""hljs-title"">expecting</span><span class=""hljs-params"">(expectations: <span class=""hljs-type"">Expektations</span>.()</span></span> -&gt; <span class=""hljs-built_in"">Unit</span>): Mockery { <span class=""hljs-keyword"">this</span>.checking(Expektations().apply(expectations)) <span class=""hljs-keyword"">return</span> <span class=""hljs-keyword"">this</span> } <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> Mockery.<span class=""hljs-title"">whenRunning</span><span class=""hljs-params"">(block: ()</span></span> -&gt; <span class=""hljs-built_in"">Unit</span>) = ThenClause(<span class=""hljs-keyword"">this</span>, block) <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">ThenClause</span></span>(<span class=""hljs-keyword"">private</span> <span class=""hljs-keyword"">val</span> mockery: Mockery, <span class=""hljs-keyword"">private</span> <span class=""hljs-keyword"">val</span> block: () -&gt; <span class=""hljs-built_in"">Unit</span>) { <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">thenExpect</span><span class=""hljs-params"">(expectations: <span class=""hljs-type"">Expektations</span>.()</span></span> -&gt; <span class=""hljs-built_in"">Unit</span>) { mockery.expecting(expectations) block() mockery.assertIsSatisfied() } }</code></pre> <p>Actually that trick <a href=""https://github.com/dmcg/nowthen"">can be played in Java 8 too</a>.</p> <p>If you&#x27;re really eagle-eyed, you may have noticed <code>Expektations</code> pop up in that example. That&#x27;s to support my final trick, an extension method on <code>Nothing</code>. Why?</p> <p>Well what if we wanted to simulate an exception in the indexing?</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-meta"">@Test</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> `reports exceptions <span class=""hljs-keyword"">in</span> indexing and continues`<span class=""hljs-params"">()</span></span> { <span class=""hljs-keyword"">val</span> x = RuntimeException(<span class=""hljs-string"">""oops""</span>) mockery.given { activeJournalIds( <span class=""hljs-string"">""1""</span> to returnValue(journal1), <span class=""hljs-string"">""2""</span> to returnValue(journal2)) }.whenRunning { refresher.refresh(journals, indexer, emptySet()) executor.runUntilIdle() }.thenExpect { oneOf(progress).reset(<span class=""hljs-number"">2</span>) oneOf(indexer).createIndex() oneOf(indexer).index(JournalJson(journal1)) will(throwException(x)) oneOf(progress).exception(<span class=""hljs-string"">""1""</span>, x) oneOf(indexer).index(JournalJson(journal2)) oneOf(progress).indexed(journal2) } }</code></pre> <p>That <code>will()</code> as a separate statement has always bothered me about JMock - it should bind to the previous statement, but can&#x27;t because <code>indexer.index(...)</code> returns <code>Unit</code> (<code>void</code> in Java). In Kotlin we can define</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Expektations</span>: <span class=""hljs-type"">Expectations</span></span>() { <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> Any?.<span class=""hljs-title"">will</span><span class=""hljs-params"">(action: <span class=""hljs-type"">Action</span>)</span></span> = <span class=""hljs-keyword"">super</span>.will(action) <span class=""hljs-comment"">// fun Nothing.will(action: Action) = super.will(action) Update 2016-05-17 - looks like this isn't needed, as Unit extends Any</span> }</code></pre> <p>and now within our expectation blocks we can write</p> <pre><code class=""hljs language-koklin"">{ oneOf(indexer).index(JournalJson(journal1)).will(throwException(x)) // or allowing(journals).loadJournalWithArticles(""1"", 99).will(returnValue(journal1)) }</code></pre> <p>With a bit of work I think that would allow a typed JMock <code>Action</code> so that you could only <code>returnValue</code> with the correct type, but I haven&#x27;t pulled on that thread yet.</p> <p>The final bonus marks in this post go for spotting</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-meta"">@Test</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> `reports exceptions <span class=""hljs-keyword"">in</span> indexing and continues`<span class=""hljs-params"">()</span></span></code></pre> <p>Ignoring the fact that it breaks <a href=""http://prismjs.com/"">Prism</a>&#x27;s Kotlin highlighter, this hack was pointed out by <a href=""http://natpryce.com"">Nat Pryce</a> - backticks allow spaces in method names, giving beautifully readable specs in code and test runners.</p> http://www.oneeyedmen.com/jmock-and-kotlin.htmlhttp://www.oneeyedmen.com/jmock-and-kotlin.htmlUnit TestingKotlinDuncan McGregorSun, 01 May 2016 00:00:00 GMT Exercises in Kotlin: Part 5 - Classes<p>After the last post <a href=""http://dnblog.ddesk/2016/04/exercises-in-kotlin-part-4-control-flows-and-return/"">Exercises in Kotlin: Part 4 - Control flows and return</a>, we shall be exploring classes and objects in the exercises in this post. While retaining many similarities to Java classes, there are actually significant differences in syntax as well and these help classes become a little easier to work with in Kotlin. And save a lot of unnecessary boilerplate code.</p> <h2>Minimalist Syntax</h2> <p>Probably the minimalistic (and for all practical purposes useless) declaration of a class in Kotlin will be</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Foo</span></span></code></pre> <h2>A typical class</h2> <p>Thats it. No constructor, no fields, no body. However as is obvious this is not particularly useful. Let us look at a more useful one.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Account</span> </span>(<span class=""hljs-keyword"">val</span> number: String, <span class=""hljs-keyword"">var</span> balance: BigDecimal) { <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">deposit</span><span class=""hljs-params"">(amount: <span class=""hljs-type"">BigDecimal</span>)</span></span> { balance += amount } <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">withdraw</span><span class=""hljs-params"">(amount: <span class=""hljs-type"">BigDecimal</span>)</span></span> { <span class=""hljs-keyword"">if</span> (balance &lt; amount) { <span class=""hljs-keyword"">throw</span> Exception(<span class=""hljs-string"">""Insufficient funds in the account""</span>) } balance -= amount } }</code></pre> <p>Here <code>Account</code> is the class name. It has two properties <code>number</code> which is a <code>String</code> and <code>balance</code> which is a <code>BigDecimal</code>. Another aspect is <code>number</code> is a read-only property ie. you can&#x27;t change the value within the body of the class (say in a method) after one is provided at the construction time. As mentioned in an earlier post read-only properties (aka <code>final</code> in Java terms) are identified by the keyword <code>val</code>, while read-write properties are identified by <code>var</code>. Notice the succinct constructor. The properties of the class that are required by the primary constructor are specified immediately after the class name within parenthesis. You can have variables declared in the constructor that are neither <code>val</code>s nor <code>var</code>s. However they can be used only during construction time and do not become properties of the class (more about that later). Thus unlike Java you don&#x27;t need to write constructors just in order copy values from the constructor parameter to a member field. Also unlike Java you do not need to write getter/ setter methods in most cases (though you could if you had a specific reason to write custom getter/setters).</p> <p>Client code for the account class could perhaps use it as follows. Do note that the object is instantiated using the <code>ClassName(parameter_list)</code> construct. It is essentially similar to Java except that there is no <code>new</code> keyword preceding it.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-comment"">// Instantiate object</span> <span class=""hljs-keyword"">val</span> acc1 = Account(<span class=""hljs-string"">""123""</span>, BigDecimal(<span class=""hljs-string"">""456.70""</span>)) <span class=""hljs-comment"">// get value of a property and print it</span> println(acc1.number) <span class=""hljs-comment"">// invoke a method</span> acc1.deposit(BigDecimal(<span class=""hljs-string"">""234.56""</span>)) <span class=""hljs-comment"">// change the value of a property</span> acc1.balance = BigDecimal(<span class=""hljs-string"">""567.89""</span>)</code></pre> <h2>Member Visibility</h2> <p>Now <code>balance</code> needs to be a <code>var</code> since it changes. But some might be disappointed at how it can be modified from outside the class. One solution would be to make it a <code>private var</code> as follows</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Account</span> </span>(<span class=""hljs-keyword"">val</span> number: String, <span class=""hljs-keyword"">private</span> <span class=""hljs-keyword"">var</span> balance: BigDecimal) { <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">deposit</span><span class=""hljs-params"">(amount: <span class=""hljs-type"">BigDecimal</span>)</span></span> { balance += amount } <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">withdraw</span><span class=""hljs-params"">(amount: <span class=""hljs-type"">BigDecimal</span>)</span></span> { <span class=""hljs-keyword"">if</span> (balance &lt; amount) { <span class=""hljs-keyword"">throw</span> Exception(<span class=""hljs-string"">""Insufficient funds in the account""</span>) } balance -= amount } } <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">somewhereElse</span><span class=""hljs-params"">()</span></span> { <span class=""hljs-keyword"">val</span> acc1 = Account(<span class=""hljs-string"">""123""</span>, BigDecimal(<span class=""hljs-string"">""456.70""</span>)) <span class=""hljs-comment"">// The following wouldn't compile</span> acc1.balance = BigDecimal(<span class=""hljs-string"">""567.89""</span>) <span class=""hljs-comment"">// But neither would the following line</span> println(acc1.balance) }</code></pre> <p>What if you wanted it to be read-only from outside the class but read-write within the class? You could choose to use the following approach of passing in a parameter to the constructor, using it to declare another property within the body of the class and then declaring that variable to have a private setter. Note that in this case <code>initBalance</code> is simply a parameter passed to the constructor (since it is not declared as either a <code>val</code> or a <code>var</code>), and can be accessed in a read only fashion only during the construction stage. (Thus other methods cannot use this parameter)</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Account</span> </span>(<span class=""hljs-keyword"">val</span> number: String, initBalance: BigDecimal) { <span class=""hljs-keyword"">var</span> balance = initBalance <span class=""hljs-keyword"">private</span> <span class=""hljs-keyword"">set</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">deposit</span><span class=""hljs-params"">(amount: <span class=""hljs-type"">BigDecimal</span>)</span></span> { balance += amount } <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">withdraw</span><span class=""hljs-params"">(amount: <span class=""hljs-type"">BigDecimal</span>)</span></span> { <span class=""hljs-keyword"">if</span> (balance &lt; amount) { <span class=""hljs-keyword"">throw</span> Exception(<span class=""hljs-string"">""Insufficient funds in the account""</span>) } balance -= amount } }</code></pre> <h2>Multiple constructors</h2> <p>Now let us assume that we wish to allow the constructor to use a String based value for balance though the balance property on the account should continue to be a BigDecimal. You could modify the class as follows.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Account</span> </span>(<span class=""hljs-keyword"">val</span> number: String, initBalance: String) { <span class=""hljs-keyword"">var</span> balance = BigDecimal(initBalance) <span class=""hljs-keyword"">private</span> <span class=""hljs-keyword"">set</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">deposit</span><span class=""hljs-params"">(amount: <span class=""hljs-type"">BigDecimal</span>)</span></span> { balance += amount } <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">withdraw</span><span class=""hljs-params"">(amount: <span class=""hljs-type"">BigDecimal</span>)</span></span> { <span class=""hljs-keyword"">if</span> (balance &lt; amount) { <span class=""hljs-keyword"">throw</span> Exception(<span class=""hljs-string"">""Insufficient funds in the account""</span>) } balance -= amount } }</code></pre> <p>Here <code>balance</code> is being initialised by constructing a <code>BigDecimal</code> using the <code>String</code> value. But we know if the value passed in is not a number, a <code>NumberFormatException</code> will be thrown. But we can&#x27;t see that in the constructor declaration anywhere. Huh?</p> <p>I won&#x27;t dwell long on that, but note that Kotlin (unlike Java) does <em>NOT</em> use checked exceptions. Any method could throw any exception at any point in time and it does not have to be documented as a part of the method signature. A fuller discussion of this is beyond the scope of this post, but it should be stated that the conventional wisdom tends towards preferring unchecked exceptions and kotlin supports that style of programming.</p> <p>Now let us assume we wish to have both types of constructors, one taking the initial balance as a <code>String</code> and another as a BigDecimal. Each class can have one primary and zero or more secondary constructors, each one of them eventually calling the primary constructor via the keyword <code>this</code>. Note the parameter lists to secondary constructors cannot declare properties using <code>val</code> or <code>var</code> since these are anyways in turn declared by the primary constructor.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Account</span> </span>(<span class=""hljs-keyword"">val</span> number: String, initBalance: BigDecimal) { <span class=""hljs-keyword"">constructor</span>(number: String, initBalance: String) : <span class=""hljs-keyword"">this</span>(number, BigDecimal(initBalance)) <span class=""hljs-keyword"">var</span> balance = initBalance <span class=""hljs-keyword"">private</span> <span class=""hljs-keyword"">set</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">deposit</span><span class=""hljs-params"">(amount: <span class=""hljs-type"">BigDecimal</span>)</span></span> { balance += amount } <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">withdraw</span><span class=""hljs-params"">(amount: <span class=""hljs-type"">BigDecimal</span>)</span></span> { <span class=""hljs-keyword"">if</span> (balance &lt; amount) { <span class=""hljs-keyword"">throw</span> Exception(<span class=""hljs-string"">""Insufficient funds in the account""</span>) } balance -= amount } }</code></pre> <p>So far our constructors have been only initialising properties. But what if you wanted them to do more. I have shown the way to do so by adding additional <code>println()</code> statements during both the primary and secondary construction phases as below.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Account</span> </span>(<span class=""hljs-keyword"">val</span> number: String, initBalance: BigDecimal) { init { println(<span class=""hljs-string"">""Into primary constructor""</span>) } <span class=""hljs-keyword"">constructor</span>(number: String, initBalance: String) : <span class=""hljs-keyword"">this</span>(number, BigDecimal(initBalance)) { println(<span class=""hljs-string"">""Into secondary constructor""</span>) } <span class=""hljs-keyword"">var</span> balance = initBalance <span class=""hljs-keyword"">private</span> <span class=""hljs-keyword"">set</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">deposit</span><span class=""hljs-params"">(amount: <span class=""hljs-type"">BigDecimal</span>)</span></span> { balance += amount } <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">withdraw</span><span class=""hljs-params"">(amount: <span class=""hljs-type"">BigDecimal</span>)</span></span> { <span class=""hljs-keyword"">if</span> (balance &lt; amount) { <span class=""hljs-keyword"">throw</span> Exception(<span class=""hljs-string"">""Insufficient funds in the account""</span>) } balance -= amount } }</code></pre> <p>As can be seen the non property initialisation of primary constructor can be done in the <code>init{...}</code> block. Similarly secondary constructors can also include a block at the end which lists out the necessary statements to be performed.</p> <h2>Data Classes</h2> <p>Very often we need basic classes which are primarily place holders for a collection of different values. Though java does not have an equivalent, in C, you would have called it a <code>struct</code> and in scala you would call it a <code>case class</code>. In Kotlin we have <code>data class</code>. eg.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">data</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Point</span></span>(<span class=""hljs-keyword"">val</span> x: <span class=""hljs-built_in"">Double</span>, <span class=""hljs-keyword"">val</span> y: <span class=""hljs-built_in"">Double</span>)</code></pre> <p>These classes are tailored for using them as collection of other properties.</p> <ul> <li>A data class automatically generates a sensible <code>equals()/hashcode()</code> functions for the class based on the properties declared in the primary constructor.</li> <li>A sensible <code>toString()</code> is automatically provided</li> <li>Another helper method <code>copy()</code> to selectively override some property values when creating a copy is also automatically provided.</li> <li>You can also use a data class similar to a record of values easily since it also generates <code>component1()</code>, <code>component2()</code>, ... <code>componentN()</code> functions which can treat the class as a record of sequence of properties (in the same order as declared in the primary constructor).</li> </ul> <p>Lets take a usage at a sample usage of the class above</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> p1 = Point(<span class=""hljs-number"">1.1</span>,<span class=""hljs-number"">2.2</span>) println(p1) println(p1.x) println(p1.component1()) <span class=""hljs-keyword"">val</span> p2 = p1.copy(x=<span class=""hljs-number"">3.3</span>) println(p2) <span class=""hljs-keyword"">val</span> (x, y) = p1 println(<span class=""hljs-string"">""""</span> + x + <span class=""hljs-string"">"":""</span> + y)</code></pre> <p>The output for the above will be as follows</p> <pre><code>Point(x=1.1, y=2.2) 1.1 1.1 Point(x=3.3, y=2.2) 1.1:2.2 </code></pre> <p>Note, how a second copy (<code>p2</code>) was easily created from the first while allowing the ability to override a few values. Also how the <code>point</code> object can be destructured into its component values, in this case <code>val</code>s <code>x</code> and <code>y</code>. If the <code>Point</code> class had 3 properties, we would have had to provide 3 variables on the left hand side of the assignment operator for it to succeed</p> <h2>Enum classes</h2> <p>Let us go back to the Account class example. Let us assume we wanted to add an account type member. Account type can either be <code>Savings</code> or <code>Current</code> (aka Checking). In order to allow the capability we will declare an enum class</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">enum</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">AccountType</span> </span>{ Savings, Current }</code></pre> <p>Now we can go ahead and modify the Account class as follows</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Account</span> </span>(<span class=""hljs-keyword"">val</span> number: String, initBalance: BigDecimal, <span class=""hljs-keyword"">val</span> type: AccountType){ ... } <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">somewhereElse</span><span class=""hljs-params"">()</span></span> { <span class=""hljs-keyword"">val</span> acc1 = Account(<span class=""hljs-string"">""123""</span>, BigDecimal(<span class=""hljs-string"">""456.7""</span>),AccountType.Savings) println(acc1.type) }</code></pre> <p>Now let us take a look at some of the sample usages of the enum class</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">somewhereElse</span><span class=""hljs-params"">()</span></span> { <span class=""hljs-comment"">// Iterate through all the enums</span> <span class=""hljs-keyword"">for</span>( accType <span class=""hljs-keyword"">in</span> AccountType.values()) { println(accType) } <span class=""hljs-comment"">// Every enum instance has two properties: name and ordinal</span> println(AccountType.Savings.name) println(AccountType.Current.ordinal) <span class=""hljs-comment"">// You can recreate an enum instance based on a String</span> println(AccountType.valueOf(<span class=""hljs-string"">""Savings""</span>)) }</code></pre> <p>This program will result in the following output</p> <pre><code>Savings Current Savings 1 Savings </code></pre> <p>Thus as you can see, <em>You could iterate through all the enum types by getting an array of all its possible types using</em> Every enum instance has two properties, a <code>name</code> which is a string and an <code>ordinal</code> which allows the enum values to be used a set of ordered values and allows them to be comparable. The name of course is the name as was provided in the declaration and ordinal is the sequence in the declaration of values. * You can use the string value of the enum to obtain an enum instance using <code>valueOf()</code></p> <p>Finally you can provide additional properties to each of the enum instances as follows</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">enum</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Color</span></span>(r: <span class=""hljs-built_in"">Int</span>, g: <span class=""hljs-built_in"">Int</span>, b: <span class=""hljs-built_in"">Int</span>) { Red(<span class=""hljs-number"">255</span>,<span class=""hljs-number"">0</span>,<span class=""hljs-number"">0</span>), Green(<span class=""hljs-number"">0</span>,<span class=""hljs-number"">255</span>,<span class=""hljs-number"">0</span>), Blue(<span class=""hljs-number"">0</span>,<span class=""hljs-number"">0</span>,<span class=""hljs-number"">255</span>) }</code></pre> <p>We have looked at the basics of classes in this post. We will look at inheritance next.</p> http://blog.dhananjaynene.com/2016/04/exercises-in-kotlin-part-5-classes/http://blog.dhananjaynene.com/2016/04/exercises-in-kotlin-part-5-classes/KotlinDhananjay NeneFri, 29 Apr 2016 00:00:00 GMT Exercises in Kotlin: Part 4 - Control flows and return<p>After <a href=""http://blog.dhananjaynene.com/2016/04/exercises-in-kotlin-part-3-functions/"">Exercises in Kotlin: Part 3 - Functions</a> we now take a look at control flows and actually doing some basic exercises.</p> <h2>if/else</h2> <p>As mentioned earlier, <code>if/else</code> is not just a statement but can also be used as an operator (in lieu of the ternary <code>? :</code> operator.</p> <p>As an example, a familiar way to have if/else statements would be as follows.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">greeting</span><span class=""hljs-params"">(hours: <span class=""hljs-type"">Int</span>)</span></span>: String { <span class=""hljs-keyword"">var</span> greeting: String = <span class=""hljs-literal"">null</span> <span class=""hljs-keyword"">if</span> (hours &lt; <span class=""hljs-number"">12</span>) { greeting = <span class=""hljs-string"">""Good Morning""</span> } <span class=""hljs-keyword"">else</span> <span class=""hljs-keyword"">if</span> (hours &lt; <span class=""hljs-number"">16</span>) { greeting = <span class=""hljs-string"">""Good Afternoon""</span> } <span class=""hljs-keyword"">else</span> { greeting = <span class=""hljs-string"">""Good Night""</span> } <span class=""hljs-keyword"">return</span> greeting }</code></pre> <p>But since if/else can be an expression as well, another way to write the function above would be</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">greeting2</span><span class=""hljs-params"">(hours: <span class=""hljs-type"">Int</span>)</span></span>: String = <span class=""hljs-string"">""Good ""</span> + <span class=""hljs-keyword"">if</span> (hours &lt; <span class=""hljs-number"">12</span>) { <span class=""hljs-string"">""Morning""</span> } <span class=""hljs-keyword"">else</span> <span class=""hljs-keyword"">if</span> (hours &lt; <span class=""hljs-number"">16</span>) { <span class=""hljs-string"">""Afternoon""</span> } <span class=""hljs-keyword"">else</span> { <span class=""hljs-string"">""Night""</span> }</code></pre> <h2>when</h2> <p>There is another expression that can be used instead of multiple nested if/else expressions or situations where you might use a switch/case block in Java. Using <code>when</code> the function above could be written as</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">greeting3</span><span class=""hljs-params"">(hours: <span class=""hljs-type"">Int</span>)</span></span>: String = <span class=""hljs-string"">""Good ""</span> + <span class=""hljs-keyword"">when</span> { hours &lt; <span class=""hljs-number"">12</span> -&gt; <span class=""hljs-string"">""Morning""</span> hours &lt; <span class=""hljs-number"">16</span> -&gt; <span class=""hljs-string"">""Afternoon""</span> <span class=""hljs-keyword"">else</span> -&gt; <span class=""hljs-string"">""Night""</span> }</code></pre> <p>Note that <code>when</code> is an expression and evaluates to a value (in the case above it would be &quot;Morning&quot;, &quot;Afternoon&quot; or &quot;Night&quot;. You could also use it more conventionally just to write other blocks of code eg.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">greeting4</span><span class=""hljs-params"">(hours: <span class=""hljs-type"">Int</span>)</span></span>: <span class=""hljs-built_in"">Unit</span> { <span class=""hljs-keyword"">when</span> { hours &lt; <span class=""hljs-number"">12</span> -&gt; { println(<span class=""hljs-string"">""Morning""</span>) } hours &lt; <span class=""hljs-number"">16</span> -&gt; { println(<span class=""hljs-string"">""Afternoon""</span>) } <span class=""hljs-keyword"">else</span> -&gt; { println(<span class=""hljs-string"">""Night""</span>) } } }</code></pre> <p>As you can note, there is no break statement (unlike switch case), and the right hand side of the conditions can be blocks which consist of multiple statements. If used as a part of a when expression, the value returned by a block is the one returned by the last expression in the block.</p> <p>When used as an expression, the compiler expects the conditions to be exhaustive and thus many times you might need to add an else block. However the else block is not required when used as a statement.</p> <p>There are many other things you can do including checking the actual instance or just the value as shown in the rather arbitrary example below</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">anotherWhen</span><span class=""hljs-params"">(any: <span class=""hljs-type"">Any</span>)</span></span>: Any = <span class=""hljs-keyword"">when</span>(any) { (any <span class=""hljs-keyword"">is</span> <span class=""hljs-built_in"">Int</span> &amp;&amp; any &lt; <span class=""hljs-number"">10000</span>) -&gt; <span class=""hljs-string"">""Small Number""</span> <span class=""hljs-keyword"">is</span> <span class=""hljs-built_in"">Int</span> -&gt; <span class=""hljs-string"">""Big Number""</span> <span class=""hljs-keyword"">is</span> String -&gt; <span class=""hljs-string"">""A string""</span> <span class=""hljs-keyword"">else</span> -&gt; <span class=""hljs-string"">""Its just another Any""</span> }</code></pre> <p>You might note that in the first condition, the right hand side of the condition ie. (any &lt; 10000) actually compiles, because the compiler is able to figure out that any will be an Int if reaches the comparison with 10000 and allows it to be used as an Int. This smart casting is actually quite nice and helps save on verbose typecast statements (or for that matter explicit typecasts) when used in when expressions as above.</p> <h2>while and do-while</h2> <p>The familiar constructs of <code>while</code> and <code>do while</code> are also available. eg.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">countDown</span><span class=""hljs-params"">(n: <span class=""hljs-type"">Int</span>)</span></span> { <span class=""hljs-keyword"">var</span> counter = n <span class=""hljs-keyword"">while</span>(counter &gt;= <span class=""hljs-number"">0</span>) { println(counter) counter-- } }</code></pre> <p>Note that in kotlin the while block will not allow you to perform an assignment within the while expression unlike java code. eg. <code>while((n = next()) &gt; 0)</code> will not compile. In some of these situations you might actually find the <code>do while</code> construct useful. eg. the val n declared within the do while block remains in scope while evaluating the while expression.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">do</span> { <span class=""hljs-keyword"">val</span> n = next() <span class=""hljs-comment"">// do something</span> } <span class=""hljs-keyword"">while</span>(n &gt; <span class=""hljs-number"">0</span>)</code></pre> <h2>for loop</h2> <p>The for loop is much nicer and often more helpful than in Java. eg. to print each character in a string you could write</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">for</span>(c <span class=""hljs-keyword"">in</span> <span class=""hljs-string"">""String""</span>) { println(c) }</code></pre> <p>One of the useful ability of for loop is to iterate over a range which can be written as <code>startValue..endValue</code> eg</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-comment"">// will print 100, 101, 102... 110</span> <span class=""hljs-keyword"">for</span> (n <span class=""hljs-keyword"">in</span> <span class=""hljs-number"">100.</span><span class=""hljs-number"">.110</span>) { println(n) }</code></pre> <p>There are many other aspects of the for loop which are better covered after some other topics, so other sample usages will be taken up later.</p> <h2>break and continue</h2> <p><code>break</code> and <code>continue</code> are also available and continue to have the same meaning as in java. For more advanced uses such as breaking to a or returning to a label, see <a href=""https://kotlinlang.org/docs/reference/returns.html"">Returns and jumps</a> from the kotlin reference guide.</p> <h2>Exercise - Counting Sundays</h2> <p>Here&#x27;s an exercise for you to try out. (Note: the solution follows immediately after, so you might wish to avoid reading it if you want to attempt to do the exercise yourself first).</p> <p>This one comes from <a href=""http://blog.dhananjaynene.com/2016/04/exercises-in-kotlin-part-4-control-flows-and-return/"">Project Euler</a> Exercise #19</p> <p>The problem is stated as follows</p> <pre><code class=""hljs language-kotlin"">You are given the following information, but you may prefer to <span class=""hljs-keyword"">do</span> some research <span class=""hljs-keyword"">for</span> yourself. <span class=""hljs-number"">1</span> Jan <span class=""hljs-number"">1900</span> was a Monday. Thirty days has September, April, June and November. All the rest have thirty-one, Saving February alone, Which has twenty-eight, rain or shine. And on leap years, twenty-nine. A leap year occurs on any year evenly divisible <span class=""hljs-keyword"">by</span> <span class=""hljs-number"">4</span>, but not on a century unless it <span class=""hljs-keyword"">is</span> divisible <span class=""hljs-keyword"">by</span> <span class=""hljs-number"">400.</span> How many Sundays fell on the first of the month during the twentieth century (<span class=""hljs-number"">1</span> Jan <span class=""hljs-number"">1901</span> to <span class=""hljs-number"">31</span> Dec <span class=""hljs-number"">2000</span>)?</code></pre> <p>One of the possible solutions to this problem is described below</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">sundaysInTwentiethCentury</span><span class=""hljs-params"">()</span></span>: <span class=""hljs-built_in"">Int</span> { <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">daysInMonth</span><span class=""hljs-params"">(month: <span class=""hljs-type"">Int</span>, year: <span class=""hljs-type"">Int</span>)</span></span> = <span class=""hljs-keyword"">when</span>(month) { <span class=""hljs-number"">1</span>,<span class=""hljs-number"">3</span>,<span class=""hljs-number"">5</span>,<span class=""hljs-number"">7</span>,<span class=""hljs-number"">8</span>,<span class=""hljs-number"">10</span>,<span class=""hljs-number"">12</span> -&gt; <span class=""hljs-number"">31</span> <span class=""hljs-number"">4</span>,<span class=""hljs-number"">6</span>,<span class=""hljs-number"">9</span>,<span class=""hljs-number"">11</span> -&gt; <span class=""hljs-number"">30</span> <span class=""hljs-number"">2</span> -&gt; <span class=""hljs-keyword"">when</span> { year % <span class=""hljs-number"">400</span> == <span class=""hljs-number"">0</span> -&gt; <span class=""hljs-number"">29</span> year % <span class=""hljs-number"">100</span> == <span class=""hljs-number"">0</span> -&gt; <span class=""hljs-number"">28</span> year % <span class=""hljs-number"">4</span> == <span class=""hljs-number"">0</span> -&gt; <span class=""hljs-number"">29</span> <span class=""hljs-keyword"">else</span> -&gt; <span class=""hljs-number"">28</span> } <span class=""hljs-keyword"">else</span> -&gt; <span class=""hljs-keyword"">throw</span> Exception(<span class=""hljs-string"">""Invalid Month <span class=""hljs-subst"">${month}</span>""</span>) } <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">daysInYear</span><span class=""hljs-params"">(year: <span class=""hljs-type"">Int</span>)</span></span>: <span class=""hljs-built_in"">Int</span> { <span class=""hljs-keyword"">var</span> days = <span class=""hljs-number"">0</span> <span class=""hljs-keyword"">for</span>(month <span class=""hljs-keyword"">in</span> <span class=""hljs-number"">1.</span><span class=""hljs-number"">.12</span>) { days += daysInMonth(month, year) } <span class=""hljs-keyword"">return</span> days } <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">dayOfWeekAfter</span><span class=""hljs-params"">(currentDow: <span class=""hljs-type"">Int</span>, numberOfDays: <span class=""hljs-type"">Int</span>)</span></span> = ((currentDow<span class=""hljs-number"">-1</span>) + numberOfDays) % <span class=""hljs-number"">7</span> + <span class=""hljs-number"">1</span> <span class=""hljs-keyword"">var</span> weekDayOnFirstOfMonth = dayOfWeekAfter(<span class=""hljs-number"">2</span>, daysInYear(<span class=""hljs-number"">1900</span>)) <span class=""hljs-keyword"">var</span> totalSundays = <span class=""hljs-number"">0</span> <span class=""hljs-keyword"">for</span> (year <span class=""hljs-keyword"">in</span> <span class=""hljs-number"">1901.</span><span class=""hljs-number"">.2000</span>) { <span class=""hljs-keyword"">for</span>(month <span class=""hljs-keyword"">in</span> <span class=""hljs-number"">1.</span><span class=""hljs-number"">.12</span>) { <span class=""hljs-keyword"">if</span> (weekDayOnFirstOfMonth == <span class=""hljs-number"">1</span>) totalSundays++ weekDayOnFirstOfMonth = dayOfWeekAfter(weekDayOnFirstOfMonth, daysInMonth(month,year)) } } <span class=""hljs-keyword"">return</span> totalSundays }</code></pre> http://blog.dhananjaynene.com/2016/04/exercises-in-kotlin-part-4-control-flows-and-return/http://blog.dhananjaynene.com/2016/04/exercises-in-kotlin-part-4-control-flows-and-return/KotlinDhananjay NeneWed, 27 Apr 2016 00:00:00 GMT Writing Concise Code With Kotlin<p>One of the major selling points of Kotlin is its <em>concise and expressive syntax</em>. But in how far does Kotlin actually allow you to write more concise code? Let&rsquo;s look at four ways it accomplishes this.</p> <h2>Data Classes</h2> <p>In Java, you sometimes create classes which act simply as data containers without much additional functionality. This may be the case, for example, when following the <a href=""http://martinfowler.com/bliki/ValueObject.html"">Value Object Pattern</a> proposed by Martin Fowler. Let&rsquo;s look at an Address class that just stores all data associated with a specific address:</p> <pre><code class=""hljs language-java""><span class=""hljs-keyword"">public</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Address</span> </span>{ <span class=""hljs-keyword"">private</span> String street; <span class=""hljs-keyword"">private</span> <span class=""hljs-keyword"">int</span> streetNumber; <span class=""hljs-keyword"">private</span> String postCode; <span class=""hljs-keyword"">private</span> String city; <span class=""hljs-keyword"">private</span> Country country; <span class=""hljs-function""><span class=""hljs-keyword"">public</span> <span class=""hljs-title"">Address</span><span class=""hljs-params"">(String street, <span class=""hljs-keyword"">int</span> streetNumber, String postCode, String city, Country country)</span> </span>{ <span class=""hljs-keyword"">this</span>.street = street; <span class=""hljs-keyword"">this</span>.streetNumber = streetNumber; <span class=""hljs-keyword"">this</span>.postCode = postCode; <span class=""hljs-keyword"">this</span>.city = city; <span class=""hljs-keyword"">this</span>.country = country; } <span class=""hljs-meta"">@Override</span> <span class=""hljs-function""><span class=""hljs-keyword"">public</span> <span class=""hljs-keyword"">boolean</span> <span class=""hljs-title"">equals</span><span class=""hljs-params"">(Object o)</span> </span>{ <span class=""hljs-keyword"">if</span> (<span class=""hljs-keyword"">this</span> == o) <span class=""hljs-keyword"">return</span> <span class=""hljs-keyword"">true</span>; <span class=""hljs-keyword"">if</span> (o == <span class=""hljs-keyword"">null</span> || getClass() != o.getClass()) <span class=""hljs-keyword"">return</span> <span class=""hljs-keyword"">false</span>; Address address = (Address) o; <span class=""hljs-keyword"">if</span> (streetNumber != address.streetNumber) <span class=""hljs-keyword"">return</span> <span class=""hljs-keyword"">false</span>; <span class=""hljs-keyword"">if</span> (!street.equals(address.street)) <span class=""hljs-keyword"">return</span> <span class=""hljs-keyword"">false</span>; <span class=""hljs-keyword"">if</span> (!postCode.equals(address.postCode)) <span class=""hljs-keyword"">return</span> <span class=""hljs-keyword"">false</span>; <span class=""hljs-keyword"">if</span> (!city.equals(address.city)) <span class=""hljs-keyword"">return</span> <span class=""hljs-keyword"">false</span>; <span class=""hljs-keyword"">return</span> country == address.country; } <span class=""hljs-meta"">@Override</span> <span class=""hljs-function""><span class=""hljs-keyword"">public</span> <span class=""hljs-keyword"">int</span> <span class=""hljs-title"">hashCode</span><span class=""hljs-params"">()</span> </span>{ <span class=""hljs-keyword"">int</span> result = street.hashCode(); result = <span class=""hljs-number"">31</span> * result + streetNumber; result = <span class=""hljs-number"">31</span> * result + postCode.hashCode(); result = <span class=""hljs-number"">31</span> * result + city.hashCode(); result = <span class=""hljs-number"">31</span> * result + (country != <span class=""hljs-keyword"">null</span> ? country.hashCode() : <span class=""hljs-number"">0</span>); <span class=""hljs-keyword"">return</span> result; } <span class=""hljs-meta"">@Override</span> <span class=""hljs-function""><span class=""hljs-keyword"">public</span> String <span class=""hljs-title"">toString</span><span class=""hljs-params"">()</span> </span>{ <span class=""hljs-keyword"">return</span> <span class=""hljs-string"">""Address{""</span> + <span class=""hljs-string"">""street='""</span> + street + <span class=""hljs-string"">'\''</span> + <span class=""hljs-string"">"", streetNumber=""</span> + streetNumber + <span class=""hljs-string"">"", postCode='""</span> + postCode + <span class=""hljs-string"">'\''</span> + <span class=""hljs-string"">"", city='""</span> + city + <span class=""hljs-string"">'\''</span> + <span class=""hljs-string"">"", country=""</span> + country + <span class=""hljs-string"">'}'</span>; } <span class=""hljs-function""><span class=""hljs-keyword"">public</span> String <span class=""hljs-title"">getStreet</span><span class=""hljs-params"">()</span> </span>{ <span class=""hljs-keyword"">return</span> street; } <span class=""hljs-function""><span class=""hljs-keyword"">public</span> <span class=""hljs-keyword"">void</span> <span class=""hljs-title"">setStreet</span><span class=""hljs-params"">(String street)</span> </span>{ <span class=""hljs-keyword"">this</span>.street = street; } <span class=""hljs-function""><span class=""hljs-keyword"">public</span> <span class=""hljs-keyword"">int</span> <span class=""hljs-title"">getStreetNumber</span><span class=""hljs-params"">()</span> </span>{ <span class=""hljs-keyword"">return</span> streetNumber; } <span class=""hljs-function""><span class=""hljs-keyword"">public</span> <span class=""hljs-keyword"">void</span> <span class=""hljs-title"">setStreetNumber</span><span class=""hljs-params"">(<span class=""hljs-keyword"">int</span> streetNumber)</span> </span>{ <span class=""hljs-keyword"">this</span>.streetNumber = streetNumber; } <span class=""hljs-function""><span class=""hljs-keyword"">public</span> String <span class=""hljs-title"">getPostCode</span><span class=""hljs-params"">()</span> </span>{ <span class=""hljs-keyword"">return</span> postCode; } <span class=""hljs-function""><span class=""hljs-keyword"">public</span> <span class=""hljs-keyword"">void</span> <span class=""hljs-title"">setPostCode</span><span class=""hljs-params"">(String postCode)</span> </span>{ <span class=""hljs-keyword"">this</span>.postCode = postCode; } <span class=""hljs-function""><span class=""hljs-keyword"">public</span> String <span class=""hljs-title"">getCity</span><span class=""hljs-params"">()</span> </span>{ <span class=""hljs-keyword"">return</span> city; } <span class=""hljs-function""><span class=""hljs-keyword"">public</span> <span class=""hljs-keyword"">void</span> <span class=""hljs-title"">setCity</span><span class=""hljs-params"">(String city)</span> </span>{ <span class=""hljs-keyword"">this</span>.city = city; } <span class=""hljs-function""><span class=""hljs-keyword"">public</span> Country <span class=""hljs-title"">getCountry</span><span class=""hljs-params"">()</span> </span>{ <span class=""hljs-keyword"">return</span> country; } <span class=""hljs-function""><span class=""hljs-keyword"">public</span> <span class=""hljs-keyword"">void</span> <span class=""hljs-title"">setCountry</span><span class=""hljs-params"">(Country country)</span> </span>{ <span class=""hljs-keyword"">this</span>.country = country; } }</code></pre> <p>Phew, that&rsquo;s a lot of code for such a simple data class. If there was a method in there that adds any actual functionality, all the boilerplate code would greatly distract from that method. Consequently, the class is <strong>less readable and less searchable</strong>. For an immutable Address class, the amount of boilerplate would be a little less frustrating because it would then only contain getters but no setters.</p> <p>Now, you can generate this kind of boilerplate code pretty fast with a modern IDE. That&rsquo;s not a problem. The major advantage of Kotlin here really is readability: Kotlin makes it much clearer on the first view what&rsquo;s actually going on &ndash; and doesn&rsquo;t distract you from the important parts with boring boilerplate code.</p> <p><strong>So let&rsquo;s look at the equivalent class in Kotlin:</strong></p> <pre><code class=""hljs language-kotlin""> <span class=""hljs-keyword"">data</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Address</span></span>(<span class=""hljs-keyword"">var</span> street: String, <span class=""hljs-keyword"">var</span> streetNumber: <span class=""hljs-built_in"">Int</span>, <span class=""hljs-keyword"">var</span> postCode: String, <span class=""hljs-keyword"">var</span> city: String, <span class=""hljs-keyword"">var</span> country: Country)</code></pre> <p>That&rsquo;s it. In most cases, a simple data class like this is a one-liner but to make it more readable, I split up the properties of the class in the above example. This simple data class declaration generates a constructor, getters &amp; setters, hashCode(), equals(), toString(), and also adds some additional convenience methods for you.</p> <p>Want to create an <em>immutable</em> data class instead? Easy, just use the val keyword instead of var:</p> <pre><code class=""hljs language-kotlin""> <span class=""hljs-keyword"">data</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Address</span></span>(<span class=""hljs-keyword"">val</span> street: String, <span class=""hljs-keyword"">val</span> streetNumber: <span class=""hljs-built_in"">Int</span>, <span class=""hljs-keyword"">val</span> postCode: String, <span class=""hljs-keyword"">val</span> city: String, <span class=""hljs-keyword"">val</span> country: Country)</code></pre> <p>In Kotlin, val is used to create immutable variables whereas var creates mutable variables. Above, we use the same syntax to define mutable and immutable properties for classes using var and val respectively.</p> <p>Now, let&rsquo;s look at a language concept that doesn&rsquo;t save us quite as much code but is really handy as well.</p> <h2>Smart Casts</h2> <p>In Java, you often have to cast objects in situations where the compiler could actually do this for you because it&rsquo;s clear that the object can be cast. Consider the following example:</p> <pre><code class=""hljs language-kotlin""> <span class=""hljs-keyword"">public</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Cast</span> </span>{ static void printString(String str) { System.<span class=""hljs-keyword"">out</span>.println(str); } <span class=""hljs-keyword"">public</span> static void main(String[] args) { Object hello = <span class=""hljs-string"">""Hello, World!""</span>; <span class=""hljs-keyword"">if</span> (hello instanceof String) { printString((String) hello); } } }</code></pre> <p>If we tried to change printString((String) hello) to just printString(hello), the Java compiler would yell at us because hello is of type Object.</p> <p>Now, the compiler could actually prove that hello is a suitable actual parameter for the formal parameter str of the method printString(String str). As you may have thought, Kotlin does this for us:</p> <pre><code class=""hljs language-kotlin""> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">printString</span><span class=""hljs-params"">(str: <span class=""hljs-type"">String</span>)</span></span> { println(str) } <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">main</span><span class=""hljs-params"">(args: <span class=""hljs-type"">Array</span>&lt;<span class=""hljs-type"">String</span>&gt;)</span></span> { <span class=""hljs-keyword"">val</span> hello: Any = <span class=""hljs-string"">""Hello, World!""</span> <span class=""hljs-keyword"">if</span> (hello <span class=""hljs-keyword"">is</span> String) { printString(hello) } }</code></pre> <p>Note that Kotlin&rsquo;s Any type is the equivalent of Java&rsquo;s Object, just like &ldquo;is&rdquo; is the equivalent of instanceOf, and that we can create package-level functions in Kotlin (that is, they are not nested inside a class or interface).</p> <p>This is called <strong>Smart Casts</strong> in Kotlin. Admittedly, this doesn&rsquo;t safe you tons of code, but still it&rsquo;s super convenient.</p> <p>Smart casts are by no means limited to the example above. Whenever the compiler can prove that it is safe to cast the object appropriately, it will:</p> <pre><code class=""hljs language-kotlin""> <span class=""hljs-comment"">// Smart cast #1</span> <span class=""hljs-keyword"">if</span> (hello !<span class=""hljs-keyword"">is</span> String) <span class=""hljs-keyword"">return</span> printString(hello) <span class=""hljs-comment"">// Smart cast</span> <span class=""hljs-comment"">// ---------------------</span> <span class=""hljs-comment"">// Smart cast #2</span> <span class=""hljs-keyword"">when</span>(hello) { <span class=""hljs-string"">""Some value""</span> -&gt; println(<span class=""hljs-string"">""Then do something""</span>) <span class=""hljs-keyword"">in</span> <span class=""hljs-number"">1.</span><span class=""hljs-number"">.10</span> -&gt; println(<span class=""hljs-string"">""This would be printed of hello were an integer between 1 and 10.""</span>) <span class=""hljs-keyword"">is</span> String -&gt; { println(<span class=""hljs-string"">""hello is of type String, this block will be run""</span>) printString(hello) <span class=""hljs-comment"">// Smart cast</span> } <span class=""hljs-keyword"">else</span> -&gt; println(<span class=""hljs-string"">""This is the default case.""</span>) } <span class=""hljs-comment"">// ---------------------</span> <span class=""hljs-comment"">// Smart cast #3</span> <span class=""hljs-keyword"">if</span> (hello <span class=""hljs-keyword"">is</span> String &amp;&amp; hello.first().isLetter()) { <span class=""hljs-comment"">// Smart cast after &amp;&amp;</span> println(<span class=""hljs-string"">""The string starts with a letter""</span>) } <span class=""hljs-comment"">// ---------------------</span> <span class=""hljs-comment"">// Smart cast #4</span> <span class=""hljs-keyword"">if</span> (hello !<span class=""hljs-keyword"">is</span> String || hello.last().isDigit()) { <span class=""hljs-comment"">// Smart cast after ||</span> println(<span class=""hljs-string"">""This will not be printed.""</span>) }</code></pre> <p>In smart cast #1, it&rsquo;s clear that hello must be a string. Otherwise the control flow wouldn&rsquo;t even reach that point due to the return statement in the preceding line.</p> <p>In smart cast #2, you can see a when-expression in Kotlin. Inside this, you can not only check for specific values but also for the type of the object. In the case block associated with the condition &ldquo;hello is String&rdquo;, Kotlin will again use smart casts on the hello object.</p> <p>Smart casts #3 and #4 make use of lazy evaluation. In smart cast #3, the second part of the condition (after &amp;&amp;) will not be checked if the first part is already false (because then the whole condition must be false). Thus, in the second part, the hello object must be of type String because otherwise, Kotlin wouldn&rsquo;t even evaluate that second part (just like Java).</p> <p>Similarly, in smart cast #4, if hello were not of type String, the first part would already be true so that the second part would not be evaluated. Therefore, hello must be of type String whenver the second part is evaluated &ndash; and Kotlin knows that.</p> <h2>Functional Programming</h2> <p>Similar to Java 8 which introduced functional language elements such as lambda expressions (function literals), Kotlin comes with functional capabilities baked in. You may be used to function literals like these in Java 8:</p> <pre><code class=""hljs language-kotlin""> <span class=""hljs-keyword"">public</span> static void main(String[] args) { List&lt;String&gt; genres = Arrays.asList(<span class=""hljs-string"">""Action""</span>, <span class=""hljs-string"">""Comedy""</span>, <span class=""hljs-string"">""Thriller""</span>); List&lt;String&gt; myKindOfMovies = genres.stream().filter(s -&gt; s.length() &gt; <span class=""hljs-number"">6</span>).map(s -&gt; s + <span class=""hljs-string"">"" Movie""</span>).collect(Collectors.toList()); System.<span class=""hljs-keyword"">out</span>.println(myKindOfMovies); <span class=""hljs-comment"">// Output: [Thriller Movie]</span> }</code></pre> <p>The Stream API introduced in Java 8 can be convenient in many cases where you have to do some quick pipe-and-filter style processing. It can often make your code much more concise because you don&rsquo;t have to use explicit for-each loops all the time.</p> <p>Kotlin makes this even easier. By convention, for lambda expressions with only one parameter, Kotlin creates an implicit parameter called &ldquo;it&rdquo; so that you can skip typing the parameter:</p> <pre><code class=""hljs language-kotlin""> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">main</span><span class=""hljs-params"">(args: <span class=""hljs-type"">Array</span>&lt;<span class=""hljs-type"">String</span>&gt;)</span></span> { <span class=""hljs-keyword"">val</span> genres = listOf(<span class=""hljs-string"">""Action""</span>, <span class=""hljs-string"">""Comedy""</span>, <span class=""hljs-string"">""Thriller""</span>) <span class=""hljs-keyword"">val</span> myKindOfMovies = genres.filter { it.length &gt; <span class=""hljs-number"">6</span> }.map { it + <span class=""hljs-string"">"" Movie""</span> } println(myKindOfMovies) }</code></pre> <p>Note that there is actually another convention here. Whenever the last parameter of a method is a lambda expression, we can put it <em>behind</em> the parentheses of the method call. In the example above, both lambda expressions are the <em>only</em> parameters so that you can skip the parentheses altogether.</p> <p>Also, we don&rsquo;t have to use a collect() method at the end, the myKindOfMovies variables now stores an Iterable<String>. We can also make that explicit if we want to:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> myKindOfMovies: Iterable&lt;String&gt; = genres.filter { it.length &gt; <span class=""hljs-number"">6</span> }.map { it + <span class=""hljs-string"">"" Movie""</span> }</code></pre> <p>Next, we&rsquo;ll see <strong>how to define a singleton in Kotlin in a single line:</strong></p> <h2>Objects as Singletons</h2> <p>There are many ways to create a singleton, some of which are not suitable in concurrent environments or don&rsquo;t hold up against serialization attacks. Let&rsquo;s look at the most common way to create a singleton in Java:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">public</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Singleton</span> </span>{ <span class=""hljs-keyword"">private</span> static Singleton theInstance = new Singleton(); <span class=""hljs-keyword"">private</span> Singleton() { } <span class=""hljs-keyword"">public</span> static Singleton getInstance() { <span class=""hljs-keyword"">return</span> theInstance; } }</code></pre> <p>This creates a class with a private constructor so that we can control which instances of it are created. Since we want to have only one object of this class at any given time, we create that instance as a private attribute and allow retrieving it from the outside using getInstance(). That way, there can never be more than one instance of this object (nasty tricks using reflection or serialization aside).</p> <p>In Kotlin, we can create such a singleton in a single line by using the object keyword:</p> <pre><code class=""hljs language-kotlin""> <span class=""hljs-keyword"">object</span> KotlinSingleton {}</code></pre> <p>Pretty neat, huh? In contrast to the normal habit of defining classes, this defines a single <em>object,</em> which is semantically the same as a singleton &ndash; a class of which there should always be only one object. Such object declarations in Kotlin are initialized lazily, just like you may do it for a singleton in Java (even though it&rsquo;s not the case in the example above).</p> <p>In both Kotlin and Java you can choose to make your singleton/object immutable or not.</p> <p>I want to mention that <strong>there is a better way to create singletons in Java as well</strong>: create an enum with only a single type! Joshua Bloch &ndash; one of the developers of the Java Collections Framework (amongst others) &ndash; advocates this in his very recommendable book &ldquo;Effective Java&rdquo;. Why? Well, enums give you all serialization machinery for free and prevent multiple instances even in the face of sophisticated serialization and reflection attacks &ndash; without you having to do anything for it. Arguably, they are also very concise:</p> <pre><code class=""hljs language-kotlin""> <span class=""hljs-keyword"">enum</span> EnumSingleton { INSTANCE }</code></pre> <p>This approach can nearly even keep up with the conciseness of Kotlin.</p> <p>Of course you are free to add properties and methods to Kotlin objects, just as you are free to add attributes and methods to Java enums.</p> <h2>Closing Words</h2> <p>I hope this quick overview gave you some more understanding of the Kotlin programming language and how it handles some of the more annoying aspects of Java in more convenient ways. Kotlin&rsquo;s syntax is generally rather concise but still perfectly expressive (&ldquo;data class ...&rdquo;, &ldquo;object ...&rdquo;, &ldquo;{ it.length &gt; 6 }&rdquo;) which makes your code more readable and thus maintainable.</p> <p>If you&rsquo;re interested in learning more about the Kotlin programming language, you can check out my <a href=""http://petersommerhoff.com/dev/kotlin/kotlin-beginner-tutorial/"">10 tutorial videos for Kotlin</a>. They give you a gentle introduction to the language and help you with the setup to get started (don&rsquo;t worry, it&rsquo;s not that much). Alternatively, you can also jump ahead and <a href=""https://www.udemy.com/kotlin-course/?couponCode=AMAZINGREADERS25"">check out the full Kotlin course hosted on Udemy</a>. The link contains a 50% discount coupon for my blog readers.</p> http://petersommerhoff.com/dev/kotlin/kotlin-concise-code/http://petersommerhoff.com/dev/kotlin/kotlin-concise-code/KotlinPeter SommerhoffSun, 24 Apr 2016 19:02:00 GMT Type safe JavaFX CSS with TornadoFX<iframe width=""960"" height=""480"" src=""https://www.youtube.com/embed/rjc8_HGHy3c"" frameborder=""0"" allowfullscreen></iframe> https://www.youtube.com/watch?v=rjc8_HGHy3chttps://www.youtube.com/watch?v=rjc8_HGHy3cKotlinTornadoFxEdvin SyseSun, 24 Apr 2016 00:00:00 GMT JDK7/8 features in Kotlin 1.0<p>Currently it&#x27;s rather inconvenient to use those methods of mapped builtin types, that were added in JDK8. These include <code>Collection.stream()</code>, <code>Map.getOrDefault(K, V)</code>, etc. We have several long-standing issues related in our tracker: <a href=""https://youtrack.jetbrains.com/issue/KT-9194"">KT-9194</a>, <a href=""https://youtrack.jetbrains.com/issue/KT-5175"">KT-5175</a> and <a href=""https://youtrack.jetbrains.com/issue/KT-10864"">KT-10864</a>.</p> <p>This happens because Kotlin targets JDK 1.6 as the minimum JDK version, so it can&#x27;t expose those members of builtin types that are not available in JDK 1.6. We plan to remove the limitation in Kotlin 1.1 by exposing all builtin type members available in the target platform (excluding some blacklisted exceptions), but as a short-term fix we could provide a way to call these methods via extensions.</p> <p>We have collected those extensions in a small Kotlin library: <a href=""https://github.com/Kotlin/kotlinx.support"">kotlinx.support</a>. It consists of two artifacts: <strong>kotlinx-support-jdk8</strong> and <strong>kotlinx-support-jdk7</strong>. The former has a dependency on the latter, so if you target JDK8 you could only reference kotlinx-support-jdk8 and have the latter as a transitive dependency.</p> <p>These artifacts are available for downloading from the maven repository on bintray <a href=""https://bintray.com/kotlin/kotlinx.support/kotlinx.support"">https://bintray.com/kotlin/kotlinx.support/kotlinx.support</a> and also on jcenter <a href=""https://bintray.com/bintray/jcenter?filterByPkgName=kotlinx.support"">https://bintray.com/bintray/jcenter?filterByPkgName=kotlinx.support</a>.</p> <h3>kotlinx-support-jdk8</h3> <p>This library provides extensions to call default methods of collection interfaces introduced in JDK8.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">import</span> kotlinx.support.jdk8.collections.* <span class=""hljs-keyword"">import</span> kotlinx.support.jdk8.text.* <span class=""hljs-comment"">// some quite more verbose way to say 'listOf&lt;String&gt;().flatMap { it.asIterable() }'</span> <span class=""hljs-keyword"">val</span> chars = listOf(<span class=""hljs-string"">""abc""</span>, <span class=""hljs-string"">""def""</span>).stream() .flatMap { it.chars().boxed().map { it.toChar() } } .collect(Collectors.toList&lt;<span class=""hljs-built_in"">Char</span>&gt;())</code></pre> <h3>kotlinx-support-jdk7</h3> <p>This library exposes <code>Throwable</code> methods to work with suppressed exceptions, and introduces <a href=""https://youtrack.jetbrains.com/issue/KT-5899"">long-awaited</a> <code>use</code> extension for <code>AutoCloseable</code>. Note that this <code>use</code> being imported explicitly has precedence over <code>use</code> from Standard Library and thus can be used for <code>Closeable</code> as well.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">import</span> kotlinx.support.jdk7.use <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Resource</span></span>(<span class=""hljs-keyword"">val</span> faultyClose: <span class=""hljs-built_in"">Boolean</span> = <span class=""hljs-literal"">false</span>) : Closeable { <span class=""hljs-keyword"">override</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">close</span><span class=""hljs-params"">()</span></span> { <span class=""hljs-keyword"">if</span> (faultyClose) <span class=""hljs-keyword"">throw</span> IOException(<span class=""hljs-string"">""Close failed""</span>) } } <span class=""hljs-comment"">// the IOException thrown by 'close' would be added</span> <span class=""hljs-comment"">// to the list of suppressed exceptions of IllegalStateException</span> <span class=""hljs-comment"">// thrown from lambda passed to 'use'</span> <span class=""hljs-keyword"">val</span> result = Resource(faultyClose = <span class=""hljs-literal"">true</span>).use { <span class=""hljs-keyword"">throw</span> IllegalStateException(<span class=""hljs-string"">""operation failed""</span>) }</code></pre> https://discuss.kotlinlang.org/t/jdk7-8-features-in-kotlin-1-0/1625https://discuss.kotlinlang.org/t/jdk7-8-features-in-kotlin-1-0/1625KotlinIlya GrobunovThu, 21 Apr 2016 19:36:00 GMT Exercises in Kotlin: Part 3 - Functions<p>We looked at a bit of syntax and variable declarations in the last post <a href=""http://blog.dhananjaynene.com/2016/04/exercises-in-kotlin-part-2-high-level-syntax-and-variables/"">Exercises in Kotlin: Part 2 - High level syntax and Variables</a>. We explore functions in this post. Here&#x27;s how a typical function in Kotlin would look like.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">add</span><span class=""hljs-params"">(first: <span class=""hljs-type"">Int</span>, second: <span class=""hljs-type"">Int</span>)</span></span>: <span class=""hljs-built_in"">Int</span> { <span class=""hljs-comment"">// will not compile</span> <span class=""hljs-comment"">// first = first + 2. Because first is a val and cannot be reassigned</span> <span class=""hljs-keyword"">return</span> first + second }</code></pre> <p>As noted earlier, the arguments are declared with the names followed by the types. Also even though <code>val</code> is not specified, each argument is automatically a <code>val</code> and can not be reassigned within the function. Also the return type is specified after the argument list followed by a colon.</p> <p>In this case, since the body of the function is an expression it can also alternatively be specified as</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">addExpr</span><span class=""hljs-params"">(first: <span class=""hljs-type"">Int</span>, second: <span class=""hljs-type"">Int</span>)</span></span> = first + second</code></pre> <p>Note in particular that the curly brackets are replaced by <code>=</code>. And because the compiler can infer the return type, it is no longer required to provide it (though it would work just as well if you did provide one)</p> <h3>Functions can have default arguments</h3> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">powerOf</span><span class=""hljs-params"">(value: <span class=""hljs-type"">Double</span>, power: <span class=""hljs-type"">Double</span> = <span class=""hljs-number"">2.0</span>)</span></span> = Math.pow(value, power)</code></pre> <p>The second argument <code>power</code> is no longer required to be specified, (when not specified its value will default to 2.0. Thus allowing both the following statements</p> <pre><code class=""hljs language-kotlin"">powerOf(<span class=""hljs-number"">3.0</span>) <span class=""hljs-comment"">// This will return 9.0</span> powerOf(<span class=""hljs-number"">3.0</span>, <span class=""hljs-number"">4.0</span>) <span class=""hljs-comment"">// This will return 81.0</span></code></pre> <p>This makes it convenient to require fewer overloaded functions. The order of the arguments needs to be retained, and all the arguments after the ones specified will need to have default values. While this makes a lot of defaulting easy, it still is a little problematic for selectively overriding defaults for only few of the arguments. This is helped by the next feature.</p> <h3>Arguments can also be named</h3> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">contrived</span><span class=""hljs-params"">(first: <span class=""hljs-type"">String</span> = <span class=""hljs-string"">""First""</span>, second: <span class=""hljs-type"">String</span> = <span class=""hljs-string"">""Second""</span>, third: <span class=""hljs-type"">String</span> = <span class=""hljs-string"">""Third""</span>, fourth: <span class=""hljs-type"">String</span> = <span class=""hljs-string"">""Fourth""</span>, fifth: <span class=""hljs-type"">String</span> = <span class=""hljs-string"">""Fifth""</span>)</span></span> = first + <span class=""hljs-string"">"" ""</span> + second + <span class=""hljs-string"">"" ""</span> + third + <span class=""hljs-string"">"" ""</span> + fourth + <span class=""hljs-string"">"" ""</span> + fifth <span class=""hljs-comment"">// ....</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">someOtherFunction</span><span class=""hljs-params"">()</span></span> { contrived(second=<span class=""hljs-string"">""2nd""</span>, fourth=<span class=""hljs-string"">""4th""</span>) <span class=""hljs-comment"">// the above returns ""First 2nd Third 4th Fifth""</span> }</code></pre> <p>As shown in the example above using a combination of default and named arguments we can choose to have smaller function invocations by specifying only the non defaults. Thus only the arguments whose default values need to be overridden, making the code both terse and more readable</p> <h3>Functions can have variable arguments</h3> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">showStrings</span><span class=""hljs-params"">(suffix: <span class=""hljs-type"">String</span>, <span class=""hljs-keyword"">vararg</span> items: <span class=""hljs-type"">String</span>)</span></span> { <span class=""hljs-keyword"">for</span>(item <span class=""hljs-keyword"">in</span> items) { print(item + <span class=""hljs-string"">"" ""</span>) } print(suffix) println() } <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">somewhereElse</span><span class=""hljs-params"">()</span></span> { showStrings(<span class=""hljs-string"">""!""</span>, <span class=""hljs-string"">""Hello""</span>, <span class=""hljs-string"">""World""</span>) <span class=""hljs-comment"">// prints ""Hello World !""</span> }</code></pre> <p>Function can have variable number of arguments so long as all of them are of the same type. The type of the declared argument then becomes an array of that type. Thus in the above example, <code>items</code> is an array of String or <code>Array&lt;String&gt;</code>.</p> <p>The above function also introduces you to a for statement when used with an array. The syntax is very simple and natural, <code>for itemVar in arrayVar { ... }</code></p> <p>(<em>I imagine there can be only one <code>vararg</code> type argument and that has to be declared at the end but never attempted to do anything differently</em>)</p> <h3>Functions can have nested functions</h3> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">showStrings2</span><span class=""hljs-params"">(suffix: <span class=""hljs-type"">String</span>, <span class=""hljs-keyword"">vararg</span> items: <span class=""hljs-type"">String</span>)</span></span>: String { <span class=""hljs-keyword"">val</span> sb = StringBuffer() <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">appendToBuffer</span><span class=""hljs-params"">(item: <span class=""hljs-type"">String</span>)</span></span> { sb.append(item) sb.append(<span class=""hljs-string"">"" ""</span>) } <span class=""hljs-keyword"">for</span>(item <span class=""hljs-keyword"">in</span> items) { appendToBuffer(item) } appendToBuffer(suffix) <span class=""hljs-keyword"">return</span> sb.toString() } .... <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">somewhereElse</span><span class=""hljs-params"">()</span></span> { showStrings2(<span class=""hljs-string"">""!""</span>, <span class=""hljs-string"">""Hello""</span>, <span class=""hljs-string"">""World""</span>) <span class=""hljs-comment"">// returns ""Hello World !""</span> }</code></pre> <p>As shown above, <code>appendToBuffer</code> is a nested function (called local function) It can access variables in the parent functions namespace (in the above situation - <code>sb</code>.).</p> <h3>Aside: if - else can also be an expression</h3> <p>In java, <code>if</code>-<code>else</code> is a statement. And has a complementary ternary operator <code>? :</code> which is an expression. Kotlin merges both by allowing use of <code>if</code> - <code>else</code> as an expression, and such if/else expressions can be used as a part of the function expression body (or a part of regular block bodies as well). eg.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">isBlankString</span><span class=""hljs-params"">(arg: <span class=""hljs-type"">String</span>)</span></span> = <span class=""hljs-keyword"">if</span> (arg.trim() == <span class=""hljs-string"">""""</span>) <span class=""hljs-literal"">true</span> <span class=""hljs-keyword"">else</span> <span class=""hljs-literal"">false</span></code></pre> <p>For an if/else to be an expression, both if and else branches have to be specified and followed by an expression each</p> <h3>Functions can be tail recursive.</h3> <p>Yes! They can be.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">factorial</span><span class=""hljs-params"">(n: <span class=""hljs-type"">Int</span>)</span></span>: <span class=""hljs-built_in"">Int</span> { tailrec <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">factorial</span><span class=""hljs-params"">(accumulator: <span class=""hljs-type"">Int</span>, n: <span class=""hljs-type"">Int</span>)</span></span>: <span class=""hljs-built_in"">Int</span> = <span class=""hljs-keyword"">if</span> (n == <span class=""hljs-number"">1</span>) accumulator <span class=""hljs-keyword"">else</span> factorial(accumulator * n, n - <span class=""hljs-number"">1</span>) <span class=""hljs-keyword"">return</span> factorial(<span class=""hljs-number"">1</span>, n) }</code></pre> <p>If a function is written in a form that lends itself to <a href=""https://en.wikipedia.org/wiki/Tail_call"">tail recursion</a> the compiler generates optimised code that uses a loop based version which no longer risks a stack overflow.</p> <h3>Extension functions.</h3> <p>This is a very interesting and very useful feature to Kotlin. It is the ability to seemingly externally add a method to a class. Thus the function <code>isBlankString</code> introduced above could be rewritten as</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> String.<span class=""hljs-title"">isBlankString</span><span class=""hljs-params"">()</span></span> = <span class=""hljs-keyword"">this</span>.trim() == <span class=""hljs-string"">""""</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">somewhereElse</span><span class=""hljs-params"">()</span></span> { <span class=""hljs-string"">"" ""</span>.isBlankString() <span class=""hljs-comment"">// returns true</span> }</code></pre> <p>Note that in an extension function, you can use <code>this</code> to refer to the receiver of the function (in this case the String object on whom the <code>isBlankString</code> function is called). Also that the receiver class is resolved statically and not dynamically. So if you had an extension function defined for a <code>Base</code> class and a <code>Derived</code> class that inherits from <code>Base</code>, and called it on a variable declared of type <code>Base</code> but actually referencing an instance of type <code>Derived</code> the <code>Base</code> version of the extension function will be called.</p> <h3>Infix functions</h3> <p>Class member functions or extension functions with a single argument, can in turn be declared as infix which allows from syntactic sugar in terms of how that function is invoked. Thus the function</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">infix</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-built_in"">Int</span>.<span class=""hljs-title"">toThePowerOf</span><span class=""hljs-params"">(n: <span class=""hljs-type"">Int</span>)</span></span> = Math.pow(<span class=""hljs-keyword"">this</span>.toDouble(), n.toDouble()).toInt()</code></pre> <p>could be invoked using either of the two ways, the latter becoming feasible only because of the keyword <code>infix</code> being used in the function declaration above.</p> <pre><code class=""hljs language-kotlin"">5.toThePowerOf(3) 5 toThePowerOf 3</code></pre> <h3>Higher order functions</h3> <p>Higher order functions are functions which take functions as parameters or as a return type. For that let us first understand how a function can be alternatively represented as a variable using a function type.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">double</span><span class=""hljs-params"">(n: <span class=""hljs-type"">Int</span>)</span></span> = n * <span class=""hljs-number"">2</span></code></pre> <p>What if we wish to represent the function above as a variable. We need to understand the type of the function. In this case it happens to be of the type which takes a single <code>Int</code> and returns an <code>Int</code>. Knowing that we can now declare it as a variable</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> doubleAsArg = { n : <span class=""hljs-built_in"">Int</span> -&gt; n * <span class=""hljs-number"">2</span>}</code></pre> <p>The way to invoke the function above would be similar to the way double is invoked</p> <pre><code class=""hljs language-kotlin"">doubleAsArg(<span class=""hljs-number"">5</span>) <span class=""hljs-comment"">// would return 10</span></code></pre> <p>But the more interesting capability that is now possible is that you can write a function which takes another function as an argument, and in turn pass doubleAsArg as an argument to the newly written function. eg.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">twice</span><span class=""hljs-params"">(function: (<span class=""hljs-type"">Int</span>)</span></span> -&gt; <span class=""hljs-built_in"">Int</span>, arg: <span class=""hljs-built_in"">Int</span>) = function(function(arg)) <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">somewhereElse</span><span class=""hljs-params"">()</span></span> { twice(doubleAsArg,<span class=""hljs-number"">5</span>) <span class=""hljs-comment"">// will return 20</span> }</code></pre> <p><code>doubleAsArg</code> could have been also declared using an alternative syntax as follows. For all practical purposes they are identical. However the declaration below makes the function type very explicit (it was inferred in the declaration above)</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> doubleAsArgRedux: (<span class=""hljs-built_in"">Int</span>) -&gt; <span class=""hljs-built_in"">Int</span> = { n -&gt; n * <span class=""hljs-number"">2</span>}</code></pre> <h4>Aside: Function Types</h4> <p>Just like <code>String</code>, <code>Int</code> etc, since functions are also things that can be passed around, they also have types. As is shown above, doubleAsArg above has the type <code>(Int) -&gt; Int</code>. In general a function taking n arguments each of type Type1..TypeN, and returning a type TypeReturn will have the type <code>(Type1, Type2,..TypeN) -&gt; TypeReturn</code></p> <h3>Lambdas</h3> <p>A lambda function is a function that is not declared upfront but is passed in immediately to another function. In the situation below the function that is passed as the first argument to the function twice is a lambda. A lambda expression is always surrounded by curly braces, its parameters (if any) are declared before -&gt; while the body goes after -&gt; (if required).</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">somewhereElse</span><span class=""hljs-params"">()</span></span> { twice({n: <span class=""hljs-built_in"">Int</span> -&gt; n * <span class=""hljs-number"">10</span>}, <span class=""hljs-number"">5</span>) <span class=""hljs-comment"">// returns 500</span> }</code></pre> <p>Note that for a lambda function the declaration of the parameter types is optional, and there is no way to declare the return type of the function (it has to be inferred). And it is always wrapped with curly braces. Thus the general syntax for a lambda function with n arguments is</p> <pre><code class=""hljs language-kotlin"">{ p1: Type1, p2: Type2 .. pn: TypeN -&gt; <span class=""hljs-comment"">/* do something */</span> }</code></pre> <p>Note that the lambda function body is an expression and does not allow a return statement. It could consist of multiple statements and/or branches so long as they end with an expression. So the following is a valid lambda.</p> <pre><code class=""hljs language-kotlin"">{ n: <span class=""hljs-built_in"">Int</span> -&gt; <span class=""hljs-keyword"">val</span> twoN = <span class=""hljs-number"">2</span> * n; <span class=""hljs-keyword"">if</span> (twoN &lt; <span class=""hljs-number"">100</span>) twoN * <span class=""hljs-number"">2</span> <span class=""hljs-keyword"">else</span> twoN * <span class=""hljs-number"">3</span>}</code></pre> <h3>Single parameter lambdas</h3> <p>If a lambda has a single argument and its type can be inferred, then the argument declaration along with its type and the subsequent <code>-&gt;</code> can be omitted. In such a case that parameter will have the default name <code>it</code>.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> quadruple: (<span class=""hljs-built_in"">Int</span>) -&gt; <span class=""hljs-built_in"">Int</span> = { it * <span class=""hljs-number"">4</span>}</code></pre> <h3>Anonymous functions</h3> <p>An anonymous function is a function with no name. For obvious reasons you cannot declare it by itself. But you could say use it as the right hand side of an assignment to a variable or pass it as an argument to another function eg.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> triple = <span class=""hljs-function""><span class=""hljs-title"">fun</span><span class=""hljs-params"">(n: <span class=""hljs-type"">Int</span>)</span></span>: <span class=""hljs-built_in"">Int</span> = n * <span class=""hljs-number"">3</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">somewhereElse</span><span class=""hljs-params"">()</span></span> { twice(triple, <span class=""hljs-number"">5</span>) twice(<span class=""hljs-function""><span class=""hljs-title"">fun</span><span class=""hljs-params"">(n: <span class=""hljs-type"">Int</span>)</span></span>: <span class=""hljs-built_in"">Int</span> { <span class=""hljs-keyword"">return</span> n * <span class=""hljs-number"">3</span>}, <span class=""hljs-number"">5</span>) }</code></pre> <p>This is particularly useful when the return type cannot be contextually inferred</p> <h3>Closures</h3> <p>Note that local functions, lambda functions and anonymous functions can access variables declared in their outer scope, ie. their closure. They can also modify such variables (assuming they are vars).</p> <h3>Receivers</h3> <p>Lambdas and anonymous functions can be used as extension functions as well. Their function type then is <code>ReceiverType.(p1: Type1 .. pn: TypeN) -&gt; ReturnType</code></p> <h3>Alternative invocation syntax</h3> <p>If a function has one or more arguments, but exactly one argument which is of a function type, then it can be invoked with an alternative syntax where the function is not specified within the parenthesis, but is instead specified after them wrapped in curly braces.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">doubleAndThen</span><span class=""hljs-params"">(n: <span class=""hljs-type"">Int</span>, then: (<span class=""hljs-type"">Int</span>)</span></span> -&gt; <span class=""hljs-built_in"">Int</span>): <span class=""hljs-built_in"">Int</span> = then(n * <span class=""hljs-number"">2</span>) <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">somewhereElse</span><span class=""hljs-params"">()</span></span> { doubleAndThen(<span class=""hljs-number"">5</span>) { it * <span class=""hljs-number"">5</span> } <span class=""hljs-comment"">// returns 50</span> }</code></pre> <h3>Inline functions</h3> <p>You can specifically request that a function be inlined using the <code>inline</code> keyword. eg. you could&#x27;ve alternatively declared the <code>doubleAndThen</code> function above as</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">inline</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">doubleAndThen</span><span class=""hljs-params"">(n: <span class=""hljs-type"">Int</span>, then: (<span class=""hljs-type"">Int</span>)</span></span> -&gt; <span class=""hljs-built_in"">Int</span>): <span class=""hljs-built_in"">Int</span> = then(n * <span class=""hljs-number"">2</span>)</code></pre> <p>In this case the compiler will emit the function (and the lambda passed to it) inlined at the call site where doubleAndThen is called. This causes your compiled code to grow in size but could pay off in performance.</p> <p>If you do not want a particular lambda passed to the function as inlined, then you could mark it as noinline. eg.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">inline</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">doubleAndThen</span><span class=""hljs-params"">(n: <span class=""hljs-type"">Int</span>, <span class=""hljs-keyword"">noinline</span> then: (<span class=""hljs-type"">Int</span>)</span></span> -&gt; <span class=""hljs-built_in"">Int</span>): <span class=""hljs-built_in"">Int</span> = then(n * <span class=""hljs-number"">2</span>)</code></pre> <p>If a function is inlined, then the lambdas passed to it are allowed to have a <code>return</code></p> <p>The next post in the series is <a href=""http://blog.dhananjaynene.com/2016/04/exercises-in-kotlin-part-4-control-flows-and-return/"">Exercises in Kotlin: Part 4 - Control flows and return</a></p> http://blog.dhananjaynene.com/2016/04/exercises-in-kotlin-part-3-functions/http://blog.dhananjaynene.com/2016/04/exercises-in-kotlin-part-3-functions/KotlinDhananjay NeneWed, 20 Apr 2016 00:00:00 GMT Kotlin + Android First Impressions<p>I am a huge Android fanboy, and have been one ever since the Nexus One came out. The Android OS has evolved so much and into so many variations. Almost a year ago, one of the Android developers I follow on Twitter was pushing for Kotlin to be the main language for Android. What was more interesting was it was retweeted by an Android Developer from Google. Fast forward to around this time, and the guys behinds IntelliJ announce 1.0 of Kotlin.</p> <p>I decided to see what the big hype was about on Kotlin. Consider this blog as a first impression rather than a review.</p> <h2>Going from Java to Kotlin</h2> <p><a href=""https://github.com/Kotlin"">Kotlin</a> (for the most part) is similar to Groovy and Scala, as it runs on a JVM. It can also be compiled to JavaScript.</p> <p>I took the time to learn the syntax by first going to its official website. It&rsquo;s advertised that Kotlin should be easy to pick up if you already code in Java, and it is interoperable with existing Java frameworks. I&rsquo;ve been a Java developer most of my life, so I figured it wouldn&rsquo;t be too hard to learn Kotlin.</p> <p>The <a href=""https://kotlinlang.org/"">official website</a> had a nice tutorial section for it. Here are a couple of cool things about the syntax I liked:</p> <ul> <li>Types are defined after the variable name. In Java, you would declare variables with the type first then the variable name like <code>private int x;</code> while the Kotlin equivalent is <code>var x: Int</code>. The type can also be inferred <code>var x = 1 //is Int initialized to 1</code>.</li> <li>Variables can be declared as nullable with <code>?</code>. For example: <code>y?.length</code>. If y is null, then return null. Otherwise return <code>y.length</code>.</li> <li>Smart Casts! If a variable is of certain type, it is already cast to that type. For example: <code>if (a is String) print(a.length)</code></li> </ul> <p>There are a lot more that I liked, but to keep this blog short, I suggest you check out <a href=""https://kotlinlang.org/"">the official website</a>.</p> <h2>Kotlin in Android Studio</h2> <p>It has been a while since I played around with the Android API. The last time I messed around with an Android app was around the time Android was known as &ldquo;Jelly Bean.&rdquo;</p> <p>So, that said, I had to familiarize myself with the newer APIs such as <a href=""http://developer.android.com/reference/android/support/v7/widget/RecyclerView.html"">RecyclerView</a> and new UI elements from the Design Support Library. Luckily, since Android Studio is from the same guys who did Kotlin, it was easy to integrate Kotlin into the SDK.</p> <p>First, I created a new project in Android Studio which created a default main activity. Then with the Android Studio Kotlin plugin, I am able to invoke an action to convert from Java to Kotlin. This will convert the Java code thats autogenerated in MainActivity.java to Kotlin in MainActivity.kt. It will also add the Kotlin dependency to your build.gradle.</p> <h2>Put away that Butterknife</h2> <p>A nice Kotlin feature worth mentioning is that within an Activity or Fragment, you don&rsquo;t have to call on findViewById to get a View widget. Simply refer to it by id.</p> <p>So, instead of <code>TextView myTextView = (TextView) findViewById(R.id.myTextView)</code>, you can simply refer to the TextView widget by <code>myTextView</code>. Kotlin will get the reference to that view.</p> <h2>So, overall?</h2> <p>Rather than making, say, a Hello World app or an app with a generic List view, I decided to try out creating an app that plays sounds using MediaPlayer API to challenge myself.</p> <p><img src=""https://www.javacodegeeks.com/wp-content/uploads/2016/04/Kotlin.png"" alt=""Kotlin""></p> <p>During my experience with it as I coded the activities, inflating layouts, and RecyclerView adapters, I think I spent more time going back to the Android API documentation than I did with Kotlin. At first I had to refer back to the Kotlin docs to look up stuff until I got use to the syntax.</p> <p>What I liked most about Kotlin was there were less lines of code. When comparing things I would do in Java that would take a couple of lines, I could accomplish the same in Kotlin with just one line. Less lines of code is pleasant to my tiring eyes. Plus, less boilerplate which is helpful, especially in Android.</p> <h2>Anko</h2> <p>You could also use <a href=""https://github.com/Kotlin/anko"">Anko</a> which is a UI library written in Kotlin. Instead of XML, Anko does the UI in DSL. I heard much praise for this tool. But as I started playing around with Kotlin, I wanted to be more familiar with Android&rsquo;s default XML layout UI.</p> <p>Maybe one day I&rsquo;ll write another blog on Anko or something :).</p> <h2>The future...</h2> <p>So what are the chances that Kotlin will indeed be the official, main go-to when coding in Android?</p> <p>There have been rumors that Google is seeking to stray away from Java for Android development, there have been reports that <a href=""http://thenextweb.com/dd/2016/04/07/google-facebook-uber-swift/"">Google is looking into adopting Apple&rsquo;s Swift language</a>. However, that same report also stated that Google isn&rsquo;t considering Kotlin because of its long build times.</p> <p>With all that said, if you&rsquo;re an existing Java developer looking into something new or looking into developing Android apps, I would suggest to look into Kotlin and give it a try.</p> https://www.javacodegeeks.com/2016/04/kotlin-android-first-impressions.htmlhttps://www.javacodegeeks.com/2016/04/kotlin-android-first-impressions.htmlKotlinAndroidKeyhole SoftwareWed, 20 Apr 2016 00:00:00 GMT Exercises in Kotlin: Part 2 - High level syntax and Variables<p>This post first discusses the code that was written so far in the last post, <a href=""http://blog.dhananjaynene.com/2016/04/exercises-in-kotlin-part-1-getting-started/"">Exercises in Kotlin: Part 1 - Getting Started</a>. Subsequently it focuses on the basic syntax of variables, discusses a bit about packaging and also about Type Inference</p> <h2>A review of code so far</h2> <p>Let us take a look at the code we wrote so far in the last blog post <a href=""http://blog.dhananjaynene.com/2016/04/exercises-in-kotlin-part-1-getting-started/"">first part of this series</a> and glean what we can from the same.</p> <h3>helloworld.kt</h3> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">package</span> com.example.kotlin.learning <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">main</span><span class=""hljs-params"">(args: <span class=""hljs-type"">Array</span>&lt;<span class=""hljs-type"">String</span>&gt;)</span></span> { println(<span class=""hljs-string"">""Hello World!""</span>) } <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">greetings</span><span class=""hljs-params"">()</span></span> = <span class=""hljs-string"">""Hello World!""</span></code></pre> <p>Some of the things that can be noted from this program are follows</p> <ul> <li><em>Similar package convention</em>: Kotlin follows similar package naming conventions as Java.</li> <li><em>Standalone functions</em>: Yes, Kotlin has them. That means there is no requirement to have a class just in order to wrap functions, that frankly have no reasons to be part of a class.</li> <li><em>Keyword</em> <code>fun</code>: Functions are declared using the keyword <code>fun</code>.</li> <li><em>Variable declaration order</em>: When declaring variables (or arguments to a function as in this case of the arguments to <code>main</code>), the order of declaration is reversed, with the type specification <em>following</em> the variable/argument name and a colon used to separate the two.</li> <li><em>Array is a generic type</em>: Arrays are not represented by <code>[]</code> but a generic type <code>Array&lt;T&gt;</code> instead where <code>T</code> is the type whose array is being represented. Thus at a syntactic level there is no necessity for using <code>[]</code> for arrays.</li> <li>There is a helper function called <code>println()</code> similar to <code>System.out.println()</code></li> <li><em>Semicolon as a statement terminator is optional</em>: A semi-colon does not seem to be mandatory</li> <li><em>Optional function return types</em>: Return type of the function is not required. to be specified if the return type is a <em>Unit</em>. Which is why the function <code>main</code> does not require a return type declaration.</li> <li><em>Alternative function representation</em>: As the function declaration for <code>greetings()</code> shows, function bodies can be substituted by expressions if the separator <code>=</code> is used between the function declaration and the expression. When the function body is specified as an expression, the compiler will attempt to infer the return type and in most cases no return type declaration will be required.</li> </ul> <h3>testgreet.kt</h3> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">package</span> com.example.kotlin.learning <span class=""hljs-keyword"">import</span> org.junit.Test <span class=""hljs-keyword"">import</span> org.junit.Assert.assertEquals <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">TestGreet</span></span>() { <span class=""hljs-meta"">@Test</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">testGreetings</span><span class=""hljs-params"">()</span></span> { assertEquals(<span class=""hljs-string"">""Greeting should be 'Hello World!'""</span>, <span class=""hljs-string"">""Hello World!""</span>, greetings()) } }</code></pre> <p>From this we can glean the following</p> <ul> <li><em>Class declaration</em>: A Class declaration is similar to java in the sense it starts with the keyword <code>class</code> followed by the class name. The class body is also wrapped within <code>{</code> and <code>}</code>.</li> <li><em>Constructor</em>: There is no explicit constructor that <em>seems</em> to be required. That is not true. The parenthesis after the class name, in this case with empty content, are in fact the argument list for the primary constructor. More details about that later.</li> <li><em>Method declarations</em>: Methods are also declared using the <code>fun</code> keyword.</li> <li><em>Annotations</em>: Annotations can also be used just like they are used in java (in this case the <code>@Test</code> annotation.</li> </ul> <p>The above gives us some sort of understanding about Kotlin syntax, Let us look at a few more examples to flesh out some of the more commonly used details. This has a main function. So you can copy this code into a file and compile and run it.</p> <h2>Example 1 : Comments and variables</h2> <pre><code class=""hljs language-kotlin""><span class=""hljs-comment"">/** * This is a comment */</span> <span class=""hljs-comment"">/* So is this */</span> <span class=""hljs-comment"">// As is this</span> <span class=""hljs-keyword"">val</span> PI = <span class=""hljs-number"">3.14159</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">circleArea</span><span class=""hljs-params"">(r: <span class=""hljs-type"">Double</span>)</span></span> = PI * r * r <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">main</span><span class=""hljs-params"">(args: <span class=""hljs-type"">Array</span>&lt;<span class=""hljs-type"">String</span>&gt;)</span></span> { <span class=""hljs-keyword"">var</span> radius: <span class=""hljs-built_in"">Double</span> = <span class=""hljs-number"">1.0</span> <span class=""hljs-keyword"">val</span> increment = <span class=""hljs-number"">1</span> <span class=""hljs-comment"">// increment = increment + 1 &lt;-- will not compile since increment is a val</span> println(<span class=""hljs-string"">""The radius of a circle with radius <span class=""hljs-subst"">${radius}</span> is <span class=""hljs-subst"">${circleArea(radius)}</span>""</span>) radius = radius + increment println(<span class=""hljs-string"">""The radius of a circle with radius <span class=""hljs-subst"">${radius}</span> is <span class=""hljs-subst"">${circleArea(radius)}</span>""</span>) }</code></pre> <p>The output of the above program is</p> <pre><code class=""hljs language-kotlin"">The radius of a circle with radius <span class=""hljs-number"">1.0</span> <span class=""hljs-keyword"">is</span> <span class=""hljs-number"">3.14159</span> The radius of a circle with radius <span class=""hljs-number"">2.0</span> <span class=""hljs-keyword"">is</span> <span class=""hljs-number"">12.56636</span></code></pre> <p>Note the following:</p> <h4>Comments</h4> <ul> <li>Kotlin follows the same syntax for comments as Java does. Enough said.</li> </ul> <h4>Primitive types</h4> <ul> <li>Kotlin has primitive types. Though they are not named identical to the ones in Java. They are in fact the same names with the first character capitalised viz Boolean, Byte, Int, Long, Float, Double etc. (not sure if there is an exception to that).</li> <li>There are member methods available for these primitives unlike Java. Thus you can call a <code>toString()</code> on an <code>Int</code></li> <li>Although they seem to be like objects, their storage space is the same as primitives in Java <em>unless</em> they are declared as <em>nullable</em> (more about that later) or used by generic classes in which case their storage is like boxed primitives.</li> </ul> <h4>Variables</h4> <ul> <li>As mentioned earlier, variables can be declared at the top level (eg <code>PI</code>)</li> <li>Functions can also have local variables. eg. <code>radius</code> and <code>increment</code></li> <li>Variables are of two types. <code>val</code> ie. read-only variables and <code>var</code> ie. read-write variables. In Java all variables by default are read-write and those that are to be treated as read-only are marked using the keyword <code>final</code>. However in Kotlin it is required to use one of the two keywords <code>val</code> or <code>var</code> explicitly. The statement <code>// increment = increment + 1</code> was commented out, because since <code>increment</code> is a <code>val</code> such a statement would not compile. <code>radius</code> on the other hand being a <code>var</code> can change its value, as is done at <code>radius = radius + increment</code>.</li> <li>A predominantly functional style of programming will almost always use <code>val</code>s and rarely if any <code>var</code>s. The rationale for that is beyond the scope of this post.</li> <li>A variable may or may not have an explicitly type declared. The compiler will attempt to infer it based on the value it is initialised to. However often that may not be feasible, and the programmer may be required to specify the type explicitly.</li> </ul> <h4>Parameters</h4> <ul> <li>Parameter declarations for functions are similar to a variable declaration. However they are not preceded by a <code>val</code> or a <code>var</code>. They are always <code>val</code>s. They always need an explicit type declaration.</li> <li>A function may return no value whatsoever (represented using the type <code>Unit</code>). The return type of the functional is optional for functions having an expression body (as in case of <code>circleArea</code>) or functions that have a block body but have a <code>Unit</code> return type. In other situatons the compiler will not attempt to infer the return type, and the programmer is required to provide it explicitly.</li> </ul> <h4>String templates</h4> <ul> <li>String interpolation is supported by allowing expressions to be embedded in strings using the ${<code>expr</code>} syntax as in the arguments to <code>println()</code>. This feature is called string templates in Kotlinspeak</li> </ul> <h2>(Optional) Some more advanced aspects about variables</h2> <p>There are some nuanced aspects of variables that you might use only occasionally. These are discussed here. You could chose to skip this section and instead move on to the next post since these might entangle you into learning and thinking about infrequently leveraged capabilities.</p> <p>Consider the following code, which is an extended version of the code we saw earlier. It is kind of a little odd, but has been deliberately constructed to talk about the advanced features.</p> <pre><code class=""hljs language-kotlin"">const <span class=""hljs-keyword"">val</span> PI = <span class=""hljs-number"">3.14159</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">circleArea</span><span class=""hljs-params"">(r: <span class=""hljs-type"">Double</span>)</span></span> = PI * r * r <span class=""hljs-keyword"">var</span> defRadius = <span class=""hljs-number"">5.0</span> <span class=""hljs-keyword"">var</span> defaultRadius: <span class=""hljs-built_in"">Double</span> <span class=""hljs-keyword"">get</span>() = defRadius <span class=""hljs-keyword"">set</span>(value) { defRadius = value } <span class=""hljs-keyword"">val</span> area: <span class=""hljs-built_in"">Double</span> <span class=""hljs-keyword"">get</span>() = circleArea(defaultRadius) <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">main</span><span class=""hljs-params"">(args: <span class=""hljs-type"">Array</span>&lt;<span class=""hljs-type"">String</span>&gt;)</span></span> { <span class=""hljs-keyword"">var</span> radius = <span class=""hljs-number"">1.0</span> <span class=""hljs-keyword"">val</span> increment = <span class=""hljs-number"">1</span> println(<span class=""hljs-string"">""The radius of a circle with radius <span class=""hljs-subst"">${radius}</span> is <span class=""hljs-subst"">${circleArea(radius)}</span>""</span>) radius = radius + increment println(<span class=""hljs-string"">""The radius of a circle with radius <span class=""hljs-subst"">${radius}</span> is <span class=""hljs-subst"">${circleArea(radius)}</span>""</span>) println(<span class=""hljs-string"">""The radius of a circle with radius 5.0 is <span class=""hljs-subst"">${area}</span>""</span>) defaultRadius = <span class=""hljs-number"">6.0</span> println(<span class=""hljs-string"">""The radius of a circle with radius 6.0 is <span class=""hljs-subst"">${area}</span>""</span>) }</code></pre> <p>The output of the code above is as follows</p> <pre><code class=""hljs language-kotlin"">The radius of a circle with radius <span class=""hljs-number"">1.0</span> <span class=""hljs-keyword"">is</span> <span class=""hljs-number"">3.14159</span> The radius of a circle with radius <span class=""hljs-number"">2.0</span> <span class=""hljs-keyword"">is</span> <span class=""hljs-number"">12.56636</span> The radius of a circle with radius <span class=""hljs-number"">5.0</span> <span class=""hljs-keyword"">is</span> <span class=""hljs-number"">78.53975</span> The radius of a circle with radius <span class=""hljs-number"">6.0</span> <span class=""hljs-keyword"">is</span> <span class=""hljs-number"">113.09723999999999</span></code></pre> <p>Things to be noted.</p> <ul> <li><em>getters</em>: Variables can have getter functions as shown for the variable <code>area</code> above. Frankly, not sure why they would be used for top level variables. Though I could imagine them to be used to work around variable visibility constraints by having a private var being accessible as a read-only variable function from another file by using a getter function.</li> <li><em>setters</em>: We can also similarly use setters as in the case of <code>defaultRadius</code>. Again this is a bit of a contrived example, since one could have just as easily directly used <code>defRadius</code>. However do note, getters and setters to tend to be more useful when used with class member variables, a topic we will get to later.</li> <li><em>const variables</em>: Variables can be prefixed with a const as in case of <code>PI</code> above. However this capability is restricted to top level variables only. In addition such variables have to be initialised to a <code>String</code> or a primitive type. and may not have a custom getter. In turn such consts can be used as parameters to annotations.</li> <li><em>package namespaces and visibility</em>: Just like top level functions, you can also have top level variables/constants being declared. Also note that all the standalone functions get declared in the namespace of the package. So if you have multiple files with the same package and also same function (or top level variable) names, that will be treated as an error since one of them will end up attempting to redeclare the other. On the other hand if you declare a top level variable as private, it is not private to that package namespace, but is instead treated as private within a file</li> </ul> <p>We shall be reviewing functions in the next post <a href=""http://blog.dhananjaynene.com/2016/04/exercises-in-kotlin-part-3-functions/"">Exercises in Kotlin: Part 3 - Functions</a></p> http://blog.dhananjaynene.com/2016/04/exercises-in-kotlin-part-2-high-level-syntax-and-variables/http://blog.dhananjaynene.com/2016/04/exercises-in-kotlin-part-2-high-level-syntax-and-variables/KotlinDhananjay NeneTue, 19 Apr 2016 00:00:00 GMT Exercises in Kotlin: Part 1 - Getting Started<p>Kotlin is an exciting new language I have been working with for a couple of months now. I believe it has a lot of features going for it, and I think many will be benefited from learning a bit more about it. Hence this series of posts.</p> <p>This post helps you with getting the necessary software installed on your desktop for compiling and running kotlin code</p> <h2>Presumed Audience :</h2> <p>The reader is presumed to have a reasonable working knowledge of Java. While one of the reasons Kotlin is particularly exciting is because it is such a useful language for the Android platform, the early parts of this series shall focus on the desktop based JVMs. Since those learnings are common irrespective of whether you wish to use Kotlin for desktop/server or Android programming.</p> <p>It is also assumed that the reader has working java development kit installed on his desktop. Most or all of the discussion about syntax will also likely compare Kotlin with Java.</p> <h2>Information :</h2> <p>Some of the useful sites for Kotlin are</p> <ul> <li><a href=""https://kotlinlang.org/"">Kotlin Programming Language</a> : Language Home page.</li> <li><a href=""https://kotlinlang.org/docs/reference/"">Kotlin Reference</a> : Reference - Kotlin Programming Language</li> <li><a href=""https://www.jetbrains.com/idea/"">Intellij Idea</a> : IDE with built in kotlin support. From the same authors who bring you kotlin, ie. JetBrains</li> <li><a href=""https://github.com/JetBrains/kotlin-eclipse"">Kotlin Eclipse Plugin</a> : Kotlin plugin for eclipse. <em>Note: I haven&#x27;t used it myself</em></li> </ul> <h2>Getting started using an IDE</h2> <p><em>Note: if you do not prefer to use an IDE and are likely to code using text editors and build and run using command line, you can skip this section entirely and go to <a href=""#cmdline"">Command Line Usage</a></em></p> <p>Go to the Intellij idea page above and download the latest version. You can choose to download the community version. It has the necessary support for Kotlin. You may alternatively choose to use the Eclipse plugin described above, but I haven&#x27;t used it so cannot help with getting it to work. Install the intellij idea ide and launch it. In case unsure how to do so, consult the <a href=""https://www.jetbrains.com/help/idea/2016.1/installing-and-launching.html"">official guide</a> for downloading, installing and launching the ide.</p> <p>Start a new project. Click on gradle in the left hand column. You should reach the new project dialog box as follows</p> <p><img src=""http://blog.dhananjaynene.com/images/kotlin/kotlin-1-new-project.png"" alt=""Intellij Idea New Project Dialog""></p> <p>I always use the gradle build tool, so I end up making the selections as shown. Select any appropriate JVM between 1.6 and 1.8 (built in one should do). You could use the dialog as shown above. You should next see a dialog box for groupid/artifactid as required by gradle (these mean the same thing as they do for maven, so fill up some group id eg. <code>com.example.kotlin</code> and artifactid eg. <code>learning</code>). The rest of this post assumes these two values, so if you use different values, please replace them appropriately in the code as necessary.</p> <p><img src=""http://blog.dhananjaynene.com/images/kotlin/kotlin-3-groupid-artifactid.png"" alt=""Specify groupid and artifactid""></p> <p>On the next two screens you could choose the defaults or customise as necessary</p> <p><img src=""http://blog.dhananjaynene.com/images/kotlin/kotlin-4-project-config.png"" alt=""Project Configuration""></p> <p><img src=""http://blog.dhananjaynene.com/images/kotlin/kotlin-5-project-configuration-2.png"" alt=""Project Configuration 2""></p> <p>Since gradle defaults to maven like directory structures, let us create the directory necessary for our work using the groupid/artifactid used earlier and maven conventions. Select the &quot;<em>learning</em>&quot; folder at the top of the left pane, and select from main or right click menu, File -&gt; New Directory and specify the directory as follows. (If the menu options File -&gt; New Directory do not appear, you have selected the wrong &quot;<em>learning</em>&quot;, select the one at the top of the left pane, not the one in the toolbar above it).</p> <p><img src=""http://blog.dhananjaynene.com/images/kotlin/kotlin-6-create-directory.png"" alt=""Create source directory""></p> <p>Similarly also create another directory for writing our test cases</p> <p><img src=""http://blog.dhananjaynene.com/images/kotlin/kotlin-7-create-test-directory.png"" alt=""Create test directory""></p> <p>You should see the appropriate packages for the main and test areas appear in the left hand pane as follows</p> <p><img src=""http://blog.dhananjaynene.com/images/kotlin/kotlin-8-ide-view.png"" alt=""IDE View""></p> <p>Right click on the package name under the src/main/kotlin directory and select &quot;New Kotlin File/Class&quot;. It will pop up a dialog where you can enter helloworld</p> <p><img src=""http://blog.dhananjaynene.com/images/kotlin/kotlin-9-new-file-dialog.png"" alt=""New file dialog""></p> <p>This will create a new file &quot;<em>helloworld.kt</em>&quot; and open it into your ide</p> <p><img src=""http://blog.dhananjaynene.com/images/kotlin/kotlin-10-new-file.png"" alt=""New file""></p> <p>Enter the following code in the just opened file</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">package</span> com.example.kotlin.learning <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">main</span><span class=""hljs-params"">(args: <span class=""hljs-type"">Array</span>&lt;<span class=""hljs-type"">String</span>&gt;)</span></span> { println(<span class=""hljs-string"">""Hello World!""</span>) }</code></pre> <p>Run the program using &quot;Run -&gt; Run&quot;. It will pop up a very small dialog box, select HelloWorldKt from it. (You could also use Alt-Shift-F10 instead of Run -&gt; Run, though not sure if the same key bindings work across operating systems, though thats what it is on Linux). This is the canonical Hello World program for Kotlin. Don&#x27;t worry about understanding the syntax yet. We will get to it in the very next post, this post is to get you started.</p> <p>One more thing to do is to get a sample test case running. So, let us add a function to the file we just created that we shall be testing, as follows</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">greetings</span><span class=""hljs-params"">()</span></span> = <span class=""hljs-string"">""Hello World!""</span></code></pre> <p>Next, select the package in the src/test/kotlin directory, and after a right click select &quot;New -&gt; Kotlin File/Class&quot;. This time select the name as &quot;<em>testgreet</em>&quot;, which will create a new file called <em>testgreet.kt</em>. Add the following code to the file.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">package</span> com.example.kotlin.learning <span class=""hljs-keyword"">import</span> org.junit.Test <span class=""hljs-keyword"">import</span> org.junit.Assert.assertEquals <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">TestGreet</span></span>() { <span class=""hljs-meta"">@Test</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">testGreetings</span><span class=""hljs-params"">()</span></span> { assertEquals(<span class=""hljs-string"">""Greeting should be 'Hello World!'""</span>, <span class=""hljs-string"">""Hello World!""</span>, greetings()) } }</code></pre> <p>Again select &quot;Run -&gt; Run...&quot; or (Alt-Shift-F10 or equivalent). This will pop up a small dialog box. Select TestGreet. This will run the test case and should show an all green bar near the bottom of your IDE as shown in the image below.</p> <p><img src=""http://blog.dhananjaynene.com/images/kotlin/kotlin-11-run-test.png"" alt=""Kotlin Run Test""></p> <p>Now, we shall repeat the exercise using text editors and command line for building and running the program. Even if you <em>always</em> use IDEs, I very much recommend that you at least do the remainder of the activities described on this post at least once. It is always helpful to have a general sense of what is happening at a command line level. However if you skip it, or it doesn&#x27;t work for you for whatever reason, it won&#x27;t constrain you from being able to continue with the rest of this series.</p> <p>In either case, I shall not be covering the Intellij Idea IDE any further. If you are new to it or to the Eclipse plugin, learning it is beyond the scope of this series of posts, so I encourage you to play around with them, since that is likely to be useful as we go further along in this series.</p> <h2>Installation for command line usage</h2> <p>The instructions for working with Kotlin from the command line are documented on the page <a href=""https://kotlinlang.org/docs/tutorials/command-line.html"">Working with the Command Line Compiler</a></p> <p>Goto <a href=""https://github.com/JetBrains/kotlin/releases/latest"">Kotlin latest release</a> to download the Kotlin compiler. It will likely be a file called <code>kotlin-compiler-&lt;version&gt;.zip</code>. The current version is 1.0.1-2 at the point in time this post was written. Unzip the file into an appropriate directory. And ensure that the executables kotlin and kotlinc (or their windows equivalent with the .bat extensions) are in your path.</p> <p>Create a work directory for this exercise and change directory to it.</p> <p>Create a file <em>helloworld.kt</em> with the following content.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">package</span> com.example.kotlin.learning <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">main</span><span class=""hljs-params"">(args: <span class=""hljs-type"">Array</span>&lt;<span class=""hljs-type"">String</span>&gt;)</span></span> { println(<span class=""hljs-string"">""Hello World!""</span>) } <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">greetings</span><span class=""hljs-params"">()</span></span> = <span class=""hljs-string"">""Hello World!""</span></code></pre> <p>Compile it using the command</p> <pre><code class=""hljs language-bash"">$ kotlinc helloworld.kt</code></pre> <p>Notice that it will have created a file <em>com/example/kotlin/learning/HelloworldKt.class</em>. This is the compiled <em>.class</em> file. It is Java byte code though you wouldn&#x27;t be able to run it as you might be used to just yet. In fact go ahead and try to run it as follows</p> <pre><code class=""hljs language-bash"">$ java com.example.kotlin.learning.HelloworldKt</code></pre> <p>It will fail because you do not have the necessary kotlin runtime jar in your classpath. You should&#x27;ve seen an error message similar to the one below</p> <pre><code class=""hljs language-kotlin"">Exception <span class=""hljs-keyword"">in</span> thread <span class=""hljs-string"">""main""</span> java.lang.NoClassDefFoundError: kotlin/jvm/<span class=""hljs-keyword"">internal</span>/Intrinsics at com.example.kotlin.learning.HelloworldKt.main(helloworld.kt) Caused <span class=""hljs-keyword"">by</span>: java.lang.ClassNotFoundException: kotlin.jvm.<span class=""hljs-keyword"">internal</span>.Intrinsics at java.net.URLClassLoader.findClass(URLClassLoader.java:<span class=""hljs-number"">381</span>) at java.lang.ClassLoader.loadClass(ClassLoader.java:<span class=""hljs-number"">424</span>) at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:<span class=""hljs-number"">331</span>) at java.lang.ClassLoader.loadClass(ClassLoader.java:<span class=""hljs-number"">357</span>) ... <span class=""hljs-number"">1</span> more</code></pre> <p>That runtime is located in the kotlin zip you had just downloaded. Let us point the classpath to it and attempt to run the program again. (Replace <code>&lt;folder_where_you_unzipped_kotlin_zip&gt;</code> below with the appropriate directory where you had unzipped the file you downloaded)</p> <pre><code class=""hljs language-bash"">$ java -cp &lt;folder_<span class=""hljs-built_in"">where</span>_you_unzipped_kotlin_zip&gt;/kotlinc/lib/kotlin-runtime.jar:. com.example.kotlin.learning.HelloworldKt</code></pre> <p>You should see &quot;Hello World!&quot; getting printed to the console. Kotlin provides an easier way to do this as well, so let us repeat the process, just a little differently.</p> <p>Compile the source again, but this time create a .jar file</p> <pre><code class=""hljs language-bash"">$ kotlinc helloworld.kt -include-runtime <span class=""hljs-_"">-d</span> helloworld.jar</code></pre> <p>Now run it as follows</p> <pre><code class=""hljs language-bash"">$ java -jar helloworld.jar</code></pre> <p>The program should run and &quot;Hello World!&quot; should get printed to the console.</p> <p>Now let us run the test case. Create a file <em>testgreet.kt</em> as follows</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">package</span> com.example.kotlin.learning <span class=""hljs-keyword"">import</span> org.junit.Test <span class=""hljs-keyword"">import</span> org.junit.Assert.assertEquals <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">TestGreet</span></span>() { <span class=""hljs-meta"">@Test</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">testGreetings</span><span class=""hljs-params"">()</span></span> { assertEquals(<span class=""hljs-string"">""Greeting should be 'Hello World!'""</span>, <span class=""hljs-string"">""Hello World!""</span>, greetings()) } }</code></pre> <p>Now for compiling and running this you will need the jar for junit (which in turn requires hamcrest). The instructions for that are provided on the <a href=""https://github.com/junit-team/junit4/wiki/Download-and-Install"">Download and Install - junit4 wiki</a> page. For now just go ahead and download the two following jars for junit and hamcrest.</p> <ul> <li><a href=""http://search.maven.org/remotecontent?filepath=junit/junit/4.12/junit-4.12.jar"">junit jar</a></li> <li><a href=""http://search.maven.org/remotecontent?filepath=org/hamcrest/hamcrest-all/1.3/hamcrest-all-1.3.jar"">hamcrest jar</a></li> </ul> <p>You will have downloaded <em>junit-4.12.jar</em> and <em>hamcrest-all-1.3.jar</em>. Move both of them into your current directory after download.</p> <pre><code class=""hljs language-bash"">$ kotlinc helloworld.kt -cp junit-4.12.jar -include-runtime <span class=""hljs-_"">-d</span> helloworld.jar</code></pre> <pre><code class=""hljs language-bash"">$ java -cp junit-4.12.jar:hamcrest-all-1.3.jar:helloworld.jar org.junit.runner.JUnitCore com.example.kotlin.learning.TestGreet</code></pre> <p>You should see something like the follows (the time obviously could vary) that indicates success.</p> <pre><code class=""hljs language-kotlin"">JUnit version 4.12 . Time: 0.004 OK (1 test)</code></pre> <p>You should also be aware that Kotlin has a REPL that you can run using the command <code>kotlinc-jvm</code> as follows</p> <pre><code class=""hljs language-kotlin"">$ kotlinc-jvm Welcome to Kotlin version <span class=""hljs-number"">1.0</span><span class=""hljs-number"">.1</span><span class=""hljs-number"">-2</span> (JRE <span class=""hljs-number"">1.8</span><span class=""hljs-number"">.0</span>_77-b03) Type :help <span class=""hljs-keyword"">for</span> help, :quit <span class=""hljs-keyword"">for</span> quit &gt;&gt;&gt; println(<span class=""hljs-string"">""Hello World!""</span>) Hello World! &gt;&gt;&gt;</code></pre> <p>Congratulations you are now able to compile and run Kotlin programs. In the next post in this series, we shall attempt to understand the code that we just wrote, and explore the Kotlin language further.</p> http://blog.dhananjaynene.com/2016/04/exercises-in-kotlin-part-1-getting-started/http://blog.dhananjaynene.com/2016/04/exercises-in-kotlin-part-1-getting-started/KotlinDhananjay NeneMon, 18 Apr 2016 05:32:00 GMT Code improvements with Kotlin<p><a href=""https://kotlinlang.org/""><img src=""https://blog.frankel.ch/wp-content/resources/code-improvement-kotlin/icon_Kotlin.png"" alt=""""></a>This week, I tried to improve my pet Android application developed in Kotlin. As I was very new to Kotlin when I started it, most of the code just looks like Java written in Kotlin.</p> <h3>Starting simple</h3> <p>Here&rsquo;s one such snippet, that needs to initialize both a template message and its argument:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> messageTemplate: String <span class=""hljs-keyword"">val</span> params: Array &lt;any&gt;<span class=""hljs-keyword"">when</span> (shownCount) { <span class=""hljs-number"">0</span> -&gt; { messageTemplate = noItem params = arrayOf&lt;any&gt;() } <span class=""hljs-number"">1</span> -&gt; { messageTemplate = itemShowSingle params = arrayOf&lt;any&gt;(totalCount) } <span class=""hljs-keyword"">else</span> -&gt; { messageTemplate = itemShowCount params = arrayOf(shownCount, totalCount) } }</code></pre> <h4>Pair</h4> <p>Kotlin versions after M3 don&rsquo;t offer <code>Tuple</code> anymore, but specialized versions like <code>Pair</code> and <code>Triple</code> in the <em>stdlib</em>. Also, the <code>to()</code> extension function can create such pairs on the fly, without resorting to the constructor.</p> <h4>Destructuring declarations</h4> <p>Kotlin allows to initialize multiple variables at once when the function returns a <code>Pair</code>, a <code>Triple</code> or any <em>data</em> class for that matter.</p> <p>This is the new improved code:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> (messageTemplate, params) = <span class=""hljs-keyword"">when</span> (shownCount) { <span class=""hljs-number"">0</span> -&gt; noItem to arrayOf() <span class=""hljs-number"">1</span> -&gt; itemShowSingle to arrayOf(totalCount) <span class=""hljs-keyword"">else</span> -&gt; itemShowCount to arrayOf(shownCount, totalCount) }</code></pre> <h3><em>stdlib</em> also known as Kotlin&rsquo;s toolbelt</h3> <p>A common task in Android is to send data to the SQLite database through <code>ContentValues</code> instances. Naive Java ports look like the following snippet:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> taskValues = ContentValues() taskValues.put(T_NAME_COL, task.name) taskValues.put(T_DESC_COL, task.description) taskValues.put(T_PRIO_COL, task.priority) taskValues.put(T_DONE_COL, <span class=""hljs-keyword"">if</span> (task.done) <span class=""hljs-number"">1</span> <span class=""hljs-keyword"">else</span> <span class=""hljs-number"">0</span>) taskValues.put(T_LIST_COL, list.id) <span class=""hljs-keyword"">if</span> (task.imagePath != <span class=""hljs-literal"">null</span>) { taskValues.put(T_IMG_COL, task.imagePath.toString()) }</code></pre> <p>Kotlin&rsquo;s <em>stdlib</em> provides a number of interesting functions.</p> <h4>apply()</h4> <p><code>apply()</code> is an extension function set on <code>Any</code> type. It accepts a null-returning function as a parameter, applies it to the receiver and return the later. Note that in the scope of the lambda, <code>this</code> is the receiver.</p> <h4>let()</h4> <p><code>let()</code> is another extension function set on <code>Any</code> type. It accepts a transforming function as a parameter and calls it with the receiver as the parameter.</p> <h4>Null-safe call operator</h4> <p>The <code>.?</code> operator will only called the right-hand operand if the left-hand operand is not null. It&rsquo;s Kotlin&rsquo;s idiomatic way for null checking</p> <p>Using them in combination gives the following code:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> taskValues = ContentValues().apply { put(T_NAME_COL, task.name) put(T_DESC_COL, task.description) put(T_PRIO_COL, task.priority) put(T_DONE_COL, <span class=""hljs-keyword"">if</span> (task.done) <span class=""hljs-number"">1</span> <span class=""hljs-keyword"">else</span> <span class=""hljs-number"">0</span>) put(T_LIST_COL, list.id) task.imagePath?.let { put(T_IMG_COL, it.toString()) } }</code></pre> <h3>Going further</h3> <p>Another common Android task it to read data stored in UI components:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> id = nameView.tag <span class=""hljs-keyword"">as</span> <span class=""hljs-built_in"">Long</span>? <span class=""hljs-keyword"">if</span> (id != <span class=""hljs-literal"">null</span>) { task.id = id }</code></pre> <h4>Safe cast</h4> <p>Casts are handled in Kotlin with the <code>as</code> operator. However, nullable and non-nullable types don&rsquo;t belong to the same hierarchy. Hence, if one casts <code>null</code> to a non-nullable type, a <code>ClassCastException</code> will be thrown at runtime. To avoid that, us the <code>as?</code> smart cast operator.</p> <p>Using <code>let()</code> and the <code>.?</code> operator in conjunction with smart cast produces the next improvement:</p> <pre><code class=""hljs language-kotlin"">(nameView.tag <span class=""hljs-keyword"">as</span>? <span class=""hljs-built_in"">Long</span>)?.let { task.id = it }</code></pre> <h3>The whole shebang</h3> <p>The final common snippet is related to querying SQLite databases. Basically, the usual flow is to create the object, create the cursor, iterate over it to read values and set object&rsquo;s attributes from them. It looks like this:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">findById</span><span class=""hljs-params"">(id: <span class=""hljs-type"">Long</span>)</span></span>: Task { <span class=""hljs-keyword"">val</span> cursor = readableDatabase.rawQuery(<span class=""hljs-string"">""SELECT A LOT FROM TABLE""</span>, arrayOf(id.toString())) cursor.moveToFirst() <span class=""hljs-keyword"">val</span> name = cursor.getString(<span class=""hljs-number"">1</span>) <span class=""hljs-keyword"">val</span> description = cursor.getString(<span class=""hljs-number"">2</span>) <span class=""hljs-keyword"">val</span> imagePath = cursor.getString(<span class=""hljs-number"">3</span>) <span class=""hljs-keyword"">val</span> task = Task(name, description) <span class=""hljs-keyword"">if</span> (!cursor.isNull(<span class=""hljs-number"">4</span>)) { <span class=""hljs-keyword"">val</span> date = cursor.getLong(<span class=""hljs-number"">4</span>) task.alarm = Date(date) } cursor.close() task.id = id <span class=""hljs-keyword"">if</span> (imagePath != <span class=""hljs-literal"">null</span>) { task.imagePath = Uri.parse(imagePath) <span class=""hljs-keyword"">return</span> task }</code></pre> <h4>Local functions</h4> <p>Methods in Java are about visibility and scoping. Basically, if one wants a method not reused in other classes, one sets the <em>private</em> visibility. If this method is used only in another method, it just pollutes the class namespace. Embedded functions are a way to declare a function inside another one to avoid this pollution. Kotlin (as well as Scala) allows that.</p> <h4>with()</h4> <p>Another useful function from <em>stdlib</em> is with(). Available on any type, it takes 2 parameters: the first is the receiver, the second a transforming function and calls the later on the former.</p> <p>Combining those with some of the above features can improve the code a lot:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">findById</span><span class=""hljs-params"">(id: <span class=""hljs-type"">Long</span>)</span></span>: Task { <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">toTask</span><span class=""hljs-params"">(cursor: <span class=""hljs-type"">Cursor</span>)</span></span>: Task { with(cursor) { moveToFirst() <span class=""hljs-keyword"">val</span> name = getString(<span class=""hljs-number"">1</span>) <span class=""hljs-keyword"">val</span> description = getString(<span class=""hljs-number"">2</span>) <span class=""hljs-keyword"">val</span> imagePath = getString(<span class=""hljs-number"">3</span>) <span class=""hljs-keyword"">return</span> Task(name, description).apply { <span class=""hljs-keyword"">if</span> (!isNull(<span class=""hljs-number"">4</span>)) { <span class=""hljs-keyword"">val</span> date = getLong(<span class=""hljs-number"">4</span>) <span class=""hljs-keyword"">val</span> alarm = Date(date) <span class=""hljs-keyword"">this</span>.alarm = alarm } <span class=""hljs-keyword"">this</span>.id = id imagePath?.let { <span class=""hljs-keyword"">this</span>.imagePath = Uri.parse(it) } close() } } } <span class=""hljs-keyword"">return</span> readableDatabase.rawQuery( <span class=""hljs-string"">""SELECTA LOT FROM TABLE""</span>, arrayOf(id.toString())).let { toTask(it) } }</code></pre> <h3>Conclusion</h3> <p>Learning a new programming language is easy: many books promise to do that in 21 days. The hard part is how to write idiomatic code in that new language. This is a long and arduous journey, that needs a lot of reading such idiomatic code, writing &ldquo;bad&rdquo; code yourself and improving it over the course of many iterations.</p> <p><strong>To go further:</strong></p> <ul> <li><a href=""https://kotlinlang.org/docs/reference/multi-declarations.html"">Destructuring Declarations</a></li> <li><a href=""https://kotlinlang.org/docs/reference/typecasts.html#smart-casts"">Smart Casts</a></li> <li>sdtlib functions <a href=""https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/#functions"">reference</a></li> <li><a href=""https://kotlinlang.org/docs/reference/null-safety.html#safe-calls"">Safe calls</a></li> <li><a href=""https://kotlinlang.org/docs/reference/functions.html#local-functions"">Local functions</a></li> </ul> https://blog.frankel.ch/code-improvement-kotlinhttps://blog.frankel.ch/code-improvement-kotlinKotlinNicolas FrankelSun, 17 Apr 2016 16:23:00 GMT Few thoughts about Kotlin and why I like it so much<p>It doesn&#x27;t matter how many languages you have learnt, learning yet another one is always a wonderful experience. I have been working for a couple of months with Kotlin. Have got one app to ready for production state and another in the works.</p> <p>To cut to the chase, I am really impressed by this language. As in really really impressed. And so I decided that I should write a few posts that can help readers get a better idea and learn about this language. So I started writing out the series and am already onto the third post now. But as I was writing it, I realised what I was writing was really about the mechanics of the language. Not so much about its spirit. Cos when one gets into the tactical nitty gritty details, one tends to miss the forest for the trees. So I decided to pen that here before I start that series (next week), and here&#x27;s my few thoughts about why I really enjoy the language.</p> <p>One of the reasons there is a lot of enthusiasm with the language is because it can be readily used for programming to the Android platform. That is how I ended up learning it. But very soon, my enthusiasm spread into the desktop/server space where I think Kotlin deserves a shout out for a very very credible effort.</p> <p>[ EDIT: Deleted a few paragraphs]</p> <p>So what does Kotlin bring to the table?</p> <ul> <li>Runs on the JVM</li> <li>Is extremely good at interoperating with existing java code and libraries.</li> <li>Statically typed (thus far far easier to refactor)</li> <li>Has a bit more evolved type system than Java.</li> <li>Is much safer than Java. Nullability is a first class compiler level construct - something that helps address a large number of likely defects aka the billion dollar bug). There is a lot to write home about here.</li> <li>Has a clear system of distinguishing between mutable and immutable structures. While it doesn&#x27;t make an opinionated stand in favour of immutability, it gives you the programmer enough helpful constructs to chart your course down that path.</li> <li>Has support for type inference which helps reduce your boiler plate and keeps code shorter</li> <li>Has a wonderful story to tell in terms of it providing programmers an ability to write extension functions to existing classes (or for that matter even primitives).</li> <li>Support for Higher Order Functions, Higher kinded types</li> <li>Support for Android programming and JavaScript execution engine (experimental).</li> </ul> <p>Does that make it the better language? I personally think it has achieved amongst the best set of tradeoffs that are attractive to me (obviously YMMV). And here&#x27;s why I enjoy it so much.</p> <ul> <li>Its expressivity is comparable to and superior than python keeping your code short and sweet</li> <li>It being a statically typed language helps enormously speed up refactoring exercises. Even though I have been using it for only two months, I went through at least two brutal refactoring cycles and found Kotlin code to be a pleasure to change.</li> <li>It is safer, lot lot safer than python / java and delegates one of the most frequent tasks of programming ie. null checking to the compiler. Thats a huge effort of the back along with reduction in number of probable defects. Surely nothing to complain about here. And believe me this is a big big plus point.</li> <li>Uses the JVM which is a fine and fast runtime engine</li> <li>It is easy to learn. I actually went through the reference from start to end in 2 days and was a half decent programmer in about a weeks time. Since then I have written functional libraries for Option, Either, Stack, List, HTTP Clients, XML parsing helper libraries, rather complex X.509 certificate trust chain verifiers and a complete Java FX based app. Have started playing around with more functional constructs such as currying, functors etc. Look forward to working more with typeclasses. I just don&#x27;t think I could have had such a pace of progress with any other language.</li> <li>It is non opinionated. For XML parsing I wanted to ensure very low memory footprint because I wanted to use it on android. I was able to write a library which heavily used mutation even as it maintained very low memory usage by keeping extra object allocation counts down. For another situation I wanted to use immutable functional paradigm, and Kotlin happily let me create my own Option/Either/List classes and use that paradigm end to end. It doesn&#x27;t get in your way. And focuses on getting work done.</li> <li>I have been interfacing with a large number of java libraries. The interoperability has been an absolute breeze. It is actually refreshing to go through that experience. Doesn&#x27;t matter if you are dealing with HTTP client APIs, integrating into a Slack HTTP service, interfacing with Java PKCS API, Kotlin does it easily and safely.</li> </ul> <p>In a nutshell, I can write code that is safer, shorter, uses better building blocks, is easier to grok, gives me all the nice capabilities such as HOFs, lambdas, pretty competent type system that gives me all the feedback necessary when writing code and makes refactoring a breeze, and interoperates nicely and leverages the JVM universe.</p> http://blog.dhananjaynene.com/2016/04/few-thoughts-about-kotlin-and-why-i-like-it-so-much/http://blog.dhananjaynene.com/2016/04/few-thoughts-about-kotlin-and-why-i-like-it-so-much/KotlinDhananjay NeneFri, 15 Apr 2016 15:44:00 GMT Kotlin for Scala Developers<p>At <a href=""/about"">51zero</a> we pride ourselves on being flexible when it comes to language choice. Java, Scala, C#, and more recently, <a href=""https://kotlinlang.org/"">Kotlin</a>. Kotlin is a JVM language developed by Jetbrains (the people behind IntelliJ amongst other things) and recently has just reached version 1.0 public. We&rsquo;ve even ported ScalaTest over to Kotlin in the guise of <a href=""https://github.com/kotlintest/kotlintest"">KotlinTest</a> (of which we&rsquo;ll do a blog soon).</p> <p>There are some great articles already published on the main features of Kotlin, for example <a href=""http://petersommerhoff.com/dev/kotlin/kotlin-for-java-devs/"">here</a>, <a href=""https://medium.com/@octskyward/why-kotlin-is-my-next-programming-language-c25c001e26e3#.8e0v3qg1x"">here</a> and <a href=""https://opencredo.com/kotlin/"">here</a>, which are useful introductions for Java developers wishing to look at a different language. This blog is for Scala developers interested in having a play with Kotlin, where we review features of Scala you use every day, and their equivalents, or closest features, are in Kotlin.</p> <h2>Data classes vs Case classes</h2> <p>One of the main selling points of Scala when you first start to use it over Java is the use of case classes to take away all the boilerplate from Java beans. (Quite why Java didn&#x27;t add this years ago I have no idea, surely the addition of an annotation that the compiler can pick up on wouldn&#x27;t break existing code). But anyway, Kotlin has the same case class functionality in the form of data classes. The minor difference is that Kotlin won&rsquo;t automatically infer the constructor parameters to be fields, so you must declare them as either val or var. Eg, the following scala case class:</p> <pre><code class=""hljs language-scala""><span class=""hljs-keyword"">case</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Person</span>(<span class=""hljs-params"">name: <span class=""hljs-type"">String</span>, age: <span class=""hljs-type"">Int</span></span>)</span></code></pre> <p>Would become:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">data</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Person</span></span>(<span class=""hljs-keyword"">val</span> name: String, <span class=""hljs-keyword"">val</span> age: <span class=""hljs-built_in"">Int</span>)</code></pre> <p>The automatic derivation of equals(), hashCode() etc works in the same way as Scala.</p> <h2>Implicit Conversions</h2> <p>Kotlin doesn&rsquo;t support implicits as such but it does allow us to achieve one common use of implicits, which is the <em>pimp-my-library</em> pattern. In Scala, when we want to invoke foo() on a type A which contains no foo() method, the compiler will check in the appropriate scopes for an implicit method that accepts an A and returns a type B which does have the foo() method. So we create another type B, which contains all the extra methods we want for A, and then add a conversion from A to B (or mark B as an implicit class that accepts an A). In Kotlin we can use extension methods defined on A directly.</p> <p>So the scala code:</p> <pre><code class=""hljs language-scala""><span class=""hljs-keyword"">implicit</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">RichString</span>(<span class=""hljs-params"">str: <span class=""hljs-type"">String</span></span>) </span>{ <span class=""hljs-function""><span class=""hljs-keyword"">def</span> <span class=""hljs-title"">reverse</span></span>: <span class=""hljs-type"">String</span> = ... <span class=""hljs-function""><span class=""hljs-keyword"">def</span> <span class=""hljs-title"">take</span></span>(k: <span class=""hljs-type"">Int</span>): <span class=""hljs-type"">String</span> = ... }</code></pre> <p>Becomes this Kotlin code:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> String.<span class=""hljs-title"">reverse</span><span class=""hljs-params"">()</span></span> = ... <span class=""hljs-comment"">// the “string” is available as “this”</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> String.<span class=""hljs-title"">take</span><span class=""hljs-params"">(k: <span class=""hljs-type"">Int</span>)</span></span> = ...</code></pre> <p>Allows us to invoke this as <code>&quot;hello&quot;.reverse()</code></p> <p>This works for generic types too.</p> <h2>Option</h2> <p>Kotlin doesn&#x27;t have an Option type provided by the SDK (other than the Optional type available in Java 8) instead focusing on offering null safety as a first class feature. Whether you prefer this over the Haskell inspired Options is a matter of preference. I&rsquo;ll explain a way to do something very common with options.</p> <p>Often given an option returning method, you want to map over the result before calling getOrElse or something similar. The equivalent in Kotlin would be the ?. operator which says, if the value is null, keep it null, otherwise execute the method. So this</p> <pre><code class=""hljs language-scala"">map.get(<span class=""hljs-string"">""key""</span>).map(_.foo)</code></pre> <p>Would become</p> <pre><code class=""hljs language-kotlin"">map.<span class=""hljs-keyword"">get</span>(<span class=""hljs-string"">""key""</span>)?.foo</code></pre> <p>Getting the value out of the option in Scala usually involves a getOrElse or a fold. In Kotlin we would use the so called Elvis operator (am I the only one that thinks this name is ridiculous! Let&#x27;s call it the getOrElse operator). So this</p> <pre><code class=""hljs language-scala"">option.getOrElse(-1)</code></pre> <p>would become</p> <pre><code class=""hljs language-kotlin"">value ?: -1</code></pre> <h2>Property access</h2> <p>In Scala, we can access methods that declare a single empty parameter list without the parenthesis, so that methods and fields can both appear as properties. Eg,</p> <pre><code class=""hljs language-scala""><span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Foo</span> </span>{ <span class=""hljs-function""><span class=""hljs-keyword"">def</span> <span class=""hljs-title"">wibble</span></span>(): <span class=""hljs-type"">String</span> = <span class=""hljs-string"">""wibble""</span> }</code></pre> <p>Can be invoked as either foo.wibble or foo.wibble()</p> <p>In Kotlin, we can do something similar for methods that adopt the java-bean standard. So if you have a method called fun getName() then we can do foo.name and that will be compiled into a call to the getName() function.</p> <p>Kotlin provides something similar for setters. If there is a method called setName(str: String) then we can invoke this as either <code>foo.setName(&quot;moo&quot;)</code> or <code>foo.name = &quot;moo&quot;</code>. The second form will be compiled into the first form.</p> <h2>Operator Overloading</h2> <p>Scala allows us to declare methods with almost any operators to make (for what its proponents would argue) richer and more readable symbols for methods where operators make sense (the canonical example tends to be matrices, vectors or complex numbers). The opponents would say you end up with things like <a href=""http://www.flotsam.nl/dispatch-periodic-table.html"">this</a>. Personally, I don&rsquo;t mind either way.</p> <p>Kotlin allows us to override some operators, but only ones predefined. Eg, plus, minus etc. To do this we just declare a method with the name that matches the symbol, and annotate the function declaration with the keyword operator. Eg</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">operator</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">plus</span><span class=""hljs-params"">(vector: <span class=""hljs-type"">Vector</span>)</span></span>: Vector = ...</code></pre> <p>The full list of supported operators can be found <a href=""https://kotlinlang.org/docs/reference/operator-overloading.html"">here</a>.</p> <h2>Pattern Matching</h2> <p>Kotlin unfortunately doesn&#x27;t support full pattern matching, so you cannot do things like</p> <pre><code class=""hljs language-scala"">person <span class=""hljs-keyword"">match</span> { <span class=""hljs-keyword"">case</span> <span class=""hljs-type"">Person</span>(<span class=""hljs-string"">""bobby""</span>, age) =&gt; <span class=""hljs-keyword"">case</span> _ =&gt; }</code></pre> <p>There is a limited form of extraction, which you can read about later, and there is a replacement for switch which allows matching on types and invocation of functions on the argument. This uses the keyword when, eg,</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">when</span>(obj) { <span class=""hljs-keyword"">is</span> String -&gt; <span class=""hljs-comment"">// matches on the type</span> parseInt(obj) -&gt; <span class=""hljs-comment"">// invoked method parseInt</span> <span class=""hljs-keyword"">else</span> -&gt; <span class=""hljs-comment"">// otherwise</span> }</code></pre> <p>There is a neat way to use when&rsquo;s as a replacement for if-else-if chains, you just use when without an argument, as such</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">when</span> { person.name == <span class=""hljs-string"">""bobby""</span> -&gt; x.isOdd() -&gt; <span class=""hljs-keyword"">else</span> -&gt; }</code></pre> <h2>Apply method</h2> <p>In Scala, methods named apply() do not need to have the method name in order to be invoked, eg</p> <pre><code class=""hljs language-scala""><span class=""hljs-class""><span class=""hljs-keyword"">object</span> <span class=""hljs-title"">Foo</span> </span>{ <span class=""hljs-function""><span class=""hljs-keyword"">def</span> <span class=""hljs-title"">apply</span></span>() = println(<span class=""hljs-string"">""hello""</span>) <span class=""hljs-function""><span class=""hljs-keyword"">def</span> <span class=""hljs-title"">apply</span></span>(str: <span class=""hljs-type"">String</span>) = println(str) }</code></pre> <p>Can be invoked simply as Foo() or Foo(&ldquo;hello&rdquo;)</p> <p>In Kotlin, the equivalent is to name the method invoke() with the additional operator annotation, eg</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">object</span> Foo { <span class=""hljs-keyword"">operator</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">invoke</span><span class=""hljs-params"">()</span></span> = println(<span class=""hljs-string"">""hello""</span>) <span class=""hljs-keyword"">operator</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">invoke</span><span class=""hljs-params"">(str: <span class=""hljs-type"">String</span>)</span></span> = println(str) }</code></pre> <p>And then we can do the same, Foo() or Foo(&ldquo;hello&rdquo;)</p> <h2>Anonymous Lambda Parameter</h2> <p>In scala we can refer to the lambda parameter using an underscore, eg list.map(_.name) which is very concise and very readable. Kotlin doesn&rsquo;t offer a direct equivalent but there is an implicit <strong>it</strong> parameter available: list.map { <strong>it</strong>.name }.</p> <p>This has the drawback that its ever so slightly more verbose, but offers the advantage that you can use it in multiple places, eg, in Scala we can&rsquo;t do</p> <pre><code class=""hljs language-scala"">list.map(_.firstname + _.lastname)</code></pre> <p>but instead must introduce a parameter</p> <pre><code class=""hljs language-scala"">list.map(x =&gt; x.firstname + x.lastname)</code></pre> <p>In Kotlin we can use the <strong>it</strong> parameter multiple times, eg</p> <pre><code class=""hljs language-kotlin"">list.map { it.firstname + it.lastname }</code></pre> <h2>Companion objects</h2> <p>Companion objects are supported in Kotlin using slightly different syntax. Instead of declaring an object with the same name, declare an object with the keyword companion inside the class itself.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Foo</span> </span>{ <span class=""hljs-keyword"">companion</span> <span class=""hljs-keyword"">object</span> { <span class=""hljs-comment"">// methods here</span> } }</code></pre> <h2>Extractors</h2> <p>While kotlin doesn&rsquo;t have extractors as such, it does support a limited form of extraction called desugaring declarations which go some way to performing the same job. Any class that implements the functions component1(), component2(), and so on (similar to the product() provided by Scala&rsquo;s Product1, Product2, ProductN traits) can be desugared into component variables. For example</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> person = Person(<span class=""hljs-string"">""billy""</span>, <span class=""hljs-number"">21</span>) <span class=""hljs-keyword"">val</span> (name, age) = person</code></pre> <p>Which is compiled into</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> person = Person(<span class=""hljs-string"">""billy""</span>, <span class=""hljs-number"">21</span>) <span class=""hljs-keyword"">val</span> name = person.component1() <span class=""hljs-keyword"">val</span> age = person.component2()</code></pre> <p>In Scala, case classes automatically extend the appropriate ProductN trait. In Kotlin data classes automatically implement the appropriate componentN() functions.</p> <p>This also works in for statements, replacing the scala code:</p> <pre><code class=""hljs language-scala""><span class=""hljs-keyword"">for</span> ((a,b) &lt;- person) { }</code></pre> <p>With the almost identical</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">for</span> ((a,b) <span class=""hljs-keyword"">in</span> person) { }</code></pre> <p>That&rsquo;s all for now. Hopefully this article provides some hints and tips for Scala developers who are interested in exploring a little bit of Kotlin.</p> http://www.51zero.com/blog/2016/4/14/kotlin-for-scala-developershttp://www.51zero.com/blog/2016/4/14/kotlin-for-scala-developersScalaKotlinStephen SamuelThu, 14 Apr 2016 15:44:00 GMT Kotlin Post-1.0 Roadmap<p>It&rsquo;s been almost two months since Kotlin 1.0 was released, and the team is now switching from stabilisation and bug fixes to new feature work, so it&rsquo;s a great time to talk about our plans for the future.</p> <p>We&rsquo;ve already published our <a href=""http://blog.jetbrains.com/kotlin/2016/03/kotlins-android-roadmap/"">Android roadmap</a>, but there are many other areas where we&rsquo;re applying our efforts. Our current development is organised in two main branches:</p> <ul> <li><strong>Kotlin 1.0.x</strong> which will be a series of releases containing bug fixes, updates to tooling, IDE support and other areas which do not affect the core language. 1.0.x releases will be published on a regular basis once every several weeks.</li> <li><strong>Kotlin 1.1</strong> which will contain major new language features, along with all the improvements from the 1.0.x branch. This will be a feature-driven release, and we aren&rsquo;t announcing any specific time frame for it.</li> </ul> <p>Let&rsquo;s look at the plans for each area in more detail, starting with the big ones.</p> <h2>New Language Features</h2> <p>Before we can start talking about specific features, the <strong>big disclaimer</strong>: everything we&rsquo;re talking about here is still in the design phase, and features may end up being changed dramatically or dropped entirely as we move forward with the design, implementation and feedback gathering process. So, no guarantees.</p> <h3>async/await/yield</h3> <p>The most important feature that we&rsquo;re designing right now is support for <strong>coroutines</strong> (async/await/yield). By now, the async/await pattern has found its way into many different languages, including C#, Python and Dart, and we want to support this in Kotlin as well. However, that&rsquo;s not the end of the story: we want to put the specific code execution semantics into the library, rather than the compiler.</p> <p>The compiler will take care of transforming the function used as a coroutine into a form allowing to suspend and resume its execution. The actual execution of a coroutine (the initial invocation, as well as resuming the execution after a suspension point) will be the responsibility of the support library. Therefore, the same mechanism will allow us to support many different patterns: generators (<code>yield</code>), asynchronously executed functions (<code>async</code>/<code>await</code>), Go-like channels and goroutines, as well as potentially others which haven&rsquo;t even been invented yet.</p> <p>Note that we&rsquo;re still in the process of estimating the effort needed to implement this feature, and we don&rsquo;t know whether it would be reasonable to support it in the 1.1 timeframe or it would be postponed to a later release.</p> <h3>Other Language Features</h3> <p>We&rsquo;ve received quite a lot of feedback from Kotlin 1.0, and we were quite happy to see that a lot of the requests were asking for the same features. We&rsquo;ve chosen the ones that come up the most often, and have prioritised them for Kotlin 1.1. Those we&rsquo;re reasonably sure about are:</p> <ul> <li> <p><strong>Data class hierarchy support</strong> will remove many of the current restrictions on data class inheritance, for example, allowing you to represent an algebraic data type as a series of data classes nested in a sealed class:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">sealed</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">C</span> </span>{ <span class=""hljs-keyword"">data</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">A</span></span>(<span class=""hljs-keyword"">val</span> x: X, <span class=""hljs-keyword"">val</span> y: Y) : C() { ... } }</code></pre> </li> <li><strong>Type aliases</strong> will allow to assign a short name to a type (for example, a function type, or a generic type with a long signature): <code>typealias MouseEventHandler = (MouseEvent) -&gt; Unit</code></li> <li><strong>Destructuring in lambdas</strong> will allow you to easily unpack a data class instance or another object supporting the destructuring protocol when it&rsquo;s passed as a parameter to a lambda: <code>myMap.forEach { (key, value) -&gt; println(key+value) }</code></li> <li><strong>Bound method references</strong> will allow to create a method reference that invokes a method on a specific object instance, and doesn&rsquo;t require passing it as a parameter: <code>letters.filter(&quot;abc&quot;::contains)</code></li> <li><strong>Local delegated properties</strong> will allow you to define a local variable as a delegated property: <code>fun foo() { val x by lazy { ... } }</code></li> </ul> <h2>Java 8/9 Support</h2> <p>As of version 1.0, Kotlin targets Java 6 only. This means that the generated bytecode does not make use of any features added in Java 7 or 8, and the standard library only exposes the APIs that existed in Java 6.</p> <p>Over the course of 1.0.x and 1.1 releases and beyond, we plan to remove these restrictions, and to give you the choice of the JVM version that you&rsquo;re targeting. Java 6 is still going to be supported, but if you choose to target Java 8, we&rsquo;ll make use of that. The standard library will let you use the new Java 8 APIs, such as the stream API, and the compiler will use the newer bytecode features, such as the support for default methods in interfaces. We also plan to support Project Jigsaw (the JDK 9 module system) by the time JDK 9 is released.</p> <h2>JavaScript Support</h2> <p>When we started finalizing the 1.0 release, we decided to suspend work on JavaScript support and to focus on the JVM as the main supported platform for the release. Now that 1.0 is out, we&rsquo;ve resumed work on JS, and we&rsquo;re moving towards our goal of letting you write the business logic of your application only once and to run it both on the backend and in the user&rsquo;s browser.</p> <p>Our main priorities for the short term are filling in the missing language features and better integration with the overall JavaScript infrastructure (starting with support for JS module systems). We also plan to leverage the huge set of strongly-typed API definitions for most major JS libraries, which has been accumulated by the TypeScript community. We&rsquo;ll provide a tool to convert those definitions into Kotlin code, letting you use the libraries from Kotlin with a fully typed API and very little effort spent on integration.</p> <h2>IDE Features</h2> <p>In the IDE space, our current priorities are as follows:</p> <ul> <li><strong>Framework support</strong>: We plan to extend the unparalleled level of Java enterprise framework support offered by IntelliJ IDEA Ultimate so that it works equally well for Kotlin. This will be a gradual process happening in parallel inside IntelliJ IDEA and inside the Kotlin plugin; the first batch of Spring support features is already available in Kotlin 1.0.2 EAP.</li> <li><strong>Intentions and Quickfixes:</strong> In our view, one of the main roles of an IDE is teaching you how to use the language well and helping you get back to speed if you make a mistake, by providing code improvement suggestions and automatic quickfixes. Kotlin 1.0 already contains a nice set of tools in this area, and we&rsquo;re going to expand on it in the 1.0.x and 1.1 updates. As one example, we&rsquo;re building tools that can convert imperative-style loops into code written in the functional style, using functions such as map and filter.</li> <li><strong>Other Improvements:</strong> Other things on our roadmap include new refactorings such as Inline Method, a more robust and flexible formatter, support for diagrams for Kotlin code, and more.</li> </ul> <h2>Other Tooling Improvements</h2> <p>The Android roadmap post already mentioned some of the improvements that we plan to make in our tools, such as support for incremental compilation with Gradle and support for Android Lint checks. Both of these features are already available in Kotlin 1.0.2 EAP, and will receive further improvements later on.</p> <h2>Summary</h2> <p>As you can see, there are quite a lot of exciting things coming, and there&rsquo;s plenty of opportunity for you to get involved. Stop by our <a href=""http://kotlinslackin.herokuapp.com/"">Slack chat</a>, try out the <a href=""https://discuss.kotlinlang.org/c/eap"">EAP builds</a>, file <a href=""http://youtrack.jetbrains.com/issues/KT"">issues</a> &ndash; the future of Kotlin depends on you, our users, and we&rsquo;re always happy to hear anything that you have to say.</p> http://blog.jetbrains.com/kotlin/2016/04/kotlin-post-1-0-roadmap/http://blog.jetbrains.com/kotlin/2016/04/kotlin-post-1-0-roadmap/KotlinDmitry JemerovThu, 14 Apr 2016 12:34:00 GMT Making Android Development Easier<h4>Taking Ideas From The Front-End Web</h4> <p>If you&rsquo;ve done Android, you know how quickly your code can grow in complexity as you build out your app. Java is known for boilerplates, and UI-related code (XML &amp; Java combined) will probably take the most of your code. In this post, I&rsquo;m proposing new solution to make Android UI development much easier and less time consuming. It encourages patterns that may be new for Android, but it existed for long while in front-end development.</p> <p>Android SDK has a remarkable UI framework that allows you to build user interfaces in clear and concise way using XML. The layout system is very well thought out, you can build any kind of complex interface using it. But due to the dynamic aspects of user interfaces and the evolving UI design patterns nowadays, building UI becomes more complicated than just writing XML and it will involve a lot of Java &amp; XML writing.</p> <h4><strong>Front-End Web vs Android Development</strong></h4> <p>When compared to mobile or desktop app development in general, I consider web as the easiest platform for building user interfaces. I was impressed by how the front-end community recently created impressive tools that made front-end development much easier and more disciplined. From Grunt, Gulp, Bower, Babel, ES6 to SASS, Bootstrap to React or Angular. There are also so many good patterns that existed in front-end development. Web existed for more than 20 years, so it&rsquo;s only natural that they have reached this level of maturity when it comes to building UIs.</p> <p>Thanks to the brilliant XML layouts in Android, I realized there&rsquo;s a resemblance between Android and front-end web. You can think of XML as the HTML, and Java as the JavaScript. Except in Android we&rsquo;re at the point of pre-jQuery, we still don&rsquo;t have the frameworks that allow us to quickly build and manage UI. Android layout system is very flexible, and it provides great opportunities to create such frameworks. We have to take advantage of that and take it to the next level. The patterns used for front-end development are not exclusive to web, we can apply them on Android.</p> <p>Just to clarify, Android &amp; Java community has written amazing libraries that also made Android development much easier. Just put Retrofit, RxJava, Realm and Kotlin together to create magic, you will be saving a great amount of time writing code. However there are many other challenges that are yet to be solved. This has motivated me build a UI framework inspired by the front-end web. Today, I finally published my <a href=""https://github.com/maannajjar/lattekit"">LatteKit</a> framework and made it public in github. But before checking it out, please let me take you through the the problems the framework should solve.</p> <h4><strong>Identifying The Problem</strong></h4> <p>As I started mulling the idea of creating UI framework, I needed to identify the problems that needed to be solved by my framework. There must be real problems to solve, I didn&rsquo;t want this to be just an attempt to copy the web. I tried making a small app in Android &amp; web app in order to help me see the things that made Android more complicated. Below are the major points I found:</p> <p><strong>1- Non-streamlined UI development</strong></p> <p>From design perspective, your app consists of screens that contain set of UI elements. However, it becomes very complicated when you start building the UI in Android. In Android, there are many different types of components that are directly or indirectly related to building the UI. For example, we have Activity that may contains View widgets (subclasses of android.view.View) and/or Fragments, we also have ListViews and Adapters. Each one of those component has a different way to create and manage, passing data between those components can be very different. Fragments work with Bundles, ListView (and others) require Adapters, Activities need Intents, ..etc. Those components have clear purpose and function, but at the end of the day they all play the same part in building the layout tree. All the internals should be abstracted so the components are used in uniform and streamlined way.</p> <p><strong>2- Styling UI components</strong></p> <p>Styling UI views are done via XML, but not always. Styling in XML may cause a lot of boilerplate. Sometimes you may end up creating 2&ndash;3 xml files to achieve single styling objective. Sometimes you&rsquo;re forced to subclass a certain View in java. For example, if you need to create a circular ImageView, you will have to subclass it and override the drawing method. In Web those are all done in CSS using simple CSS properties.</p> <p><strong>3- View Re-usability and Separation of Concerns</strong></p> <p>Many times you will need to group views together that perform specific UI function. You can do that by either using <code>&lt;include&gt;</code> tag or by subclassing some ViewGroup class and inflating your xml there. Using <code>&lt;include&gt;</code> tag alone is not real solution because you will still have to write related Java code in the user code (e.g. in Fragment or Activity). Subclassed custom Views are difficult to manage (for example, if you want your custom view to have some certain custom attributes you will have to define those attributes in attrs.xml, then you will have to capture them in the constructor by reading AttributeSet.) They introduce more boilerplate that sometimes it&rsquo;s not worth writing a whole subclass of View, you end up writing most your layout in the fragment or activity. When you decide to refactor, the code will be intermingled and hard to move out to its own class.</p> <p><strong>4- Majority of apps contain ListView/RecyclerViews/ViewPager. Writing Adapters is a waste of time</strong></p> <p>Adapter based Views are basically container views that show repeated UI elements. In web, all it takes is to write a loop which iterates through your dataset and render the UI elements. In Android (and similarly in iOS), you have to a define new Adapter class that will manually create the UI elements and bind the data. This was done for optimization purposes, Adapters help you recycle re-usable views. I understand the need to use Adapters for optimization, but there&rsquo;s so much repeated pattern when writing Adapters that can be abstracted and make using ListViews (and others) easier.</p> <h4>Designing The Solution</h4> <p>I&rsquo;ll present below my attempt to solve the problems above. My goal is not to create a new UI toolkit, but rather build a framework on top of Android layout system. The framework will manage views behind the scene and abstract many aspects of the underlying Android API. I established some general principles that I should follow while designing my framework</p> <p><strong>1- The framework shouldn&rsquo;t introduce new complicated concepts to Android developers</strong></p> <p>It should serve a single purpose: allow you to build the UI and get out of the way. No complicated APIs to learn. Android developer should find it very easy to adapt to the framework.</p> <p><strong>2- The framework should provide uniform and concise way to build UI</strong></p> <p>There should be only one way to build a layout. The framework shouldn&rsquo;t provide different and confusing alternatives to build certain UI elements.</p> <p><strong>3- Defining a View should only mean writing one file, and with minimum boilerplate</strong></p> <p>You shouldn&rsquo;t be jumping between xml and java files.</p> <p><strong>4- The framework should use proven patterns to build UIs</strong></p> <p>I shouldn&rsquo;t be creating my own pattern to build UIs, there are tons of proven patterns that already worked and I don&rsquo;t need to get too creative and invent something totally new.</p> <p>I started testing different frameworks used for front-end development. Two popular frameworks that caught my attention are Angular and React. I was very impressed by React and its simplicity. It doesn&rsquo;t introduce new concepts and it has low learning curve. All you need to know is HTML &amp; JavaScript and basic details about the lifecycle of React components. It introduces the concept of virtual DOM, and provides a way to bind data. You can read more about it here <a href=""https://facebook.github.io/react/"">https://facebook.github.io/react/</a>. React model also fits perfectly with my 4 principles. They do have React Native which is framework to build for mobile including Android. However, it introduces new concepts and it relies on JavaScript which is strange to Android. Also, you will have to write bridges between Java &amp; JavaScript if you want to use Android&rsquo;s API.</p> <p><strong>Plain Java Won&rsquo;t Work</strong></p> <p>While designing my framework. I decided that I shouldn&rsquo;t be using plain Java for many reasons. First, it will introduce many boilerplates that will defeat the purpose of the framework. Second, for technical reasons I needed some features that Java can&rsquo;t offer.</p> <p>Luckily there&rsquo;s Kotlin, which is becoming a rising start in Android development. Kotlin is modern JVM language that provides modern language features which are missing in Java. It heavily reduces the boilerplate code and it&rsquo;s interoperable with Java. It works great with Android and it&rsquo;s supported in Android Studio (Kotlin was created by JetBrains, the maker of IntelliJ IDEA).</p> <h4><strong>And LatteKit Was Born...</strong></h4> <p>There&rsquo;s so much to talk about LatteKit and how I built it. The concept should be clear though. If you know minimal Kotlin &amp; CSS with Android knowledge, you should be able to pick up the concept quickly. I created a quick example &amp; documentation in the github repository. There is also a full sample which shows how much lines of code you will save when using the library, it&rsquo;s really a lot. Available at:</p> <p><a href=""https://github.com/maannajjar/lattekit"">https://github.com/maannajjar/lattekit</a></p> <p>Please take a look, try it out and let me know what you think. Keep in mind that this a first release, the core functionality is complete but there are many things left to do in the roadmap.</p> <p>Below is a quick sample I built using the library , you can view the source code in the github repo which shows the minimal line of codes needed.</p> <p><img src=""https://d262ilb51hltx0.cloudfront.net/max/800/1*fULW0kZcUOPcPOmm5QMaBQ.png"" alt=""""></p> <p>I&rsquo;ll dedicate another post about the patterns to use with LatteKit &amp; Kotlin, which will make building Android apps very quickly and with the minimal effort. I&rsquo;m happy with what I have accomplished so far, I&rsquo;m also not taking full credit for the idea because it was inspired by React which proved to work really well in the web.</p> https://medium.com/@maannajjar/progressive-android-ui-development-28d281dbe21b#.g8c7xq81ahttps://medium.com/@maannajjar/progressive-android-ui-development-28d281dbe21b#.g8c7xq81aAndroidKotlinMaan NajjarMon, 11 Apr 2016 20:06:00 GMT Keddit — Part 7: Infinite Scroll: Higher-Order functions & Lambdas<p><img src=""https://d262ilb51hltx0.cloudfront.net/max/2000/1*coKbXMpkG8Fc1NJtM6Jp4w.png"" alt=""""></p> <h3>Content</h3> <ul> <li><a href=""https://medium.com/@juanchosaravia/learn-kotlin-while-developing-an-android-app-introduction-567e21ff9664"">Introduction: A few words about this</a></li> <li><a href=""https://medium.com/@juanchosaravia/learn-kotlin-while-developing-an-android-app-part-1-e0f51fc1a8b3"">Part 1:</a> <a href=""https://medium.com/@juanchosaravia/learn-kotlin-while-developing-an-android-app-part-1-e0f51fc1a8b3"">Configuring Android Studio with Kotlin</a></li> <li><a href=""https://medium.com/@juanchosaravia/learn-kotlin-while-developing-an-android-app-part-2-e53317ffcbe9"">Part 2: MainActivity.kt: Syntax, Null Safety and more...</a></li> <li><a href=""https://medium.com/@juanchosaravia/keddit-part-3-extension-functions-android-extensions-and-more-faa7d232f232"">Part 3: NewsFragment.kt: Extension Functions, Android Extensions...</a></li> <li><a href=""https://medium.com/@juanchosaravia/keddit-part-4-recyclerview-delegate-adapters-data-classes-with-kotlin-9248f44327f7"">Part 4: RecyclerView&#x200A;&mdash;&#x200A;Delegate Adapters &amp; Data Classes with Kotlin</a></li> <li><a href=""https://medium.com/@juanchosaravia/keddit-part-5-kotlin-rxjava-rxandroid-105f95bfcd22"">Part 5: Kotlin, RxJava &amp; RxAndroid</a></li> <li><a href=""https://medium.com/@juanchosaravia/keddit-part-6-api-retrofit-kotlin-d309074af0"">Part 6: API&#x200A;&mdash;&#x200A;Retrofit &amp; Kotlin</a></li> <li><a href=""https://medium.com/@juanchosaravia/keddit-part-7-infinite-scroll-higher-order-functions-lambdas-3a11fbd5090e"">Part 7: Infinite Scroll: Higher-Order functions &amp; Lambdas</a></li> <li>Part 8: Orientation Change (Parcelables &amp; Data Classes)</li> <li>Part 9: Unit &amp; Integration Tests</li> </ul> <h3>Part 7: Infinite Scroll: Higher-Order functions &amp; Lambdas</h3> <p>Thanks to all the previous stories we have a small Reddit client App that <strong>shows the Top news from Reddit</strong> and what we need now is to allow the user to see not only the first 10 news but the next news that also belongs to this Top Reddit news. That&rsquo;s why we introduce here the Infinite Scroll.</p> <p>The implementation of the infinite scroll was inspired by <a href=""http://msobhy.me/2015/09/05/infinite_scrolling_recyclerview/"">this article</a> and the author is <a href=""https://twitter.com/@mSobhy90"">Mohamed Sobhy</a>. I made just a few changes to provide an example of Higher-Order functions and passing a lambda expression as parameter.</p> <h3>Higher-Order Functions</h3> <blockquote> <p>A higher-order function is a function that takes functions as parameters, or returns a function.</p> </blockquote> <p>Well, lets see how Kotlin allows you to pass functions as parameter or return it with some examples.</p> <p>This function &ldquo;<strong>logExecution</strong>&rdquo; allows you to pass a function as parameter and log before and after the execution of this function.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">logExecution</span><span class=""hljs-params"">(func: ()</span></span> -&gt; <span class=""hljs-built_in"">Unit</span>) { Log.d(<span class=""hljs-string"">""tag""</span>, <span class=""hljs-string"">""before executing func""</span>) func() Log.d(<span class=""hljs-string"">""tag""</span>, <span class=""hljs-string"">""after executing func""</span>) }</code></pre> <h4>func: ()-&gt; Unit</h4> <p>As you already know, &ldquo;<strong>func</strong>&rdquo; is the name of the parameter and &ldquo;<strong>() -&gt; Unit</strong>&rdquo; is the &ldquo;type&rdquo; of the parameter, in this case, we are saying that <strong>func</strong> will be a function that <strong>doesn&rsquo;t receive any parameter and doesn&rsquo;t return any value</strong> (remember that Unit works like void in Java).</p> <p>You can call this function by passing a lambda expression that must not receive or return any value, like in this way:</p> <pre><code class=""hljs language-kotlin"">logExecution( { Log.d(<span class=""hljs-string"">""tag""</span>, <span class=""hljs-string"">""I'm a function""</span>) } )</code></pre> <p>but also Kotlin allows you to remove the parenthesis if there is only one function parameter or if the last parameter is a function:</p> <pre><code class=""hljs language-kotlin"">logExecution { Log.d(<span class=""hljs-string"">""tag""</span>, <span class=""hljs-string"">""I'm a function""</span>) }</code></pre> <p>If we change the <strong>logExecution</strong> signature to receive another parameter and we put the function parameter at the end, we can do this:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-comment"">// added tag parameter:</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">logExecution</span><span class=""hljs-params"">(tag: <span class=""hljs-type"">String</span>, func: ()</span></span> -&gt; <span class=""hljs-built_in"">Unit</span>) { ... } <span class=""hljs-comment"">// call in this way:</span> logExecution(<span class=""hljs-string"">""tag""</span>) { Log.d(<span class=""hljs-string"">""tag""</span>, <span class=""hljs-string"">""I'm a function""</span>) }</code></pre> <p>or:</p> <pre><code class=""hljs language-kotlin"">logExecution(<span class=""hljs-string"">""tag""</span>) { Log.d(<span class=""hljs-string"">""tag""</span>, <span class=""hljs-string"">""I'm a function""</span>) }</code></pre> <p>Also you can make the function to receive and return values:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">logExecution</span><span class=""hljs-params"">(func: (<span class=""hljs-type"">String</span>, String)</span></span> -&gt; <span class=""hljs-built_in"">Int</span>) { <span class=""hljs-keyword"">val</span> thisIsAnInt = func(<span class=""hljs-string"">""Hello""</span>, <span class=""hljs-string"">""World""</span>) }</code></pre> <p>As you can see Kotlin gives you a lot of power with Higher-Order functions. Also this allows you to remove a lot of Android ceremonies that requires you to initialize things before to execute something or never forget to close a cursor, and much more.</p> <h4>Async function example</h4> <p>Lets see a practical example. We are going to create a new function that receives a function and execute it in another thread:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">runAsync</span><span class=""hljs-params"">(func: ()</span></span> -&gt; <span class=""hljs-built_in"">Unit</span>) { Handler().post(Runnable { func() }) }</code></pre> <p>Now we can execute a function outside of the Main UI Thread easily:</p> <pre><code class=""hljs language-kotlin"">runAsync { <span class=""hljs-comment"">// i.e.: save something in the Database</span> }</code></pre> <h4>Is Lollipop example</h4> <p>Maybe you want to run some specific code for Lollipop devices and instead of doing the regular if check, you can use this function:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">isLollipopOrAbove</span><span class=""hljs-params"">(func: ()</span></span> -&gt; <span class=""hljs-built_in"">Unit</span>) { <span class=""hljs-keyword"">if</span> (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) { func() } }</code></pre> <p>and use it in this way:</p> <pre><code class=""hljs language-kotlin"">isLollipopOrAbove { <span class=""hljs-comment"">// run lollipop specific code safely</span> }</code></pre> <h3>Infinite Scroll</h3> <p>Ok lets see how we can take advantages of this new concept and create our infinite scroll behaviour.</p> <p>The RecyclerView allows you to set a Scroll Listener so I created this <a href=""https://github.com/juanchosaravia/KedditBySteps/blob/master/app/src/main/java/com/droidcba/kedditbysteps/commons/InfiniteScrollListener.kt"">InfiniteScrollListener</a> and I defined the signature of this class in this way:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">InfiniteScrollListener</span></span>( <span class=""hljs-keyword"">val</span> func: () -&gt; <span class=""hljs-built_in"">Unit</span>, <span class=""hljs-keyword"">val</span> layoutManager: LinearLayoutManager) : RecyclerView.OnScrollListener() {...}</code></pre> <p>What we are doing here is to receive a function parameter that will be invoked every time we get to the end of the RecyclerView (<a href=""https://github.com/juanchosaravia/KedditBySteps/blob/master/app/src/main/java/com/droidcba/kedditbysteps/commons/InfiniteScrollListener.kt#L36"">see line 36 for more details</a>). In fact, it will be called before to reach the end of the list, you can set a threshold that will make our function to be invoked a few items before and in this way you provide a better experience and not making the user to see all the time the loader that more news were requested.</p> <p>The function that we are going to pass as parameter is a function that request more news and update the NewsAdapter with the new received news:</p> <pre><code class=""hljs language-kotlin"">news_list.addOnScrollListener( InfiniteScrollListener({ requestNews() }, linearLayout) )</code></pre> <p><strong>requestNews()</strong> is a function that we already have in our code, I update it to use pagination and request the next available news from Reddit.</p> <p>As you may notice, I&rsquo;m not passing requestNews() <strong>but inside a lambda expression</strong>. This is because the compiler will not take it as a function parameter but as a function that needs to be executed and use the return type of this function as the value that we are passing to the InfiniteScrollListener. As the return type of requestNews is &ldquo;Unit&rdquo;, it doesn&rsquo;t match the InfiniteScrollListener parameter expected which is &ldquo;()-&gt;Unit&rdquo;, so this code will not compile except if you put this into the lambda expression that match perfectly the required parameter.</p> <h4>Commit:</h4> <p>Here you have all the code added to include Infinite Scroll behaviour:</p> <p><a href=""https://github.com/juanchosaravia/KedditBySteps/commit/3bedf81ad25aecf24aacc224c6591072eccf5b73"">https://github.com/juanchosaravia/KedditBySteps/commit/3bedf81ad25aecf24aacc224c6591072eccf5b73</a></p> <h3>Conclusion</h3> <p>We are now able to scroll and see more news from Reddit Top list. All the details can be reviewed in the previous commit.</p> <p>Higher-Order functions is an incredible feature and hope it is more clear now with these examples. I invite you to post other examples if you feel inspired.</p> <p>See you in the next story!</p> <p><strong>Twitter</strong>: <a href=""https://twitter.com/juanchosaravia"">https://twitter.com/juanchosaravia</a></p> https://medium.com/@juanchosaravia/keddit-part-7-infinite-scroll-higher-order-functions-lambdas-3a11fbd5090e#.cdsuea4kchttps://medium.com/@juanchosaravia/keddit-part-7-infinite-scroll-higher-order-functions-lambdas-3a11fbd5090e#.cdsuea4kcAndroidKotlinKedditJuan Ignacio SaraviaSat, 09 Apr 2016 15:36:00 GMT The Kobalt diaries: Automatic Android SDK management<p><img src=""http://beust.com/pics/sdk-manager.png"" alt=""""> <strong>The dreaded SDK Manager</strong></p> <p>Android has always had a weird dependency mechanism. On the JVM (and therefore, Android), we have this great Maven repository system which is leveraged by several tools (Gradle and Kobalt on Android) and which allows us to add dependencies with simple additions to our build files. This is extremely powerful and it has undoubtedly been instrumental in increasing the JVM&rsquo;s popularity. This system works for pretty much any type of applications and dependencies.</p> <p>Except for Android libraries.</p> <p>The Android support libraries (and I&rsquo;m using &ldquo;support&rdquo; loosely here to include all such libraries and not just the one that Google calls &ldquo;support&rdquo;) are not available on any of the Maven repositories. They are not even available on Google&rsquo;s own repository. Instead, you need to use a special tool to download them, and once you do that, they land on your local drive as a local Maven repository, which you then need to declare to Gradle so you can finally add the dependencies you need.</p> <p>I suspect the reason why these libraries are not available in a straight Maven repo is that you need to accept licenses before you can use them, but regardless, this separate download management makes building Android applications more painful, especially for build servers (Travis, Jenkins) which need to be configured specifically for these builds.</p> <p>The graphical tool used to download this repository, called &ldquo;SDK Manager&rdquo;, is also a command tool called <code>&quot;android&quot;</code> that can be invoked without the GUI, and inspired by <a href=""https://github.com/JakeWharton/sdk-manager-plugin"">Jake Wharton&rsquo;s sdk-manager-plugin</a>, I set out to implement automatic SDK management for <a href=""http://beust.com/kobalt"">Kobalt</a>.</p> <p>Once I became more comfortable with the esoteric command line syntax used by the <code>&quot;android&quot;</code> tool, adding it to the Kobalt Android plug-in was trivial, and as a result, Kobalt is now able to completely install a full Android SDK from scratch.</p> <p>In other words, all you need in your project is a simple Android configuration in your <code>Build.kt</code> file:</p> <pre><code class=""hljs language-kotlin"">android { compileSdkVersion = <span class=""hljs-string"">""23""</span> buildToolsVersion = <span class=""hljs-string"">""23.0.1""</span> <span class=""hljs-comment"">// ...</span> } dependencies { compile(<span class=""hljs-string"">""com.android.support:appcompat-v7:aar:23.0.1""</span>) }</code></pre> <p>The Kobalt Android plug-in will then automatically download everything you need to create an <code>apk</code> from this simple build file:</p> <ul> <li>If <code>$ANDROID_HOME</code> is specified, use it and make sure a valid SDK is there. If that environment variable is not specified, install the SDK in a default location (<code>~/.android-sdk</code>).</li> <li>If no Build Tools are installed, install them.</li> <li>Then go through all the Google and Android dependencies for that project and install them as needed.</li> <li>And a few other things...</li> </ul> <p>A typical run on a clean machine with nothing installed will look like this:</p> <pre><code class=""hljs language-bash"">$ ./kobaltw assemble ... Android SDK not found at /home/travis/.android/android-sdk-linux, downloading it Couldn<span class=""hljs-string"">'t find /home/travis/.android/android-sdk-linux/build-tools/23.0.1, downloading it Couldn'</span>t find /home/travis/.android/android-sdk-linux/platform-tools, downloading it Couldn<span class=""hljs-string"">'t find /home/travis/.android/android-sdk-linux/platforms/android-23, downloading it Couldn'</span>t find Maven repository <span class=""hljs-keyword"">for</span> extra-android-m2repository, downloading it Couldn<span class=""hljs-string"">'t find Maven repository for extra-google-m2repository, downloading it ... =========================== | Building androidFlavors | =========================== ------ androidFlavors:clean ------ androidFlavors:generateR ------ androidFlavors:compile Java compiling 4 files ------ androidFlavors:proguard ------ androidFlavors:generateDex ------ androidFlavors:signApk Created androidFlavors/kobaltBuild/outputs/apk/androidFlavors.apk</span></code></pre> <p>Obviously, these downloads will not happen again unless you modify the dependencies in your build file.</p> <p>I&rsquo;m hopeful that Google will eventually make these support libraries available on a real remote Maven repository so we don&rsquo;t have to jump through these hoops any more, but until then, Kobalt has you covered.</p> <p>This feature is available in the latest <a href=""https://github.com/cbeust/kobalt-android""><code>kobalt-android</code> plug-in</a> as follows:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> p = plugins(<span class=""hljs-string"">""com.beust:kobalt-android:0.81""</span>)</code></pre> http://beust.com/weblog/2016/04/09/the-kobalt-diaries-automatic-android-sdk-management/http://beust.com/weblog/2016/04/09/the-kobalt-diaries-automatic-android-sdk-management/KotlinKobaltCédric BeustSat, 09 Apr 2016 04:58:00 GMT Android And Kotlin<p><strong>Kotlin</strong> &ndash; one of the popular programming languages built on top of Java that runs on JVM. Thanks to JetBrains support and excellent IDE integration, it&rsquo;s an ideal choice for Android development. 100% Java compatibility, interoperability and no runtime overhead is just the beginning of a long list of strengths. Kotlin is supposed to be a subset of SCALA, has clear benefits for developers on one hand and keeps short compile times on the other.</p> <p>As a <strong>mobile team</strong> we got interested in Kotlin a few months before its final release which gave us time to test it thoroughly before production use. The language has some clear advantages for an <strong>Android programmer</strong> &ndash; it enables migration from Java projects that have been under development for some time already. Java &amp; Kotlin <strong>coexistence</strong> simplifies Kotlin introduction as only new functionality is written in JetBrain&rsquo;s new language leaving all the legacy code untouched.</p> <p>Transitioning gives the developer an opportunity to use lambdas, new syntax for data objects, extension functions to easily expand Android SDK&rsquo;s classes functionality and infix notation to write DSL-like structures. Almost all the libraries you use today will work with Kotlin thanks to 100% Java compatibility. The same is true for Android SDK classes &ndash; all of them will seamlessly work with the new programming language. Kotlin gives you more choice when it comes to reflection, creating documentation and being null-pointer safe. Android works great with it out of the box so you won&rsquo;t need to change your development habits.</p> <p>Our production project in Kotlin turned out to be a success after 4 months of development. We had <strong>0 bugs related to Kotlin as a programming language</strong>. Our code footprint is almost <strong>30%</strong> smaller thanks to JetBrain&rsquo;s, we benefit from nullpointer safety, closures, translated enums, data objects and use infix notation for logging and displaying Snackbars.</p> <h2>Kotlin Developer Starter in Android projects</h2> <iframe src=""https://www.slideshare.net/slideshow/embed_code/key/2IrMDNtY8cRKrJ"" width=""427"" height=""356"" frameborder=""0"" marginwidth=""0"" marginheight=""0"" scrolling=""no"" style=""border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;"" allowfullscreen=""""></iframe> <p><strong><a href=""https://www.slideshare.net/BartoszKosarzycki/kotlin-developer-starter-in-android-projects"" title=""Kotlin Developer Starter in Android projects"">Kotlin Developer Starter in Android projects</a></strong> from <strong><a href=""http://www.slideshare.net/BartoszKosarzycki"">Bartosz Kosarzycki</a></strong></p> <p>This presentation is a Developer Starter &ndash; a set of hand-picked information allowing a person with no knowledge of Kotlin to start writing basic Android activities and set up a kotlin-based Android project. It starts with language background, reasons for its creation and advantages. Then presents basic use cases, syntax, structures and patterns. Later on Kotlin is presented in Android context. Simple project structure, imports and Kotlin usage with Android SDK is explained. In the end cost of Kotlin compilation is presented and the language is compared to SCALA and SWIFT.</p> <h2>Kotlin advanced &ndash; language reference for android developers</h2> <iframe src=""https://www.slideshare.net/slideshow/embed_code/key/fPQ0XeGdMBpMqK"" width=""427"" height=""356"" frameborder=""0"" marginwidth=""0"" marginheight=""0"" scrolling=""no"" style=""border:1px solid #CCC; border-width:1px; margin-bottom:5px; max-width: 100%;"" allowfullscreen=""""></iframe> <p><strong><a href=""https://www.slideshare.net/BartoszKosarzycki/kotlin-advanced-language-reference-for-android-developers"" title=""Kotlin advanced - language reference for android developers"">Kotlin advanced &ndash; language reference for android developers</a></strong> from <strong><a href=""http://www.slideshare.net/BartoszKosarzycki"">Bartosz Kosarzycki</a></strong></p> <p>Second talk on Kotlin language we had at STXNext. We try go deeper into language specifics and look at the positive impact new syntax can have on boilerplate removal and readability improvement.</p> <p>Kotlin really shines in Android development when one looks at &ldquo;Enum translation&rdquo;, &ldquo;Extension functions&rdquo;, &ldquo;SAM conversions&rdquo;, &ldquo;Infix notation&rdquo;, &ldquo;Closures&rdquo; and &ldquo;Fluent interfaces&rdquo; applied to lists. The talk, however, compares language-specifics of Java &amp; Kotlin in terms of &ldquo;Type Variance&rdquo;, &ldquo;Generics&rdquo; and &ldquo;IDE tools&rdquo; as well.</p> <p><img src=""https://stxnext.com/wp-content/uploads/2016/03/bartosz-kosarzycki-author.jpg"" alt=""""></p> <h3>Bartosz Kosarzycki</h3> <p>Senior developer focused on new technologies and particularly interested in mobile development. Has 3 years experience in Android platform. Bartosz enjoys problem solving, is a huge fan of Agile methodologies and functional programming. For some time already is vividly interested in JVM-based languages like Scala &amp; Kotlin.</p> https://stxnext.com/blog/android-and-kotlin/https://stxnext.com/blog/android-and-kotlin/AndroidKotlinBartosz KosarzyckiThu, 07 Apr 2016 00:00:00 GMT Kotlin Digest 2016.Q1<p>Welcome the Kotlin Digest of Q1 2016. It was in this quarter that Kotlin 1.0 was released, and naturally the number of articles and coverage received has substantially increased. We want to thank everyone for their contributions, and highlight some of the most notable articles and blog posts.</p> <p><center><img src=""http://i0.wp.com/blog.jetbrains.com/kotlin/files/2016/04/2016Q1Cover.png?resize=640%252C320"" alt=""2016Q1Cover""></center></p> <p>By the way, you can <a href=""http://kotlinslackin.herokuapp.com/"">join us on slack</a> and subscribe to the <em>#feed</em> channel, where we push quite a bit of interesting content as it appears.</p> <h1>General Articles</h1> <ul> <li><a href=""https://dzone.com/articles/kotlin-10-is-now-available"">Kotlin 1.0 Is Now Available and the Newest JVM Language Is a Breeze</a></li> <li>Two Q&amp;A of Kotlin&rsquo;s project lead Andrey Breslav on <a href=""https://dzone.com/articles/a-qa-with-andrey-breslav-on-kotlin"">DZone</a> and <a href=""http://www.infoq.com/news/2016/02/kotlin-10-released"">InfoQ</a></li> <li><a href=""https://opencredo.com/kotlin/"">Kotlin: a new JVM language you should try</a> by <a href=""https://twitter.com/rafalgancarz"">Rafal Gancarz</a></li> <li><a href=""https://www.linkedin.com/pulse/kotlin-ying-yang-programming-languages-eric-kolotyluk"">Kotlin: The Ying and Yang of Programming Languages</a> by <a href=""https://www.linkedin.com/in/eric-kolotyluk-7462253?trk=pulse-det-athr_prof-art_hdr"">Eric Kolotyluk</a></li> <li><a href=""https://yobriefca.se/blog/2016/02/24/kotlin-2-years-on/"">Kotlin &ndash; 2 Years On</a> by <a href=""https://twitter.com/kouphax"">James Hughes</a></li> </ul> <h1>Android</h1> <ul> <li><a href=""http://antonioleiva.com/kotlin-awesome-tricks-for-android/"">Kotlin awesome tricks for Android</a> by Antonio Leiva (author of <a href=""https://leanpub.com/kotlin-for-android-developers"">Kotlin for Android Developers</a> book)</li> <li>Series of posts <a href=""https://medium.com/@CodingDoug/kotlin-android-a-brass-tacks-experiment-part-1-3e5028491bcc#.d0dy6mji7"">Kotlin &amp; Android: A Brass Tacks Experiment</a> by <a href=""https://www.linkedin.com/in/doug-stevenson-95509b22"">Doug Stevenson</a> (Developer Advocate in Google)</li> <li><a href=""https://realm.io/news/getting-started-with-kotlin-and-anko/"">Getting Started with Kotlin and Anko on Android</a> by <a href=""https://twitter.com/donnfelker"">Donn Felker</a> from Realm</li> <li><a href=""https://www.linkedin.com/in/raperez"">Roberto Perez</a> shared his expirience in <a href=""https://medium.com/@robj.perez/creating-an-androidwear-watchface-using-kotlin-e5f725813fa9"">creating an AndroidWear watchface using Kotlin</a></li> </ul> <h1>Web Development</h1> <ul> <li>Two great posts by <a href=""https://twitter.com/sdeleuze"">S&eacute;bastien Deleuze</a> from Spring: <a href=""https://spring.io/blog/2016/02/15/developing-spring-boot-applications-with-kotlin"">Developing Spring Boot applications with Kotlin</a> and <a href=""https://spring.io/blog/2016/03/20/a-geospatial-messenger-with-kotlin-spring-boot-and-postgresql"">A Geospatial Messenger with Kotlin, Spring Boot and PostgreSQL</a></li> <li>Three-part article by <a href=""https://twitter.com/mikegehard"">Mike Gehard</a> from Pivotal: <a href=""http://engineering.pivotal.io/post/spring-boot-application-with-kotlin/"">The Journey of a Spring Boot application from Java 8 to Kotlin: The Application Class</a></li> <li><a href=""https://twitter.com/nicolas_frankel"">Nicolas Frankel</a> wrote about his <a href=""https://dzone.com/articles//playing-with-spring-boot-vaadin-and-kotlin"">experiments with Spring Boot, Vaadin, and Kotlin</a></li> <li><a href=""https://medium.com/@dime.kotevski/writing-a-restful-backend-using-kotlin-and-spring-boot-9f162c96e428"">Writing a RESTful backend using Kotlin and Spring Boot</a> by <a href=""https://twitter.com/dimitar_"">Dimitar Kotevski</a></li> <li><a href=""https://medium.com/@gz_k/rest-api-plumbing-with-kotlin-b161af052178"">Rest API plumbing with kotlin</a> by <a href=""https://twitter.com/gz_k"">Ga&euml;tan Zoritchak</a></li> </ul> <h1>Ecosystem</h1> <ul> <li><a href=""https://dzone.com/articles/a-new-javafx-app-framework-for-kotlin-tornadofx"">TornadoFX</a> &mdash; a new JavaFX app framework for Kotlin</li> <li><a href=""http://inaka.net/blog/2016/01/25/killertask-the-solution-to-asynctask-implementation/"">KillerTask</a> &mdash; a solution to AsyncTask implementation</li> <li><a href=""http://blog.bradcampbell.nz/introducing-paperparcel/"">PaperParcel</a> &mdash; a new annotation processor that automatically generates type-safe <a href=""http://developer.android.com/intl/es/reference/android/os/Parcelable.html"">Parcelable</a> boilerplate code for Kotlin and Java</li> <li><a href=""http://tomstechnicalblog.blogspot.ru/2016/02/kotlin-rxjava-what-rxjava-should-be.html"">Kotlin + RxJava = Functional Powerhouse</a></li> <li><a href=""https://medium.com/@ahmedrizwan/kotlin-retrofit-rxandroid-realm-39d7be5dc9dc"">Kotlin : Retrofit + RxAndroid + Realm</a></li> <li><a href=""http://michaelevans.org/blog/2016/02/17/using-dagger-1-and-kotlin/"">Using Dagger 1 and Kotlin</a></li> <li><a href=""http://obviam.net/index.php/libgdx-and-kotlin/"">Using libGDX with Kotlin</a> and <a href=""http://obviam.net/index.php/libgx-and-kotlin-2d-platformer-prototyping/"">creating a simple 2D platformer</a></li> </ul> <h1>Features overwiew</h1> <ul> <li><a href=""http://petersommerhoff.com/dev/kotlin/kotlin-for-java-devs/"">Kotlin for Java Developers: 10 Features You Will Love About Kotlin</a></li> <li><a href=""http://blog.jooq.org/2016/03/31/10-features-i-wish-java-would-steal-from-the-kotlin-language/"">10 Features I Wish Java Would Steal From the Kotlin Language</a></li> <li><a href=""https://medium.com/@dime.kotevski/kotlin-love-at-first-line-7127befe240f#.kan4x5dyg"">Kotlin&#x200A;&mdash;&#x200A;Love at first line</a></li> <li><a href=""https://objectpartners.com/2016/02/23/an-introduction-to-kotlin/"">An Introduction to Kotlin</a></li> <li><a href=""http://www.endran.nl/blog/kotlin-super-seeding-the-language-we-love-2"">Kotlin, superseding the language we love</a></li> <li><a href=""https://medium.com/math-camp-engineering/kotlin-3e963864db9e#.4hxqlfnvn"">Kotlin, the somewhat obscure modern Android-friendly programming language</a></li> </ul> <h1>Technical</h1> <ul> <li><a href=""http://blog.jooq.org/2016/02/22/a-very-peculiar-but-possibly-cunning-kotlin-language-feature/"">A Very Peculiar, but Possibly Cunning Kotlin Language Feature</a></li> <li><a href=""https://blog.frankel.ch/solving-the-josephus-problem-in-kotlin"">Solving the Josephus problem in Kotlin</a> &amp; <a href=""https://blog.frankel.ch/feedback-jospehus-problem"">update</a></li> <li><a href=""http://blog.dennislysenko.com/2016/01/22/kotlin-easily-storing-a-list-in-sharedpreferences-with-custom-accessors/"">Kotlin: Easily storing a list in SharedPreferences with Custom Accessors</a></li> <li><a href=""http://vishnurajeevan.com/2016/02/13/Using-Kotlin-Extensions-for-Rx-ifying/"">Using Kotlin Extensions for Rx-ifying</a></li> <li><a href=""http://makingiants.com/blog/using-mockito-for-unit-tests-with-kotlin-1x/"">Using Mockito for unit testing with Kotlin (1/x)</a></li> <li><a href=""https://medium.com/@sergii/using-kotlin-for-tests-in-android-6d4a0c818776"">Using Kotlin For Tests in Android</a></li> </ul> <h1>Kotlin series</h1> <ul> <li> <p><a href=""https://twitter.com/juanchosaravia"">Juan Saravia</a> started his series of stories about learning Kotlin, while developing an Android App</p> <ul> <li><a href=""https://medium.com/@juanchosaravia/learn-kotlin-while-developing-an-android-app-introduction-567e21ff9664"">Introduction: A few words about this</a></li> <li><a href=""https://medium.com/@juanchosaravia/learn-kotlin-while-developing-an-android-app-part-1-e0f51fc1a8b3"">Part 1: Configuring Android Studio with Kotlin</a></li> <li><a href=""https://medium.com/@juanchosaravia/learn-kotlin-while-developing-an-android-app-part-2-e53317ffcbe9"">Part 2: MainActivity.kt: Syntax, Null Safety and more...</a></li> <li><a href=""https://medium.com/@juanchosaravia/keddit-part-3-extension-functions-android-extensions-and-more-faa7d232f232"">Part 3: NewsFragment.kt: Extension Functions, Android Extensions...</a></li> <li><a href=""https://medium.com/@juanchosaravia/keddit-part-4-recyclerview-delegate-adapters-data-classes-with-kotlin-9248f44327f7"">Part 4: RecyclerView&#x200A;&mdash;&#x200A;Delegate Adapters &amp; Data Classes with Kotlin</a></li> <li><a href=""https://medium.com/@juanchosaravia/keddit-part-5-kotlin-rxjava-rxandroid-105f95bfcd22"">Part 5: Kotlin, RxJava &amp; RxAndroid</a></li> <li><a href=""https://medium.com/@juanchosaravia/keddit-part-6-api-retrofit-kotlin-d309074af0"">Part 6: API&#x200A;&mdash;&#x200A;Retrofit &amp; Kotlin</a></li> </ul> </li> <li> <p>Kotlin Month series by Jacob Zimmerman</p> <ul> <li><a href=""https://programmingideaswithjake.wordpress.com/2016/02/27/kotlin-month-post-1-assorted-features/"">Post 1: Assorted Features</a></li> <li><a href=""https://programmingideaswithjake.wordpress.com/2016/03/05/kotlin-month-post-2-inheritance-and-defaults/"">Post 2: Inheritance and Defaults</a></li> <li><a href=""https://programmingideaswithjake.wordpress.com/2016/03/13/kotlin-month-post-3-safety/"">Post 3: Safety</a></li> <li><a href=""https://programmingideaswithjake.wordpress.com/2016/03/19/kotlin-month-post-4-properties/"">Post 4: Properties</a></li> </ul> </li> <li> <p>by <a href=""https://github.com/cirorizzo"">Ciro Rizzo</a>:</p> <ul> <li><a href=""http://www.cirorizzo.net/2016/01/23/kotlin-at-glance/"">My Kotlin Adventure</a></li> <li><a href=""http://www.cirorizzo.net/2016/02/03/kotlin-code/"">Kotlin Coding</a></li> <li>Building a Kotlin project (<a href=""http://www.cirorizzo.net/2016/03/04/building-a-kotlin-project/"">part 1</a> and <a href=""http://www.cirorizzo.net/2016/03/04/building-a-kotlin-project-2/"">part 2</a>)</li> </ul> </li> </ul> http://blog.jetbrains.com/kotlin/2016/04/kotlin-digest-2016-q1/http://blog.jetbrains.com/kotlin/2016/04/kotlin-digest-2016-q1/KotlinDigestRoman BelovWed, 06 Apr 2016 15:37:00 GMT Kotlin DSL: Anko<p><a href=""https://docs.google.com/presentation/d/12mkyGQZO22kf0_6kp2K6xyFdpg0nBLqGtNcVR-cV4M8/pub"">Kotlin DSL: Anko</a></p> https://docs.google.com/presentation/d/12mkyGQZO22kf0_6kp2K6xyFdpg0nBLqGtNcVR-cV4M8/pubhttps://docs.google.com/presentation/d/12mkyGQZO22kf0_6kp2K6xyFdpg0nBLqGtNcVR-cV4M8/pubKotlinAndroid@maciekjanuszWed, 06 Apr 2016 08:54:00 GMT Kotlin: Practical Experience<p>Kotlin 1.0.0 was officially released in February this year. Kotlin is a new language from JetBrains (of IntelliJ IDEA and ReSharper fame). It was originally announced in 2011 when a development version was made available to the public. While it can be compiled to JavaScript, the primary target is the JVM, and one of its core goals is 100% Java interoperability.</p> <p>I have spent some time recently experimenting with Kotlin. There are many features of the language to enjoy when comparing against Java, terseness being high in the list. However, this post primarily serves to highlight a few gotchas that caught me out in the hopes that others may save some time when dealing with similar issues. While this may seem a slightly negative approach for a blog post, my goal is to offer a more practical take instead of only mentioning all the cool things you can do.</p> <p>I really like Kotlin, I think it has a place in Java development regardless of whether you&rsquo;re writing server-side or client-side, and regardless of your Java version. Kotlin&rsquo;s internal API is based on Java 6 which allows Kotlin to be compatible with Android.</p> <h2>Java 8 Compatibility</h2> <p>As mentioned, Kotlin is internally dependent on Java 6, which places restrictions on what Java library types and language features Kotlin itself can use. This means any new types and methods added in Java 7 or 8 are not available to the Kotlin standard library, however if your target VM is Java 8 then your Kotlin code can make use of the newer Java features.</p> <h3>Java 8 Streams</h3> <p>A major addition that was introduced by Java 8 was the Stream API. This API typically makes full use of Java 8&rsquo;s lambdas to allow users to write code similar to .NET&rsquo;s LINQ. Since Kotlin is compatible with Java 6, they offer an equivalent through their standard library so that it is available regardless of the underlying version of Java. Below is a simple comparison of the Java 8 stream API and Kotlin&rsquo;s equivalent standard library:</p> <pre><code class=""hljs language-java"">List&lt;Integer&gt; list = <span class=""hljs-keyword"">new</span> ArrayList&lt;&gt;(); <span class=""hljs-keyword"">for</span> (<span class=""hljs-keyword"">int</span> i = <span class=""hljs-number"">0</span>; i &lt; <span class=""hljs-number"">50</span>; i++) { list.add(i); } List&lt;Integer&gt; filtered = list.stream() .filter(x -&gt; x % <span class=""hljs-number"">2</span> == <span class=""hljs-number"">0</span>) .collect(toList());</code></pre> <pre><code class=""hljs language-java"">val list = (0..49).toList() val filtered = list .filter( { x -&gt; x % 2 == 0 } )</code></pre> <p>There are a few things about Kotlin lambdas that I found confusing at first. Lambdas must always appear between curly brackets. This can make the lambda look like a standard block, but once you get used to it, it starts to make sense. There are a few special cases that can be applied to the code above to simplify it further. If the last argument to a method is a lambda, then the lambda definition can be moved outside of the method parentheses, and if the remaining method parentheses are then empty, they can be removed. Furthermore, if the lambda has a single parameter then the parameter declaration can be removed along with the arrow, and the parameter can be referred to by <code>it</code>. Applying these rules to the code above simplifies it as follows:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> list = (<span class=""hljs-number"">0.</span><span class=""hljs-number"">.49</span>).toList() <span class=""hljs-keyword"">val</span> filtered = list .filter { it % <span class=""hljs-number"">2</span> == <span class=""hljs-number"">0</span> }</code></pre> <p>A key thing to be aware of is that the code shown above is entirely implemented by the Kotlin standard libraries and is therefore independent of Java 8 streams. This is achieved through standard library extension methods.</p> <h4>Lazy Streams</h4> <p>There are subtle differences between the Java and Kotlin code above. Java is using lazy streams - the filter lambda is only applied once the call to <code>collect</code> is made. The Kotlin example however is eager, which is why the call to filter immediately returns a list.</p> <p>There are ways to make Kotlin lazy, the main option would be to first convert the list to a <code>Sequence</code> and apply the lambdas to that instead. Sequences are evaluated lazily allowing a pipeline to be defined before the underlying lambdas are executed. The Kotlin code would then be as follows:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> list = (<span class=""hljs-number"">0.</span><span class=""hljs-number"">.49</span>).toList().asSequence() .filter { it % <span class=""hljs-number"">2</span> == <span class=""hljs-number"">0</span> } .toList()</code></pre> <p>This is only worth considering if the pipeline consists of more than the filter operation.</p> <h4>Parallel Streams</h4> <p>Something I ran into was the wish to use Java 8&rsquo;s parallel streams. Kotlin&rsquo;s standard library does not include its own parallel stream mechanism, and it is not clear where to start when consulting Kotlin&rsquo;s standard library.</p> <p>In Java one would either call <code>List.parallelStream()</code> or call <code>parallel()</code> directly on a stream. The subsequent pipeline will then be applied in parallel, and the results collected at the end. The issue is that typically in Kotlin lists are referenced via the Kotlin collection interfaces, even if the runtime instances are actually plain Java classes. This means the following code would not compile because the Kotlin collection interfaces do not know about the <code>stream()</code> methods or <code>Stream</code> interface.</p> <pre><code class=""hljs language-kotlin"">listOf(<span class=""hljs-string"">""One""</span>, <span class=""hljs-string"">""Two""</span>, <span class=""hljs-string"">""Three""</span>).parallelStream()</code></pre> <p>Considering these are Java 8 classes means it&rsquo;s not surprising that there is currently no way for Kotlin to include a stream equivalent in their standard library - doing so would require them to reimplement a Kotlin stream equivalent for supporting Java 6 and 7, and then somehow have it use Java 8&rsquo;s Stream API if running under a Java 8 VM. In fact Kotlin used to have their own <code>Stream</code> type before Java 8, but replaced it with <code>Sequence</code> shortly before finalising the 1.0.0 release.</p> <p>One workaround is to implement extension methods for the <code>kotlin.collections.Collection</code> interface as follows:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-type"">&lt;T&gt;</span> Collection<span class=""hljs-type"">&lt;T&gt;</span>.<span class=""hljs-title"">stream</span><span class=""hljs-params"">()</span></span>: Stream&lt;T&gt; { <span class=""hljs-meta"">@Suppress(<span class=""hljs-meta-string"">""PLATFORM_CLASS_MAPPED_TO_KOTLIN""</span>, <span class=""hljs-meta-string"">""UNCHECKED_CAST""</span>)</span> <span class=""hljs-keyword"">return</span> (<span class=""hljs-keyword"">this</span> <span class=""hljs-keyword"">as</span> java.util.Collection&lt;T&gt;).stream() } <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-type"">&lt;T&gt;</span> Collection<span class=""hljs-type"">&lt;T&gt;</span>.<span class=""hljs-title"">parallelStream</span><span class=""hljs-params"">()</span></span>: Stream&lt;T&gt; { <span class=""hljs-meta"">@Suppress(<span class=""hljs-meta-string"">""PLATFORM_CLASS_MAPPED_TO_KOTLIN""</span>, <span class=""hljs-meta-string"">""UNCHECKED_CAST""</span>)</span> <span class=""hljs-keyword"">return</span> (<span class=""hljs-keyword"">this</span> <span class=""hljs-keyword"">as</span> java.util.Collection&lt;T&gt;).parallelStream() }</code></pre> <p>This will allow the <code>stream()</code> and <code>parallelStream()</code> methods to be invoked directly on any Kotlin collection. Note the nasty suppression of warnings though. Firstly IDEA provides a generally good hint that you should probably not be using the <code>java.util.Collection</code> class directly - this is because it is normally hidden behind the Kotlin collection interfaces. The second warning is the unchecked cast which is unavoidable - the main issue is the generic type T which has been erased by Java. It is not possible to use Kotlin&rsquo;s inlined reification feature in these methods either because we&rsquo;re referring to the Java type that is already erased. This workaround is referenced from a <a href=""https://youtrack.jetbrains.com/issue/KT-5175"">bug-report</a> posted for Java 8 streams on Kotlin&rsquo;s bug tracker. This issue was posted when Kotlin still had its own <code>Stream</code> class. While the issue is not resolved (a subsequent release of Kotlin may see a more elegant solution), the removal of Kotlin&rsquo;s <code>Stream</code> class makes the above workaround possible.</p> <p>Another issue arises when collecting the results. In Java I would collect a stream to a list using <code>collect(Collectors.toList())</code>, Java is usually able to infer the types correctly, however because we&rsquo;re using Kotlin which defines its own collection types, things are not as smooth. Here is a function definition that uses the <code>stream()</code> extension method defined above:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">toIntList</span><span class=""hljs-params"">(strings:<span class=""hljs-type"">List</span>&lt;<span class=""hljs-type"">String</span>&gt;)</span></span>:List&lt;<span class=""hljs-built_in"">Int</span>&gt; { <span class=""hljs-keyword"">return</span> strings.stream() .map { it.toInt() } .collect(Collectors.toList&lt;<span class=""hljs-built_in"">Int</span>&gt;()) }</code></pre> <p>The trick is to just make the type explicit when using <code>Collectors.toList</code>. There are some alternative workarounds posted to this <a href=""http://stackoverflow.com/questions/35721528/how-can-i-call-collectcollectors-tolist-on-a-java-8-stream-in-kotlin/35722167#35722167"">Stack Overflow question</a>. The update message posted claiming the issue is fixed in Kotlin 1.0.1 is not entirely accurate - I still find I need to make the types explicit when using collectors.</p> <h3>SAM Types</h3> <p>A nice feature demonstrated in the above code is the fact that Kotlin lambdas are compatible with Java&rsquo;s Single Abstract Method (SAM) interfaces. This can be seen above where a Kotlin lambda is supplied directly to Java&rsquo;s <code>Stream.map</code> method. The Kotlin compiler automatically generates an adapter function to convert the Kotlin lambda to the desired SAM interface type. Sometimes however this requires a bit of assistance, especially to resolve ambiguity. An example is when using Java 8&rsquo;s <code>CompletebleFuture</code>:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">get</span><span class=""hljs-params"">(url:<span class=""hljs-type"">String</span>, ex: <span class=""hljs-type"">Executor</span>)</span></span>:CompletableFuture&lt;String&gt; { <span class=""hljs-keyword"">return</span> CompletableFuture.supplyAsync( Supplier { downloadURL(url) }, ex) }</code></pre> <p>This method takes a string and Java executor, and returns a <code>CompletableFuture</code> containing the URL&rsquo;s content. It assumes there is a synchronous <code>downloadURL</code> method available. Because the <code>supplyAsync</code> Java method takes the lambda as the first parameter, followed by the executor parameter, we can&rsquo;t use the Kotlin shortcut of pushing the lambda outside of the <code>supplyAsync</code> parentheses. To create the correct SAM we prefix the Kotlin lambda with the name of the SAM type we require - in this case a <code>java.util.function.Supplier</code>.</p> <h3>Try-with-resources</h3> <p>This is actually a Java 7 feature, but still applies when using Java 8. In Java we may do the following to copy from an input stream to an output stream. This example relies on Guava to save some nasty iteration, but demonstrates how in Java we can declare multiple <code>AutoCloseable</code> instances in a single try-with-resources declaration. When the try block completes, <code>AutoCloseable.close()</code> will be called on each reference.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">try</span> (InputStream input = new FileInputStream(<span class=""hljs-string"">""SourceFile""</span>); OutputStream output = new FileOutputStream(<span class=""hljs-string"">""TargetFile""</span>)) { ByteStreams.copy(input, output); <span class=""hljs-comment"">// using Guava</span> }</code></pre> <p>Kotlin&rsquo;s approach is not to add special language constructs, but instead to provide an API: <code>use()</code> is simply an extension method on <code>Closeable</code>. The following code is the Kotlin equivalent:</p> <pre><code class=""hljs language-kotlin"">FileInputStream(<span class=""hljs-string"">""SourceFile""</span>).use { input -&gt; FileOutputStream(<span class=""hljs-string"">""TargetFile""</span>).use { output -&gt; input.copyTo(output) } }</code></pre> <p>Note that we have to nest the second <code>use</code> method call to include the second resource declaration, which also means we can&rsquo;t use the implicit <code>it</code> parameter because we have to differentiate between <code>input</code> and <code>output</code>.</p> <p>We also cannot use <code>AutoCloseable</code> which was only introduced in Java 7, so this restricts the usage to <code>Closeable</code> implementations only. The only workaround for the <code>AutoCloseable</code> case at the moment is to implement one&rsquo;s own <code>use</code> extension method for <code>AutoCloseable</code>. JetBrains have indicated they are looking at this, though this goes back at least to 2014. I guess it wasn&rsquo;t seen as something that had to be fixed by 1.0.0, especially since a proper fix introduces the need for Kotlin to be able to target newer versions of Java as well as keep working for Java 6.</p> <p>Another issue is that <code>use</code> is currently not able to use <code>Throwable.addSuppressed(Thowable)</code> for the case where an Exception is being thrown but the close call in the finally block throws its own exception, because this method was also only added in Java 7 specifically for supporting the try-with-resources construct. The source for Kotlin&rsquo;s <code>use</code> includes a TODO item for this and correctly swallows the exception from close so that it doesn&rsquo;t mask the original exception, hopefully a better solution will be forthcoming. This issue is <a href=""https://discuss.kotlinlang.org/t/kotlin-needs-try-with-resources/214"">discussed here</a>.</p> <h2>Java Annotations</h2> <p>This is one particular case I encountered when trying to use Java&rsquo;s XML binding API (JAXB), however this would affect other annotation processing libraries as well.</p> <p>Consider the following Kotlin class:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-meta"">@XmlRootElement(name = <span class=""hljs-meta-string"">""contact""</span>)</span> <span class=""hljs-keyword"">data</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Contact</span></span>( <span class=""hljs-meta"">@XmlAttribute</span> <span class=""hljs-keyword"">var</span> firstName:String? = <span class=""hljs-literal"">null</span>, <span class=""hljs-meta"">@XmlAttribute</span> <span class=""hljs-keyword"">var</span> lastName: String? = <span class=""hljs-literal"">null</span> )</code></pre> <p>I have already tried to cover the basics: by making all the fields nullable and providing null as the default argument, the resulting class will have an empty constructor, as required by JAXB. I have also annotated the root element, and the attributes. But when I try and parse an XML file, I see the following trace:</p> <pre><code class=""hljs language-kotlin"">Exception <span class=""hljs-keyword"">in</span> thread <span class=""hljs-string"">""main""</span> com.sun.xml.<span class=""hljs-keyword"">internal</span>.bind.v2.runtime.IllegalAnnotationsException: <span class=""hljs-number"">2</span> counts of IllegalAnnotationExceptions Class has two properties of the same name <span class=""hljs-string"">""firstName""</span> <span class=""hljs-keyword"">this</span> problem <span class=""hljs-keyword"">is</span> related to the following location: at <span class=""hljs-keyword"">public</span> <span class=""hljs-keyword"">final</span> java.lang.String blog.Contact.getFirstName() at blog.Contact <span class=""hljs-keyword"">this</span> problem <span class=""hljs-keyword"">is</span> related to the following location: at <span class=""hljs-keyword"">private</span> java.lang.String blog.Contact.firstName at blog.Contact Class has two properties of the same name <span class=""hljs-string"">""lastName""</span> <span class=""hljs-keyword"">this</span> problem <span class=""hljs-keyword"">is</span> related to the following location: at <span class=""hljs-keyword"">public</span> <span class=""hljs-keyword"">final</span> java.lang.String blog.Contact.getLastName() at blog.Contact <span class=""hljs-keyword"">this</span> problem <span class=""hljs-keyword"">is</span> related to the following location: at <span class=""hljs-keyword"">private</span> java.lang.String blog.Contact.lastName at blog.Contact</code></pre> <p>It looks like the attribute annotation is being applied to both the public getter as well as the private field, for both the <code>firstName</code> and <code>lastName</code> properties. This is primarily fallout from Kotlin&rsquo;s conciseness. In the <code>Contact</code> class above, the parameters are both constructor arguments as well as property declarations. Since a Kotlin property will be compiled into a getter, setter and backing field, the annotations are applied based on a choice from the Target annotation from the underlying annotation implementation. The best workaround here was to be explicit about what the <code>XmlAttribute</code> annotation should apply to - this can be done using annotation use-site targets as follows:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-meta"">@XmlRootElement(name = <span class=""hljs-meta-string"">""contact""</span>)</span> <span class=""hljs-keyword"">data</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Contact</span></span>( <span class=""hljs-meta"">@get:XmlAttribute</span> <span class=""hljs-keyword"">var</span> firstName:String? = <span class=""hljs-literal"">null</span>, <span class=""hljs-meta"">@get:XmlAttribute</span> <span class=""hljs-keyword"">var</span> lastName: String? = <span class=""hljs-literal"">null</span> )</code></pre> <p>Inserting <code>get:</code> before the annotation name will apply the annotation to the Java getter method, and this resolves the annotation/field clash. The full list of use-site targets can be found <a href=""https://kotlinlang.org/docs/reference/annotations.html#annotation-use-site-targets"">here</a>.</p> <p>One more thing I found - for this simple case it is possible to fix the issue by adding <code>@XmlAccessorType(XmlAccessType.FIELD)</code> to the root element instead, however once I had more complex XML the <code>IllegalAnnotationsException</code> would just be pushed down to one of the deeper classes.</p> <h2>Type-Safe Builders</h2> <p>One of the features of Kotlin that caught my eye at the start was the concept of type-safe builders. The example included in the <a href=""https://kotlinlang.org/docs/reference/type-safe-builders.html"">official documentation</a> shows how an HTML document can be built. Once you have the builder code in place, you can use it as follows:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> html = html { head { title { +<span class=""hljs-string"">""Document Title""</span> } } body { h1 { +<span class=""hljs-string"">""A Nice H1 Heading""</span> } p { +<span class=""hljs-string"">""The wordy first paragraph including a ""</span> a(href = <span class=""hljs-string"">""http://kotlinlang.org""</span>) { +<span class=""hljs-string"">""link""</span> } b { +<span class=""hljs-string"">"" as well as some bold text""</span> } } } }</code></pre> <p>I liked this because the structure of the resulting document was reflected in the structure of the code. This is made possible by a combination of features:</p> <ul> <li>Lambdas must always be defined between curly braces.</li> <li>If the last argument to a method is a lambda, it can be appended after the method parentheses (which in turn can be omitted when empty).</li> <li><em>Function type with receiver</em> lambda arguments.</li> </ul> <p>Looking at the example code again in light of these 3 features, the code is actually just a set of nested method invocations taking a lambda as a parameter. Each lambda is a function type with receiver, which is similar to an extension function. The receiver (<code>this</code>) can be optionally omitted as it can with an extension method.</p> <p>It took me a bit of effort to understand initially, so I suggest reading the official documentation to get a better idea. Once I understood the underlying concepts I was ready to start writing my own set of builders to support creation of a UI. This is where I came up against an issue with the type-safe builder pattern.</p> <p>The issue is as follows - each time you define a nested lambda, it collects the scope of its parent invocations - all the way to the root. In the html example above, it means that the following will compile and generate no warnings, but the result will be confusing:</p> <pre><code class=""hljs language-kotlin"">html { head { title { +<span class=""hljs-string"">""Document Title""</span> } } body { h1 { +<span class=""hljs-string"">""A Nice H1 Heading""</span> } p { +<span class=""hljs-string"">""The wordy first paragraph including a ""</span> body { h1 { +<span class=""hljs-string"">""This is unexpected""</span> } } a(href = <span class=""hljs-string"">""http://kotlinlang.org""</span>) { +<span class=""hljs-string"">""link""</span> } b { +<span class=""hljs-string"">"" as well as some bold text""</span> } } } }</code></pre> <p>You can see I&rsquo;ve added an extra <code>body</code> call within the deepest <code>p</code>. From thinking of this as a type-safe builder of an html document, this should not be possible, since it should not be possible to add a body element at that level. It would be nice if compilation failed. However, if we forget about the html side of things, and just think of this as a bunch of nested closures, then it makes sense. A closure has access to the variables of the outer scope in addition to the current scope. This nested closure effectively has implicit access to all the <code>this</code> keywords up the chain. If we explicitly insert the qualified <code>this</code> keywords, it looks as follows:</p> <pre><code class=""hljs language-kotlin"">html { <span class=""hljs-keyword"">this</span>.head { <span class=""hljs-keyword"">this</span>.title { +<span class=""hljs-string"">""Document Title""</span> } } <span class=""hljs-keyword"">this</span>.body { <span class=""hljs-keyword"">this</span>.h1 { +<span class=""hljs-string"">""A Nice H1 Heading""</span> } <span class=""hljs-keyword"">this</span>.p { +<span class=""hljs-string"">""The wordy first paragraph including a ""</span> <span class=""hljs-keyword"">this</span><span class=""hljs-symbol"">@html</span>.body { <span class=""hljs-keyword"">this</span>.h1 { +<span class=""hljs-string"">""This is unexpected""</span> } } <span class=""hljs-keyword"">this</span>.a(href = <span class=""hljs-string"">""http://kotlinlang.org""</span>) { +<span class=""hljs-string"">""link""</span> } <span class=""hljs-keyword"">this</span>.b { +<span class=""hljs-string"">"" as well as some bold text""</span> } } } }</code></pre> <p>You can see the qualified <code>this@html</code> reference - this is also implicitly available, but the point is that the second <code>body</code> invocation is actually being made against the root html instance, and not against the the paragraph instance that is implied. This leads to the following html document being generated:</p> <pre><code class=""hljs language-html""><span class=""hljs-tag"">&lt;<span class=""hljs-name"">html</span>&gt;</span> <span class=""hljs-tag"">&lt;<span class=""hljs-name"">head</span>&gt;</span> <span class=""hljs-tag"">&lt;<span class=""hljs-name"">title</span>&gt;</span> Document Title <span class=""hljs-tag"">&lt;/<span class=""hljs-name"">title</span>&gt;</span> <span class=""hljs-tag"">&lt;/<span class=""hljs-name"">head</span>&gt;</span> <span class=""hljs-tag"">&lt;<span class=""hljs-name"">body</span>&gt;</span> <span class=""hljs-tag"">&lt;<span class=""hljs-name"">h1</span>&gt;</span> This is unexpected <span class=""hljs-tag"">&lt;/<span class=""hljs-name"">h1</span>&gt;</span> <span class=""hljs-tag"">&lt;/<span class=""hljs-name"">body</span>&gt;</span> <span class=""hljs-tag"">&lt;<span class=""hljs-name"">body</span>&gt;</span> <span class=""hljs-tag"">&lt;<span class=""hljs-name"">h1</span>&gt;</span> A Nice H1 Heading <span class=""hljs-tag"">&lt;/<span class=""hljs-name"">h1</span>&gt;</span> <span class=""hljs-tag"">&lt;<span class=""hljs-name"">p</span>&gt;</span> The wordy first paragraph including a <span class=""hljs-tag"">&lt;<span class=""hljs-name"">a</span> <span class=""hljs-attr"">href</span>=<span class=""hljs-string"">""http://kotlinlang.org""</span>&gt;</span> link <span class=""hljs-tag"">&lt;/<span class=""hljs-name"">a</span>&gt;</span> <span class=""hljs-tag"">&lt;<span class=""hljs-name"">b</span>&gt;</span> as well as some bold text <span class=""hljs-tag"">&lt;/<span class=""hljs-name"">b</span>&gt;</span> <span class=""hljs-tag"">&lt;/<span class=""hljs-name"">p</span>&gt;</span> <span class=""hljs-tag"">&lt;/<span class=""hljs-name"">body</span>&gt;</span> <span class=""hljs-tag"">&lt;/<span class=""hljs-name"">html</span>&gt;</span></code></pre> <p>The reason the second <code>body</code> actually appears first is because the nested body is completed (and added to the document) before the first <code>body</code> is completed. This is confusing behaviour and is unfortunately simply the result of Kotlin&rsquo;s closures behaving correctly. A workaround may be to prefix all the invocations by the unqualified <code>this</code> keyword. If you do this you will find a compiler error is then generated when you try make a call to <code>this.body</code> from inside <code>p</code>, however the resulting code looks messier, and it is still possible to forget the <code>this</code> prefix.</p> <p>I&rsquo;ve only found the following Stack Overflow question and answer <a href=""http://stackoverflow.com/questions/34834739/wrong-this-being-used-in-nested-closures#34836287"">here</a>, where the principle engineer at JetBrains confirms the issue, and hints that a future Kotlin version may add a modifier to restrict a lambda from having access to enclosing scopes.</p> <p>I may wait and see where this goes before embracing type-safe builders. I like the idea - especially how it could be used to implement a DSL for creating a UI, however I think this would cause a usage issue.</p> <h2>Conclusion</h2> <p>Overall I have had a very positive experience. I quickly adapted to the Kotlin syntax and enjoyed using it. The issues I&rsquo;ve raised in this post should not be viewed in a negative light - for every issue I&rsquo;ve raised here there are countless times I found myself impressed at how Kotlin integrates cohesively with Java. My main reason for creating this post is to collect my experiences for future reference, and hopefully to help people who run into the same issues.</p> http://blog.scottlogic.com/2016/04/04/practical-kotlin.htmlhttp://blog.scottlogic.com/2016/04/04/practical-kotlin.htmlKotlinAllen WallisMon, 04 Apr 2016 21:54:00 GMT Kotlin’s killer features<p>SUMMARY: Kotlin is a new JVM language fully interoperable with Java bytecode. It is clearly inspired by Scala, but has a different design philosophy, a much gentler learning curve and some really helpful features like null-safe types.</p> <h2>The Importance of TIOBE</h2> <p>How much value should one place in the TIOBE index? What is it really worth? Let me answer that question after I have checked the rating of my favourite programming language.</p> <p>Here&rsquo;s something that must irk all hard-core Scala afficionados: although it has been around for over twelve years and boasts some superior features, it hasn&rsquo;t made much of a dent in Java&rsquo;s dominance. In fact it takes a modest 30th place, well behind the Latin that is Fortran and (you may shudder) COBOL. Don&rsquo;t get me wrong: I like Scala. It deserves much more adoption than it gets at present, so why doesn&rsquo;t it? My suspicion is that its supposed benefits are not compelling enough to entice people to climb its steep learning curve. Functional programming is hard and not a likely selling point for the average programmer</p> <p><a href=""https://blog.codecentric.de/files/2016/04/Screen-Shot-2016-04-04-at-06.53.46.png""><img src=""https://blog.codecentric.de/files/2016/04/Screen-Shot-2016-04-04-at-06.53.46.png"" alt=""Screen Shot 2016-04-04 at 06.53.46""></a></p> <p>Although this post is about <a href=""http://kotlinlang.org/"">Kotlin</a>, I feel I have to mention <a href=""http://www.scala-lang.org/"">Scala</a>, because it nevertheless has been an inspiration for the designers at Jetbrains. They have taken the good parts, left out/re-thought some of the hard stuff and added some new features. &ldquo;If you are happy with Scala, you most likely do not need Kotlin&rdquo;, <a href=""https://kotlinlang.org/docs/reference/comparison-to-scala.html"">they even admit,</a> but I actually disagree. I like Scala, but after trying out Kotlin for no more than ten hours I can confidently say I like Kotlin better. Admittedly it says more about me as a programmer than about the languages per se, so I invite you to make up your own mind. Maybe it&rsquo;s the fact that the official Kotlin documentation is only 144 pages. It would take some really fine print to cover all about Scala in the same number of pages.</p> <h2>Do we need a new language anyway?</h2> <p>Not really. All modern languages are Turing complete. It&rsquo;s just that I like to code and some languages give me far greater pleasure than others.</p> <p>But now that you mention it, there <em>is</em> actually a lot about Java that will continue to annoy us for many years to come, or at least for as long as old source code &mdash; written in the days before we all had mobile phones, for heaven&rsquo;s sake &mdash; must keep running on every new JVM generation. If the historical development of Java is of a dirt track road evolved into a motorway, it&rsquo;s a motorway that allows horse-drawn carriages simply because some teams didn&rsquo;t get round to retiring their old horses.</p> <p><a href=""https://blog.codecentric.de/files/2016/04/carriage.jpg""><img src=""https://blog.codecentric.de/files/2016/04/carriage.jpg"" alt=""Twenty years of sources, one JVM?""></a></p> <p>Twenty years of sources, one JVM?</p> <p>Backward compatibility means we can&rsquo;t rethink bad ideas or implement new stuff truly elegantly. It has given us gems like:</p> <ul> <li>raw types and type erasure</li> <li>Checked exceptions. No language has implemented it ever since, it must be a bad idea.</li> <li>Covariant arrays: I give you a bag of apples, you treat it as a bag of fruit, replace an apple with a pear and hand it back to me: runtime mayhem. Mutable collections should be invariant.</li> <li>Object wrappers for primitives, because that&rsquo;s the only way collection types can contain them. And we all know autoboxing is the source of some of the worst NullPointers.</li> <li>And since the compiler likes you to spell things out rather than infer them, Java source remains more verbose than needed. It&rsquo;s mitigated somewhat by the autocompletion prowess of modern IDEs, but only somewhat.</li> </ul> <p>There are clear merits to backward compatibility, but they&rsquo;re getting less pressing now that the IT world is (rightly) leaving behind the days of monolithic development. One virtual machine shouldn&rsquo;t have to compile and run the fruits of ten years worth of coding. If we want to make bigger strides in language development we should look beyond Java the language. JVM languages like Scala and Kotlin throw out the bathwater of raw types and let us keep the baby.</p> <h2>Life saving versus labour saving features</h2> <p>Many features that are commonly touted to win people over to Scala &mdash; or to Kotlin in due course &mdash; are what I would term &lsquo;labour saving&rsquo;. Obvious examples are the code that can be inferred by the compiler and is therefore redundant and best left out. Type inference in variable declarations as well as compiler-generated getters/setters/equals/hashCode (the data qualifier on a class declaration) all save wear on your keyboard.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">data</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Greeter</span></span>(<span class=""hljs-keyword"">val</span> name: String) { <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">greet</span><span class=""hljs-params"">()</span></span> { println(<span class=""hljs-string"">""Hello, <span class=""hljs-subst"">$name</span>""</span>) } }</code></pre> <p>Java is extremely conservative with such compiler inference. A more sophisticated device is operator overloading, i.e. using arithmetic operators for method calls on your own classes, defined like this:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Dollar</span></span>(<span class=""hljs-keyword"">val</span> cents: <span class=""hljs-built_in"">Int</span>) { <span class=""hljs-keyword"">operator</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">plus</span><span class=""hljs-params"">(cts: <span class=""hljs-type"">Int</span>)</span></span>: Dollar = Dollar(cents + cts) <span class=""hljs-keyword"">operator</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">plus</span><span class=""hljs-params"">(money: <span class=""hljs-type"">Dollar</span>)</span></span>: Dollar = Dollar(cents + money.cents) <span class=""hljs-keyword"">override</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">toString</span><span class=""hljs-params"">()</span></span> = <span class=""hljs-string"">""$""</span> + (cents.toFloat() / <span class=""hljs-number"">100.0</span>) }</code></pre> <p>We can now use the plus operator (and minus, unary, etc.) to add either integers or other Dollar objects and receive a new Dollar object back.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> oneDollarTwenty = Dollar(<span class=""hljs-number"">100</span>) + Dollar(<span class=""hljs-number"">20</span>) <span class=""hljs-keyword"">val</span> alsoOneDollarTwenty = Dollar(<span class=""hljs-number"">100</span>) + <span class=""hljs-number"">20</span></code></pre> <p>Extension methods are another great feature. Similar to Scala&rsquo;s implicit methods, they let you add methods on a per-use basis to classes otherwise closed to extension, typically numeric types or other primitives (like Scala, there are no real primitives; everything is an object).</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">operator</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-built_in"">Int</span>.<span class=""hljs-title"">plus</span><span class=""hljs-params"">(money: <span class=""hljs-type"">Dollar</span>)</span></span>: Dollar = money.plus(<span class=""hljs-keyword"">this</span>)</code></pre> <p>All three combined they let you do things like this:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> p1 = Dollar(<span class=""hljs-number"">1200</span>) <span class=""hljs-keyword"">val</span> p2 = Dollar(<span class=""hljs-number"">800</span>) println(p1 + p2 + <span class=""hljs-number"">3</span>)<span class=""hljs-comment"">// invokes p1.plus(p2).plus(3)</span> println(<span class=""hljs-number"">3</span> + p1 + p2)<span class=""hljs-comment"">// invokes 3.plus(p1).plus(p2)</span></code></pre> <p>The combination of type inference, operator overloading and extension methods can be very neat and very confusing at the same time:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> totalPrice = <span class=""hljs-number"">3</span> + currentPrice() * orderTotal()</code></pre> <p>I can&rsquo;t blame you for thinking that totalPrice must be a numeric value, but there&rsquo;s no way to be sure. The <em>only</em> way to use these features wisely is if you also take even better care than normal in naming or add a type declaration where it isn&rsquo;t strictly required. Cutting out redundancy is great, but it means the code that&rsquo;s left should be perfectly self-documenting. It&rsquo;s your sacred duty as a clean coder. Promise?</p> <h2>What&rsquo;s a real killer feature anyway?</h2> <p>I suppose the greatest language features let you do things you couldn&rsquo;t do before. Those are very few. Failing that, making a programmer&rsquo;s life happier comes a very good second. Saving keystrokes is one thing, but I believe true killer features are the ones that:</p> <ul> <li>Help you prevent mistakes due to your own sloppiness.</li> <li>Implement fundamental concepts intuitively.</li> </ul> <h2>The Billion dollar mistake made right</h2> <p>The true killer feature for me is Kotlin&rsquo;s null-safe types. It&rsquo;s the best solution to tackle null references, a.k.a <a href=""https://en.wikipedia.org/wiki/Null_pointer"">the Billion dollar mistake</a> and the hated NullPointerException. The NPE is so pernicious that its abreviation doesn&rsquo;t even need explaining in commit logs. And it&rsquo;s all due to our own sloppiness! We know how to avoid it, following <a href=""https://en.wikipedia.org/wiki/Robustness_principle"">Postel&rsquo;s law</a>: don&rsquo;t return null references and always check your arguments for nullity, especially when invoked from the outside world. Yeah right.</p> <p>Kotlin takes the only sensible route: the type system simply refuses to compile code that tries to assign or return null:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> name: String = <span class=""hljs-literal"">null</span> <span class=""hljs-comment"">// tries to assign null, won't compile</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">getName</span><span class=""hljs-params"">()</span></span> : String = <span class=""hljs-literal"">null</span> <span class=""hljs-comment"">// tries to return null, won't compile</span></code></pre> <p>If you need nullability you have to ask Kotlin nicely. Every Foo class has a corresponding Foo? type to be used for null references.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">getName</span><span class=""hljs-params"">()</span></span> : String? = <span class=""hljs-literal"">null</span> <span class=""hljs-keyword"">val</span> name: String? = getName()</code></pre> <p>Nullable types require special care. You can&rsquo;t treat them the same way as non-nullable types, and that&rsquo;s a very good thing. Since every method call on a nullable type could cause an NPE, the compiler forces you to use the so-called Elvis operator when the result of the call is assigned to a non-null type:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> nameOrBruce: String = getName() ?: <span class=""hljs-string"">""Bruce""</span> <span class=""hljs-keyword"">val</span> nameOrNull: String? = getName()</code></pre> <p>The first variable is non-null, therefore we must provide an alternative in case getName() returns null. That&rsquo;s not needed for the second assignment, since nameOrNull is of a nullable type. The Elvis operator prevents NPEs also in chained calls (from the offical docs):</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> name: String? = bob?.department?.head?.name</code></pre> <p>If any of these calls returns null, the rest is skipped. But of course you know better than to write such trainwreck statements (Law of Demeter).</p> <p>We&rsquo;ve had the Optional wrapper pattern in many different flavours as a better way to avoid null references. It&rsquo;s been in the standard library since Java 8. Kotlin&rsquo;s types are better by far:</p> <ul> <li>They&rsquo;re more conscise: Optional wrappers add verbosity in creating and unwrapping.</li> <li>Optionals don&rsquo;t offer compile-time safety at all: you can still return and pass null where an Optional is expected and get the same hated NPE.</li> <li>The Optional pattern is just a design pattern. It&rsquo;s not an integral language feature.</li> </ul> <p>But my greatest objection to the Optional pattern is that it is so flipping <em>optional</em>. Kotlin has made the right decision: only allow null if you explicitly ask for it. This is not a labour saving measure: it actually eliminates the opportunity for errors while forcing you to think more deeply about about design. Do you really need to return null from your method? Isn&rsquo;t there a better way to signal such special cases? (There is by the way: check out sealed classes, similar to Scala&rsquo;s case classes).</p> <p>It will indeed be a cold day in hell before something like this makes it into the Java language, as long as backward compatibility stays non-negiotionable.</p> <h2>A bag of apples isn&rsquo;t always a bag of fruit</h2> <p>Java&rsquo;s use of wildcards in parameterized types must be one of the least understood and least liked features. It boils down to this: if a juicer <em>produces</em> only apple juice, I may safely call it a fruit juice dispenser (covariance). If the same machine <em>accepts</em> all kinds of fruit, I may safely call it an apple juicer, while you call it a pear juicer (contra-variance). In code, the dispenser is all about return types (what goes out), while the juicer is about input. In Java, if I want the flexibility to parameterize my juicer with different types of fruit, I have to do this:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">public</span> <span class=""hljs-class""><span class=""hljs-keyword"">interface</span> <span class=""hljs-title"">Juicer</span> </span>{ T dispense(); }</code></pre> <p>This lets me make a Juicer<AppleJuice> and a Juice<CarrotJuice>, but it doesn&rsquo;t let me do this:</p> <pre><code class=""hljs language-kotlin"">Dispenser applejuiceDispenser = new Dispenser(); Dispenser juiceDispenser = applejuiceDispenser;<span class=""hljs-comment"">//wont' compile</span></code></pre> <p>unless I use the wildcard in the type declaration:</p> <pre><code class=""hljs language-kotlin"">Dispenser&lt; extends Juice&gt; juiceDispenser = applejuiceDispenser;</code></pre> <p>In Kotlin parameterized types are also invariant, but you can enhance the type declaration with <strong>in</strong> or <strong>out</strong> to signal contravariance and covariance, respectively. A juicer has fruit coming in and juice coming out. It can be expressed with two interfaces</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">interface</span> <span class=""hljs-title"">Dispense</span>&lt;<span class=""hljs-type"">out T</span>&gt; </span>{ <span class=""hljs-keyword"">abstract</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">tap</span><span class=""hljs-params"">()</span></span>: T } <span class=""hljs-class""><span class=""hljs-keyword"">interface</span> <span class=""hljs-title"">Squeezer</span>&lt;<span class=""hljs-type"">in T</span>&gt; </span>{ <span class=""hljs-keyword"">abstract</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">squeeze</span><span class=""hljs-params"">(fruit: <span class=""hljs-type"">T</span>)</span></span> } <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">FruitJuicer</span></span>() : Squeezer, Dispenser { [...] }</code></pre> <p>Since the in and out sides of the parameterization are in different interfaces, I can use these more freely and not be constrained by invariance:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">var</span> appleJuicer : Dispenser = FruitJuicer() <span class=""hljs-keyword"">var</span> elstarJuicer : Dispenser = FruitJuicer() elstarJuicer = appleJuicer; <span class=""hljs-comment"">//Won't compile, not covariant</span> appleJuicer = elstarJuicer; <span class=""hljs-comment"">//OK</span> <span class=""hljs-keyword"">var</span> appleSqueezer : Squeezer = FruitJuicer() <span class=""hljs-keyword"">var</span> elstarSqueezer: Squeezer = FruitJuicer() elstarSqueezer = appleSqueezer; <span class=""hljs-comment"">//OK, contravariant</span></code></pre> <p>Since the apple squeezer takes all kinds of apples, it&rsquo;s okay to put only elstars in it. (if you didn&rsquo;t know an elstar is an apple you should probably look at your eating habits). While this feature does not eliminate runtime goofs to the degree that nullable types do, I think it&rsquo;s a very elegant solution to a fundamental programming concept that Java didn&rsquo;t really solve intuitively.</p> <h2>Summary</h2> <p>I hope to have convinced you that newcomer Kotlin has some really helpful features. Having experienced Scala well beyond the Hello World stage myself, I promise you with confidence that Kotlin is much easier to master. If you&rsquo;re looking for greater productivity and sheer joy of coding, it&rsquo;s well worth a try. Last but not least and no surprise, the IDE support in IntelliJ is excellent, coming from Jetbrains.</p> https://blog.codecentric.de/en/2016/04/kotlins-killer-features/https://blog.codecentric.de/en/2016/04/kotlins-killer-features/KotlinJasper SprengersMon, 04 Apr 2016 10:00:00 GMT Exploring Delegation in Kotlin<p>I&rsquo;m a huge fan of interfaces in Java and also of composition over inheritance. Inheritance is some magic wiring with tight coupling that creates lots of friction when evolving a code base. I&rsquo;ve written about interfaces before several times, for example <a href=""http://codemonkeyism.com/how-to-improve-programming-with-interfaces/"">here</a> or <a href=""http://codemonkeyism.com/generation-java-programming-style/"">here</a>. Looking at Kotlin I wanted to see what I can do with interfaces and composition.</p> <p>Take this example:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">interface</span> <span class=""hljs-title"">HasName</span> </span>{ <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">getName</span><span class=""hljs-params"">()</span></span>:String } <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Person</span></span>(): HasName { <span class=""hljs-keyword"">override</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">getName</span><span class=""hljs-params"">()</span></span>:String = <span class=""hljs-string"">""Stephan""</span> } <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">main</span><span class=""hljs-params"">(args: <span class=""hljs-type"">Array</span>&lt;<span class=""hljs-type"">String</span>&gt;)</span></span> { <span class=""hljs-keyword"">val</span> p = Person() <span class=""hljs-comment"">// Prints 'Stephan'</span> println(p.getName()) }</code></pre> <p>Why would one introduce a <code>HasName</code> interface in this case? It reduces dependencies and coupling. This makes reasoning about code easier and speeds up compilation, especially incremental compilation.</p> <p>How would we use the <code>HasName</code> interface? A function that checks for a good name could look like this:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">goodName</span><span class=""hljs-params"">(p:<span class=""hljs-type"">Person</span>)</span></span>:<span class=""hljs-built_in"">Boolean</span> { <span class=""hljs-keyword"">return</span> p.getName() == <span class=""hljs-string"">""Stephan""</span> }</code></pre> <p>Now the function depends on the whole of person, not just the name part. The function can not operate on a lot of things, just persons. What about other things with <code>Name</code>, like Dogs? Rewritting the code to</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">goodName</span><span class=""hljs-params"">(n:<span class=""hljs-type"">HasName</span>)</span></span>:<span class=""hljs-built_in"">Boolean</span> { <span class=""hljs-keyword"">return</span> n.getName() == <span class=""hljs-string"">""Stephan""</span> }</code></pre> <p>makes the function more reusable.</p> <p>Inside our <code>Person class</code> we have the code for the <code>HasName</code> functionality. It woud be nicer to be able to reuse the functionality from somewhere else.</p> <p>In Kotlin we can delegate Interfaces to objects:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">interface</span> <span class=""hljs-title"">HasName</span> </span>{ <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">getName</span><span class=""hljs-params"">()</span></span>:String } <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">NameMixin</span></span>(<span class=""hljs-keyword"">val</span> n:String): HasName { <span class=""hljs-keyword"">override</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">getName</span><span class=""hljs-params"">()</span></span> = n } <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Person</span></span>(n:NameMixin): HasName <span class=""hljs-keyword"">by</span> n { } <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">main</span><span class=""hljs-params"">(args: <span class=""hljs-type"">Array</span>&lt;<span class=""hljs-type"">String</span>&gt;)</span></span> { <span class=""hljs-keyword"">val</span> p = Person(NameMixin(<span class=""hljs-string"">""Stephan""</span>)) <span class=""hljs-comment"">// Prints 'Stephan'</span> println(p.getName()) }</code></pre> <p>This looks a little unnatural to me, as the user of the <code>Person class</code> needs to know about the <code>NameMixin</code>. See if we can do better</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Person</span></span>(n:String): HasName <span class=""hljs-keyword"">by</span> NameMixin(n) { } <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">main</span><span class=""hljs-params"">(args: <span class=""hljs-type"">Array</span>&lt;<span class=""hljs-type"">String</span>&gt;)</span></span> { <span class=""hljs-keyword"">val</span> p = Person(<span class=""hljs-string"">""Stephan""</span>) <span class=""hljs-comment"">// Prints 'Stephan'</span> println(p.getName()) }</code></pre> <p>looks cleaner as the consumer of <code>Person</code> does not know about <code>NameMixin</code>.</p> <p>Kotlin can also use data classes (Thanks to Christian Helmbold for pointing this out).</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">interface</span> <span class=""hljs-title"">HasName</span> </span>{ <span class=""hljs-keyword"">val</span> name: String } <span class=""hljs-keyword"">data</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">NameMixin</span></span>(<span class=""hljs-keyword"">override</span> <span class=""hljs-keyword"">val</span> name: String) : HasName <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Person</span></span>(named : HasName) : HasName <span class=""hljs-keyword"">by</span> named</code></pre> <p>If we want to have more control, we can use a Factory inside <code>Person</code>.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Person</span></span>(n:String): HasName <span class=""hljs-keyword"">by</span> Person.name(n) { <span class=""hljs-keyword"">companion</span> <span class=""hljs-keyword"">object</span> Name { <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">name</span><span class=""hljs-params"">(n:<span class=""hljs-type"">String</span>)</span></span> = NameMixin(n) } }</code></pre> <p>The name of the <code>companion object</code>, in this case <code>Name</code>, is optional but helps to structure the factory methods.</p> <p>The mixin can be accessed with <code>this</code>:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Person</span></span>(n:String): HasName <span class=""hljs-keyword"">by</span> Person.name(n) { ... <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">isStephan</span><span class=""hljs-params"">()</span></span>:<span class=""hljs-built_in"">Boolean</span> { <span class=""hljs-comment"">// Access name property</span> <span class=""hljs-keyword"">return</span> <span class=""hljs-keyword"">this</span>.getName() == <span class=""hljs-string"">""Stephan""</span> } }</code></pre> <p>Using a <code>companion object</code> with a factory method is better, because it gives us more control in the creation of the Mixin. But the control is not optimal. I wish we had something like</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-comment"">// Not working Kotlin code!</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Person</span></span>(n:String): HasName { <span class=""hljs-keyword"">val</span> name delegates from HasName }</code></pre> <p>where I have access to name and more control over it. It would also be nice to have a way to access other Mixins from a Mixin. But overall, some nice functionality in Kotlin.</p> http://codemonkeyism.com/exploring-delegation-in-kotlin/http://codemonkeyism.com/exploring-delegation-in-kotlin/Kotlin@codemonkeyismMon, 04 Apr 2016 09:49:00 GMT Experimental: Kotlin and mutation testing<p><a href=""https://kotlinlang.org/""><img src=""https://blog.frankel.ch/wp-content/resources/experimental-kotlin-mutation-testing/icon_Kotlin.png"" alt=""""></a>Since about a year and a half, I do a <a href=""https://player.vimeo.com/video/105758362"">lot</a> <a href=""https://youtu.be/uC_8l69ArXs"">of</a> <a href=""https://youtu.be/biLyXaJwO3c"">presentations</a> on <a href=""https://en.wikipedia.org/wiki/Mutation_testing"">Mutation Testing</a>. In those, my point is to show that <a href=""https://en.wikipedia.org/wiki/Code_coverage"">Code Coverage</a>&lsquo;s only benefit is that it&rsquo;s easy to compute but that it&rsquo;s meaningless &ndash; hence Mutation Testing.</p> <p>Since some time, I&rsquo;ve been interested in <a href=""http://kotlinlang.org"">Kotlin</a>, a language from JetBrains that runs on the JVM. It&rsquo;s only natural that I wanted to check how Mutation Testing could be applied to the Kotlin language. As Kotlin is too young to have its own dedicated mutation testing tool, I used <a href=""http://pitest.org"">Pit</a>, a Java dedicated tool. I didn&rsquo;t expected much, here are my findings.</p> <p>I started with a <a href=""https://github.com/nfrankel/mutationtesting-kotlin"">Kotlin-port</a> of my demo project. It has two simple classes and an associated test for each. In the first one, assertion is missing and in the second, the boundary condition of the &lt; operator is not tested. This is the perfect use-case for Mutation Testing. It&rsquo;s a Maven project, so the command is quite straightforward:</p> <pre><code class=""hljs language-bash"">mvn org.pitest:pitest-maven:mutationCoverage</code></pre> <p>Interestingly enough, this works perfectly well, in terms of mutation coverage execution, but also regarding referencing the lines that are the source of the problem.</p> <p><img src=""https://blog.frankel.ch/wp-content/resources/experimental-kotlin-mutation-testing/duplicatemath.png"" alt=""""> <img src=""https://blog.frankel.ch/wp-content/resources/experimental-kotlin-mutation-testing/lowpredicate.png"" alt=""""></p> <p>I wanted to go further, to use a <em>real</em> project. The Kotlin folks were kind enough to redirect me to <a href=""https://github.com/Kotlin/ktor"">KTor</a>, a Kotlin-based web framework. I tried the same command, but limited on a single module &ndash; ktor-features/ktor-server-sessions (I have no clue what it does, that is not relevant anyway). Aye, there&rsquo;s the rub.</p> <p>First, Pit cannot correctly parse the generated bytecode at some places:</p> <pre><code>PIT &gt;&gt; WARNING : Found more than one mutation similar on same line in a finally block. Can&#x27;t correct for inlining. </code></pre> <p>Worse, there are a lot of timeout errors. Since there&rsquo;s some threading involved, that&rsquo;s not really a blocker.</p> <pre><code>PIT &gt;&gt; WARNING : Slave exited abnormally due to TIMED_OUT </code></pre> <p>For this project, reports are really long, but some errors are really similar to what you&rsquo;d expect from Java code, for example:</p> <pre><code>removed call to kotlin/jvm/internal/Intrinsics::checkParameterIsNotNull &rarr; NO_COVERAGE </code></pre> <p>Here&rsquo;s a sample of the report:</p> <p><img src=""https://blog.frankel.ch/wp-content/resources/experimental-kotlin-mutation-testing/pullablelinkedlist.png"" alt=""""></p> <p>Again, Pit is able to bind the real lines to the problems found. Isn&rsquo;t life good? If you stop at this point, it probably is. But running Pit on another project &ndash; say, ktor-features/ktor-locations fails miserably.</p> <pre><code>The class org.jetbrains.ktor.locations.Locations$WhenMappings does not contain a source debug information. All classes must be compiled with source and line number debug information </code></pre> <p>It seems using the <code>when</code> construct in Kotlin generates an inner class that doesn&rsquo;t contain debug information, which Pit need to works its magic. Let&rsquo;s exclude the offending class and its inner mappings class:</p> <pre><code>mvn org.pitest:pitest-maven:mutationCoverage -DexcludedClasses=org.jetbrains.ktor.locations.Locations* </code></pre> <p>It works again and produces expected results:</p> <p><img src=""https://blog.frankel.ch/wp-content/resources/experimental-kotlin-mutation-testing/conversionservice.png"" alt=""""></p> <p>There are no mutation testing tools for Kotlin (yet), and considering Java ecosystem&rsquo;s history, there might never be one. However, mutation testing is an invaluable tool to assert the real quality of your tests. Even if Pit is not a perfect match for Kotlin, it would be foolish to discard it.</p> https://blog.frankel.ch/experimental-kotlin-mutation-testinghttps://blog.frankel.ch/experimental-kotlin-mutation-testingTestingMutation TestingKotlinNicolas FrankelSun, 03 Apr 2016 15:36:00 GMT 10 Features I Wish Java Would Steal From the Kotlin Language<p>This article is overdue. After the hype around the <a href=""https://blog.jetbrains.com/kotlin/2016/02/kotlin-1-0-released-pragmatic-language-for-jvm-and-android/"">release of Kotlin 1.0</a> has settled, let&rsquo;s have a serious look at some Kotlin language features that we should have in Java as well.</p> <p>In this article, I&rsquo;m not going to wish for unicorns. But there are some low hanging fruit (as far as I naively can see), which could be introduced into the Java language without great risk. While you&rsquo;re reading this article, be sure to copy paste examples to <a href=""http://try.kotlinlang.org"">http://try.kotlinlang.org</a>, an online REPL for Kotlin</p> <h2>1. Data class</h2> <p>Language designers hardly ever agree on the necessity and the feature scope of what a class is. In Java, curiously, every class always has <em>identity</em> a concept that is not really needed in 80% &ndash; 90% of all real world Java classes. Likewise, <a href=""http://blog.jooq.org/2016/01/12/if-java-were-designed-today-the-synchronizable-interface/"">a Java class always has a monitor on which you can synchronize</a>.</p> <p>In most cases, when you write a class, you really just want to group values, like Strings, ints, doubles. For instance:</p> <pre><code class=""hljs language-java""><span class=""hljs-keyword"">public</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Person</span> </span>{ <span class=""hljs-keyword"">final</span> String firstName; <span class=""hljs-keyword"">final</span> String lastName; <span class=""hljs-function""><span class=""hljs-keyword"">public</span> <span class=""hljs-title"">JavaPerson</span><span class=""hljs-params"">(...)</span> </span>{ ... } <span class=""hljs-comment"">// Getters</span> ... <span class=""hljs-comment"">// Hashcode / equals</span> ... <span class=""hljs-comment"">// Tostring</span> ... <span class=""hljs-comment"">// Egh...</span> }</code></pre> <p>By the time you&rsquo;ve finished typing all of the above, your fingers will no longer be. Java developers have implemented ugly workarounds for the above, like IDE code generation, or <a href=""https://projectlombok.org"">lombok</a>, which is the biggest of all hacks. In a better Java, nothing in Lombok would really be needed.</p> <p>As, for instance, if Java had Kotlin&rsquo;s <a href=""https://kotlinlang.org/docs/reference/data-classes.html"">data classes</a>:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">data</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Person</span></span>( <span class=""hljs-keyword"">val</span> firstName: String, <span class=""hljs-keyword"">val</span> lastName: String )</code></pre> <p>The above is all we need to declare the equivalent of the previous Java code. Because a data class is used to store data (duh), i.e. values, the implementation of things like <code>hashCode()</code>, <code>equals()</code>, <code>toString()</code> is obvious and can be provided by default. Furthermore, data classes are first class tuples, so they can be used as such, e.g. to destructure them again in individual references:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> jon = Person(<span class=""hljs-string"">""Jon""</span>, <span class=""hljs-string"">""Doe""</span>) <span class=""hljs-keyword"">val</span> (firstName, lastName) = jon</code></pre> <p>In this case, we may hope. <a href=""https://en.wikipedia.org/wiki/Project_Valhalla_(Java_language)"">Valhalla / Java 10</a> is being designed and with it, <a href=""http://cr.openjdk.java.net/~jrose/values/values-0.html"">value types</a>. We&rsquo;ll see how many features will be provided on the JVM directly, and in the Java language. This will certainly be an exciting addition.</p> <p>Notice how <code>val</code> is possible in Kotlin: <a href=""http://blog.jooq.org/2016/03/10/java-as-new-local-variable-type-inference/"">Local variable type inference. This is being discussed for a future Java version right now</a>.</p> <h2>2. Defaulted parameters</h2> <p>How many times do you overload an API like the following:</p> <pre><code class=""hljs language-java""><span class=""hljs-class""><span class=""hljs-keyword"">interface</span> <span class=""hljs-title"">Stream</span>&lt;<span class=""hljs-title"">T</span>&gt; </span>{ <span class=""hljs-function"">Stream&lt;T&gt; <span class=""hljs-title"">sorted</span><span class=""hljs-params"">()</span></span>; <span class=""hljs-function"">Stream&lt;T&gt; <span class=""hljs-title"">sorted</span><span class=""hljs-params"">(Comparator&lt;? <span class=""hljs-keyword"">super</span> T&gt; comparator)</span></span>; }</code></pre> <p>The above are exactly the same JDK <code>Stream</code> operations. The first one simply applies <a href=""https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#naturalOrder--""><code>Comparator.naturalOrder()</code></a> to the second one. <a href=""https://kotlinlang.org/docs/reference/functions.html"">So we could write the following, in Kotlin</a>:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">sorted</span><span class=""hljs-params"">(comparator : <span class=""hljs-type"">Comparator</span>&lt;<span class=""hljs-type"">T</span>&gt; = Comparator.naturalOrder()</span></span>) : Stream&lt;T&gt;</code></pre> <p>The advantage of this isn&rsquo;t immediately visible, when there is only one defaulted parameter. But imagine a function with tons of optional parameters:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">reformat</span><span class=""hljs-params"">(str: <span class=""hljs-type"">String</span>, normalizeCase: <span class=""hljs-type"">Boolean</span> = <span class=""hljs-literal"">true</span>, upperCaseFirstLetter: <span class=""hljs-type"">Boolean</span> = <span class=""hljs-literal"">true</span>, divideByCamelHumps: <span class=""hljs-type"">Boolean</span> = <span class=""hljs-literal"">false</span>, wordSeparator: <span class=""hljs-type"">Char</span> = <span class=""hljs-string"">' '</span>)</span></span> { ... }</code></pre> <p>Which can be called in any of the following ways:</p> <pre><code class=""hljs language-kotlin"">reformat(str) reformat(str, <span class=""hljs-literal"">true</span>, <span class=""hljs-literal"">true</span>, <span class=""hljs-literal"">false</span>, <span class=""hljs-string"">'_'</span>) reformat(str, normalizeCase = <span class=""hljs-literal"">true</span>, upperCaseFirstLetter = <span class=""hljs-literal"">true</span>, divideByCamelHumps = <span class=""hljs-literal"">false</span>, wordSeparator = <span class=""hljs-string"">'_'</span> )</code></pre> <p>The power of defaulted parameters is that they are especially useful when passing arguments by name, rather than by index. This is currently not supported in the JVM, which until Java 8, doesn&rsquo;t retain the parameter name at all (<a href=""https://docs.oracle.com/javase/tutorial/reflect/member/methodparameterreflection.html"">in Java 8, you can turn on a JVM flag for this</a>, but with all of Java&rsquo;s legacy, you shouldn&rsquo;t rely on this yet).</p> <p>Heck, this feature is something I&rsquo;m using in PL/SQL every day. Of course, <a href=""http://blog.jooq.org/2016/02/11/dear-api-designer-are-you-sure-you-want-to-return-a-primitive/"">in Java, you can work around this limitation by passing a parameter object</a>.</p> <h2>3. Simplified instanceof checks</h2> <p>If you will, this is really an instanceof switch. Some people may claim that this stuff is evil, bad OO design. Nja nja. I say, this happens every now and then. And apparently, in Java 7, string switches were considered sufficiently common to modify the language to allow them. Why not instanceof switches?</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> hasPrefix = <span class=""hljs-keyword"">when</span>(x) { <span class=""hljs-keyword"">is</span> String -&gt; x.startsWith(<span class=""hljs-string"">""prefix""</span>) <span class=""hljs-keyword"">else</span> -&gt; <span class=""hljs-literal"">false</span> }</code></pre> <p>Not only is this doing an instanceof switch, it is doing it in the form of an assignable expression. <a href=""https://kotlinlang.org/docs/reference/control-flow.html"">Kotlin&rsquo;s version of this <code>when</code> expression is powerful</a>. You can mix any sort of predicate expressions, similar to SQL&rsquo;s <code>CASE</code> expression. For instance, this is possible as well:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">when</span> (x) { <span class=""hljs-keyword"">in</span> <span class=""hljs-number"">1.</span><span class=""hljs-number"">.10</span> -&gt; print(<span class=""hljs-string"">""x is in the range""</span>) <span class=""hljs-keyword"">in</span> validNumbers -&gt; print(<span class=""hljs-string"">""x is valid""</span>) !<span class=""hljs-keyword"">in</span> <span class=""hljs-number"">10.</span><span class=""hljs-number"">.20</span> -&gt; print(<span class=""hljs-string"">""x is outside the range""</span>) <span class=""hljs-keyword"">else</span> -&gt; print(<span class=""hljs-string"">""none of the above""</span>) }</code></pre> <p>Compare to SQL (not implemented in all dialects):</p> <pre><code class=""hljs language-sql"">CASE x WHEN BETWEEN 1 AND 10 THEN 'x is in the range' WHEN IN (<span class=""hljs-keyword"">SELECT</span> * <span class=""hljs-keyword"">FROM</span> validNumbers) <span class=""hljs-keyword"">THEN</span> <span class=""hljs-string"">'x is valid'</span> <span class=""hljs-keyword"">WHEN</span> <span class=""hljs-keyword"">NOT</span> <span class=""hljs-keyword"">BETWEEN</span> <span class=""hljs-number"">10</span> <span class=""hljs-keyword"">AND</span> <span class=""hljs-number"">20</span> <span class=""hljs-string"">'x is outside the range'</span> <span class=""hljs-keyword"">ELSE</span> <span class=""hljs-string"">'none of the above'</span> <span class=""hljs-keyword"">END</span></code></pre> <p>As you can see, only SQL is more powerful than Kotlin.</p> <h2>4. Map key / value traversal</h2> <p>Now this could really be done very easily only with syntax sugar. Granted, having <a href=""http://blog.jooq.org/2016/03/10/java-as-new-local-variable-type-inference/"">local variable type inference</a> would already be a plus, but check this out</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> map: Map&lt;String, <span class=""hljs-built_in"">Int</span>&gt; = ...</code></pre> <p>And now, you can do:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">for</span> ((k, v) <span class=""hljs-keyword"">in</span> map) { ... }</code></pre> <p>After all, most of the time when traversing a map, it&rsquo;ll be by <a href=""https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#entrySet--""><code>Map.entrySet()</code></a>. Map could have been enhanced to extend <code>Iterable&lt;Entry&lt;K, V&gt;&gt;</code> in Java 5, but hasn&rsquo;t. That&rsquo;s really a pity. After all, it has been enhanced in Java 8 to allow for internal iteration over the entry set in Java 8 via <a href=""https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#forEach-java.util.function.BiConsumer-""><code>Map.forEach()</code></a>:</p> <pre><code class=""hljs language-kotlin"">map.forEach((k, v) -&gt; { ... });</code></pre> <p>It&rsquo;s not too late, JDK gods. You can still let <code>Map&lt;K, V&gt; extend Iterable&lt;Entry&lt;K, V&gt;&gt;</code></p> <h2>5. Map access literals</h2> <p>This one is something that would add tons and tons of value to the Java language. We have arrays, like most other languages. And like most other languages, we can access array elements by using square brackets:</p> <pre><code class=""hljs language-java""><span class=""hljs-keyword"">int</span>[] array = { <span class=""hljs-number"">1</span>, <span class=""hljs-number"">2</span>, <span class=""hljs-number"">3</span> }; <span class=""hljs-keyword"">int</span> value = array[<span class=""hljs-number"">0</span>];</code></pre> <p>Note also the fact that we have array initialiser literals in Java, which is great. So, why not also allow for accessing map elements with the same syntax?</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> map = hashMapOf&lt;String, <span class=""hljs-built_in"">Int</span>&gt;() map.put(<span class=""hljs-string"">""a""</span>, <span class=""hljs-number"">1</span>) println(map[<span class=""hljs-string"">""a""</span>])</code></pre> <p>In fact, <code>x[y]</code> is just syntax sugar for a method call backed by <code>x.get(y)</code>. This is so great, we have immediately proceeded with renaming our <code>Record.getValue()</code> methods in jOOQ to <code>Record.get()</code> (leaving the old ones as synonyms, of course), such that you can now dereference your database record values as such, in Kotlin</p> <pre><code class=""hljs language-kotlin"">ctx.select(a.FIRST_NAME, a.LAST_NAME, b.TITLE) .from(a) .join(b).on(a.ID.eq(b.AUTHOR_ID)) .orderBy(<span class=""hljs-number"">1</span>, <span class=""hljs-number"">2</span>, <span class=""hljs-number"">3</span>) .forEach { println(<span class=""hljs-string"">""""""<span class=""hljs-subst"">${it[b.TITLE]}</span> by <span class=""hljs-subst"">${it[a.FIRST_NAME]}</span> <span class=""hljs-subst"">${it[a.LAST_NAME]}</span>""""""</span>) }</code></pre> <p>Since jOOQ holds all column type information on individual record columns, you can actually know in advance that <code>it[b.TITLE]</code> is a String expression. Great, huh? So, not only can this syntax be used with JDK maps, it can be used with any library that exposes the basic <code>get()</code> and <code>set()</code> methods.</p> <p>Stay tuned for more jOOQ and Kotlin examples here: <a href=""https://github.com/jOOQ/jOOQ/blob/master/jOOQ-examples/jOOQ-kotlin-example/src/main/kotlin/org/jooq/example/kotlin/FunWithKotlinAndJOOQ.kt"">https://github.com/jOOQ/jOOQ/blob/master/jOOQ-examples/jOOQ-kotlin-example/src/main/kotlin/org/jooq/example/kotlin/FunWithKotlinAndJOOQ.kt</a></p> <h2>6. Extension functions</h2> <p>This one is a controversial topic, and I can perfectly understand when language designers stay clear of it. But every now and then, <a href=""https://kotlinlang.org/docs/reference/extensions.html"">extension functions</a> are very useful. The Kotlin syntax here is actually just for a function to pretend to be part of the receiver type:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> MutableList<span class=""hljs-type"">&lt;Int&gt;</span>.<span class=""hljs-title"">swap</span><span class=""hljs-params"">(index1: <span class=""hljs-type"">Int</span>, index2: <span class=""hljs-type"">Int</span>)</span></span> { <span class=""hljs-keyword"">val</span> tmp = <span class=""hljs-keyword"">this</span>[index1] <span class=""hljs-comment"">// 'this' corresponds to the list</span> <span class=""hljs-keyword"">this</span>[index1] = <span class=""hljs-keyword"">this</span>[index2] <span class=""hljs-keyword"">this</span>[index2] = tmp }</code></pre> <p>This will now allow for swapping elements in a list:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> l = mutableListOf(<span class=""hljs-number"">1</span>, <span class=""hljs-number"">2</span>, <span class=""hljs-number"">3</span>) l.swap(<span class=""hljs-number"">0</span>, <span class=""hljs-number"">2</span>)</code></pre> <p>This would be very useful for libraries like <a href=""https://github.com/jOOQ/jOOL"">jOO&lambda;</a>, which extends the Java 8 <code>Stream</code> API by wrapping it in a jOO&lambda; type (<a href=""https://github.com/amaembo/streamex"">another such library is StreamEx</a>, with a slightly different focus). The jOO&lambda; <code>Seq</code> wrapper type is not really important, as it pretends to be a <code>Stream</code> on steroids. It would be great, if jOO&lambda; methods could be put onto <code>Stream</code> artificially, just by importing them:</p> <pre><code class=""hljs language-java"">list.stream() .zipWithIndex() .forEach(System.out::println);</code></pre> <p>The <code>zipWithIndex()</code> method isn&rsquo;t really there. The above would just translate to the following, less readable code:</p> <pre><code class=""hljs language-java"">seq(list.stream()) .zipWithIndex() .forEach(System.out::println);</code></pre> <p>In fact, extension methods would even allow to bypass wrapping everything explicitly in a <code>stream()</code>. For instance, you could then do:</p> <pre><code class=""hljs language-java"">list.zipWithIndex() .forEach(System.out::println);</code></pre> <p>As all of jOO&lambda;&rsquo;s method could be designed to also be applied to <code>Iterable</code>.</p> <p>Again, this is a controversial topic. For instance, because</p> <blockquote class=""twitter-tweet"" data-lang=""en""><p lang=""en"" dir=""ltr""><a href=""https://twitter.com/lukaseder"">@lukaseder</a> that does not allow for virtual dispatch. Extension methods are not virtual.</p>&mdash; Rafael Winterhalter (@rafaelcodes) <a href=""https://twitter.com/rafaelcodes/status/692652876959711232"">January 28, 2016</a></blockquote> <script async src=""//platform.twitter.com/widgets.js"" charset=""utf-8""></script> <p>While giving the illusion of being virtual, extension functions really are just sugared static methods. It&rsquo;s a significant risk for object oriented application design to engage in that trickery, which is why this feature probably won&rsquo;t make it into Java.</p> <h2>7. Elvis operator</h2> <p>Optional is meh. It&rsquo;s understandable that an <code>Optional</code> type needed to be introduced in order to abstract over the absence of primitive type values, which cannot be null. We now have things like <a href=""https://docs.oracle.com/javase/8/docs/api/java/util/OptionalInt.html""><code>OptionalInt</code></a>, e.g. to model things like:</p> <pre><code class=""hljs language-kotlin"">OptionalInt result = IntStream.of(<span class=""hljs-number"">1</span>, <span class=""hljs-number"">2</span>, <span class=""hljs-number"">3</span>) .filter(i -&gt; i &gt; <span class=""hljs-number"">3</span>) .findFirst(); <span class=""hljs-comment"">// Agressive programming ahead</span> result.orElse(OR_ELSE);</code></pre> <p>Optional is a monad</p> <blockquote class=""twitter-tweet"" data-lang=""en""><p lang=""en"" dir=""ltr"">Also Google seems to be a bit confused about what a Monad is ... <a href=""http://t.co/eJp9jY9cwG"">pic.twitter.com/eJp9jY9cwG</a></p>&mdash; Mario Fusco (@mariofusco) <a href=""https://twitter.com/mariofusco/status/389450525466296320"">October 13, 2013</a></blockquote> <script async src=""//platform.twitter.com/widgets.js"" charset=""utf-8""></script> <p>Yes. It allows you to <code>flatMap()</code> the absent value.</p> <p><img src=""http://s0.wp.com/wp-content/mu-plugins/wpcom-smileys/o_O.svg"" alt=""o_O""></p> <p>Sure, if you want to do sophisticated functional programming, you&rsquo;ll start typing <code>map()</code> and <code>flatMap()</code> everywhere. Like today, when we&rsquo;re typing getters and setters. Along will come lombok generating flatmapping calls, and Spring will add some <a href=""http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/core/annotation/AliasFor.html""><code>@AliasFor</code> style annotation</a> for flatmapping. And only the enlightened will be able to decipher your code.</p> <p>When all we needed was just a <a href=""https://kotlinlang.org/docs/reference/null-safety.html"">simple null safety operator</a> before getting back to daily business. Like:</p> <pre><code class=""hljs language-kotlin"">String name = bob?.department?.head?.name</code></pre> <p>I really like this type of pragmatism in Kotlin. Or do you prefer (flat)mapping?</p> <pre><code class=""hljs language-java"">Optional&lt;String&gt; name = bob .flatMap(Person::getDepartment) .map(Department::getHead) .flatMap(Person::getName);</code></pre> <p>Can you read this? I cannot. Neither can I write this. If you get this wrong, you&rsquo;ll get boxoxed.</p> <blockquote class=""twitter-tweet"" data-lang=""en""><p lang=""en"" dir=""ltr"">“<a href=""https://twitter.com/EmrgencyKittens"">@EmrgencyKittens</a>: cat in a box, in a box. <a href=""http://t.co/ta976gqiQs"">pic.twitter.com/ta976gqiQs</a>” And I think flatMap</p>&mdash; Channing Walton (@channingwalton) <a href=""https://twitter.com/channingwalton/status/447778554114502657"">March 23, 2014</a></blockquote> <script async src=""//platform.twitter.com/widgets.js"" charset=""utf-8""></script> <p>Of course, <a href=""http://blog.jooq.org/2016/03/15/ceylon-might-just-be-the-only-language-that-got-nulls-right/"">Ceylon is the only language that got nulls right</a>. But Ceylon has tons of features that Java will not get before version 42, and I&rsquo;m not wishing for unicorns. I&rsquo;m wishing for the elvis operator, which could be implemented in Java too. The above expression is just syntax sugar for:</p> <pre><code class=""hljs language-java"">String name = <span class=""hljs-keyword"">null</span>; <span class=""hljs-keyword"">if</span> (bob != <span class=""hljs-keyword"">null</span>) { Department d = bob.<span class=""hljs-function"">department <span class=""hljs-title"">if</span> <span class=""hljs-params"">(d != <span class=""hljs-keyword"">null</span>)</span> </span>{ Person h = d.head; <span class=""hljs-keyword"">if</span> (h != <span class=""hljs-keyword"">null</span>) name = h.name; } }</code></pre> <p>What can possibly be wrong with that simplification?</p> <h2>8. Everything is an expression</h2> <p>Now this might just be a unicorn. I don&rsquo;t know if there is a JLS / parser limitation that will forever keep us in the misery of prehistoric distinction between statement and expression.</p> <p>At some point in time, people have started using statements for things that yield side-effects, and expressions for more functional-ish things. It is thus not surprising, that all <code>String</code> methods are really expressions, operating on an immutable string, returning a new string all the time.</p> <p>This doesn&rsquo;t seem to go well with, for instance, <code>if-else</code> in Java, which is expected to contain blocks and statements, each possibly yielding side-effects.</p> <p>But is that really a requirement? Can&rsquo;t we write something like this in Java as well?</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> max = <span class=""hljs-keyword"">if</span> (a &gt; b) a <span class=""hljs-keyword"">else</span> b</code></pre> <p>OK, we have this weird conditional expression using <code>?:</code>. But what about Kotlin&rsquo;s <code>when</code> (i.e. Java&rsquo;s <code>switch</code>)?</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> hasPrefix = <span class=""hljs-keyword"">when</span>(x) { <span class=""hljs-keyword"">is</span> String -&gt; x.startsWith(<span class=""hljs-string"">""prefix""</span>) <span class=""hljs-keyword"">else</span> -&gt; <span class=""hljs-literal"">false</span> }</code></pre> <p>Isn&rsquo;t that much more useful than the following equivalent?</p> <pre><code class=""hljs language-java""><span class=""hljs-keyword"">boolean</span> hasPrefix; <span class=""hljs-keyword"">if</span> (x <span class=""hljs-keyword"">instanceof</span> String) hasPrefix = x.startsWith(<span class=""hljs-string"">""prefix""</span>); <span class=""hljs-keyword"">else</span> hasPrefix = <span class=""hljs-keyword"">false</span>;</code></pre> <p>(yes, I know about <code>?:</code>. I just find <code>if-else</code> easier to read, and I don&rsquo;t see why that should be a statement, not an expression. Heck, in Kotlin, even <code>try</code> is an expression, not a statement:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> result = <span class=""hljs-keyword"">try</span> { count() } <span class=""hljs-keyword"">catch</span> (e: ArithmeticException) { <span class=""hljs-keyword"">throw</span> IllegalStateException(e) }</code></pre> <p>Beautiful!</p> <h2>9. Single expression functions</h2> <p>Now this. This would save so much time reading and writing simple glue code. And in fact, we already have the syntax in annotations. Check out Spring&rsquo;s magical <a href=""http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/core/annotation/AliasFor.html"">@AliasFor</a> annotation, for instance. It yields:</p> <pre><code class=""hljs language-java""><span class=""hljs-keyword"">public</span> <span class=""hljs-meta"">@interface</span> AliasFor { <span class=""hljs-meta"">@AliasFor</span>(<span class=""hljs-string"">""attribute""</span>) <span class=""hljs-function"">String <span class=""hljs-title"">value</span><span class=""hljs-params"">()</span> <span class=""hljs-keyword"">default</span> """"</span>; <span class=""hljs-meta"">@AliasFor</span>(<span class=""hljs-string"">""value""</span>) <span class=""hljs-function"">String <span class=""hljs-title"">attribute</span><span class=""hljs-params"">()</span> <span class=""hljs-keyword"">default</span> """"</span>; }</code></pre> <p>Now, if you squint really hard, these are just methods yielding constant values, because annotations are just interfaces with generated byte code for their implementations. We can discuss syntax. Of course, this irregular usage of <code>default</code> is weird, given that it was not re-used in Java 8 for default methods, but I guess Java always needs the extra syntax so developers feel alive as they can better feel their typing fingers. That&rsquo;s OK. We can live with that. But then again, why do we have to? Why not just converge to the following?</p> <pre><code class=""hljs language-java""><span class=""hljs-keyword"">public</span> <span class=""hljs-meta"">@interface</span> AliasFor { <span class=""hljs-function"">String <span class=""hljs-title"">value</span><span class=""hljs-params"">()</span> </span>= <span class=""hljs-string"">""""</span>; <span class=""hljs-function"">String <span class=""hljs-title"">attribute</span><span class=""hljs-params"">()</span> </span>= <span class=""hljs-string"">""""</span>; }</code></pre> <p>And the same also for class / interface default methods?</p> <pre><code class=""hljs language-java""><span class=""hljs-comment"">// Stop pretending this isn't an interface</span> <span class=""hljs-keyword"">public</span> <span class=""hljs-class""><span class=""hljs-keyword"">interface</span> <span class=""hljs-title"">AliasFor</span> </span>{ <span class=""hljs-function"">String <span class=""hljs-title"">value</span><span class=""hljs-params"">()</span> </span>= <span class=""hljs-string"">""""</span>; <span class=""hljs-function"">String <span class=""hljs-title"">attribute</span><span class=""hljs-params"">()</span> </span>= <span class=""hljs-string"">""""</span>; }</code></pre> <p>Now <em>that</em> would look nice. But given Java&rsquo;s existing syntax, this might just be a unicorn, so let&rsquo;s move on to...</p> <h2>10. Flow-sensitive typing</h2> <p>Now <em>this</em>. THIS!</p> <p><a href=""http://blog.jooq.org/2016/02/16/an-ingenious-workaround-to-emulate-sum-types-in-java/"">We&rsquo;ve blogged about sum types before.</a> Java has sum types with exceptions since Java 7:</p> <pre><code class=""hljs language-java""><span class=""hljs-keyword"">try</span> { ... } <span class=""hljs-keyword"">catch</span> (IOException | SQLException e) { <span class=""hljs-comment"">// e can be of type IOException and/or SQLException</span> <span class=""hljs-comment"">// within this scope</span> }</code></pre> <p>But Java, unfortunately, doesn&rsquo;t have flow-sensitive typing. Flow-sensitive typing is of the essence in a language that supports sum types, but it is also useful otherwise. For instance, in Kotlin:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">when</span> (x) { <span class=""hljs-keyword"">is</span> String -&gt; println(x.length) }</code></pre> <p>We don&rsquo;t need to cast, obviously, because we already checked that <code>x is String</code>. Conversely, in Java:</p> <pre><code class=""hljs language-java""><span class=""hljs-keyword"">if</span> (x <span class=""hljs-keyword"">instanceof</span> String) System.out.println(((String) x).length());</code></pre> <p>Aaagh, all this typing. IDE autocompletion is smart enough to offer a contextual type&rsquo;s methods already and then generate the unnecessary cast for you. But it would be great if this was never needed, every time we explicitly narrow a type using control flow structures.</p> <p><a href=""https://en.wikipedia.org/wiki/Flow-sensitive_typing"">For more info, see this wikipedia entry about flow sensitive typing</a>. A feature that could absolutely be added to the Java language. After all, we already got flow-sensitive final local variables since Java 8.</p> <h2>11. (Bonus) Declaration site variance</h2> <p><a href=""https://kotlinlang.org/docs/reference/generics.html"">Last but not least, better generics via declaration site variance</a>. Many other languages know this, for instance also C#&rsquo;s <a href=""https://msdn.microsoft.com/en-us/library/9eekhta0(v=vs.110).aspx""><code>IEnumerable</code></a>:</p> <p>public interface IEnumerable<out T> : IEnumerable</p> <p>The keyword <code>out</code> here means that the generic type <code>T</code> is <em>produced</em> from the type <code>IEnumerable</code> (as opposed to <code>in</code>, which stands for consumption). In C#, Scala, Ceylon, Kotlin, and many other languages, we can declare this on the type declaration, rather than on its usage (although, many languages allow for both). In this case, we say that <code>IEnumerable</code> is covariant with its type <code>T</code>, which means again that <code>IEnumerable&lt;Integer&gt;</code> is a subtype of <code>IEnumerable&lt;Object&gt;</code></p> <p>In Java, this isn&rsquo;t possible, which is why we have a <a href=""http://stackoverflow.com/q/4288084/521799"">bazillion question by Java newbies on Stack Overflow</a>. Why can&rsquo;t I...</p> <pre><code class=""hljs language-java"">Iterable&lt;String&gt; strings = Arrays.asList(<span class=""hljs-string"">""abc""</span>); Iterable&lt;Object&gt; objects = strings; <span class=""hljs-comment"">// boom</span></code></pre> <p>In languages like Kotlin, the above would be possible. After all, why shouldn&rsquo;t it? A thing that can produce strings can also produce objects, and we can even use it in this way in Java:</p> <pre><code class=""hljs language-java"">Iterable&lt;String&gt; strings = Arrays.asList(<span class=""hljs-string"">""abc""</span>); <span class=""hljs-keyword"">for</span> (Object o : strings) { <span class=""hljs-comment"">// Works!</span> }</code></pre> <p>The lack of declaration site variance has made a lot of APIs very intelligible. Consider <code>Stream</code>:</p> <pre><code class=""hljs language-java"">&lt;R&gt; <span class=""hljs-function"">Stream&lt;R&gt; <span class=""hljs-title"">flatMap</span><span class=""hljs-params"">(Function&lt;? <span class=""hljs-keyword"">super</span> T, ? extends Stream&lt;? extends R&gt;&gt; mapper)</span></span>;</code></pre> <p>This is just noise. A function is contravariant with its argument type and covariant with its result type <em>by nature</em> a better definition of <code>Function</code> or <code>Stream</code> would be:</p> <pre><code class=""hljs language-java""><span class=""hljs-class""><span class=""hljs-keyword"">interface</span> <span class=""hljs-title"">Function</span>&lt;<span class=""hljs-title"">in</span> <span class=""hljs-title"">T</span>, <span class=""hljs-title"">out</span> <span class=""hljs-title"">R</span>&gt; </span>{} <span class=""hljs-class""><span class=""hljs-keyword"">interface</span> <span class=""hljs-title"">Stream</span>&lt;<span class=""hljs-title"">out</span> <span class=""hljs-title"">T</span>&gt; </span>{}</code></pre> <p>If this were possible, all that <code>? super</code> and <code>? extends</code> garbage could be removed without losing any functionality.</p> <p>In case you&rsquo;re wondering what I&rsquo;m even talking about?<img src=""http://s1.wp.com/wp-content/mu-plugins/wpcom-smileys/simple-smile.svg"" alt="":)""></p> <blockquote class=""twitter-tweet"" data-lang=""en""><p lang=""en"" dir=""ltr"">Covariance and contravariance explained. Source: <a href=""https://t.co/2S4ChNeAvq"">https://t.co/2S4ChNeAvq</a> <a href=""https://t.co/BfOME8puj2"">pic.twitter.com/BfOME8puj2</a></p>&mdash; Lukas Eder (@lukaseder) <a href=""https://twitter.com/lukaseder/status/686917793472753665"">January 12, 2016</a></blockquote> <script async src=""//platform.twitter.com/widgets.js"" charset=""utf-8""></script> <p>The great news is, this is being discussed for a (near) future version of Java: <a href=""http://openjdk.java.net/jeps/8043488"">http://openjdk.java.net/jeps/8043488</a></p> <h2>Conclusion</h2> <p>Kotlin is a promising language, even if it is very late to a game that already seems to have been decided, not in favour of alternative languages on the JVM. Nonetheless, it is a very interesting language to learn from, and with a lot of very good decisions made about some simple things.</p> <p>Some of these decisions will hopefully be picked up by the Java language gods and integrated into Java. This list here shows some features that might be &ldquo;easy&rdquo; to add.</p> <blockquote class=""twitter-tweet"" data-lang=""en""><p lang=""en"" dir=""ltr""><a href=""https://twitter.com/shipilev"">@shipilev</a> <a href=""https://twitter.com/lukaseder"">@lukaseder</a> And then it&#39;s yacc-shaving from there!</p>&mdash; Brian Goetz (@BrianGoetz) <a href=""https://twitter.com/BrianGoetz/status/708350584294920193"">March 11, 2016</a></blockquote> <script async src=""//platform.twitter.com/widgets.js"" charset=""utf-8""></script> <p>More info about Kotlin idioms: <a href=""https://kotlinlang.org/docs/reference/idioms.html"">https://kotlinlang.org/docs/reference/idioms.html</a></p> http://blog.jooq.org/2016/03/31/10-features-i-wish-java-would-steal-from-the-kotlin-language/http://blog.jooq.org/2016/03/31/10-features-i-wish-java-would-steal-from-the-kotlin-language/KotlinJavaLukas EderThu, 31 Mar 2016 12:10:00 GMT Ubuntu Make 16.03 Released With Eclipse JEE And IntelliJ IDEA EAP Support, More<p><a href=""https://github.com/ubuntu/ubuntu-make"">Ubuntu Make</a> is a command line tool created by Canonical, which allows installing various development tools on Ubuntu. It can be used to install Android Studio, Unity3D, IntelliJ IDEA, Firefox Development Edition, Node.js and much more.</p> <p><strong>Ubuntu Make 16.03, released today, adds support for <a href=""http://www.eclipse.org/downloads/packages/eclipse-ide-java-ee-developers/mars2"">Eclipse JEE</a> and <a href=""https://www.jetbrains.com/support/eap/"">IntelliJ IDEA EAP</a>, as well as for the <a href=""https://kotlinlang.org/"">Kotlin compiler</a>, along with various fixes, such as:</strong></p> <ul> <li>fix Unity3D on lts mesa;</li> <li>fix VSCode license page due to server changes;</li> <li>fix Android-NDK not working due to server changes (download is now for 64bit only);</li> <li>fix Clang support due to server changes;</li> <li>fix Intellij .desktop file.</li> </ul> <p>A complete changelog can be found <a href=""https://github.com/ubuntu/ubuntu-make/blob/master/debian/changelog"">HERE</a>.</p> <p><img src=""https://2.bp.blogspot.com/-IxqVQB8bEqM/Vvu4uaN9s4I/AAAAAAAAXeY/LC8Uj6BECD8_GBY0DIDpho0-BxlUVDFVA/s1600/ubuntumake-eclipse-jee-ide.png"" alt=""Ubuntu Make Eclipse Java EE IDE""></p> <p>To install the the newly added Eclipse JEE in Ubuntu using the latest Ubuntu Make (after installing Ubuntu Make, obviously), use the following command:</p> <p><code>umake ide eclipse-jee</code></p> <p>For IntelliJ IDEA EAP, use:</p> <p><code>umake ide idea --eap</code></p> <p>To install the Kotlin language compiler, use:</p> <p><code>umake kotlin kotlin-lang</code></p> <p>If you want to remove any package installed using Ubuntu Make, simply append &quot;--remove&quot; to the command you used to install it. For example, to remove eclipse-jee, you would use:</p> <p><code>umake ide eclipse-jee --remove</code></p> <p>To see all Ubuntu Make can do, type:</p> <pre><code class=""hljs language-bash"">umake --help <span class=""hljs-comment""># and</span> man umake</code></pre> <h2>Install Ubuntu Make</h2> <p>Ubuntu Make is available in the official Ubuntu repositories (starting with Ubuntu 15.04) however, it&#x27;s not the latest version, as you can see <a href=""https://launchpad.net/ubuntu/+source/ubuntu-make"">HERE</a> (though the latest Ubuntu Mate 16.03 will probably make it into Ubuntu 16.04 Xenial Xerus).</p> <p><strong>To install the latest Ubuntu Make, in Ubuntu (16.04, 15.10 and 14.04), Linux Mint 17.x and derivatives, you can use its PPA. Add the PPA and install Ubuntu Make by using the following commands:</strong></p> <pre><code class=""hljs language-bash"">sudo add-apt-repository ppa:ubuntu-desktop/ubuntu-make sudo apt-get update sudo apt-get install ubuntu-make</code></pre> <p>If you want to help with the Ubuntu Make development, report bugs, etc., check out its <a href=""https://github.com/ubuntu/ubuntu-make"">GitHub page</a>.</p> <p><em>via <a href=""http://blog.didrocks.fr/post/Ubuntu-Make-16.03-features-Eclipse-JEE%252C-Intellij-EAP%252C-Kotlin-and-a-bunch-of-fixes!2"">didrocks</a></em></p> http://www.webupd8.org/2016/03/ubuntu-make-1603-released-with-eclipse.htmlhttp://www.webupd8.org/2016/03/ubuntu-make-1603-released-with-eclipse.htmlKotlinUbuntuAlin AndreiWed, 30 Mar 2016 14:56:00 GMT Kotlin’s Android Roadmap<h2>Introduction</h2> <p>One of the most interesting pieces of news we&rsquo;ve all seen recently is Google announcing <a href=""http://developer.android.com/preview/j8-jack.html"">(limited) Java 8 support for Android N</a> with the Jack compiler for Java. Naturally, our users are curious about how these news affect them, and this blog post outlines our plans and our vision for Kotlin&rsquo;s place in the Android development world in light of Google&rsquo;s announcements.</p> <h3>Kotlin&rsquo;s Roadmap for Android</h3> <p>We pay a lot of attention to making Kotlin a good tool for Android development. In the next few releases (1.0.X) we will continue improving our toolchain and libraries. Our current efforts are focused on three main areas: speeding up the development workflow, reducing the size of the runtime library and providing more complete tooling support.</p> <h4>Development Workflow</h4> <p>To speed up the development workflow, <strong>incremental compilation</strong> is coming to Kotlin&rsquo;s Gradle plugin. This will improve the build times considerably: when a source file is changed, we&rsquo;ll only recompile this particular file and those files really depending on it, not the whole module.</p> <p>The next thing we plan to do to improve Android build performance is providing an integration with Android&rsquo;s new <strong><a href=""http://tools.android.com/tech-docs/jackandjill"">Jack and Jill toolchain</a></strong>. Right now there are some issues that prevent Jack from handling Kotlin-generated bytecode correctly (<a href=""https://code.google.com/p/android/issues/detail?id=196084"">196084</a> and <a href=""https://code.google.com/p/android/issues/detail?id=203531"">203531</a>), but we plan to work together with the Google team to either resolve the issues or provide workarounds on our side. Once this is done, we&rsquo;ll be able to translate only changed class files using Jill during incremental compilation, as opposed to translating all class files every time (which is the only possible behavior in the old Android tooling).</p> <p>Last, but not least: <strong>Instant Run</strong>. Currently, Cold Swap works fine for Kotlin, but Warm and Hot Swap require some further investigation. We&rsquo;ll do what we can to get them fixed ASAP. In the meantime, <a href=""https://zeroturnaround.com/software/jrebel-for-android/"">JRebel for Android</a> works fine with Kotlin already.</p> <h4>Runtime Size</h4> <p>We are planning several improvements to <strong>reduce the methods count</strong> of kotlin-stdlib. Our current result is 7&rsquo;191: <img src=""https://img.shields.io/badge/Methods%20count-core:%206289%20%7C%20deps:%20902-e91e63.svg"" alt=""http://www.methodscount.com/?lib=org.jetbrains.kotlin%3Akotlin-stdlib%3A1.0.0""></p> <p>Optimizing top-level functions representation in multi-file facade classes and moving inline-only functions out of the runtime-available binary will win us several thousand methods.</p> <h4>Tooling Support</h4> <p>The main thing missing from Kotlin 1.0&rsquo;s Android support story is <strong>Lint Checks</strong>, and we&rsquo;re happy to announce that they are coming to Kotlin. We have already implemented all the checks available in Android Studio 1.5 (planning to publish them in Kotlin 1.0.2), and the new 2.0 checks are on the way. Our Lint checks are built on top of a common representation of Kotlin and Java code, and we plan to contribute that representation to the Android SDK, so that new checks added in future versions of the Android SDK will work with Kotlin out of the box.</p> <p>More Android-specific IDE support, such as a <em>New Kotlin Activity</em> action, code insight and navigation features, and others will also be added gradually as 1.0.X releases are published.</p> <h3>Kotlin and Java 8</h3> <p>Java 8 has been around for quite a while now, and thus many of our users, those who are not doing Android development, have chosen Kotlin over Java 8 and are happy about it. Now that Android has official support for the Java 8 language features, how does that change the decision of choosing between Kotlin and Java?</p> <p>First of all, while Java 8 does bring lambdas to Android, there are important differences between the way the Android toolchain supports lambdas on existing platform versions (that don&rsquo;t run the N release) and the way Kotlin supports lambdas. To understand the difference, let&rsquo;s see how the following simple code snippets are compiled:</p> <p>Kotlin: <code>list.forEach { process(it) }</code> Java 8: <code>list.forEach(it -&gt; process(it))</code></p> <p>Java&rsquo;s version is a tiny bit longer, but let&rsquo;s not focus on that. Instead, let&rsquo;s see what happens under the hood. Starting with Java:</p> <ul> <li>in Android&rsquo;s Java 8 every lambda is compiled to a class, which has two methods: constructor and the actual body (affecting the method count of your application);</li> <li>this class is later instantiated at runtime, in many cases &mdash; every time the <code>forEach</code> is called (creating pressure on the garbage collector);</li> <li>and to access it, Java uses a polymorphic call to <code>Consumer.accept</code>, which may happen on every iteration in a tight loop (affecting performance, because the runtime cannot always inline such calls).</li> </ul> <p>Kotlin, on the other hand, supports inline functions, and <code>forEach</code> is one such function. When you use an inline function with a lambda, both the body of the function and the lambda are inlined at the call site. As a result:</p> <ul> <li>the bytecode of the lambda is inserted directly into the bytecode of the calling method, so the method count does not increase;</li> <li>executing the code does not allocate any objects, so there is no garbage collector pressure;</li> <li>the resulting bytecode does not contain any polymorphic method calls, ensuring the best possible execution speed at runtime.</li> </ul> <p>Bottomline: lambdas in Java 8 on Android are not at all free, and one should probably think twice every time and choose between good code and performance. In Kotlin, you don&rsquo;t have to make such compromises, and you can use lambdas as much as you need to express the ideas in your code.</p> <p>And of course, Kotlin has many other language features which are not available in any version of Java. Just to list a few:</p> <ul> <li>Support for <strong>null-safety</strong> prevents most of the NullPointerException problems in your code, saving you from the dreaded &ldquo;Unfortunately, application has stopped&rdquo; message;</li> <li><strong>Properties, primary constructors and data classes</strong> greatly reduce the amount of boilerplate in the code representing the data model of your application: <code>data class User(val name: String, val groupId: String = &quot;default&quot;)</code></li> <li><strong>Delegated properties</strong> allow to extract the common logic in property getters and setters and to put that into a library: <code>val imageData by lazy { loadData(imageFile) }</code></li> </ul> <p>And the DSL construction features of Kotlin give you an entirely new level of flexibility in building your application which is simply not available in Java. For example, it gives you the option to replace XML layouts with an embedded DSL and to describe the UI of your application in the same language as the rest of the code, with full access to the abstraction features of the language. Here&rsquo;s how this can be accomplished using the <a href=""https://github.com/kotlin/anko"">Anko library</a>:</p> <pre><code class=""hljs language-kotlin"">verticalLayout { <span class=""hljs-keyword"">val</span> name = editText() button(<span class=""hljs-string"">""Say Hello""</span>) { onClick { toast(<span class=""hljs-string"">""Hello, <span class=""hljs-subst"">${name.text}</span>!""</span>) } } }</code></pre> <p>As you see, Kotlin has lots and lots of things to offer to make you more productive, beyond what Java 8 can offer to a Java 6 developer. And it&rsquo;s also easy to learn, with <a href=""https://kotlinlang.org/docs/reference/"">comprehensive documentation</a>, <a href=""http://blog.jetbrains.com/kotlin/2016/03/kotlin-educational-plugin/"">interactive exercises</a> and books covering both <a href=""https://www.manning.com/books/kotlin-in-action"">Kotlin in general</a> and the use of <a href=""https://leanpub.com/kotlin-for-android-developers"">Kotlin for Android development</a>. So if you haven&rsquo;t tried Kotlin yet, now is as good time as any!</p> http://blog.jetbrains.com/kotlin/2016/03/kotlins-android-roadmap/http://blog.jetbrains.com/kotlin/2016/03/kotlins-android-roadmap/KotlinAndroidDmitry JemerovWed, 30 Mar 2016 12:40:00 GMT Rest API plumbing with kotlin<h3>Rest API plumbing with kotlin</h3> <p>As a startup developper, I spend a lot of my time dealing with REST APIs. It can be internal APIs for our web applications or external APIs for integration with online services (email, documents, ...). For both uses, Kotlin features help a lot. Lets see how.</p> <p><img src=""https://d262ilb51hltx0.cloudfront.net/max/800/1*hzb7OdfBZ9vYEosTTfLddg.png"" alt=""""> <em>Internal and external REST calls</em></p> <h4>Internal APIs</h4> <p>Regardless the web framework we use (my preferred one is currently <em>Ember.js</em>) the client/server communication is commonly implemented via a REST API exchanging data in JSON.</p> <p>We define our API by specifying URLs and the JSON Format. URLs&rsquo; definition is managed by the web framework. As for the JSON format, jackson is a good solution for serializing POJOs. The structure of the JSON object is defined by the POJOs property names. To be sure to have an API independent of our domain objects, we need to have specific classes for the client-server communication.</p> <p>Jackson is a nice framework that converts java classes to JSON seamlessly. The main problem with java is the verbosity of those POJOs classes. Even basic javabeans with no logic and no method seems bloated.</p> <p>In the other hand, Kotlin data classes are really concise and allow generally to define data objects in a single line.</p> <p>For all JSON inputs and outputs, we can have the data classes contained in the same file/class as the Rest Controller.</p> <p><img src=""https://d262ilb51hltx0.cloudfront.net/max/800/1*xdUrq3OnbITKiS4yXQhBnw.png"" alt=""""> <em>Kotlin files that contains both the controller and the data classes</em></p> <p><img src=""https://d262ilb51hltx0.cloudfront.net/max/800/1*XVMVPgmMzeBa4dBCa0TGAA.png"" alt=""""> <em>Defining a PUT call with spring and kotlin</em></p> <p>The Nullabillity type system of Kotlin gives more control and information on the input/output format. In the example above, the documentId can be null by specification.</p> <p>In that call, the client expects an empty JSON object (?!). We can provide it by returning an instance of the <em>Empty</em> class.</p> <p>For inputs, we need to use <a href=""https://github.com/FasterXML/jackson-module-kotlin"">jackson&rsquo;s Kotlin</a> module. It manages the constructor calls to avoid creating unnecessary empty constructors.</p> <p>In less than 20 lines of kotlin we have defined our REST call, the URL and the format.</p> <h4>External APIs and the bounded context pattern</h4> <p>Beyond the issue of connecting with an external API and the technical part of it (remote calls, authentication,...) as developers we have to manage the <a href=""http://martinfowler.com/bliki/BoundedContext.html""><strong>Bounded Context pattern</strong></a>.</p> <p>The external system has its own domain model, which makes sense in its context, but is certainly different from our model/context.</p> <p>For example, the representation of Google Files in Google Drive is different from our file domain.</p> <p>When retrieving objects from the external API we have to <strong>transform those objects in our own model</strong>. The transformation must deal with the values (retrieved or not) and the type of (generally different) properties .</p> <p>Imagine the following naive class for my domain file:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">MyFile</span></span>( <span class=""hljs-keyword"">val</span> name:String, <span class=""hljs-keyword"">val</span> creationDate: Instant, <span class=""hljs-keyword"">val</span> modificationDate:Instant)</code></pre> <p>In the <a href=""https://developers.google.com/resources/api-libraries/documentation/drive/v2/java/latest/"">Google API</a> dates are using <em>com.google.api.client.util.DateTime</em> type for creation and modification dates.</p> <p>A first conversion function could be:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">gFileToMyFile</span><span class=""hljs-params"">(gFile: <span class=""hljs-type"">File</span>)</span></span> = MyFile( gFile.title, Instant.ofEpochMilli(gFile.createdDate.value), Instant.ofEpochMilli(gFile.modifiedDate.value))</code></pre> <p>It&rsquo;s quite verbose and hard to read. We can improve the code by implementing a <strong>property extension</strong> on the google DateTime class:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> DateTime.instant: Instant <span class=""hljs-keyword"">get</span>() = Instant.ofEpochMilli(value)</code></pre> <p>The DateTime class now has a new property simplifying the previous code snippet:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">gFileToMyFile</span><span class=""hljs-params"">(gFile: <span class=""hljs-type"">File</span>)</span></span> = MyFile( gFile.title, gFile.createdDate.instant, gFile.modifiedDate.instant)</code></pre> <p>We can go further and <strong>replace this function</strong> with an <strong>extension function</strong> on the Google File class to call the transformation directly on the Google File instances.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> File.<span class=""hljs-title"">toMyFile</span><span class=""hljs-params"">()</span></span> = MyFile( title, createdDate.instant, modifiedDate.instant)</code></pre> <p>Converting a single Google File is now as easy as:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> myFile = gFile.toMyFile()</code></pre> <p>And the conversion of a list of files is done by mapping the original list using a function reference:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> myFiles = gFiles.map ( File::toMyFile )</code></pre> <p>Implementing the 2 conversions (<em>Google DateTime =&gt; java Instant</em> and <em>Google File =&gt; MyFile)</em> with small <strong>extensions</strong> results in much more readable code.</p> <p><strong>For both uses, managing internal and external APIs, Kotlin appears to be</strong> <a href=""https://blog.jetbrains.com/kotlin/2016/02/kotlin-1-0-released-pragmatic-language-for-jvm-and-android/""><strong>a great tool</strong></a><strong>.</strong></p> https://medium.com/@gz_k/rest-api-plumbing-with-kotlin-b161af052178#.tdrmb8p5whttps://medium.com/@gz_k/rest-api-plumbing-with-kotlin-b161af052178#.tdrmb8p5wSpringKotlinGaetan ZoritchakTue, 29 Mar 2016 09:19:00 GMT Creating an AndroidWear watchface using Kotlin<h3>Creating an AndroidWear watchface using Kotlin</h3> <p><img src=""https://d262ilb51hltx0.cloudfront.net/max/600/1*78W0Fk8Ca3OGCdZiebTvSw.png"" alt=""""></p> <p>Last week we released our <a href=""https://play.google.com/store/apps/details?id=com.meronapps.lcdmodularwatchface"">latest watch face</a> for Android Wear, and it is a little bit special, it is the first done using something different from Java. It is entirely written in Kotlin. In this post I would like to share our experiences while building it and how doing in the language created by Jetbrains has improved the development process.</p> <p>To add a little bit of context, <a href=""http://meronapps.com"">we are</a> a Madrid based small company which, among other things, have been doing a lot of wearables applications, we have worked with Pebble, Sony smartwatch, Samsung&rsquo;s Tizen, Apple Watch and, of course, Android Wear. In our Google&rsquo;s OS take on watches, this is our seventh watch face, and all of them were developed using the ubiquitous Java.</p> <p>If you don&rsquo;t know Kotlin, it is a open sourced language designed by Jetbrains, yes, they are the ones behind the powerful IntelliJ Idea, the IDE which powers Android Studio. Kotlin is yet another language for the JVM and brings a lot of fresh air to JVM development. Since it does not uses any &ldquo;strange&rdquo; things like AOT compilation or bytecode generation, it is fully interoperable with Java and it works wherever Java works, so it does in Android. If you haven&rsquo;t took it a look, I recommend you to do it, you can get started at <a href=""https://kotlinlang.org/"">https://kotlinlang.org/</a></p> <p>Once we did the introductions, let&rsquo;s go to the heart of the post, the learnings from our watch face development.</p> <h4>Ready for Production</h4> <p>During the development of the watchface, Kotlin 1.0 was officially released, but truth is said, everything worked perfectly. Developer tools are formed by several packages, and all of them worked pretty well even though they were beta versions, which became stable afterwards.</p> <p>Android Studio Kotlin plugin works pretty well, it helps you with code completion, syntax highlighting, code navigation, code conversion from Java and all the candies you can expect from a mature IDE.</p> <p>Kotlin&rsquo;s Android gradle plugin was perfectly integrated with Android, you just click on Run, and it works on your phone, zero problems. There is just a single issue, the new feature from the Android build tools, Instant Run, doesn&rsquo;t work yet. This was somehow expected, if you know how it works by patching the dex file, it is expected that the compilation process of Kotlin might has some problems with it.</p> <p>Since we started using Kotlin when it was about to reach 1.0, the language itself is pretty stable, the syntax changes, if any, didn&rsquo;t have any impact in our code, we didn&rsquo;t have any problems the compiler and standard library either.</p> <h4>Fully interoperable with Java</h4> <p>One of the pillars of this language is that it is fully compatible with all the existing Java code, it means that you can use all Android libraries, and if you already have libraries and code, you can call it without any problems nor changes.</p> <p>This feature is key to adopt Kotlin in your new developments, in fact, we started by using some of our libraries which we have developed for all of our projects. What it happened, is that we converted all those libraries to Kotlin and now our previous projects are using a library written using kotlin code.</p> <h4>No more <em>if (foo != null)</em> and less NullPointerException</h4> <p>If you are a java developer, you probably have suffered the curse of writing <em>if (foo != null)</em> thousand of times, and when you forget it, a <em>NullPointerException</em> will remind you to write it.</p> <p>Kotlin tries to eliminate this infamous check with some syntax sugar. If a variable can be null, you need to explicit say it, you cannot assign a null to a <em>String</em> type, but you can do it to a <em>String?</em>. (note the question mark at the end). You cannot dereference a <em>?</em> variable without explicitly unwrapping it either by using !! or by using a <em>?</em> at the end. If a variable is null and you use a <em>?</em> at the end, it won&rsquo;t crash with a NPE. That means you can write <em>rectangle?.size?.width?</em>, if rectangle or size is null, nothing happens.</p> <h4>Fill your listeners using cool lambdas</h4> <p>When it comes to java, you know that you are going to put in use you typing skills. Chances are that you are using a modern IDE and it will save you a little bit from that pain, but all the boilerplate code is there.</p> <p>If you write Applications which respond to events like an Android application or an UI app, this is particularly notorious when you need to write control <em>Listeners</em>. Kotlin does magic in this side, if you need to implement an Interface which has only one method, you can use a Kotlin lambda to do it, saving you hundreds of characters and making your code more expressive with less useless decorations. Let&rsquo;s see an example to show this better</p> <pre><code class=""hljs language-java""><span class=""hljs-comment"">// Java (129 characters of boilerplate code)</span> view.setOnClickListener(<span class=""hljs-keyword"">new</span> OnClickListener() { <span class=""hljs-meta"">@Override</span> <span class=""hljs-function""><span class=""hljs-keyword"">public</span> <span class=""hljs-keyword"">void</span> <span class=""hljs-title"">onClick</span><span class=""hljs-params"">(View v)</span> </span>{ <span class=""hljs-comment"">// Do something cool</span> } });</code></pre> <pre><code class=""hljs language-kotlin""><span class=""hljs-comment"">// Kotlin (37 characters to do exactly the same)</span> view.onClick { <span class=""hljs-comment"">// Do something cool }</span></code></pre> <h4>No more findViewById</h4> <p>This point is specifically related with Android. Kotlin has a library called Android Extensions which will save you from typing useless code.</p> <p>When I started in Android Programming some years ago, I hated why I needed to write so many <em>findViewById()</em> and hated more the typecast of that method. For non Android programmers, that method returns a generic <em>View</em> and you probably will need to cast it to a <em>Button</em> or a <em>TextView</em> to do something useful with it. Among other cool things, the Android Extensions library allows you to use any view from a layout just by using its id. You only need to import the layout like it was another class and all ids will be visible in your code magically.</p> <pre><code class=""hljs language-java""><span class=""hljs-comment"">// Java</span> TextView tv = ((TextView)findViewById(R.id.my_textview)).setText(“Java y u make me write so much!”)</code></pre> <pre><code class=""hljs language-kotlin""><span class=""hljs-comment"">// Kotlin</span> <span class=""hljs-keyword"">import</span> kotlinx.android.synthetic.main_layout.* my_textview.text = <span class=""hljs-string"">""isn’t kotlin cool?""</span></code></pre> <h4>Syntax sugar</h4> <p>Kotlin has a lot more to offer in terms of making your code more readable and allowing you to type less. Java getters and setters are automatically converted to properties, instead of write <em>person.getName()</em> or <em>setName(&ldquo;&rdquo;)</em>, Kotlin allows you call that java code by writing <em>person.name</em> or <em>person.name = &ldquo;&rdquo;.</em></p> <p>Like modern languages, you don&rsquo;t need to write the type of a variable when the compiler can infer the type, which can be done most of the times.</p> <p>Assignments can contain a conditional expresions, Kotlin has mutable and inmutable references, I usually feel safer when a variable is inmutable, sometimes, the value of a variable depends on some condition, and this could force you to make the variable mutable. I think this is better explained by this piece of code.</p> <pre><code class=""hljs language-java""><span class=""hljs-comment"">// Java</span> String greeting = <span class=""hljs-keyword"">null</span>; <span class=""hljs-keyword"">if</span> (isDaytime()) { greeting = “Good Morning”; } <span class=""hljs-keyword"">else</span> { greeting = “good Evening”; }</code></pre> <p>Kotlin allows you to write it in this way:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> greeting = <span class=""hljs-keyword"">if</span> (isDaytime()) { “Good Morning” } <span class=""hljs-keyword"">else</span> { “Good Evening” }</code></pre> <p>Using this code, greeting is inmutable and you don&rsquo;t need to check if it is null when using this variable.</p> <h4>Vibrant community</h4> <p>One of the important things when using a new technology is the how its users communicate themselves. Kotlin community is great, you only need to connect to its slack channels and you will be able to talk with the developers of the language. Moreover, an increasing number of projects are starting to be developed using Kotlin, so you can share your experiences with others and learn by talking with them.</p> <h4>Conclusions</h4> <p>I could be talking about the features of Kotlin which we used while developing the watch face for hours, things like the functional features of Kotlin, the pattern matching of &ldquo;switch&rdquo; clauses, the bugs that optional types and immutability has saved us time of debugging and so on. In our experience choosing of Kotlin has been a great decision, it made our code more readable and one of the most important outcomes, we enjoyed a lot while developing the application which at the end is all that matters, isn&rsquo;t it? :).</p> https://medium.com/@robj.perez/creating-an-androidwear-watchface-using-kotlin-e5f725813fa9#.xcftwvys6https://medium.com/@robj.perez/creating-an-androidwear-watchface-using-kotlin-e5f725813fa9#.xcftwvys6AndroidAndroid WearKotlinRoberto PerezMon, 28 Mar 2016 09:19:00 GMT Writing a RESTful backend using Kotlin and Spring Boot<h3>Writing a RESTful backend using Kotlin and Spring Boot</h3> <p>Being here, I guess you already have an idea what a <a href=""https://en.wikipedia.org/wiki/Representational_state_transfer"">RESTful</a> <a href=""https://en.wikipedia.org/wiki/Front_and_back_ends"">backend</a> is and at least have heard of <a href=""https://kotlinlang.org"">Kotlin</a> and <a href=""http://projects.spring.io/spring-boot/"">Spring [Boot]</a>. Beside that you will also need to know what is <a href=""http://gradle.org"">Gradle</a> and download <a href=""https://www.jetbrains.com/idea/"">IntelliJ IDEA</a>. If not&#x200A;&mdash;&#x200A;click those few links and find out more before continuing.</p> <p>At the end of this tutorial you will have a running RESTful backend packed inside a Jar together with an embedded Tomcat web server.</p> <p>I will start this tutorial by answering the two questions that may be on your mind:</p> <h4><strong><em>Why Kotlin?</em></strong></h4> <p>Because I&rsquo;m <a href=""https://medium.com/@dime.kotevski/kotlin-love-at-first-line-7127befe240f#.ojez0fkcn"">in love with Kotlin</a>. And also because Kotlin (Java) has a great ecosystem and a huge community.</p> <h4><strong><em>Why Spring Boot?</em></strong></h4> <p>Because Spring is a great [web] framework and the Boot part of Spring Boot makes it even better. With Spring Boot things just work. No need to write dreadful configurations. You can, but you don&rsquo;t need to (at least in our case). You just include it as a dependency, annotate a class or two and you are good to go.</p> <p>We will create a very simple library management system. The system will be able to list all books available. It will allow us to add new books. For simplicity we will have all the data in memory and won&rsquo;t use any databases.</p> <p>Let&rsquo;s start by creating the project. First open your IDE (preferably IntelliJ IDEA, because it has great support for Kotlin) and create a new Gradle project. In the same window, select Kotlin as a framework.</p> <p><img src=""https://d262ilb51hltx0.cloudfront.net/max/800/1*bpAXXUEixZni9Mfy5pJwvg.png"" alt=""""> <em>&quot;New project&quot; window</em></p> <p>On the next screen you need to choose an ArtifactID and GroupID for your project. Those two things are the identification of your project in the Gradle world. Most often those IDs are the Java package of your application. In this tutorial I&rsquo;ll use <strong>si.dime.kotlin.tutorials.rest.booklibrary</strong> as the main Java package and <strong>si.dime.kotlin.tutorials.rest</strong> as GroupID and <strong>booklibrary</strong> as ArtifactID. After hitting the Finish button you should have the project opened in your IDE.</p> <p><strong>NOTE:</strong> At the time of writing this tutorial, the IntelliJ IDEA CE 15.0.4 has a bug, which generates a broken <strong>build.gradle</strong> file. The content of the correct file is:</p> <pre><code class=""hljs language-groovy"">group <span class=""hljs-string"">'si.dime.kotlin.tutorials.rest'</span> version <span class=""hljs-string"">'1.0-SNAPSHOT'</span> buildscript { ext.kotlin_version = <span class=""hljs-string"">'1.0.0'</span> repositories { mavenCentral() } dependencies { classpath <span class=""hljs-string"">""org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version""</span> } } apply <span class=""hljs-string"">plugin:</span> <span class=""hljs-string"">'java'</span> apply <span class=""hljs-string"">plugin:</span> <span class=""hljs-string"">'kotlin'</span> sourceCompatibility = <span class=""hljs-number"">1.8</span> repositories { mavenCentral() } sourceSets { main.java.srcDirs += <span class=""hljs-string"">'src/main/kotlin'</span> } dependencies { compile <span class=""hljs-string"">""org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version""</span> }</code></pre> <p>We will start with the good old HelloWorld app just so you can see how incredibly simple is to get a Spring Boot application up-and-running.</p> <p><img src=""https://d262ilb51hltx0.cloudfront.net/max/600/1*wV3aghlZYkzlJEiFr-kiyw.png"" alt=""""> <em>The project&rsquo;s directory structure</em></p> <p>First create the needed directory structure for your source files. Inside the project directory create the <strong>src/main/kotlin</strong> directories. You can do that directly from IDEA by right clicking on your project&rsquo;s root directory and selecting New &rarr; Directory. After that create your base Java package by right clicking New &rarr; Package on the <strong>kotlin</strong> directory. Your project structure should something like the one on the left.</p> <p>Let&rsquo;s finally write some code. Create your main Application class by right clicking on your package and selecting New &rarr; Kotlin File/Class. Name your file App and click Ok. Inside the file we&rsquo;ll write the main function:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">main</span><span class=""hljs-params"">(args: <span class=""hljs-type"">Array</span>&lt;<span class=""hljs-type"">String</span>&gt;)</span></span> { println(<span class=""hljs-string"">""Hello Kotlin!""</span>) }</code></pre> <p>We are ready to run our HelloWorld app. Right click inside the editor and click <strong><em>Run &lsquo;YOUR_PACKAGE_NAME&rsquo;</em></strong><em>.</em></p> <p><img src=""https://d262ilb51hltx0.cloudfront.net/max/800/1*CZaMzHFYklRk4tWWCjhiWw.png"" alt=""""></p> <p><em>Running the application from IntelliJ IDEA</em></p> <p>After clicking on Run, on the bottom of your screen you should get</p> <pre><code>Hello Kotlin! Process finished with exit code 0 </code></pre> <p>Now the fun part begins. We have our HelloWorld application in Kotlin and it&rsquo;s time to &ldquo;convert&rdquo; it to a Spring Boot application. It&rsquo;s amazingly easy.</p> <p>First we will add the Spring Boot dependency to our project. At this point you should know that Gradle is a build system and that it has great dependency management. Adding dependencies is simple as adding a line in your <strong>build.gradle</strong> file. For SpringBoot we&rsquo;ll need a few lines in our <strong>build.gradle</strong> file <strong>(not settings.gradle)</strong>.</p> <pre><code class=""hljs language-kotlin"">group <span class=""hljs-string"">'si.dime.kotlin.tutorials.rest'</span> version <span class=""hljs-string"">'1.0-SNAPSHOT'</span> buildscript { ext.kotlin_version = <span class=""hljs-string"">'1.0.0'</span> repositories { mavenCentral() } dependencies { classpath(<span class=""hljs-string"">""org.springframework.boot:spring-boot-gradle-plugin:1.2.6.RELEASE""</span>) classpath <span class=""hljs-string"">""org.jetbrains.kotlin:kotlin-gradle-plugin:<span class=""hljs-subst"">$kotlin_version</span>""</span> } } apply plugin: <span class=""hljs-string"">'java'</span> apply plugin: <span class=""hljs-string"">'kotlin'</span> apply plugin: <span class=""hljs-string"">'spring-boot'</span> sourceCompatibility = <span class=""hljs-number"">1.8</span> repositories { mavenCentral() } sourceSets { main.java.srcDirs += <span class=""hljs-string"">'src/main/kotlin'</span> } dependencies { compile <span class=""hljs-string"">""org.jetbrains.kotlin:kotlin-stdlib:<span class=""hljs-subst"">$kotlin_version</span>""</span> compile(<span class=""hljs-string"">""org.springframework.boot:spring-boot-starter-web:1.3.3.RELEASE""</span>) }</code></pre> <p>After adding the dependency we need to refresh our Gradle configuration. To do that click on the <strong>Refresh</strong> button on the <em>Gradle tool window</em>. (The <em>Gradle tool window</em> can be activated from the main menu View &rarr; Tool windows &rarr; Gradle.</p> <p><img src=""https://d262ilb51hltx0.cloudfront.net/max/800/1*K5doUTtJTNVf-nAv2MHxQA.png"" alt=""""> <em>The Gradle Tool Window</em></p> <p>Now we are ready to write the application&rsquo;s main class. Open the <strong>App.kt</strong> file and define the App class. The class needs to be <strong>open</strong> because Spring needs its configuration classes <strong>open (not final)</strong>. And annotate the class with the <strong>@SpringBootApplication</strong> annotation</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-meta"">@SpringBootApplication</span> <span class=""hljs-keyword"">open</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">App</span> </span>{ }</code></pre> <p>The final thing to do is change our main method. Replace the <em>println()</em> line with:</p> <pre><code class=""hljs language-kotlin"">SpringApplication.run(App::<span class=""hljs-class""><span class=""hljs-keyword"">class</span>.<span class=""hljs-title"">java</span>, <span class=""hljs-type"">*args)</span></span></code></pre> <p>The line above boots Spring and starts everything (including the embedded web server). Your <strong>App.kt</strong> file should look like this:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-meta"">@SpringBootApplication</span> <span class=""hljs-keyword"">open</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">App</span> </span>{ } <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">main</span><span class=""hljs-params"">(args: <span class=""hljs-type"">Array</span>&lt;<span class=""hljs-type"">String</span>&gt;)</span></span> { SpringApplication.run(App::<span class=""hljs-class""><span class=""hljs-keyword"">class</span>.<span class=""hljs-title"">java</span>, <span class=""hljs-type"">*args)</span></span> }</code></pre> <p>When you run the application, you should see a lot of output in the console at the bottom of the screen. The last line should say that the application has been successfully started.</p> <pre><code class=""hljs language-kotlin"">Started AppKt <span class=""hljs-keyword"">in</span> <span class=""hljs-number"">2.306</span> seconds (JVM running <span class=""hljs-keyword"">for</span> <span class=""hljs-number"">2.628</span>)</code></pre> <p>And that&rsquo;s it. It&rsquo;s that easy to convert a simple HelloWorld application to a SpringBoot web application with an embedded web server. We already have our application running on our embedded Tomcat server. If you open your browser and type <a href=""http://localhost:8080""><strong>http://localhost:8080</strong></a>in the address bar, you will get a <em>HTTP 404</em> page. That&rsquo;s because our application doesn&rsquo;t know how to do anything.</p> <p>Just for fun we&rsquo;ll write a simple controller that prints <strong><em>Hello SpringBoot</em></strong><em>.</em> Create a new Kotlin class and name it <strong><em>HelloSpringBootController</em></strong>. Annotate that class with @RestController. This annotation tells Spring that this class is a REST controller and knows how to handle web requests. The next thing to do is to write the actual method that prints the <strong><em>Hello SpringBoot</em></strong> line.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-meta"">@RequestMapping(value = <span class=""hljs-meta-string"">""/""</span>)</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">helloSpringBoot</span><span class=""hljs-params"">()</span></span> = <span class=""hljs-string"">""Hello SpringBoot""</span></code></pre> <p>The method just returns the &ldquo;Hello SpringBoot&rdquo; string. The <strong>@RequestMapping</strong> annotation registers this method as a request handler and maps it to the <strong>&ldquo;<em>/&rdquo;</em> </strong>url. Your class should look like this:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-meta"">@RestController</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">HelloSpringBootController</span> </span>{ <span class=""hljs-meta"">@RequestMapping(value = <span class=""hljs-meta-string"">""/""</span>)</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">helloSpringBoot</span><span class=""hljs-params"">()</span></span> = <span class=""hljs-string"">""Hello SpringBoot""</span> }</code></pre> <p>After restarting the application and refreshing your browser, you should see &ldquo;Hello SpringBoot&rdquo; in your browser.</p> <p>At this point you can safely remove the <strong>HelloSpringBootController</strong> because we won&rsquo;t be using it anymore.</p> <p>We&rsquo;ll start coding our book library system with the class that represents a Book. Create a new Kotlin file and name it <strong>Book</strong>.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Book</span></span>() { lateinit <span class=""hljs-keyword"">var</span> ISBN: String lateinit <span class=""hljs-keyword"">var</span> title: String lateinit <span class=""hljs-keyword"">var</span> author: String <span class=""hljs-keyword"">var</span> coverURL: String? = <span class=""hljs-literal"">null</span> <span class=""hljs-keyword"">constructor</span>( ISBN: String, title: String, author: String, coverURL: String? = <span class=""hljs-literal"">null</span>): <span class=""hljs-keyword"">this</span>() { <span class=""hljs-keyword"">this</span>.ISBN = ISBN <span class=""hljs-keyword"">this</span>.title = title <span class=""hljs-keyword"">this</span>.author = <span class=""hljs-meta"">@author</span> <span class=""hljs-keyword"">this</span>.coverURL = coverURL } }</code></pre> <p>It&rsquo;s pretty self-explanatory. It defines that every Book will have a required ISBN, a required title, a required author and an optional cover URL.</p> <p>Because we&rsquo;ll have all of our data in-memory, we&rsquo;ll need something that&rsquo;ll act like a database. For that purpose we&rsquo;ll create a spring&rsquo;s <strong>component</strong>. A <strong>component</strong> in Spring is an object which its lifecycle is managed by Spring. Additionally these components can be <strong>injected/autowired</strong> into class properties using Spring&rsquo;s Dependency Injection system.</p> <p>We&rsquo;ll create our BooksDatabase component by creating a new Kotlin file and defining the following class:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-meta"">@Component</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">BooksDatabase</span> </span>{ <span class=""hljs-comment"">// All of our books will live here</span> <span class=""hljs-keyword"">private</span> <span class=""hljs-keyword"">val</span> books = mutableListOf&lt;Book&gt;() }</code></pre> <p>Because our data will live only in-memory, and the data won&rsquo;t be persisted, we&rsquo;ll need to somehow manually fill our list of books every time the application starts. Here comes in handy the <strong>@PostConstruct</strong> Spring annotation. This annotation tells to Spring that it needs to call this method right after it creates its instance and because our BooksDatabase component is a singleton (all of <strong>@Component</strong> annotated classes are singletons) we will &ldquo;fill&rdquo; our database just once, at application startup. So we need to write a method that fills our books list with initial data and annotates it with the <strong>@PostConstruct</strong> method.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-meta"">@PostConstruct</span> <span class=""hljs-keyword"">private</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">init</span><span class=""hljs-params"">()</span></span> { <span class=""hljs-comment"">// Fill our ""database""</span> books.add(Book( <span class=""hljs-string"">""0765326353""</span>, <span class=""hljs-string"">""The Way of Kings""</span>, <span class=""hljs-string"">""Brandon Sanderson""</span>, coverURL = <span class=""hljs-string"">""https://d.gr-assets.com/books/1448127430l/7235533.jpg""</span>)) books.add(Book( <span class=""hljs-string"">""0345391802""</span>, <span class=""hljs-string"">""The Hitchhiker's Guide to the Galaxy""</span>, <span class=""hljs-string"">""Douglas Adams""</span>, coverURL = <span class=""hljs-string"">""https://d.gr-assets.com/books/1327656754l/11.jpg""</span>)) books.add(Book( <span class=""hljs-string"">""076531178X""</span>, <span class=""hljs-string"">""Mistborn: The Final Empire""</span>, <span class=""hljs-string"">""Brandon Sanderson""</span>, coverURL = <span class=""hljs-string"">""https://d.gr-assets.com/books/1437254833l/68428.jpg""</span>)) }</code></pre> <p>The next thing we need to do, are the methods for accessing the data from our database. We&rsquo;ll need one for retrieving the data and one for inserting new items.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-comment"">/** * Returns a list of all books */</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">getBooks</span><span class=""hljs-params"">()</span></span> = books <span class=""hljs-comment"">/** * Adds the given book only if a book with * the same ISBN doesn't already exist. * * <span class=""hljs-doctag"">@return</span> true - if the book was successfully added * false - otherwise */</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">addBook</span><span class=""hljs-params"">(book: <span class=""hljs-type"">Book</span>)</span></span>: <span class=""hljs-built_in"">Boolean</span> { books.firstOrNull { it.ISBN == book.ISBN }?.let { <span class=""hljs-comment"">// A book with the same ISBN exist</span> <span class=""hljs-keyword"">return</span> <span class=""hljs-literal"">false</span> } <span class=""hljs-comment"">// If we get to this line -</span> <span class=""hljs-comment"">// that means a book with the same ISBN</span> <span class=""hljs-comment"">// doesn't exist.</span> books.add(book) <span class=""hljs-keyword"">return</span> <span class=""hljs-literal"">true</span> }</code></pre> <p>This completes our in-memory database. We can now move on to writing the REST Controller.</p> <p>We will start in the same way we did with the <strong>HelloSpringBootController.</strong> Create a new Kotlin Class and name it <strong>BooksController</strong>. After that annotate it with the <strong>@RestController</strong> annotation<strong>.</strong></p> <pre><code class=""hljs language-kotlin""><span class=""hljs-meta"">@RestController</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">BooksController</span> </span>{ }</code></pre> <p>In this controller we will be needing the &ldquo;database&rdquo; we created. In order to use it, we will need to <strong>inject/autowire</strong> the single instance of our <strong>BooksDatabase</strong> class.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-meta"">@RestController</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">BooksController</span> </span>{ <span class=""hljs-comment"">// Our books' database</span> <span class=""hljs-meta"">@Autowired</span> <span class=""hljs-keyword"">private</span> lateinit <span class=""hljs-keyword"">var</span> database: BooksDatabase }</code></pre> <p>Thanks to the <strong>@Autowired</strong> annotation and Spring&rsquo;s DI, the <em>database</em> variable will point to the single instance of our BooksDatabase class. As in our database class we will need just two methods for accessing the data. The first will return a list of all the books and the second will add a new book to our database.</p> <p>The first one is really simple:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-meta"">@RequestMapping(<span class=""hljs-meta-string"">""""</span>, method = arrayOf(RequestMethod.GET)</span>) <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">books</span><span class=""hljs-params"">()</span></span> = database.getBooks()</code></pre> <p>After this point we are able to test our backend in a browser. After starting the application you can open <a href=""http://localhost:8080/"">http://localhost:8080/</a> in a browser and you should get the list of books we have in our database in JSON format.</p> <pre><code class=""hljs language-kotlin"">[ { “title”: “The Way of Kings”, “author”: “Brandon Sanderson”, “coverURL”: “https:<span class=""hljs-comment"">//d.gr-assets.com/books/1448127430l/7235533.jpg"",</span> “isbn”: “<span class=""hljs-number"">0765326353</span>” }, { “title”: “The Hitchhiker’s Guide to the Galaxy”, “author”: “Douglas Adams”, “coverURL”: “https:<span class=""hljs-comment"">//d.gr-assets.com/books/1327656754l/11.jpg"",</span> “isbn”: “<span class=""hljs-number"">0345391802</span>” }, { “title”: “Mistborn: The Final Empire”, “author”: “Brandon Sanderson”, “coverURL”: “https:<span class=""hljs-comment"">//d.gr-assets.com/books/1437254833l/68428.jpg"",</span> “isbn”: “<span class=""hljs-number"">076531178</span>X” } ]</code></pre> <p>As you can see, we don&rsquo;t have to worry about the format of the output. Spring is clever enough to figure out that we are returning an object (or a list of objects) from our method and serialise that to JSON.</p> <p>I guess you already figured it out that our application doesn&rsquo;t allow duplicate books in our database. So we will need to find a way to inform the user when he tries to do that. According to the RESTfull specifications, when that happens, we will need to return the <strong>HTTP 409&#x200A;&mdash;&#x200A;Conflict</strong> status back to the user. Luckily for us, Spring has a simple way of doing that.</p> <p>First we will need to define an exception with a special Spring annotation, that defines the HTTP error code and later in our <strong>addBook</strong> method, we will just have to throw that exception in case the user tries to insert a duplicate item.</p> <p>Let&rsquo;s start with our exception. Create a new Kotlin class named <strong>DuplicateItemException</strong>:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-meta"">@ResponseStatus(value = HttpStatus.CONFLICT, reason = <span class=""hljs-meta-string"">""Duplicate item.""</span>)</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">DuplicateItemException</span>: <span class=""hljs-type"">RuntimeException</span></span>() {}</code></pre> <p>Now we are ready to write our <strong>addBook</strong> method.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-meta"">@RequestMapping(<span class=""hljs-meta-string"">""""</span>, method = arrayOf(RequestMethod.POST)</span>) <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">addBook</span><span class=""hljs-params"">(<span class=""hljs-meta"">@RequestBody</span> book: <span class=""hljs-type"">Book</span>)</span></span> = <span class=""hljs-keyword"">if</span> (database.addBook(book)) book <span class=""hljs-keyword"">else</span> <span class=""hljs-keyword"">throw</span> DuplicateItemException()</code></pre> <p>We have the same situation as before. Spring will automatically convert our returned Book object to JSON or in the case of a duplicate item, it will return the <strong>409 HTTP status</strong>. Also it will automatically convert the request body (thanks to the <strong>@RequestBody</strong> annotation) to an instance of our Book class.</p> <p>For testing this method, I recommend you the <a href=""https://chrome.google.com/webstore/detail/postman/fhbjgbiflinjbdggehcddcbncdddomop?hl=en"">POSTMAN chrome app</a>.</p> <p><img src=""https://d262ilb51hltx0.cloudfront.net/max/800/1*iipcrRPPaBIWiajaVelBIw.png"" alt=""""></p> <p>It&rsquo;s important to set the HTTP method to <strong>POST</strong>, the content type to <strong>JSON</strong> and the body of the request. After hitting the <em>Send</em> button you should get the same book data in your response. In case you are trying to insert a duplicate item you should get an <strong>HTTP 409</strong> status.</p> <p>If you try to fetch the list of books after you added a new book, you should get the newly added book at the end of the list.</p> <p>Now that we have all to code written, we want to be able to run our server independently of our IDE. This is also a no-brainer, thanks to Gradle. Just open your terminal and cd to the project&rsquo;s directory. To build our project and create a runnable JAR with an embedded web server (Tomcat in our case) we will need to fire-up Gradle:</p> <pre><code class=""hljs language-groovy"">./gradlew clean bootRepackage</code></pre> <p>After the build has completed, our executable JAR will be located in <strong><em>build/libs</em></strong><em>.</em> So to start our server we just need to start our JAR file:</p> <pre><code class=""hljs language-bash"">java -jar build/libs/booklibrary-1.0-SNAPSHOT.jar</code></pre> <p>After a few seconds, you should see an output similar to:</p> <pre><code class=""hljs language-kotlin"">Started AppKt <span class=""hljs-keyword"">in</span> <span class=""hljs-number"">2.207</span> seconds (JVM running <span class=""hljs-keyword"">for</span> <span class=""hljs-number"">2.532</span>)</code></pre> <p><strong>That&rsquo;s it!</strong> We now have a fully functional RESTfull backend. In the near future I&rsquo;ll try to write a couple of more tutorials that focus on writing an Android and iOS apps that use this backend.</p> <h4>Disclaimer</h4> <p>Yes, I&rsquo;m a big Sanderson&rsquo;s fan :)</p> https://medium.com/@dime.kotevski/writing-a-restful-backend-using-kotlin-and-spring-boot-9f162c96e428#.9oucop3xghttps://medium.com/@dime.kotevski/writing-a-restful-backend-using-kotlin-and-spring-boot-9f162c96e428#.9oucop3xgSpringKotlinDimitar KotevskiTue, 22 Mar 2016 21:04:00 GMT How to Hot Deploy Java/Kotlin classes in Dev<p>One thing the majority of JVM developers find annoying is having to constantly restart their container. Make a small change, restart Tomcat/Jetty, wait 30+ seconds for code to build / compile (or several minutes in the case of large monolithic projects), see results; repeat.</p> <p>Compared to Dart which auto-reloads your changes as soon as you hit save, this is very inefficient and kills productivity.</p> <p>There&#x27;s a commercial solution available called <a href=""http://zeroturnaround.com/software/jrebel/"">JRebel</a> that aims to solve this problem, I took it for a test drive for a couple of weeks and managed to cut down several hours rapidly increasing my productivity and leaving me with a lot less time to spend on Hashnode.</p> <p><img src=""https://res.cloudinary.com/hashnode/image/upload/v1458676272/k10afwmauljxts4kdek7.png"" alt=""title here""></p> <p>Even though JRebel was saving me a lot of time and pretty much worked out of the box, I just couldn&#x27;t justify the price tag - at almost $500 a year, converted to Rands, that&#x27;s about the price of one month&#x27;s rental in South Africa for a small flat - a bit heavy; all the time I&#x27;m saving, I&#x27;m paying over to them. Don&#x27;t get me wrong, I enjoyed using JRebel, but the price tag is just too much when there are other solutions available.</p> <p>There is an open-source alternative which works just as well for what I&#x27;m using it for - it&#x27;s called <a href=""https://github.com/spring-projects/spring-loaded#readme"">Spring Loaded</a>. It probably won&#x27;t cover everything that JRebel is doing, but I&#x27;m mostly busy in Spring, so it&#x27;s perfect for my needs.</p> <p>Download the <a href=""http://repo.spring.io/release/org/springframework/springloaded/1.2.5.RELEASE/springloaded-1.2.5.RELEASE.jar"">jar</a> file, throw it somewhere where you won&#x27;t accidentally delete it, open your <code>~/.bash_profile</code> if you&#x27;re using OSX or on Linux it would typically be your <code>~/.bashrc</code> and add the following line followed by restarting your terminal:</p> <p><code>export MAVEN_OPTS=&quot;-javaagent:/absolute/path/Code/springloaded-1.2.5.RELEASE.jar -noverify&quot;</code></p> <p>Now when you run your application using the maven jetty plugin or maven tomcat plugin (<code>mvn jetty:run</code>), every time you compile a class, it will be reloaded for you without having to do <code>Ctrl + C</code> and restarting <code>mvn jetty:run</code>. In Eclipse this will happen automatically if you have auto build turned on, in IntellJ, just assign a shortcut to the compile command (I&#x27;m using <code>Cmd + S</code>), once you&#x27;re done with your changes, simply hit <code>Cmd + S</code> and you can immediately see your changes without restarts.</p> <p>Happy coding!!</p> https://hashnode.com/post/how-to-hot-deploy-javakotlin-classes-in-dev-cim3u5oen00fnek53ho7q1t0vhttps://hashnode.com/post/how-to-hot-deploy-javakotlin-classes-in-dev-cim3u5oen00fnek53ho7q1t0vDeployKotlinJan Vladimir MostertTue, 22 Mar 2016 19:55:00 GMT (RU) Андрей Бреслав и Дмитрий Жемеров о Kotlin 1.0 на jug.msk.ru<p>17 &#x43C;&#x430;&#x440;&#x442;&#x430; 2016 &#x433;&#x43E;&#x434;&#x430; &#x43F;&#x440;&#x43E;&#x448;&#x43B;&#x430; &#x432;&#x441;&#x442;&#x440;&#x435;&#x447;&#x430; <a href=""http://jug.msk.ru/"">jug.msk.ru</a> &#x441; &#x410;&#x43D;&#x434;&#x440;&#x435;&#x435;&#x43C; &#x411;&#x440;&#x435;&#x441;&#x43B;&#x430;&#x432;&#x43E;&#x43C; &#x438; &#x414;&#x43C;&#x438;&#x442;&#x440;&#x438;&#x435;&#x43C; &#x416;&#x435;&#x43C;&#x435;&#x440;&#x43E;&#x432;&#x44B;&#x43C;, &#x43F;&#x43E;&#x441;&#x432;&#x44F;&#x449;&#x451;&#x43D;&#x43D;&#x430;&#x44F; &#x432;&#x44B;&#x43F;&#x443;&#x441;&#x43A;&#x443; &#x432;&#x435;&#x440;&#x441;&#x438;&#x438; 1.0 &#x44F;&#x437;&#x44B;&#x43A;&#x430; &#x43F;&#x440;&#x43E;&#x433;&#x440;&#x430;&#x43C;&#x43C;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x43D;&#x438;&#x44F; Kotlin. &#x414;&#x430;&#x43B;&#x435;&#x435; &#x440;&#x430;&#x441;&#x441;&#x43A;&#x430;&#x437;&#x44B;&#x432;&#x430;&#x435;&#x442;&#x441;&#x44F; &#x43E; &#x43F;&#x440;&#x43E;&#x448;&#x435;&#x434;&#x448;&#x435;&#x439; &#x432;&#x441;&#x442;&#x440;&#x435;&#x447;&#x435; &#x43F;&#x43E;&#x434;&#x440;&#x43E;&#x431;&#x43D;&#x435;&#x435;.</p> <p><img src=""https://habrastorage.org/files/c29/a51/0ef/c29a510efb444bb4bc8b18f8ad740523.jpg"" alt=""&#x41A;&#x41F;&#x412;&#x414;""></p> <p>&#x41E; &#x434;&#x43E;&#x43A;&#x43B;&#x430;&#x434;&#x447;&#x438;&#x43A;&#x430;&#x445;</p> <p>&#x410;&#x43D;&#x434;&#x440;&#x435;&#x439; &#x411;&#x440;&#x435;&#x441;&#x43B;&#x430;&#x432; ( <a href=""https://habrahabr.ru/users/abreslav/"">@abreslav</a> ) &#x44F;&#x432;&#x43B;&#x44F;&#x435;&#x442;&#x441;&#x44F; &#x430;&#x440;&#x445;&#x438;&#x442;&#x435;&#x43A;&#x442;&#x43E;&#x440;&#x43E;&#x43C; &#x44F;&#x437;&#x44B;&#x43A;&#x430; <em>Kotlin</em>, &#x437;&#x430;&#x43D;&#x438;&#x43C;&#x430;&#x44F;&#x441;&#x44C; &#x435;&#x433;&#x43E; &#x440;&#x430;&#x437;&#x440;&#x430;&#x431;&#x43E;&#x442;&#x43A;&#x43E;&#x439; &#x432; &#x43A;&#x43E;&#x43C;&#x43F;&#x430;&#x43D;&#x438;&#x438; <em>JetBrains</em> &#x441; 2010 &#x433;&#x43E;&#x434;&#x430;.</p> <p>&#x41D;&#x438;&#x436;&#x435; &#x43F;&#x440;&#x438;&#x432;&#x435;&#x434;&#x451;&#x43D; &#x441;&#x43F;&#x438;&#x441;&#x43E;&#x43A; &#x432;&#x438;&#x434;&#x435;&#x43E; &#x434;&#x43E;&#x43A;&#x43B;&#x430;&#x434;&#x43E;&#x432; &#x410;&#x43D;&#x434;&#x440;&#x435;&#x44F;, &#x43A;&#x43E;&#x442;&#x43E;&#x440;&#x44B;&#x435; &#x443;&#x434;&#x430;&#x43B;&#x43E;&#x441;&#x44C; &#x43D;&#x430;&#x439;&#x442;&#x438;:</p> <ul> <li>&laquo;BrainStorm. &#x410;&#x432;&#x442;&#x43E;&#x43C;&#x430;&#x442;&#x438;&#x437;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x43D;&#x43D;&#x430;&#x44F; &#x43E;&#x43F;&#x442;&#x438;&#x43C;&#x438;&#x437;&#x430;&#x446;&#x438;&#x44F; &#x430;&#x43F;&#x43F;&#x430;&#x440;&#x430;&#x442;&#x43D;&#x43E;-&#x43F;&#x440;&#x43E;&#x433;&#x440;&#x430;&#x43C;&#x43C;&#x43D;&#x44B;&#x445; &#x430;&#x440;&#x445;&#x438;&#x442;&#x435;&#x43A;&#x442;&#x443;&#x440;&raquo; (<em>Computer Science &#x43A;&#x43B;&#x443;&#x431; &#x43F;&#x440;&#x438; &#x41F;&#x41E;&#x41C;&#x418; &#x420;&#x410;&#x41D;</em>, 2011: <a href=""https://www.youtube.com/watch?v=wZXEhngRzMA"">&#x432;&#x438;&#x434;&#x435;&#x43E;</a>)</li> <li>&laquo;&#x421;&#x438;&#x43D;&#x442;&#x430;&#x43A;&#x441;&#x438;&#x447;&#x435;&#x441;&#x43A;&#x438;&#x439; &#x430;&#x43D;&#x430;&#x43B;&#x438;&#x437; &#x434;&#x43B;&#x44F; &#x432;&#x441;&#x442;&#x440;&#x43E;&#x435;&#x43D;&#x43D;&#x44B;&#x445; &#x44F;&#x437;&#x44B;&#x43A;&#x43E;&#x432;&raquo; (<em>Computer Science &#x43A;&#x43B;&#x443;&#x431; &#x43F;&#x440;&#x438; &#x41F;&#x41E;&#x41C;&#x418; &#x420;&#x410;&#x41D;</em>, 2011: <a href=""https://www.youtube.com/watch?v=PARloe1mPkc"">&#x432;&#x438;&#x434;&#x435;&#x43E;</a>)</li> <li>&laquo;Project Kotlin&raquo; (<em>JUG.ru-2012</em>: <a href=""https://www.youtube.com/watch?v=wjkaPXT_vY4&amp;index=11&amp;list=PLVe-2wcL84b8pj7VOoa-6L9Q0sDjibdoF"">&#x432;&#x438;&#x434;&#x435;&#x43E;</a>)</li> <li>&laquo;&#x424;&#x443;&#x43D;&#x43A;&#x446;&#x438;&#x438; &#x438; &#x434;&#x430;&#x43D;&#x43D;&#x44B;&#x435; &#x432; Kotlin&raquo; (<em>FProg-12 &#x432; JetBrains</em>: <a href=""https://www.youtube.com/watch?v=0AzLhiic0fM"">&#x432;&#x438;&#x434;&#x435;&#x43E;</a>)</li> <li>&laquo;Type-safe Web with Kotlin&raquo; (<em>JPoint 2013</em>: <a href=""https://www.youtube.com/watch?v=6y-4xJWFLl4&amp;index=10&amp;list=PLVe-2wcL84b8pj7VOoa-6L9Q0sDjibdoF"">&#x432;&#x438;&#x434;&#x435;&#x43E;</a>)</li> <li>&laquo;&#x41A;&#x43E;&#x43C;&#x43F;&#x440;&#x43E;&#x43C;&#x438;&#x441;&#x441;&#x44B;, &#x438;&#x43B;&#x438; &#x41A;&#x430;&#x43A; &#x43F;&#x440;&#x43E;&#x435;&#x43A;&#x442;&#x438;&#x440;&#x443;&#x44E;&#x442;&#x441;&#x44F; &#x44F;&#x437;&#x44B;&#x43A;&#x438; &#x43F;&#x440;&#x43E;&#x433;&#x440;&#x430;&#x43C;&#x43C;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x43D;&#x438;&#x44F;&raquo; (<em>Joker 2013</em>: <a href=""https://www.youtube.com/watch?v=CX_K1r0Vklg&amp;index=8&amp;list=PLVe-2wcL84b8pj7VOoa-6L9Q0sDjibdoF"">&#x432;&#x438;&#x434;&#x435;&#x43E;</a>)</li> <li>&laquo;&#x41A;&#x43E;&#x43C;&#x43F;&#x440;&#x43E;&#x43C;&#x438;&#x441;&#x441;&#x44B; &#x432; &#x440;&#x430;&#x437;&#x440;&#x430;&#x431;&#x43E;&#x442;&#x43A;&#x435; &#x44F;&#x437;&#x44B;&#x43A;&#x43E;&#x432; &#x43F;&#x440;&#x43E;&#x433;&#x440;&#x430;&#x43C;&#x43C;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x43D;&#x438;&#x44F;&raquo; (<em>JPoint 2014</em>: <a href=""https://www.youtube.com/watch?v=HE4yyPpUsy4&amp;index=7&amp;list=PLVe-2wcL84b8pj7VOoa-6L9Q0sDjibdoF"">&#x432;&#x438;&#x434;&#x435;&#x43E;</a>)</li> <li>&laquo;Kotlin &#x434;&#x43B;&#x44F; Android: &#x43A;&#x43E;&#x440;&#x43E;&#x442;&#x43A;&#x43E; &#x438; &#x44F;&#x441;&#x43D;&#x43E;&raquo; (<em>Mobius 2014</em>: <a href=""https://www.youtube.com/watch?v=VU_L2_XGQ9s&amp;index=9&amp;list=PLVe-2wcL84b8pj7VOoa-6L9Q0sDjibdoF"">&#x432;&#x438;&#x434;&#x435;&#x43E;</a>)</li> <li>&laquo;&#x42F;&#x437;&#x44B;&#x43A; Kotlin &#x434;&#x43B;&#x44F; &#x43F;&#x43B;&#x430;&#x442;&#x444;&#x43E;&#x440;&#x43C;&#x44B; Java&raquo; (<em>JEEConf 2015</em>: <a href=""https://www.youtube.com/watch?v=018n0aXiljc"">&#x432;&#x438;&#x434;&#x435;&#x43E;</a>)</li> <li>&laquo;Kotlin: Challenges in language design&raquo; (<em>Curry On, Prague 2015</em>: <a href=""https://www.youtube.com/watch?v=zVZFv80l_lQ"">&#x432;&#x438;&#x434;&#x435;&#x43E;</a>)</li> <li>&laquo;&#x427;&#x442;&#x43E; &#x434;&#x435;&#x43B;&#x430;&#x442;&#x44C;?&raquo; (2015: <a href=""https://www.youtube.com/watch?v=P_qrDQMBRzw"">&#x432;&#x438;&#x434;&#x435;&#x43E;</a>)</li> </ul> <p>&#x414;&#x432;&#x430; &#x434;&#x43E;&#x43A;&#x43B;&#x430;&#x434;&#x430; &#x44F; &#x441;&#x43C;&#x43E;&#x442;&#x440;&#x435;&#x43B; &#x43E;&#x447;&#x43D;&#x43E; &#x43D;&#x430; &#x43A;&#x43E;&#x43D;&#x444;&#x435;&#x440;&#x435;&#x43D;&#x446;&#x438;&#x44F;&#x445;, &#x435;&#x449;&#x451; &#x43E;&#x434;&#x438;&#x43D; &mdash; &#x432; &#x437;&#x430;&#x43F;&#x438;&#x441;&#x438;. &#x41A; &#x43C;&#x43E;&#x435;&#x43C;&#x443; &#x431;&#x43E;&#x43B;&#x44C;&#x448;&#x43E;&#x43C;&#x443; &#x443;&#x434;&#x438;&#x432;&#x43B;&#x435;&#x43D;&#x438;&#x44E;, &#x43F;&#x43E;&#x441;&#x43B;&#x435;&#x434;&#x43D;&#x438;&#x439; &#x432; &#x441;&#x43F;&#x438;&#x441;&#x43A;&#x435; &#x434;&#x43E;&#x43A;&#x43B;&#x430;&#x434;&#x43E;&#x432; &#x44F;&#x432;&#x43B;&#x44F;&#x435;&#x442;&#x441;&#x44F; &#x432;&#x43E;&#x432;&#x441;&#x435; &#x43D;&#x435; &#x442;&#x435;&#x445;&#x43D;&#x438;&#x447;&#x435;&#x441;&#x43A;&#x438;&#x43C;.</p> <p>&#x414;&#x43C;&#x438;&#x442;&#x440;&#x438;&#x439; &#x416;&#x435;&#x43C;&#x435;&#x440;&#x43E;&#x432; ( <a href=""https://habrahabr.ru/users/yole/"">@yole</a> ) &#x440;&#x430;&#x431;&#x43E;&#x442;&#x430;&#x435;&#x442; &#x432; <em>JetBrains</em> &#x441; 2003 &#x433;&#x43E;&#x434;&#x430; (&#x43D;&#x430; &#x43D;&#x435;&#x43A;&#x43E;&#x442;&#x43E;&#x440;&#x43E;&#x435; &#x432;&#x440;&#x435;&#x43C;&#x44F; &#x443;&#x445;&#x43E;&#x434;&#x438;&#x43B; &#x432; <em>Google</em> &#x438; &#x432;&#x435;&#x440;&#x43D;&#x443;&#x43B;&#x441;&#x44F; &#x43E;&#x431;&#x440;&#x430;&#x442;&#x43D;&#x43E;), &#x443;&#x441;&#x43F;&#x435;&#x432; &#x43F;&#x43E;&#x443;&#x447;&#x430;&#x441;&#x442;&#x432;&#x43E;&#x432;&#x430;&#x442;&#x44C; &#x432;&#x43E; &#x43C;&#x43D;&#x43E;&#x433;&#x438;&#x445; &#x43F;&#x440;&#x43E;&#x435;&#x43A;&#x442;&#x430;&#x445; &#x43A;&#x43E;&#x43C;&#x43F;&#x430;&#x43D;&#x438;&#x438;, &#x432; <em>IntelliJ IDEA</em> &#x432; &#x447;&#x430;&#x441;&#x442;&#x43D;&#x43E;&#x441;&#x442;&#x438;. &#x421;&#x435;&#x439;&#x447;&#x430;&#x441; &#x414;&#x43C;&#x438;&#x442;&#x440;&#x438;&#x439; &#x440;&#x443;&#x43A;&#x43E;&#x432;&#x43E;&#x434;&#x438;&#x442; &#x43A;&#x43E;&#x43C;&#x430;&#x43D;&#x434;&#x43E;&#x439; &#x440;&#x430;&#x437;&#x440;&#x430;&#x431;&#x43E;&#x442;&#x43A;&#x438; <em>Kotlin</em> - &#x43F;&#x43B;&#x430;&#x433;&#x438;&#x43D;&#x430; &#x438; &#x43F;&#x438;&#x448;&#x435;&#x442; &#x43A;&#x43D;&#x438;&#x433;&#x443; <a href=""https://www.manning.com/books/kotlin-in-action"">Kotlin in Action</a> (&#x432; &#x441;&#x43E;&#x430;&#x432;&#x442;&#x43E;&#x440;&#x441;&#x442;&#x432;&#x435; &#x441;&#x43E; &#x421;&#x432;&#x435;&#x442;&#x43B;&#x430;&#x43D;&#x43E;&#x439; &#x418;&#x441;&#x430;&#x43A;&#x43E;&#x432;&#x43E;&#x439;).</p> <p>&#x41D;&#x430; <a href=""http://yole.ru"">&#x435;&#x433;&#x43E; &#x441;&#x430;&#x439;&#x442;&#x435;</a> &#x43F;&#x435;&#x440;&#x435;&#x447;&#x438;&#x441;&#x43B;&#x435;&#x43D;&#x43E; &#x435;&#x449;&#x451; &#x43D;&#x435;&#x441;&#x43A;&#x43E;&#x43B;&#x44C;&#x43A;&#x43E; &#x43F;&#x435;&#x440;&#x441;&#x43E;&#x43D;&#x430;&#x43B;&#x44C;&#x43D;&#x44B;&#x445; &#x43F;&#x440;&#x43E;&#x435;&#x43A;&#x442;&#x43E;&#x432; (&#x432; &#x442;.&#x447;. <a href=""https://sourceforge.net/projects/syndirella/"">Syndirella</a>, &#x43F;&#x440;&#x43E; &#x43A;&#x43E;&#x442;&#x43E;&#x440;&#x443;&#x44E; <a href=""https://radio-t.com/p/2016/02/20/podcast-484/"">&#x443;&#x43F;&#x43E;&#x43C;&#x438;&#x43D;&#x430;&#x43B;</a> &#x43D;&#x435;&#x434;&#x430;&#x432;&#x43D;&#x43E; <a href=""https://habrahabr.ru/users/bobuk/"">@bobuk</a>).</p> <p>&#x414;&#x43E;&#x43A;&#x43B;&#x430;&#x434;&#x44B; &#x414;&#x43C;&#x438;&#x442;&#x440;&#x438;&#x44F;, &#x43A;&#x43E;&#x442;&#x43E;&#x440;&#x44B;&#x435; &#x443;&#x434;&#x430;&#x43B;&#x43E;&#x441;&#x44C; &#x43D;&#x430;&#x439;&#x442;&#x438;:</p> <ul> <li>&laquo;Kotlin&raquo; (<em>Riviera DEV 2011</em>: <a href=""https://www.youtube.com/watch?v=P0SisYQrosg"">&#x432;&#x438;&#x434;&#x435;&#x43E;</a>)</li> <li>&laquo;Kotlin&raquo; (<em>CZJUG-2013</em>: <a href=""https://www.youtube.com/watch?v=acLBPytzpEI"">&#x432;&#x438;&#x434;&#x435;&#x43E;</a>)</li> <li>&laquo;Static types in JavaScript: what, how and why&raquo; (<em>JSConf EU 2013</em>: <a href=""https://www.youtube.com/watch?v=0r9HPRJUaFo"">&#x432;&#x438;&#x434;&#x435;&#x43E;</a>)</li> <li>&laquo;Why Python Sucks&raquo; (<em>Europython 2013</em>: <a href=""https://www.youtube.com/watch?v=PlXEsrhF1iE"">&#x432;&#x438;&#x434;&#x435;&#x43E;</a>)</li> <li>&laquo;SDK, Gradle, AndroidStudio&raquo; (<em>&#x41E;&#x43D;&#x43B;&#x430;&#x439;&#x43D; &#x448;&#x43A;&#x43E;&#x43B;&#x430; Android-&#x440;&#x430;&#x437;&#x440;&#x430;&#x431;&#x43E;&#x442;&#x447;&#x438;&#x43A;&#x43E;&#x432;-2015</em>: <a href=""https://www.youtube.com/watch?v=ZyPgFuPwXoQ"">&#x432;&#x438;&#x434;&#x435;&#x43E;</a>)</li> <li>&laquo;&#x411;&#x435;&#x437; &#x441;&#x43B;&#x430;&#x439;&#x434;&#x43E;&#x432;: &#x438;&#x43D;&#x442;&#x435;&#x440;&#x432;&#x44C;&#x44E; &#x441; &#x414;&#x43C;&#x438;&#x442;&#x440;&#x438;&#x435;&#x43C; &#x416;&#x435;&#x43C;&#x435;&#x440;&#x43E;&#x432;&#x44B;&#x43C; &#x438;&#x437; JetBrains&raquo; (<em>&#x425;&#x430;&#x431;&#x440;&#x430;&#x445;&#x430;&#x431;&#x440;</em>: <a href=""https://habrahabr.ru/company/jugru/blog/263905/"">&#x441;&#x442;&#x430;&#x442;&#x44C;&#x44F; &#x441; &#x432;&#x438;&#x434;&#x435;&#x43E;</a>)</li> <li>&laquo;&#x41E;&#x43F;&#x44B;&#x442; &#x438;&#x441;&#x43F;&#x43E;&#x43B;&#x44C;&#x437;&#x43E;&#x432;&#x430;&#x43D;&#x438;&#x44F; Kotlin &#x432; JetBrains&raquo; (Joker 2015: <a href=""https://www.youtube.com/watch?v=c1tf_zLGMKM&amp;index=6&amp;list=PLVe-2wcL84b8pj7VOoa-6L9Q0sDjibdoF"">&#x432;&#x438;&#x434;&#x435;&#x43E;</a>)</li> </ul> <p>&#x418;&#x437; &#x43F;&#x435;&#x440;&#x435;&#x447;&#x438;&#x441;&#x43B;&#x435;&#x43D;&#x43D;&#x43E;&#x433;&#x43E; &#x441;&#x43C;&#x43E;&#x442;&#x440;&#x435;&#x43B; &#x442;&#x43E;&#x43B;&#x44C;&#x43A;&#x43E; &#x43E;&#x434;&#x438;&#x43D; &#x434;&#x43E;&#x43A;&#x43B;&#x430;&#x434; &#x441; &#x43A;&#x43E;&#x43D;&#x444;&#x435;&#x440;&#x435;&#x43D;&#x446;&#x438;&#x438; &#x432; &#x437;&#x430;&#x43F;&#x438;&#x441;&#x438; &#x438; &#x438;&#x43D;&#x442;&#x435;&#x440;&#x432;&#x44C;&#x44E; &#x438;&#x437; &#x441;&#x435;&#x440;&#x438;&#x438; &laquo;&#x411;&#x435;&#x437; &#x441;&#x43B;&#x430;&#x439;&#x434;&#x43E;&#x432;&raquo;.</p> <p>&#x421;&#x43E;&#x432;&#x441;&#x435;&#x43C; &#x43D;&#x435;&#x434;&#x430;&#x432;&#x43D;&#x43E; &#x410;&#x43D;&#x434;&#x440;&#x435;&#x439; &#x438; &#x414;&#x43C;&#x438;&#x442;&#x440;&#x438;&#x439; &#x432;&#x43C;&#x435;&#x441;&#x442;&#x435; &#x432;&#x44B;&#x441;&#x442;&#x443;&#x43F;&#x430;&#x43B;&#x438; &#x441; &#x434;&#x43E;&#x43A;&#x43B;&#x430;&#x434;&#x43E;&#x43C; &laquo;Kotlin 1.0&raquo; &#x43D;&#x430; &#x432;&#x441;&#x442;&#x440;&#x435;&#x447;&#x435; <em>JUG.ru</em> &#x432; &#x41F;&#x438;&#x442;&#x435;&#x440;&#x435; &mdash; <a href=""https://habrahabr.ru/company/jugru/blog/278647/"">&#x441;&#x442;&#x430;&#x442;&#x44C;&#x44F; &#x441; &#x432;&#x438;&#x434;&#x435;&#x43E;</a> &#x434;&#x43E;&#x43A;&#x43B;&#x430;&#x434;&#x430;.</p> <h4>&#x41E; &#x434;&#x43E;&#x43A;&#x43B;&#x430;&#x434;&#x435;</h4> <p>&#x414;&#x43E; &#x432;&#x441;&#x442;&#x440;&#x435;&#x447;&#x438; &#x432; &#x442;&#x435;&#x447;&#x435;&#x43D;&#x438;&#x435; &#x43D;&#x435;&#x441;&#x43A;&#x43E;&#x43B;&#x44C;&#x43A;&#x438;&#x445; &#x432;&#x435;&#x447;&#x435;&#x440;&#x43E;&#x432; &#x43F;&#x43E;&#x447;&#x438;&#x442;&#x430;&#x43B; <a href=""https://kotlinlang.org/docs/reference/"">&#x43E;&#x43F;&#x438;&#x441;&#x430;&#x43D;&#x438;&#x435; &#x44F;&#x437;&#x44B;&#x43A;&#x430;</a>, &#x43F;&#x43E;&#x441;&#x43C;&#x43E;&#x442;&#x440;&#x435;&#x43B; <a href=""https://github.com/JetBrains/kotlin-examples"">&#x43F;&#x440;&#x438;&#x43C;&#x435;&#x440;&#x44B;</a>, &#x43F;&#x43E;&#x43F;&#x440;&#x43E;&#x431;&#x43E;&#x432;&#x430;&#x43B; &#x43F;&#x438;&#x441;&#x430;&#x442;&#x44C; &#x43A;&#x43E;&#x434;. &#x415;&#x441;&#x442;&#x44C; <a href=""https://kotlinlang.org/docs/reference/using-ant.html"">&#x43F;&#x43E;&#x434;&#x434;&#x435;&#x440;&#x436;&#x43A;&#x430; Ant</a> (&#x443;&#x436;&#x435; &#x430;&#x43D;&#x430;&#x445;&#x440;&#x43E;&#x43D;&#x438;&#x437;&#x43C;), <a href=""https://kotlinlang.org/docs/reference/using-maven.html"">Maven</a> &#x438; <a href=""https://kotlinlang.org/docs/reference/using-gradle.html"">Gradle</a>. &#x41F;&#x43E;&#x43B;&#x44C;&#x437;&#x43E;&#x432;&#x430;&#x442;&#x44C;&#x441;&#x44F; &#x44F;&#x437;&#x44B;&#x43A;&#x43E;&#x43C; &#x434;&#x43E;&#x441;&#x442;&#x430;&#x442;&#x43E;&#x447;&#x43D;&#x43E; &#x43F;&#x440;&#x438;&#x44F;&#x442;&#x43D;&#x43E;. &#x418;&#x43D;&#x442;&#x435;&#x433;&#x440;&#x430;&#x446;&#x438;&#x44F; &#x441; <em>IntelliJ IDEA</em>, &#x435;&#x441;&#x442;&#x435;&#x441;&#x442;&#x432;&#x435;&#x43D;&#x43D;&#x43E;, &#x435;&#x441;&#x442;&#x44C; &#x438; &#x432;&#x435;&#x441;&#x44C;&#x43C;&#x430; &#x445;&#x43E;&#x440;&#x43E;&#x448;&#x430;&#x44F;.</p> <p>&#x423;&#x441;&#x43F;&#x435;&#x43B; &#x43F;&#x43E;&#x441;&#x43B;&#x443;&#x448;&#x430;&#x442;&#x44C; &#x442;&#x440;&#x438; &#x432;&#x44B;&#x43F;&#x443;&#x441;&#x43A;&#x430; &#x43F;&#x43E;&#x434;&#x43A;&#x430;&#x441;&#x442;&#x43E;&#x432;, &#x432; &#x43A;&#x43E;&#x442;&#x43E;&#x440;&#x44B;&#x445; &#x43E;&#x442;&#x43C;&#x435;&#x442;&#x438;&#x43B;&#x438;&#x441;&#x44C; &#x434;&#x43E;&#x43A;&#x43B;&#x430;&#x434;&#x447;&#x438;&#x43A;&#x438;, &#x43F;&#x440;&#x435;&#x434;&#x441;&#x442;&#x430;&#x432;&#x43B;&#x44F;&#x44F; &#x432;&#x435;&#x440;&#x441;&#x438;&#x44E; 1.0 &#x44F;&#x437;&#x44B;&#x43A;&#x430; <em>Kotlin</em>:</p> <ul> <li><a href=""http://razbor-poletov.com/2016/02/episode-102.html"">&#x420;&#x430;&#x437;&#x431;&#x43E;&#x440; &#x43F;&#x43E;&#x43B;&#x451;&#x442;&#x43E;&#x432;, &#x432;&#x44B;&#x43F;&#x443;&#x441;&#x43A; 102</a> (&#x414;&#x43C;&#x438;&#x442;&#x440;&#x438;&#x439; &#x416;&#x435;&#x43C;&#x435;&#x440;&#x43E;&#x432;)</li> <li><a href=""https://radio-t.com/p/2016/02/20/podcast-484/"">&#x420;&#x430;&#x434;&#x438;&#x43E;-&#x422;, &#x432;&#x44B;&#x43F;&#x443;&#x441;&#x43A; 484</a> (&#x414;&#x43C;&#x438;&#x442;&#x440;&#x438;&#x439; &#x416;&#x435;&#x43C;&#x435;&#x440;&#x43E;&#x432;)</li> <li><a href=""https://sdcast.ksdaemon.ru/2016/03/sdcast-41/"">SDCast, &#x432;&#x44B;&#x43F;&#x443;&#x441;&#x43A; 41</a> (&#x410;&#x43D;&#x434;&#x440;&#x435;&#x439; &#x411;&#x440;&#x435;&#x441;&#x43B;&#x430;&#x432;)</li> </ul> <p>&#x412;&#x438;&#x434;&#x435;&#x43E; &#x43F;&#x438;&#x442;&#x435;&#x440;&#x441;&#x43A;&#x43E;&#x433;&#x43E; &#x432;&#x44B;&#x441;&#x442;&#x443;&#x43F;&#x43B;&#x435;&#x43D;&#x438;&#x44F; &#x43D;&#x430; <em>JUG.ru</em> &#x440;&#x430;&#x43D;&#x435;&#x435; &#x43F;&#x43E;&#x441;&#x43C;&#x43E;&#x442;&#x440;&#x435;&#x442;&#x44C; &#x442;&#x43E;&#x436;&#x435; &#x443;&#x441;&#x43F;&#x435;&#x43B;. &#x412; &#x437;&#x43D;&#x430;&#x447;&#x438;&#x442;&#x435;&#x43B;&#x44C;&#x43D;&#x43E;&#x439; &#x441;&#x442;&#x435;&#x43F;&#x435;&#x43D;&#x438; &#x441;&#x43E;&#x434;&#x435;&#x440;&#x436;&#x430;&#x43D;&#x438;&#x435; &#x441;&#x43E;&#x432;&#x43F;&#x430;&#x434;&#x430;&#x43B;&#x43E;, &#x43D;&#x43E; &#x431;&#x44B;&#x43B;&#x438; &#x438; &#x43E;&#x442;&#x43B;&#x438;&#x447;&#x438;&#x44F;. &#x41F;&#x43E;&#x441;&#x43B;&#x435;&#x434;&#x43D;&#x44F;&#x44F; &#x447;&#x430;&#x441;&#x442;&#x44C; (&#x432;&#x43E;&#x43F;&#x440;&#x43E;&#x441;&#x43E;&#x432; &#x438; &#x43E;&#x442;&#x432;&#x435;&#x442;&#x43E;&#x432;), &#x43A;&#x43E;&#x43D;&#x435;&#x447;&#x43D;&#x43E; &#x436;&#x435;, &#x43F;&#x43E;&#x43B;&#x43D;&#x43E;&#x441;&#x442;&#x44C;&#x44E; &#x43E;&#x442;&#x43B;&#x438;&#x447;&#x430;&#x43B;&#x430;&#x441;&#x44C;.</p> <p><img src=""https://habrastorage.org/files/ebc/899/747/ebc8997475c04c1c82bf59daf46f7d21.jpg"" alt=""""></p> <p>&#x41A;&#x430;&#x43A; &#x438; &#x432; &#x41F;&#x438;&#x442;&#x435;&#x440;&#x435;, &#x432;&#x44B;&#x441;&#x442;&#x443;&#x43F;&#x43B;&#x435;&#x43D;&#x438;&#x435; &#x441;&#x43E;&#x441;&#x442;&#x43E;&#x44F;&#x43B;&#x43E; &#x438;&#x437; &#x447;&#x435;&#x442;&#x44B;&#x440;&#x451;&#x445; &#x447;&#x430;&#x441;&#x442;&#x435;&#x439;:</p> <ul> <li>&#x432;&#x432;&#x43E;&#x434;&#x43D;&#x430;&#x44F; &#x447;&#x430;&#x441;&#x442;&#x44C; &#x441; &#x440;&#x430;&#x441;&#x441;&#x43A;&#x430;&#x437;&#x43E;&#x43C; &#x43E; &#x44F;&#x437;&#x44B;&#x43A;&#x435; (&#x410;&#x43D;&#x434;&#x440;&#x435;&#x439; &#x411;&#x440;&#x435;&#x441;&#x43B;&#x430;&#x432;);</li> <li>&#x43F;&#x43B;&#x430;&#x43D;&#x44B; &#x440;&#x430;&#x437;&#x432;&#x438;&#x442;&#x438;&#x44F; &#x43F;&#x43E;&#x441;&#x43B;&#x435; &#x432;&#x435;&#x440;&#x441;&#x438;&#x438; 1.0 (&#x414;&#x43C;&#x438;&#x442;&#x440;&#x438;&#x439; &#x416;&#x435;&#x43C;&#x435;&#x440;&#x43E;&#x432;);</li> <li>&#x432;&#x43E;&#x43F;&#x440;&#x43E;&#x441;&#x44B; &#x441;&#x43E;&#x432;&#x43C;&#x435;&#x441;&#x442;&#x438;&#x43C;&#x43E;&#x441;&#x442;&#x438; (&#x410;&#x43D;&#x434;&#x440;&#x435;&#x439; &#x411;&#x440;&#x435;&#x441;&#x43B;&#x430;&#x432;);</li> <li>&#x441;&#x435;&#x441;&#x441;&#x438;&#x44F; &#x432;&#x43E;&#x43F;&#x440;&#x43E;&#x441;&#x43E;&#x432; &#x438; &#x43E;&#x442;&#x432;&#x435;&#x442;&#x43E;&#x432;.</li> </ul> <p>&#x412; &#x43F;&#x435;&#x440;&#x435;&#x440;&#x44B;&#x432;&#x435; &#x441;&#x43B;&#x443;&#x448;&#x430;&#x442;&#x435;&#x43B;&#x438; &#x43C;&#x43E;&#x433;&#x43B;&#x438; &#x43F;&#x43E;&#x43E;&#x431;&#x449;&#x430;&#x442;&#x44C;&#x441;&#x44F; &#x441; &#x434;&#x43E;&#x43A;&#x43B;&#x430;&#x434;&#x447;&#x438;&#x43A;&#x430;&#x43C;&#x438;.</p> <p><img src=""https://habrastorage.org/files/e0d/ffc/356/e0dffc35632a4c43aade34c9f3efa386.jpg"" alt=""""></p> <p>&#x41F;&#x440;&#x435;&#x434;&#x43F;&#x43E;&#x43B;&#x430;&#x433;&#x430;&#x44E;, &#x447;&#x442;&#x43E; &#x43D;&#x430;&#x438;&#x431;&#x43E;&#x43B;&#x435;&#x435; &#x438;&#x43D;&#x442;&#x435;&#x440;&#x435;&#x441;&#x43D;&#x43E;&#x439; &#x447;&#x430;&#x441;&#x442;&#x44C;&#x44E; &#x438; &#x434;&#x43B;&#x44F; &#x410;&#x43D;&#x434;&#x440;&#x435;&#x44F; &#x441; &#x414;&#x43C;&#x438;&#x442;&#x440;&#x438;&#x435;&#x43C; &#x431;&#x44B;&#x43B;&#x430; &#x441;&#x435;&#x441;&#x441;&#x438;&#x44F; &#x432;&#x43E;&#x43F;&#x440;&#x43E;&#x441;&#x43E;&#x432; &#x438; &#x43E;&#x442;&#x432;&#x435;&#x442;&#x43E;&#x432;. &#x41D;&#x430;&#x434;&#x435;&#x44E;&#x441;&#x44C;, &#x447;&#x442;&#x43E; &#x434;&#x43B;&#x44F; &#x434;&#x43E;&#x43A;&#x43B;&#x430;&#x434;&#x447;&#x438;&#x43A;&#x43E;&#x432; &#x442;&#x43E;&#x436;&#x435; &#x431;&#x44B;&#x43B; &#x43D;&#x435;&#x43A;&#x438;&#x439; &#x44D;&#x43B;&#x435;&#x43C;&#x435;&#x43D;&#x442; &#x43D;&#x435;&#x43E;&#x436;&#x438;&#x434;&#x430;&#x43D;&#x43D;&#x43E;&#x441;&#x442;&#x438;, &#x442;.&#x43A;. &#x438;&#x43D;&#x442;&#x435;&#x440;&#x435;&#x441;&#x43D;&#x44B;&#x435; &#x432;&#x43E;&#x43F;&#x440;&#x43E;&#x441;&#x44B; &#x431;&#x44B;&#x43B;&#x438;. &#x423;&#x434;&#x438;&#x432;&#x438;&#x43B;&#x43E;, &#x447;&#x442;&#x43E; &#x443;&#x436;&#x435; &#x435;&#x441;&#x442;&#x44C; &#x43B;&#x44E;&#x434;&#x438; (&#x43A;&#x440;&#x43E;&#x43C;&#x435; <em>JetBrains</em>), &#x430;&#x43A;&#x442;&#x438;&#x432;&#x43D;&#x43E; &#x438;&#x441;&#x43F;&#x43E;&#x43B;&#x44C;&#x437;&#x443;&#x44E;&#x449;&#x438;&#x435; &#x44F;&#x437;&#x44B;&#x43A; &#x432; &#x43F;&#x440;&#x43E;&#x43C;&#x44B;&#x448;&#x43B;&#x435;&#x43D;&#x43D;&#x43E;&#x439; &#x44D;&#x43A;&#x441;&#x43F;&#x43B;&#x443;&#x430;&#x442;&#x430;&#x446;&#x438;&#x438;.</p> <p>&#x41E;&#x447;&#x435;&#x43D;&#x44C; &#x445;&#x43E;&#x440;&#x43E;&#x448;&#x43E;, &#x447;&#x442;&#x43E; &#x437;&#x430;&#x434;&#x430;&#x44E;&#x449;&#x438;&#x43C; &#x432;&#x43E;&#x43F;&#x440;&#x43E;&#x441;&#x44B; &#x434;&#x430;&#x432;&#x430;&#x43B;&#x441;&#x44F; &#x43C;&#x438;&#x43A;&#x440;&#x43E;&#x444;&#x43E;&#x43D; &mdash; &#x431;&#x44B;&#x43B;&#x43E; &#x441;&#x43B;&#x44B;&#x448;&#x43D;&#x43E;, &#x447;&#x442;&#x43E; &#x441;&#x43F;&#x440;&#x430;&#x448;&#x438;&#x432;&#x430;&#x44E;&#x442;. &#x417;&#x430;&#x43F;&#x438;&#x441;&#x430;&#x43D;&#x43D;&#x43E;&#x435; &#x432;&#x438;&#x434;&#x435;&#x43E; &#x43C;&#x43E;&#x436;&#x43D;&#x43E; &#x431;&#x443;&#x434;&#x435;&#x442; &#x43A;&#x43E;&#x43C;&#x444;&#x43E;&#x440;&#x442;&#x43D;&#x43E; &#x441;&#x43B;&#x443;&#x448;&#x430;&#x442;&#x44C;, &#x43D;&#x435; &#x43D;&#x430;&#x43F;&#x440;&#x44F;&#x433;&#x430;&#x44F;&#x441;&#x44C; &#x43F;&#x440;&#x438; &#x43F;&#x43E;&#x43F;&#x44B;&#x442;&#x43A;&#x435; &#x440;&#x430;&#x441;&#x441;&#x43B;&#x44B;&#x448;&#x430;&#x442;&#x44C; &#x432;&#x43E;&#x43F;&#x440;&#x43E;&#x441;&#x44B;.</p> <p><img src=""https://habrastorage.org/files/342/253/3f8/3422533f8cc548c8a83e2f03eff97409.jpg"" alt=""""></p> <p>&#x421;&#x43F;&#x430;&#x441;&#x438;&#x431;&#x43E; &#x410;&#x43D;&#x434;&#x440;&#x435;&#x44E; &#x411;&#x440;&#x435;&#x441;&#x43B;&#x430;&#x432;&#x443; &#x438; &#x414;&#x43C;&#x438;&#x442;&#x440;&#x438;&#x44E; &#x416;&#x435;&#x43C;&#x435;&#x440;&#x43E;&#x432;&#x443; &#x437;&#x430; &#x438;&#x43D;&#x442;&#x435;&#x440;&#x435;&#x441;&#x43D;&#x44B;&#x439; &#x434;&#x43E;&#x43A;&#x43B;&#x430;&#x434;, &#x410;&#x43D;&#x434;&#x440;&#x435;&#x44E; &#x41A;&#x43E;&#x433;&#x443;&#x43D;&#x44E; (<em>jug.msk.ru</em>, <em>&#x41A;&#x420;&#x41E;&#x41A;</em>) &#x438; &#x420;&#x43E;&#x43C;&#x430;&#x43D;&#x443; &#x411;&#x435;&#x43B;&#x43E;&#x432;&#x443; (<em>JetBrains</em>) &mdash; &#x437;&#x430; &#x43E;&#x440;&#x433;&#x430;&#x43D;&#x438;&#x437;&#x430;&#x446;&#x438;&#x44E; &#x43C;&#x435;&#x440;&#x43E;&#x43F;&#x440;&#x438;&#x44F;&#x442;&#x438;&#x44F;.</p> <p>&#x421;&#x441;&#x44B;&#x43B;&#x43A;&#x438; &#x43F;&#x43E; &#x442;&#x435;&#x43C;&#x435; &#x434;&#x43E;&#x43A;&#x43B;&#x430;&#x434;&#x430; &mdash; &#x44F;&#x437;&#x44B;&#x43A;&#x443; <em>Kotlin</em>:</p> <ul> <li><a href=""https://kotlinlang.org"">&#x43E;&#x441;&#x43D;&#x43E;&#x432;&#x43D;&#x43E;&#x439; &#x441;&#x430;&#x439;&#x442;</a>;</li> <li><a href=""http://try.kotlinlang.org"">Try Online</a>;</li> <li><a href=""https://kotlinlang.org/docs/reference/"">&#x43E;&#x43F;&#x438;&#x441;&#x430;&#x43D;&#x438;&#x435; &#x44F;&#x437;&#x44B;&#x43A;&#x430;</a>;</li> <li>&#x43A;&#x43D;&#x438;&#x433;&#x438; <a href=""https://www.manning.com/books/kotlin-in-action"">Kotlin in Action</a> &#x438; <a href=""https://leanpub.com/kotlin-for-android-developers"">Kotlin for Android Developers</a>;</li> <li><a href=""https://kotlinlang.org/docs/tutorials/koans.html"">Kotlin Koans</a>;</li> <li><a href=""http://blog.jetbrains.com/kotlin/2016/03/kotlin-educational-plugin/"">Kotlin Educational Plugin</a> (&#x432;&#x44B;&#x43F;&#x443;&#x449;&#x435;&#x43D; &#x432; &#x434;&#x435;&#x43D;&#x44C; &#x432;&#x441;&#x442;&#x440;&#x435;&#x447;&#x438;, 17 &#x43C;&#x430;&#x440;&#x442;&#x430;).</li> </ul> <p>&#x424;&#x43E;&#x442;&#x43E; &#x438; &#x432;&#x438;&#x434;&#x435;&#x43E; &#x431;&#x443;&#x434;&#x443;&#x442; &#x434;&#x43E;&#x441;&#x442;&#x443;&#x43F;&#x43D;&#x44B; <a href=""http://vk.com/jugmsk"">&#x437;&#x434;&#x435;&#x441;&#x44C;</a> &#x438; <a href=""https://plus.google.com/communities/115981831554057619568"">&#x437;&#x434;&#x435;&#x441;&#x44C;</a>. &#x41D;&#x430; &#x440;&#x430;&#x441;&#x441;&#x44B;&#x43B;&#x43A;&#x443; &#x43E; &#x441;&#x43B;&#x435;&#x434;&#x443;&#x44E;&#x449;&#x438;&#x445; &#x432;&#x441;&#x442;&#x440;&#x435;&#x447;&#x430;&#x445; <em>jug.msk.ru</em> &#x43F;&#x43E;&#x434;&#x43F;&#x438;&#x441;&#x430;&#x442;&#x44C;&#x441;&#x44F; &#x43C;&#x43E;&#x436;&#x43D;&#x43E; <a href=""http://jug.msk.ru"">&#x437;&#x434;&#x435;&#x441;&#x44C;</a>.</p> https://habrahabr.ru/post/279667/https://habrahabr.ru/post/279667/KotlinДмитрий БелобородовTue, 22 Mar 2016 00:37:00 GMT A Geospatial Messenger with Kotlin, Spring Boot and PostgreSQL<p>Following my first <a href=""https://spring.io/blog/2016/02/15/developing-spring-boot-applications-with-kotlin"">Kotlin blog post</a>, today I want introduce the new Spring Boot + Kotlin application I have developed for my upcoming <a href=""http://www.springio.net/"">Spring I/O 2016 conference</a> talk &ldquo;Developing Geospatial Web Services with Kotlin and Spring Boot&rdquo;.</p> <h1>Dealing with native database functionalities</h1> <p>One of the goal of this application is to see how to take advantage of native database functionalities like we do in NoSQL world. Here we want to use Geospatial support provided by <a href=""http://postgis.net/"">PostGIS</a>, the spatial database extender for <a href=""http://postgresql.org/"">PostgreSQL</a>. <a href=""https://www.compose.io/articles/is-postgresql-your-next-json-database/"">Native JSON support</a> could also be a good use case.</p> <p>This Geospatial Messenger sample application is <a href=""https://github.com/sdeleuze/geospatial-messenger"">available on GitHub</a> in 2 flavors:</p> <ul> <li>The <code>master</code> branch uses <a href=""https://github.com/JetBrains/Exposed"">Exposed</a>, a Kotlin SQL library with a typesafe API created by JetBrains. It could be compared to <a href=""https://github.com/querydsl/querydsl/tree/master/querydsl-sql"">Query DSL SQL</a> or <a href=""http://www.jooq.org/"">jOOQ</a> but provides an idiomatic Kotlin API and does not require code generation.</li> <li>The <a href=""https://github.com/sdeleuze/geospatial-messenger/tree/spring-data-jdbc-repository""><code>spring-data-jdbc-repository</code></a> branch is using <code>spring-data-jdbc-repository</code>, a community project that allows to use Spring Data <a href=""https://docs.spring.io/spring-data/data-commons/docs/current/api/org/springframework/data/repository/PagingAndSortingRepository.html""><code>PagingAndSortingRepository</code></a> API with raw SQL queries without JPA. I am using <a href=""https://github.com/jirutka/spring-data-jdbc-repository/"">this Jakub Jirutka fork</a> which is an improved version of <a href=""https://github.com/nurkiewicz/spring-data-jdbc-repository"">Tomasz Nurkiewicz original project</a>.</li> </ul> <p>A <a href=""https://github.com/sebastianperruolo/spring-gis"">Spring Data JPA + Hibernate Spatial variant</a> would be interesting, so feel free to contribute it with a pull request ;-) Kotlin Query DSL support would be also nice but this is currently not supported (please comment on <a href=""https://github.com/querydsl/querydsl/issues/1828"">this issue</a> if you are interested). In this blog post I will focus on the <a href=""https://github.com/JetBrains/Exposed"">Exposed</a> variant.</p> <h1>A tour of Geospatial Messenger code</h1> <p>Our domain model is described easily thanks to these 2 <a href=""https://kotlinlang.org/docs/reference/data-classes.html"">Kotlin data classes</a>:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">data</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Message</span></span>( <span class=""hljs-keyword"">var</span> content : String, <span class=""hljs-keyword"">var</span> author : String, <span class=""hljs-keyword"">var</span> location : Point? = <span class=""hljs-literal"">null</span>, <span class=""hljs-keyword"">var</span> id : <span class=""hljs-built_in"">Int</span>? = <span class=""hljs-literal"">null</span> ) <span class=""hljs-keyword"">data</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">User</span></span>( <span class=""hljs-keyword"">var</span> userName : String, <span class=""hljs-keyword"">var</span> firstName : String, <span class=""hljs-keyword"">var</span> lastName : String, <span class=""hljs-keyword"">var</span> location : Point? = <span class=""hljs-literal"">null</span> )</code></pre> <p>Exposed allows us to describe the structure of our tables with a type-safe SQL API quite handy to use (autocomplete, refactoring and error prone):</p> <pre><code class=""hljs language-kotlin""> <span class=""hljs-keyword"">object</span> Messages : Table() { <span class=""hljs-keyword"">val</span> id = integer(<span class=""hljs-string"">""id""</span>).autoIncrement().primaryKey() <span class=""hljs-keyword"">val</span> content = text(<span class=""hljs-string"">""content""</span>) <span class=""hljs-keyword"">val</span> author = reference(<span class=""hljs-string"">""author""</span>, Users.userName) <span class=""hljs-keyword"">val</span> location = point(<span class=""hljs-string"">""location""</span>).nullable() } <span class=""hljs-keyword"">object</span> Users : Table() { <span class=""hljs-keyword"">val</span> userName = text(<span class=""hljs-string"">""user_name""</span>).primaryKey() <span class=""hljs-keyword"">val</span> firstName = text(<span class=""hljs-string"">""first_name""</span>) <span class=""hljs-keyword"">val</span> lastName = text(<span class=""hljs-string"">""last_name""</span>) <span class=""hljs-keyword"">val</span> location = point(<span class=""hljs-string"">""location""</span>).nullable() }</code></pre> <p>It is interesting to notice that Exposed does not support natively PostGIS functionalities like geometry types or geospatial requests. That&rsquo;s where <a href=""https://kotlinlang.org/docs/reference/extensions.html"">Kotlin extensions</a> shine, and allow with a few lines of code to add such support without requiring to use extended classes:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> Table.<span class=""hljs-title"">point</span><span class=""hljs-params"">(name: <span class=""hljs-type"">String</span>, srid: <span class=""hljs-type"">Int</span> = <span class=""hljs-number"">4326</span>)</span></span>: Column&lt;Point&gt; = registerColumn(name, PointColumnType()) <span class=""hljs-keyword"">infix</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> ExpressionWithColumnType<span class=""hljs-type"">&lt;*&gt;</span>.<span class=""hljs-title"">within</span><span class=""hljs-params"">(box: <span class=""hljs-type"">PGbox2d</span>)</span></span> : Op&lt;<span class=""hljs-built_in"">Boolean</span>&gt; = WithinOp(<span class=""hljs-keyword"">this</span>, box)</code></pre> <p>Our repository is also quite short and very flexible, since it allows you to write any kind of SQL request even with complex <code>WHERE</code> clause with a type-safe SQL API. Currently we need to use <code>db.transaction{ }</code> wrapper, I have created Exposed issue <a href=""https://github.com/JetBrains/Exposed/issues/25"">#25</a> to be able to use regular <a href=""http://docs.spring.io/autorepo/docs/spring/4.2.x/spring-framework-reference/html/transaction.html"">Spring transaction management</a> with <a href=""http://docs.spring.io/autorepo/docs/spring/4.2.x/spring-framework-reference/html/transaction.html#transaction-declarative-annotations""><code>@Transactional</code></a> annotation, feel free to add your +1 ;-)</p> <p>Please notice that since we are using Spring Framework 4.3, we <a href=""https://spring.io/blog/2016/03/04/core-container-refinements-in-spring-framework-4-3#implicit-constructor-injection-for-single-constructor-scenarios"">no longer need to specify an <code>@Autowired</code> annotation in such single-constructor class</a>.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-meta"">@Repository</span> <span class=""hljs-keyword"">open</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">UserRepository</span></span>(<span class=""hljs-keyword"">val</span> db: Database) { <span class=""hljs-keyword"">open</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">createTable</span><span class=""hljs-params"">()</span></span> = db.transaction { create(Users) } <span class=""hljs-keyword"">open</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">create</span><span class=""hljs-params"">(user: <span class=""hljs-type"">User</span>)</span></span> = db.transaction { Users.insert( toRow(user) ) } <span class=""hljs-keyword"">open</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">updateLocation</span><span class=""hljs-params"">(u:<span class=""hljs-type"">String</span>, l: <span class=""hljs-type"">Point</span>)</span></span> = db.transaction { location.srid = <span class=""hljs-number"">4326</span> Users.update({Users.userName eq u}) { it[Users.location] = l} } <span class=""hljs-keyword"">open</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">findAll</span><span class=""hljs-params"">()</span></span> = db.transaction { Users.selectAll().map { fromRow(it) } } <span class=""hljs-keyword"">open</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">findByBoundingBox</span><span class=""hljs-params"">(box: <span class=""hljs-type"">PGbox2d</span>)</span></span> = db.transaction { Users.select { Users.location within box }.map { fromRow(it) } } <span class=""hljs-keyword"">open</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">deleteAll</span><span class=""hljs-params"">()</span></span> = db.transaction { Users.deleteAll() } <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">toRow</span><span class=""hljs-params"">(u: <span class=""hljs-type"">User</span>)</span></span>: Users.(UpdateBuilder&lt;*&gt;) -&gt; <span class=""hljs-built_in"">Unit</span> = { it[userName] = u.userName it[firstName] = u.firstName it[lastName] = u.lastName it[location] = u.location } <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">fromRow</span><span class=""hljs-params"">(r: <span class=""hljs-type"">ResultRow</span>)</span></span> = User(r[Users.userName], r[Users.firstName], r[Users.lastName], r[Users.location]) }</code></pre> <p>Controllers are also very concise and use Spring Framework 4.3 upcoming <code>@GetMapping</code> / <code>@PostMapping</code> annotations which are just method-specific shortcuts for <code>@RequestMapping</code> annotations:</p> <pre><code class=""hljs language-kotlin""> <span class=""hljs-meta"">@RestController</span> <span class=""hljs-meta"">@RequestMapping(<span class=""hljs-meta-string"">""/user""</span>)</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">UserController</span></span>(<span class=""hljs-keyword"">val</span> repo: UserRepository) { <span class=""hljs-meta"">@PostMapping</span> <span class=""hljs-meta"">@ResponseStatus(CREATED)</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">create</span><span class=""hljs-params"">(<span class=""hljs-meta"">@RequestBody</span> u: <span class=""hljs-type"">User</span>)</span></span> { repo.create(u) } <span class=""hljs-meta"">@GetMapping</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">list</span><span class=""hljs-params"">()</span></span> = repo.findAll() <span class=""hljs-meta"">@GetMapping(<span class=""hljs-meta-string"">""/bbox/{xMin},{yMin},{xMax},{yMax}""</span>)</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">findByBoundingBox</span><span class=""hljs-params"">(<span class=""hljs-meta"">@PathVariable</span> xMin:<span class=""hljs-type"">Double</span>, <span class=""hljs-meta"">@PathVariable</span> yMin:<span class=""hljs-type"">Double</span>, <span class=""hljs-meta"">@PathVariable</span> xMax:<span class=""hljs-type"">Double</span>, <span class=""hljs-meta"">@PathVariable</span> yMax:<span class=""hljs-type"">Double</span>)</span></span> = repo.findByBoundingBox( PGbox2d(Point(xMin, yMin), Point(xMax, yMax))) <span class=""hljs-meta"">@PutMapping(<span class=""hljs-meta-string"">""/{userName}/location/{x},{y}""</span>)</span> <span class=""hljs-meta"">@ResponseStatus(NO_CONTENT)</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">updateLocation</span><span class=""hljs-params"">(<span class=""hljs-meta"">@PathVariable</span> userName:<span class=""hljs-type"">String</span>, <span class=""hljs-meta"">@PathVariable</span> x: <span class=""hljs-type"">Double</span>, <span class=""hljs-meta"">@PathVariable</span> y: <span class=""hljs-type"">Double</span>)</span></span> = repo.updateLocation(userName, Point(x, y)) }</code></pre> <p>The client side is a pure HTML + Javascript application developed with <a href=""http://openlayers.org/"">OpenLayers</a> mapping library (see <a href=""https://github.com/sdeleuze/geospatial-messenger/blob/master/src/main/resources/static/index.html"">index.html</a> and <a href=""https://github.com/sdeleuze/geospatial-messenger/blob/master/src/main/resources/static/map.js"">map.js</a> for more details) that geolocalizes you and creates geolocalized messages sent/received to/from other users thanks to Server-Sent Events.</p> <p><img src=""https://raw.githubusercontent.com/sdeleuze/geospatial-messenger/master/screenshot.png"" alt=""Screenshot""></p> <p>And last but not least, the REST API is fully tested and documented thanks to the awesome <a href=""http://projects.spring.io/spring-restdocs/"">Spring REST docs</a> project, see <a href=""https://github.com/sdeleuze/geospatial-messenger/blob/master/src/test/kotlin/io/spring/messenger/MessageControllerTests.kt"">MessageControllerTests</a> and <a href=""https://github.com/sdeleuze/geospatial-messenger/blob/master/src/main/resources/static/index.html"">index.adoc</a> for more details.</p> <h1>Conclusion</h1> <p>The main impression I had developing this application is that it was fun, efficient, with a high level of flexibility and safety provided by the SQL API and Kotlin type system and <a href=""https://kotlinlang.org/docs/reference/null-safety.html"">null safety</a>. The resulting Spring Boot application is a 18 MBytes self-contained executable jar with low memory consumption (the app can run with <code>-Xmx32m</code>!!!). Using Spring REST docs was also a pleasure, demonstrating again Kotlin nice Java interoperability.</p> <p>The few pain points I have encountered (<a href=""https://youtrack.jetbrains.com/issue/KT-11235"">array annotation attributes</a>, <a href=""https://youtrack.jetbrains.com/issue/KT-5175"">Java 8 Stream support</a>, <a href=""https://youtrack.jetbrains.com/issue/KT-6947"">full callable reference support</a>), are planned to be fixed in Kotlin 1.1. Exposed library is still young and need to mature, but from my point of view it is promising and shows how Kotlin could be used for building type-safe DSL API (<a href=""https://kotlinlang.org/docs/reference/type-safe-builders.html"">this HTML type-safe builder</a> is also a good example).</p> <p>And keep in mind that officially supported <a href=""http://projects.spring.io/spring-data/"">Spring Data projects</a> works well with Kotlin as shown in the <a href=""https://github.com/sdeleuze/spring-boot-kotlin-demo"">spring-boot-kotlin-demo</a> project in my <a href=""https://spring.io/blog/2016/02/15/developing-spring-boot-applications-with-kotlin"">previous blog post</a>.</p> <p>If you happen to be in Barcelona mid May (never a bad time to be in Barcelona anyway!), don&rsquo;t miss the chance to join the <a href=""http://www.springio.net/"">Spring I/O conference</a>. Also, the registration for <a href=""http://springoneplatform.io/"">SpringOne Platform</a> (early August, Las Vegas) has opened recently, in case you want to benefit from early bird ticket pricing. The latter is also still open for talk proposals. So if you&rsquo;re interested to give a talk about Spring or Pivotal-related technologies, feel free to submit!</p> https://spring.io/blog/2016/03/20/a-geospatial-messenger-with-kotlin-spring-boot-and-postgresqlhttps://spring.io/blog/2016/03/20/a-geospatial-messenger-with-kotlin-spring-boot-and-postgresqlKotlinSpringSébastien DeleuzeSun, 20 Mar 2016 10:51:00 GMT Algebraic Data Types In Kotlin<p>Lately I have been doing a good amount of reading on functional programming, specifically <a href=""http://haskellbook.com/"">Haskell</a> and <a href=""http://elm-lang.org/"">Elm</a>. As part of this reading, I&#x27;ve been exposed to the wonderful world of type systems more advanced than the ones that I am used to, i.e. the Java type system. Exposure to <a href=""https://en.wikipedia.org/wiki/Algebraic_data_type"">algebraic data types (ADTs)</a> is one of the things that I&#x27;ve enjoyed about these readings. In the rest of this article, I will demonstrate how ADTs can be used in the Kotlin type system to assure that you&#x27;ve handled all of the possible outcomes from a business use case. For those already familiar with the <a href=""https://hackage.haskell.org/package/base-4.8.2.0/docs/Data-Either.html""><code>Either</code> type</a> much of this will be old news to you.</p> <p>Algebraic data types allow me to create a closed set of possible options for a specific type in my domain.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">sealed</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">CreateSubscriptionResult</span> </span>{ <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Success</span></span>(<span class=""hljs-keyword"">val</span> subscription: Subscription): CreateSubscriptionResult() <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Failure</span></span>(<span class=""hljs-keyword"">val</span> errors: List&lt;String&gt;): CreateSubscriptionResult() }</code></pre> <p>In this case I am using the <a href=""https://kotlinlang.org/docs/reference/classes.html#sealed-classes""><code>sealed</code> keyword</a> to tell the type system that there will not be any more possible outcomes for a <code>CreateSubscriptionResult</code>. Now I can use the <code>when</code> keyword to force the consumer of the <code>CreateSubscriptionResult</code> to make sure it handles all of the possible outcomes.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">return</span> <span class=""hljs-keyword"">when</span> (result) { <span class=""hljs-keyword"">is</span> CreateSubscriptionResult.Success -&gt; <span class=""hljs-comment"">// Do something on success</span> <span class=""hljs-keyword"">is</span> CreateSubscriptionResult.Failure -&gt; <span class=""hljs-comment"">// Do something on failure</span> }</code></pre> <p>Were I to omit one of the possible outcomes,</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">return</span> <span class=""hljs-keyword"">when</span> (result) { <span class=""hljs-keyword"">is</span> CreateSubscriptionResult.Success -&gt; <span class=""hljs-comment"">// Do something on success</span> }</code></pre> <p>then the Kotlin compiler will tell me that I&#x27;ve forgotten something.</p> <pre><code>when expression must be exhaustive, add necessary &#x27;is Failure&#x27; branch or &#x27;else&#x27; branch instead </code></pre> <p>Well isn&#x27;t that nice. I now can use the type system to remind myself, and my fellow developers, that something is missing and keep those types of bugs from cropping up in my software without a lot of boilerplate code. If another outcome is added at some point, the compiler will tell me that and I can then figure out how to handle it.</p> <p>By using the type system to do this, I enable a faster feedback loop than had I written a test for it. Yes I may still need a test for the logic inside of each branch but I would postulate that if I keep it simple enough (like a difference in response code) that a test may be overkill because of the type system assurance. I&#x27;ll leave that decision up to you.</p> <p>One place I have been experimenting with this type of pattern is in my <a href=""https://github.com/mikegehard/user-management-evolution-kotlin/blob/master/applications/ums/src/main/kotlin/com/example/ums/subscriptions/SubscriptionsController.kt#L36-L47"">Spring controllers</a>. I like how it makes the code that handles the outcomes easy to read and understand. Another benefit is that I now have an explicit contract between the use case and the consumer that outlines all of the possible outcomes for the use case. When I combine this contract with the <code>when</code> keyword, the compiler will enforce that the client either handles each outcome or decides to explicitly punt on some by using the <code>else</code> keyword.</p> <p>Have some feedback? I&#x27;d love to hear it. Reach out to me on Twitter @mikegehard and we can have a conversation about it.</p> http://engineering.pivotal.io/post/algebraic-data-types-in-kotlin/http://engineering.pivotal.io/post/algebraic-data-types-in-kotlin/KotlinFunctional ProgrammingMike GehardSat, 19 Mar 2016 12:15:00 GMT Kotlin Month Post 4: Properties<h2><strong>Intro</strong></h2> <p>In this, the fourth and final post in the Kotlin Month series, we take a look at a widely overarching feature of Kotlin that is tightly coupled with a few other features: Properties. Besides the obvious benefits of properties that they provide in all languages, Kotlin has reusable properties via Delegated Properties as well as really clean syntax for distinguishing between read-only and full properties.</p> <h2><strong><code>var</code> and <code>val</code> and Type Inference</strong></h2> <p>Kotlin makes it very easy to create clean, expressive properties. <code>var</code> and <code>val</code> make it so we don&rsquo;t have to <em>remember</em> to mark our fields as <code>final</code>. Depending on circumstances, the type might be able to be omitted as well.</p> <h3><strong>More Concise Than Most Other Property Syntaxes</strong></h3> <p>Kotlin&rsquo;s properties are supremely concise in comparison to any other syntax that I&rsquo;ve seen. Here&rsquo;s why:</p> <ul> <li>In Kotlin, we never need to declare the backing fields for a property, although we can use a backing <em>property</em> for more complicated implementations when needed. If you ever need access to the backing field in the getter and setter methods, you simply refer to it as <code>field</code>.</li> <li>In Kotlin, unless we&rsquo;re actually defining an alternative implementation of <code>get</code> and <code>set</code>, we don&rsquo;t need to type them; <code>var</code> and <code>val</code> are used to determine whether it&rsquo;s read-only or read-write.</li> <li>If the property is being initialized directly from the primary constructor without checks or changes, it can simply be declared in the parameter list of the primary constructor. See the <a href=""https://kotlinlang.org/docs/reference/classes.html#constructors"">official documentation on Kotlin&rsquo;s constructors</a> for more information.</li> <li>As mentioned earlier, we don&rsquo;t even need to specify the type for the property if we&rsquo;re assigning a value to it right away (this only applies to properties declared in the body of the class, as opposed to those declared in the primary constructor).</li> <li><a href=""https://kotlinlang.org/docs/reference/delegated-properties.html"">Delegated properties</a>. If we end up using the same code for multiple properties&rsquo; getters and setters, we can extract that code into a delegated property, which is just a class that defines the <code>getValue(...)</code> operator function and, optionally, the <code>setValue(...)</code>] operator function. These work a lot like descriptors in Python, except there&rsquo;s one per instance, rather than one per class. To use them, we use our normal in-body property definition, followed by <code>by</code> and an instance of the delegated property class. Some built-in delegated property types in Kotlin include <code>lazy</code>, which allows us to lazily instantiate the value in the property; <code>observable</code>, which makes the property observable; and using <code>Map</code>s via some extension functions.</li> </ul> <h3><strong>The Not-So-Great Parts</strong></h3> <p>There are some not-so-great things about properties in Kotlin, though. The first of which is the fact that the class definition line can become unhelpfully long. This is because this one line contains <code>class</code>, the name of the class, any type parameters (generics), the primary constructor argument list, and any inheritance. Now, even when these are simple, the line can easily clear 80 characters if there are more than two properties in the constructor, especially if there&rsquo;s some inheritance. It&rsquo;s gets even longer if a visibility modifier needs to be applied to anything; to the class, to the constructor (which not only requires the visibility modifier, but also the <code>constructor</code> keyword to show that the modifier is applying to that), or to the properties &ndash; which are already longer than typical parameters because of the <code>val</code> or <code>var</code> keyword. Luckily, Kotlin has forgone the <code>extends</code> and <code>implements</code> keywords in favor of <code>:</code>. If we still used those keywords, those lines would be unbearably long.</p> <p>Breaking up the class definition line into multiple lines helps, but it&rsquo;s always a little awkward to have the inheritance stuff near the end. I&rsquo;d kind of like to have it right after the class name and type parameters if we want. Oh well.</p> <p>The other problem comes from the fact that there can potentially be two different places to define properties: in the primary constructor or in the class body. This can make it more difficult to find properties sometimes. I think a convention needs to be put out there that states that, if you have any (public?) properties that are defined in the class body, all properties should be defined there. It ends up with more typing (but still less than Java or C#, since you can set a property equal to a parameter in the primary constructor), but clarifies the code by having only one place to look for properties. None in the constructor? They must all be in the body, then. This also keeps private properties from lengthening the class definition line with the visibility modifier.</p> <h2><strong>Kotlin Month Summary</strong></h2> <p>We&rsquo;ve looked at a lot of my favorite features of Kotlin, but there&rsquo;s so much more to see, so if you&rsquo;re not familiar with Kotlin, check out their documentation. It&rsquo;s great, and is able to stay short by letting you assume that anything else they haven&rsquo;t explained is just like in Java. I&rsquo;ve read through the whole thing a couple times, actually; it&rsquo;s really well written;</p> <p>If there were only 4 things I could take from Kotlin and put into Java, they would be, in order of &ldquo;importance&rdquo;:</p> <ol> <li>Extension Methods</li> <li>First-Class Delegation</li> <li>Properties</li> <li>Simple Primary Constructor (It would probably be done a bit differently than in Kotlin, just to work better with Java&rsquo;s existing syntax and to hopefully avoid the really long class declaration line)</li> </ol> <h2><strong>Outro</strong></h2> <p>So, this is the end of this post as well as the Kotlin Month! series. But this definitely isn&rsquo;t the end of me praising Kotlin. In fact, I&rsquo;ve submitted an abstract to do a talk on Kotlin at <a href=""https://www.thatconference.com/"">That Conference</a>. It&rsquo;s a talk that does an introduction to Kotlin before (unless I decide to do it <em>while</em>) showing the steps involved in migrating Java code to Kotlin.</p> <p>For those too lazy to click the link, That Conference is a dev conference from August 8 &ndash; 10 in Wisconsin Dells (a bit south of central Wisconsin). At an indoor themepark/waterpark. How cool is that. I hope to meet some of you guys there!</p> https://programmingideaswithjake.wordpress.com/2016/03/19/kotlin-month-post-4-properties/https://programmingideaswithjake.wordpress.com/2016/03/19/kotlin-month-post-4-properties/KotlinJacob ZimmermanSat, 19 Mar 2016 05:00:00 GMT Kotlin Educational Plugin<p>We always said that Kotlin is really easy to learn. And it is! But it&rsquo;s not only about the language: learning materials make a difference too. Today we are making another important step in this direction. We are happy to present Kotlin Educational Plugin.</p> <p><a href=""https://youtu.be/0ponbfQhESY"">https://youtu.be/0ponbfQhESY</a></p> <p>Kotlin Edu is a plugin for IntelliJ IDEA 2016.1 which lets you take learning courses. A course contains a number of tasks, and every task has several placeholders which you need to fill in correctly to solve it.</p> <p>At the moment, there is only one course &mdash; the well-known Kotlin Koans, which has been available <a href=""http://try.kotlinlang.org/koans"">online</a> for some time and gained considerable popularity among Kotlin learners. The offline versions of the Koans has pretty similar user experience but with all strengths of refactorings and intention actions available in IntelliJ IDEA!</p> <p>If you have any questions about Kotlin Koans, feel free to ask them in the <strong>#koans</strong> channel <a href=""http://blog.jetbrains.com/kotlin/2016/03/kotlin-educational-plugin/kotlinslackin.herokuapp.com"">in our Slack</a>.</p> <p>P.S. If you want to create your own course, contact us directly via <a href=""mailto:roman.belov@jetbrains.com"">email</a>.</p> http://blog.jetbrains.com/kotlin/2016/03/kotlin-educational-plugin/http://blog.jetbrains.com/kotlin/2016/03/kotlin-educational-plugin/KotlinEducationRoman BelovThu, 17 Mar 2016 14:47:00 GMT Using Kotlin For Tests in Android<h3>Using Kotlin For Tests in Android</h3> <p>Many developers are quite optimistic about Kotlin future for Android. It <a href=""https://medium.com/@sergii/say-hello-to-kotlin-78d8afff14a#.423ivzn8q"">sounds so sweet</a>: less verbose, more type-safety, zero-overhead null-safety, Java interop. But not everyone is ready to take a risk and start writing production code using new programming language. Indeed, it could be not mature enough and will add dependencies which increase method count of APK for more than 6.5K. But what if we&rsquo;ll use Kotlin only for tests?</p> <h4>Project setup</h4> <p>So we can setup Kotlin plugin and related libraries to be only in <a href=""https://docs.gradle.org/current/userguide/artifact_dependencies_tutorial.html""><em>testCompile</em> </a>dependencies scope. Here is what we should set in build.gradle:</p> <pre><code class=""hljs language-groovy"">dependencies { compile fileTree(<span class=""hljs-string"">dir:</span> <span class=""hljs-string"">'libs'</span>, <span class=""hljs-string"">include:</span> [<span class=""hljs-string"">'*.jar'</span>]) compile <span class=""hljs-string"">'com.android.support:appcompat-v7:23.2.0'</span> testCompile <span class=""hljs-string"">'junit:junit:4.12'</span> testCompile <span class=""hljs-string"">""org.jetbrains.kotlin:kotlin-stdlib:$kotlin_ver""</span> testCompile <span class=""hljs-string"">""org.jetbrains.kotlin:kotlin-test-junit:$kotlin_ver""</span> }</code></pre> <p>Another improtant detail in build.gradle is setting proper source sets to make Kotlin tests folders visible to compiler and IDE. Also we should make sure that Kotlin won&rsquo;t be used in the production code:</p> <pre><code class=""hljs language-groovy"">android { <span class=""hljs-comment"">//...</span> sourceSets { test.java.srcDirs += <span class=""hljs-string"">'src/test/kotlin'</span> } } afterEvaluate { android.sourceSets.all { sourceSet -&gt; <span class=""hljs-keyword"">if</span> (!sourceSet.name.startsWith(<span class=""hljs-string"">""test""</span>)) { sourceSet.kotlin.setSrcDirs([]) } } }</code></pre> <h4>Example</h4> <p>Let&rsquo;s create a tiny Android app which will convert temperature from Celsius to Kelvin and Fahrenheit. Here I create ThermoConverter.java utility class which is quite easy to make unittestable.</p> <p>Then we can add simple unit tests for the same functionality in <em>java</em> and <em>kotlin</em> source folders written in Java and Kotlin respectively. Android Studio will mark both <em>test/java</em> and <em>test/kotlin</em> folders with the proper color to indicate them as test packages.</p> <p>Kotlin example unit test code could be as simple as the follows&#x200A;&mdash;&#x200A;it will be enough for our demo purposes.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">ThermoConverterTestKotlin</span> </span>{ <span class=""hljs-keyword"">private</span> <span class=""hljs-keyword"">val</span> ALLOWED_DELTA = <span class=""hljs-number"">0.01</span>f <span class=""hljs-meta"">@Test</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">thermoTest</span><span class=""hljs-params"">()</span></span> { <span class=""hljs-keyword"">val</span> celsiusVal = <span class=""hljs-number"">232.778</span>f <span class=""hljs-keyword"">val</span> thermoModel = ThermoConverter.getTemperature(celsiusVal) assertEquals(celsiusVal, thermoModel.celsius, ALLOWED_DELTA) assertEquals(<span class=""hljs-number"">451</span>f, thermoModel.fahrenheit, ALLOWED_DELTA) } }</code></pre> <p>And here is the overall project structure:</p> <p><img src=""https://d262ilb51hltx0.cloudfront.net/max/800/1*shTe7vHBNQJLQOk1WBzZaQ.png"" alt=""""></p> <p>What do we have now? With testCompile dependencies scope we&rsquo;ve defined that dependencies won&rsquo;t be included to the main APK file but will be used only for compilation tests sources. We are adding Kotlin source set to the default one used by java code so we can use the same package structure and can have the same package visibility.</p> <p>Here is how tests result looks in Android Studio for both Java and Kotlin tests executed together:</p> <p><img src=""https://d262ilb51hltx0.cloudfront.net/max/800/1*P2ygs6-7S2Wwg33HZVZrFg.png"" alt=""""></p> <p>You can note that on this screenshot the execution time of tests with the same logic in Java and Kotlin is different &mdash;the second one seems to be slower. I did several experiments and it seems that this slowdown happens only at the first time JVM loads required by Kotlin dependencies, so it won&rsquo;t bring any significant performance lag at least for the small amount of code.</p> <h4>Conclusion</h4> <p>Now you know the one more way how to try Kotlin in your Android project without production dependencies overhead and with lower maintenance risks. You can find full project example on <a href=""https://github.com/sergiiz/KotlinTestDemo"">GitHub</a>.</p> <p>Thanks to <a href=""https://medium.com/u/ba532f5866b4"">Antonio Gutierrez</a> for the original idea about possible Kotlin use-case for testing.</p> <p><em>Update.</em> Gradle configuration improved to make sure that Kotlin won&rsquo;t be used in the production code. Thanks to <a href=""https://medium.com/u/7997a2275b27"">Dale King</a>.</p> https://medium.com/@sergii/using-kotlin-for-tests-in-android-6d4a0c818776#.vx2bsqrbmhttps://medium.com/@sergii/using-kotlin-for-tests-in-android-6d4a0c818776#.vx2bsqrbmAndroidKotlinSergii ZhukWed, 16 Mar 2016 23:00:00 GMT Kotlin 1.0.1 is Here!<p>It&rsquo;s been a month since we released Kotlin 1.0, and while our user base roughly doubled during this time, we prepared the first bugfix update.</p> <p>Kotlin 1.0.1 starts a series of 1.0.X versions delivering safe bug fixes and performance improvements to the language (as well as other parts of the project), and new features to our tools and integrations. This time it&rsquo;s only relatively small IDE features, but bigger things are on the horizon for 1.0.2 and later.</p> <h2>Changes in 1.0.1</h2> <p>Please find the full change log <a href=""https://github.com/JetBrains/kotlin/blob/1.0.1/Changelog.md"">here</a>. Some numbers and highlights:</p> <ul> <li>it&rsquo;s 47 fixes in the compiler, library and Gradle plugin improvements (performance),</li> <li>Compatibility with Gradle 2.12,</li> <li> <p>IDE features:</p> <ul> <li>Compatibility with IDEA 2016,</li> <li>Kotlin Education Plugin (for IDEA 2016),</li> <li><a href=""https://youtrack.jetbrains.com/issue/KT-9752"">KT-9752</a> More usable file chooser for &ldquo;Move declaration to another file&rdquo;,</li> <li><a href=""https://youtrack.jetbrains.com/issue/KT-9697"">KT-9697</a> Move method to companion object and back,</li> </ul> </li> <li>and 39 assorted fixes in the IDE.</li> </ul> <p>We thank the participants of the EAP who tried the preview builds and reported feedback. Please join the <a href=""https://discuss.kotlinlang.org/t/kotlin-1-0-1-eap/1525"">EAP</a> and let&rsquo;s make Kotlin better together!</p> http://blog.jetbrains.com/kotlin/2016/03/kotlin-1-0-1-is-here/http://blog.jetbrains.com/kotlin/2016/03/kotlin-1-0-1-is-here/KotlinReleaseAndrey BreslavWed, 16 Mar 2016 19:54:00 GMT Kotlin recipes for Android (I): OnGlobalLayoutListener<div class=""et_post_meta_wrapper""> <h1>Kotlin recipes for Android (I): OnGlobalLayoutListener</h1> <p><img src=""http://i2.wp.com/antonioleiva.com/wp-content/uploads/2016/03/kotlin_logo_new.png?resize=800%252C320"" alt=""Kotlin recipes for Android (I): OnGlobalLayoutListener""></div></p> <p>Today a mate asked me how he could do an <code>OnGlobalLayoutListener</code> properly without incurring in the need of too much boilerplate. This was a tricky question because of a couple of things, let&rsquo;s see it a little more deeply.</p> <h2>What is OnGlobalLayoutListener for?</h2> <p>This listener is available for any view&rsquo;s <code>ViewTreeObserver</code> and it&rsquo;s quite often used to get a callback when the view is inflated and measured, and we already have a width and height available to do any kind of calculations, animations, etc.</p> <p>Thanks to the awesome Java interoperability that Kotlin provides, we can do this on a very clean way using its simulated properties and lambdas for single-method interfaces:</p> <pre><code class=""hljs language-kotlin"">recycler.viewTreeObserver.addOnGlobalLayoutListener { <span class=""hljs-comment"">// do whatever</span> }</code></pre> <p>What&rsquo;s the issue here? To prevent leaks, a recommended practice is to remove the listener once you&rsquo;ve finished using it. But we don&rsquo;t have a reference to the object because we used a lambda, and a lambda is not exactly the same as an object.</p> <p>We could still use the old-fashioned style, but a kitten dies every time we use an anonymous object directly in Kotlin. We are not changing to a nicer language if we still need to do things like this:</p> <pre><code class=""hljs language-kotlin"">recycler.viewTreeObserver.addOnGlobalLayoutListener( <span class=""hljs-keyword"">object</span> : ViewTreeObserver.OnGlobalLayoutListener { <span class=""hljs-keyword"">override</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">onGlobalLayout</span><span class=""hljs-params"">()</span></span> { recycler.viewTreeObserver.removeOnGlobalLayoutListener(<span class=""hljs-keyword"">this</span>); <span class=""hljs-comment"">// do whatever</span> } });</code></pre> <h2>Finding a better alternative</h2> <p>Ok, we know we don&rsquo;t want that. But what can we do to make it better? We are forced to use the not-so-good-looking way, but a good alternative would be to hide this behind an extension function.</p> <p>We will then create a new function for views that receives another function and creates and removes the listener by itself. Something like:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">inline</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> View.<span class=""hljs-title"">waitForLayout</span><span class=""hljs-params"">(<span class=""hljs-keyword"">crossinline</span> f: ()</span></span> -&gt; <span class=""hljs-built_in"">Unit</span>) = with(viewTreeObserver) { addOnGlobalLayoutListener(<span class=""hljs-keyword"">object</span> : ViewTreeObserver.OnGlobalLayoutListener { <span class=""hljs-keyword"">override</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">onGlobalLayout</span><span class=""hljs-params"">()</span></span> { removeOnGlobalLayoutListener(<span class=""hljs-keyword"">this</span>) f() } }) }</code></pre> <p>You can now just call the function and be sure that the listener is added and removed by itself. Besides, you&rsquo;ll never forget about removing it anymore:</p> <pre><code class=""hljs language-kotlin"">recycler.waitForLayout { <span class=""hljs-comment"">// do whatever</span> }</code></pre> <p>If you prefer, you could apply the extension function to the <code>ViewTreeObserver</code> instead of directly to the <code>View</code>. That&rsquo;s up to you.</p> <h2>But we can improve it</h2> <p>This layout listener is usually used to do something after a view is measured, so you typically would need to wait until width and height are greater than 0. And we probably want to do something with the view that called it, so why don&rsquo;t we <strong>convert the parameter function into an extension function</strong> too?</p> <p>I also <strong>generified the function</strong> so that it can be used by any object that extends View and also be able to access to all its specific functions and properties from the function we&rsquo;ll write.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">inline</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-type"">&lt;T: View&gt;</span> T.<span class=""hljs-title"">afterMeasured</span><span class=""hljs-params"">(<span class=""hljs-keyword"">crossinline</span> f: <span class=""hljs-type"">T</span>.()</span></span> -&gt; <span class=""hljs-built_in"">Unit</span>) { viewTreeObserver.addOnGlobalLayoutListener(<span class=""hljs-keyword"">object</span> : ViewTreeObserver.OnGlobalLayoutListener { <span class=""hljs-keyword"">override</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">onGlobalLayout</span><span class=""hljs-params"">()</span></span> { <span class=""hljs-keyword"">if</span> (measuredWidth &gt; <span class=""hljs-number"">0</span> &amp;&amp; measuredHeight &gt; <span class=""hljs-number"">0</span>) { viewTreeObserver.removeOnGlobalLayoutListener(<span class=""hljs-keyword"">this</span>) f() } } }) }</code></pre> <p>This <code>afterMeasured</code> function is very similar to the previous one, but you can use the properties and public methods of the view directly inside the lambda. We can, for instance, get the width of the recycler and set a layout with a dynamic number of columns depending on it.</p> <pre><code class=""hljs language-kotlin"">recycler.afterMeasured { <span class=""hljs-keyword"">val</span> columnCount = width / columnWidth layoutManager = GridLayoutManager(context, columnCount) }</code></pre> <h2>Conclusion</h2> <p>It&rsquo;s true that there are still some things that don&rsquo;t look nice when working with Android, even moving to Kotlin, but we can always find an alternative that improves readability and avoids boilerplate, by hiding this boilerplate behind other structures. At least you&rsquo;ll have to only write it once and the rest of the code will look awesome!</p> http://antonioleiva.com/kotlin-ongloballayoutlistener/http://antonioleiva.com/kotlin-ongloballayoutlistener/AndroidKotlinAntonio LeivaWed, 16 Mar 2016 00:52:00 GMT Kotlin : Retrofit + RxAndroid + Realm<h3>Kotlin : Retrofit + RxAndroid + Realm</h3> <p>In this article I thought I should cover some of the libraries (that I use regularly), like Retrofit and Realm in the context of Kotlin and Rx.</p> <p>If you&rsquo;re new to Retrofit... Then I suggest you visit this <a href=""https://medium.com/@ahmedrizwan/rxandroid-and-retrofit-2-0-66dc52725fff#.51syz2rr5"">article</a>&#x200A;&mdash;&#x200A;and things will (hopefully) be crystal clear! And if you&rsquo;re new to Rx &amp; Kotlin&#x200A;&mdash;&#x200A;go <a href=""https://medium.com/@ahmedrizwan/rxandroid-and-kotlin-part-1-f0382dc26ed8#.i0smhvwlm"">here</a>!</p> <h4>So let&rsquo;s begin : Kotlin + Rx + Retrofit + Realm</h4> <p>If you&rsquo;re anything like me, then you absolutely hate writing unnecessary code. <em>cough Java 6 cough</em>. And in my Android development experience, I&rsquo;ve come across many situations where I was like&#x200A;&mdash;&#x200A;&ldquo;But... Why?!&rdquo;</p> <p>In the context of Languages, I think Kotlin is definitely a life-saver. And libraries like Retrofit, Realm and RxAndroid also significantly reduce the amount of unnecessary code.</p> <p>Horror story: I once came across a project, which had around <strong>12</strong> model classes aka POJOs. Then there were <strong>12</strong> Database (ORM) Table classes and there were also <strong>12</strong> Model-to-Database-Mapping classes. If you&rsquo;re good at counting, you&rsquo;ll notice... Those are <strong>36</strong> classes right there! And not only that, a change to the a single class meant, changing all 3 classes.</p> <p><img src=""https://d262ilb51hltx0.cloudfront.net/max/800/1*j31fbds0p0D_WwDim60TEQ.jpeg"" alt=""""></p> <p><em>Yeah, that was me...</em></p> <p>I suppose, even if we don&rsquo;t use any ORMs, we still would be writing code for mapping the Models to the Database! And that&rsquo;s no good!</p> <p>So, what was the solution... Well... For me <strong>Realm</strong> + <strong>Retrofit</strong> was it... I added in <strong>RxAndroid</strong> to the mix later on, because Rx makes almost everything better and more delicious! And of course <strong>Kotlin</strong>, because...</p> <blockquote> <p>Kotlin is love... Kotlin is life...</p> </blockquote> <p>With the combination of these, those 36 classes would be represented in just 12 (as they should be). And not just that, code will be more concise and expressive because of Kotlin!</p> <h3>Simple Example: Getting data from Github API</h3> <p>Imagine an app which gets data from an API, stores/persists that data to the database and also displays it. A pretty common scenario, right?</p> <p>This is what I&rsquo;d be making... An extremely simple example... Which should hopefully cover the basics!</p> <p><img src=""https://d262ilb51hltx0.cloudfront.net/max/800/1*CLjgK7p_Cdro4oh0gu4_Qg.png"" alt=""""></p> <p><em>Nothing fancy&#x200A;&mdash;&#x200A;Just plain old me and my github info!</em></p> <p>Let me walk you through on how I would go about creating this app...</p> <h4>Creating the Project and Enabling Kotlin</h4> <p>The first thing we do is enable Kotlin in the project&#x200A;&mdash;&#x200A;Just make sure the Kotlin Plugin is installed in your Android Studio.</p> <p>I created an Empty project with a single MainActivity&#x200A;&mdash;&#x200A;Went straight into the build.gradle file and... Triggered the action...</p> <p><img src=""https://d262ilb51hltx0.cloudfront.net/max/800/1*pI9K9b0ww9jAduIrjZ10eg.png"" alt=""""></p> <p><em>Trigger Action and search for Configure Kotlin</em></p> <p><img src=""https://d262ilb51hltx0.cloudfront.net/max/800/1*jMre8FWu_02iHJRnNLaj0w.png"" alt=""""></p> <p><em>Select the modules and click OK</em></p> <p><img src=""https://d262ilb51hltx0.cloudfront.net/max/800/1*w-WHqk_EDQm8uu09fTyTXg.png"" alt=""""></p> <p><em>After clicking OK&#x200A;&mdash;&#x200A;this gets added to the build file&#x200A;&mdash;&#x200A;<em>Sync Changes</em></em></p> <p>Cool! Now we can write code in Kotlin!</p> <p><img src=""https://d262ilb51hltx0.cloudfront.net/max/800/1*gUTF_1dfhJLGJbQZxiJ-nA.png"" alt=""""></p> <p><em>MainActivity.java at the moment&#x200A;&mdash;&#x200A;Pretty standard stuff</em></p> <p>We can (magically) convert the existing java code to Kotlin... By doing the following...</p> <p><img src=""https://d262ilb51hltx0.cloudfront.net/max/800/1*8p7TdBtxViZlM50nBGBdww.png"" alt=""""></p> <p><em>Action: Convert Java File to Kotlin File</em></p> <p>Now the MainActivity becomes...</p> <p><img src=""https://d262ilb51hltx0.cloudfront.net/max/800/1*jtzRyBq1Parb6TYzdsgwVw.png"" alt=""""></p> <p><em>Holy mother of Kotlin!</em></p> <h4>Adding Rx&#x200A;&mdash;&#x200A;Retrofit&#x200A;&mdash;&#x200A;Realm Dependencies</h4> <p>Time to add some dependencies!</p> <p><img src=""https://d262ilb51hltx0.cloudfront.net/max/800/1*CAdkhnWaF0MeqwYHpqKo1Q.png"" alt=""""></p> <p><em>I also use Databinding! Because cool people use Databinding!</em></p> <p>Now you might be thinking what the hell is <strong>kapt</strong>? Well it&rsquo;s an annotation processor built for Kotlin.</p> <p><img src=""https://d262ilb51hltx0.cloudfront.net/max/600/1*6MHRyDAF7oqrxhlf2LHwcg.png"" alt=""""></p> <p><em>sudo add this to build.gradle</em></p> <p>In our project we&rsquo;ll also have to enable <strong>generateStubs</strong> as well for kapt, in order for it to generate code.</p> <p>So... Now we have everything we need! Time to start coding!</p> <h4>The Model</h4> <p>The endpoint we&rsquo;re dealing with...</p> <p><code>https://api.github.com/users/ahmedrizwan</code></p> <p>And the response...</p> <pre><code class=""hljs language-json"">{ <span class=""hljs-attr"">""login""</span>: <span class=""hljs-string"">""ahmedrizwan""</span>, <span class=""hljs-attr"">""id""</span>: <span class=""hljs-number"">4357275</span>, <span class=""hljs-attr"">""avatar_url""</span>: <span class=""hljs-string"">""https://avatars.githubusercontent.com/u/4357275?v=3""</span>, <span class=""hljs-attr"">""gravatar_id""</span>: <span class=""hljs-string"">""""</span>, <span class=""hljs-attr"">""url""</span>: <span class=""hljs-string"">""https://api.github.com/users/ahmedrizwan""</span>, <span class=""hljs-attr"">""html_url""</span>: <span class=""hljs-string"">""https://github.com/ahmedrizwan""</span>, <span class=""hljs-attr"">""followers_url""</span>: <span class=""hljs-string"">""https://api.github.com/users/ahmedrizwan/followers""</span>, <span class=""hljs-attr"">""following_url""</span>: <span class=""hljs-string"">""https://api.github.com/users/ahmedrizwan/following{/other_user}""</span>, <span class=""hljs-attr"">""gists_url""</span>: <span class=""hljs-string"">""https://api.github.com/users/ahmedrizwan/gists{/gist_id}""</span>, <span class=""hljs-attr"">""starred_url""</span>: <span class=""hljs-string"">""https://api.github.com/users/ahmedrizwan/starred{/owner}{/repo}""</span>, <span class=""hljs-attr"">""subscriptions_url""</span>: <span class=""hljs-string"">""https://api.github.com/users/ahmedrizwan/subscriptions""</span>, <span class=""hljs-attr"">""organizations_url""</span>: <span class=""hljs-string"">""https://api.github.com/users/ahmedrizwan/orgs""</span>, <span class=""hljs-attr"">""repos_url""</span>: <span class=""hljs-string"">""https://api.github.com/users/ahmedrizwan/repos""</span>, <span class=""hljs-attr"">""events_url""</span>: <span class=""hljs-string"">""https://api.github.com/users/ahmedrizwan/events{/privacy}""</span>, <span class=""hljs-attr"">""received_events_url""</span>: <span class=""hljs-string"">""https://api.github.com/users/ahmedrizwan/received_events""</span>, <span class=""hljs-attr"">""type""</span>: <span class=""hljs-string"">""User""</span>, <span class=""hljs-attr"">""site_admin""</span>: <span class=""hljs-literal"">false</span>, <span class=""hljs-attr"">""name""</span>: <span class=""hljs-string"">""ahmed""</span>, <span class=""hljs-attr"">""company""</span>: <span class=""hljs-literal"">null</span>, <span class=""hljs-attr"">""blog""</span>: <span class=""hljs-literal"">null</span>, <span class=""hljs-attr"">""location""</span>: <span class=""hljs-string"">""Rawalpindi, Pakistan""</span>, <span class=""hljs-attr"">""email""</span>: <span class=""hljs-literal"">null</span>, <span class=""hljs-attr"">""hireable""</span>: <span class=""hljs-literal"">null</span>, <span class=""hljs-attr"">""bio""</span>: <span class=""hljs-literal"">null</span>, <span class=""hljs-attr"">""public_repos""</span>: <span class=""hljs-number"">9</span>, <span class=""hljs-attr"">""public_gists""</span>: <span class=""hljs-number"">0</span>, <span class=""hljs-attr"">""followers""</span>: <span class=""hljs-number"">5</span>, <span class=""hljs-attr"">""following""</span>: <span class=""hljs-number"">9</span>, <span class=""hljs-attr"">""created_at""</span>: <span class=""hljs-string"">""2013-05-06T18:32:59Z""</span>, <span class=""hljs-attr"">""updated_at""</span>: <span class=""hljs-string"">""2015-08-29T18:17:58Z""</span> }</code></pre> <p>Ok for this example, I just want to extract <em>id</em>, <em>name</em>, <em>avatar_url</em> and <em>public_repos</em> from the response. So my model class (which is also a realm class btw), would look something like</p> <p><img src=""https://d262ilb51hltx0.cloudfront.net/max/800/1*XkIxB1PtetctYpuPBMDM3Q.png"" alt=""""></p> <p><em>*_*</em></p> <blockquote> <p>Note: If you want to extract everything from the JSON response, then I suggest visiting to this awesome <a href=""http://www.jsonschema2pojo.org"">website</a>, and generate a POJO. Then convert the Java code to Kotlin as described earlier.</p> </blockquote> <p>Ok, lots of things to cover here... Starting off from the <em>RealmClass</em> annotation... For Realm, this annotation is necessary for Realm&rsquo;s code generation in Kotlin... <em>PrimaryKey</em> annotation is also a Realm annotation, representing the Primary Key field (duh!)... Rest of the annotations are for Gson...</p> <p>Now the <strong>open</strong> keyword! In kotlin it&rsquo;s the opposite of <strong>final</strong> in Java. By default, Kotlin classes are final&#x200A;&mdash;&#x200A;that means if you want a class to be inherrited&#x200A;&mdash;&#x200A;we explicitly have to declare it as <strong>open</strong>. Same is the case with properties. Like in our model, <em>name</em> is a property, with an actual getter and a setter (thanks to Kotlin). And in order for the getter/setter to be overridable (which Realm requires them to be), we put the keyword <strong>open</strong> along with the declaration of the property. Which makes sense (to me at least).</p> <h4>Retrofit Interface</h4> <p>Again the endpoint url is</p> <p><code>https://api.github.com/users/[some_user]</code></p> <p>So the interface would look something like :-</p> <p><img src=""https://d262ilb51hltx0.cloudfront.net/max/800/1*D8ABvZYNBRsw_Ffe5ilS0g.png"" alt=""""></p> <p><em>Simplicity of Retrofit :&rsquo;)</em></p> <p>Notice how I&rsquo;m returning Observable of a Github. This is possible because Retrofit allows Rx integration. And that&rsquo;s super-super-cool!</p> <h4>Retrofit Builder</h4> <p><img src=""https://d262ilb51hltx0.cloudfront.net/max/800/1*RAPCtfF_ztT6qB_wHoxLjw.png"" alt=""""></p> <p><em>Yay... Now I can make API calls... ^</em>^_</p> <p>Because of Realm we use a special Gson instance, which basically adds an exclusion strategy for skipping Realm generated fields. Otherwise Gson doesn&rsquo;t work with the model.</p> <p>Next we create an instance of Retrofit with RxJavaCallAdapter factory which allows Rx integration and we also add the Gson converter using the Gson instance we created before.</p> <h4>Rx Magic</h4> <p><img src=""https://d262ilb51hltx0.cloudfront.net/max/800/1*_fSWqpcqhzNfoJNKc8PMig.png"" alt=""""></p> <p><em>Lambdaaaaaaas! :&rsquo;) Btw binding is my Databinding object!</em></p> <p>Now all I do is get the observable, subscribe to it and get our Github object. Once we have the object, it&rsquo;s easy to persist the user to Realm database.</p> <h4>Caching</h4> <p>Caching is also (sort of) possible, because we can first fetch data from Realm Database (if it has already been saved)... Like this...</p> <p><img src=""https://d262ilb51hltx0.cloudfront.net/max/800/1*_31bgwIcMTmcCTJHKv03UQ.png"" alt=""""></p> <p><em>Dayum!</em></p> <p>And... That&rsquo;s it! Now if you run the app...</p> <p><img src=""https://d262ilb51hltx0.cloudfront.net/max/800/1*CLjgK7p_Cdro4oh0gu4_Qg.png"" alt=""""></p> <p><em><em>slow clap</em></em></p> <p>You can find the full code example <a href=""https://github.com/ahmedrizwan/RxRealmRetroKotlin/tree/master"">here</a>. Hope the article was somewhat useful!</p> <p>Happy coding!</p> https://medium.com/@ahmedrizwan/kotlin-retrofit-rxandroid-realm-39d7be5dc9dc#.w7ufbebxhhttps://medium.com/@ahmedrizwan/kotlin-retrofit-rxandroid-realm-39d7be5dc9dc#.w7ufbebxhRetrofitRealmRxAndroidKotlinAhmed RizwanTue, 15 Mar 2016 15:44:00 GMT Kotlin & Android: A Brass Tacks Experiment Wrap-Up<p><img src=""https://d262ilb51hltx0.cloudfront.net/max/1600/1*UN-S8ELMC2kpHf4tJKfbLQ.png"" alt=""""></p> <p><em>Disclaimer: I am a Google employee, but the views expressed in this article are not those of my employer.</em></p> <h3>Kotlin &amp; Android: A Brass Tacks Experiment Wrap-Up</h3> <p>It&rsquo;s been fun exploring Kotlin&reg; language features for use with Android development! If you&rsquo;ve landed here without that context and want to explore this 7-part blog series from the beginning, you can <a href=""https://medium.com/p/kotlin-android-a-brass-tacks-experiment-part-1-3e5028491bcc"">jump back to the beginning</a>, but there&rsquo;s no need for that to understand this article.</p> <p>If you have been following along with the prior 6 parts, you know that, at this point in the experiment, we have a nice domain specific language for expressing the creation of an Android view hierarchy in Kotlin. We made use of the type-safe builder pattern, along with extension functions and properties, to provide ourselves with some handy tools to make this super easy.</p> <p>A question you might have at this point in the journey is this: <em>Should I even try to use this technique to build views in my app?</em> Up until now, I&rsquo;ve only ever talked about how it can be easy and convenient to do so, but I haven&rsquo;t really compared it to anything other than the same task in the Java&reg; programming language. On that point, I definitely find that using Kotlin&rsquo;s type-safe builder pattern for building views far more agreeable than the equivalent practice in Java. However, specifying views in XML resources is the standard for Android apps, so let&rsquo;s break down some categories for comparison between the classic XML layouts and the Kotlin type-safe builder approach.</p> <p><img src=""https://d262ilb51hltx0.cloudfront.net/max/800/1*LEibB6uJbdo3gZ4dNcydaQ.png"" alt=""""></p> <p><strong>How well does the approach work with Activity configuration changes?</strong></p> <p>With Android, a device may change configuration at any time. The most common type of configuration change is orientation. There are many other types, <a href=""http://developer.android.com/guide/topics/manifest/activity-element.html"">as documented here</a> (see android:configChanges within). Changes in orientation are especially important for Android views, because it is common practice to have a different layout for both landscape and portrait.</p> <p>When dealing with XML layouts, it&rsquo;s trivial to handle configuration changes that result in different UI. You simply define your layout twice&#x200A;&mdash;&#x200A;once for landscape under res/layout-land and once for portrait under res/layout-port. When you give the XML files the same name in these different spaces, that lets Android know to find and inflate the correct version of the layout for each circumstance. Generally speaking, you write no extra code to handle this change.</p> <p>When dealing with layouts generated from code, you don&rsquo;t get this configuration switching behavior for free. If you want to change layouts for different configurations, you have to write conditional logic to decide which views to create. And, if you do this a lot, it becomes cumbersome.</p> <p>So, for handling a possible matrix of configuration settings with different UI, XML layouts are more convenient.</p> <p><img src=""https://d262ilb51hltx0.cloudfront.net/max/800/1*PrbCkbWf1z_dznNsRNpbXQ.png"" alt=""""></p> <p><strong>How well does the approach work for complex layouts such as RelativeLayout?</strong></p> <p>RelativeLayout is a tool that allows for a very flexible way of positioning views relative to other views. You can easily say that one view should be above, below, to the left, or to the right of another &ldquo;anchor&rdquo; view. This requires assigning IDs to the anchor views, while also calling out those IDs in the views to be positioned relative to its anchors. View IDs are also used to locate views within view hierarchies to make modifications to them in code.</p> <p>In Android, it&rsquo;s a best practice to let the compiler assign the integer values for view IDs. You shouldn&rsquo;t just make up values of your own. This means that you have to use the Android tools to specify these IDs so they can be used later.</p> <p>When dealing with XML layouts, it&rsquo;s trivial to create a new ID. You simply call out a new value where it&rsquo;s needed, usually in the view&rsquo;s android:id property, like this:</p> <pre><code class=""hljs language-xml""><span class=""hljs-tag"">&lt;<span class=""hljs-name"">TextView</span> <span class=""hljs-attr"">android:id</span>=<span class=""hljs-string"">""@+id/tv""</span> <span class=""hljs-attr"">...</span> /&gt;</span></code></pre> <p>The +@id notation tells the Android toolchain to define a new ID called tv, or reuse an existing ID with the same name. Couldn&rsquo;t be easier.</p> <p>However, when dealing with layouts generated from code, it&rsquo;s not possible to create a new ID in the middle of code. To create a new ID, you have to define a new ID as a resource in XML. Then you can reference it from the compiled R class that contains all the IDs used in the app. So, working with views programmatically involves dealing with another file, and Android will not automatically remove IDs for you when no longer referenced.</p> <p>Considering all this, it&rsquo;s easier to work with view IDs with XML layouts because of the tooling support for automatic ID management.</p> <p><strong>How well does the approach work when doing calculations to assign to attributes of views?</strong></p> <p>It&rsquo;s not uncommon to want to calculate some value for an attribute of a view, such as its display text, or a background color, or its dimensions.</p> <p>The Android XML layout language is purely declarative. You can&rsquo;t do any computations in the strings used for assigning attributes. This means that attributes must be assigned in code later after the view has been inflated. This creates a disconnect between the definition in the layout file and its corresponding inflation code. Android programmers are not strangers to this practice!</p> <p>However when building view programmatically, you can simply assign the result of a computation directly to the view property. You can also assign values to be equal to some other property on the view. How many times have you assigned the exact same value to marginLeft and marginBegin?</p> <p>Given that you (of course) have all the flexibility of code when creating views programmatically, it&rsquo;s definitely more convenient in this case to use programmatic view creation, especially with Kotlin type-safe builders.</p> <p><img src=""https://d262ilb51hltx0.cloudfront.net/max/800/1*Z38Ypb3iB2_Vw_OOHOXwOg.png"" alt=""""></p> <p><strong>How easily can you experiment with tweaks to your layouts?</strong></p> <p>Unless you&rsquo;re really good at visualizing Android layout as you write them, you&rsquo;ve probably used Android Studio to preview an XML layout without having to build and deploy to a device to see the result.</p> <p>When you code layouts programmatically, you don&rsquo;t have a quick preview method like this. When Android Studio 2.0 with Instant Run is fully released, this situation will improve greatly. But for now, the most convenient way to experiment with layout changes is usually through the Android Studio preview pane.</p> <p><strong>What&rsquo;s the performance like with each approach?</strong></p> <p>This is a matter of benchmarking inflation of a view hierarchy against equivalent code that constructs the views directly. When I first started experimenting with this, I found that building a simple layout was up to twice as fast inflation! But as I started layering in more Kotlin features and doing more complicated things with views, the difference wasn&rsquo;t so stark. On my Nexus 6P, I found that building takes roughly 75% of the time it takes to inflate. Presumably, this is because inflation has the overhead of processing the layout resource as it builds the views.</p> <p>It should be noted that, in either case, it takes less than 1 millisecond to end up with a view hierarchy with 5 views total, so unless you&rsquo;re making a whole lot of views, performance is not a huge problem to address.</p> <p>If you want to perform the benchmarks yourself, the source code to a sample project can be found <a href=""https://github.com/CodingDoug/kotlin-view-builder"">in my GitHub</a>.</p> <p><strong>What&rsquo;s the size overhead of using Kotlin?</strong></p> <p>There was a dangling question from part 1 about the size requirements of using Kotlin in Android. There is a runtime and standard library for Kotlin that you declare as a compile dependency. Any time you add a dependency to an Android app, you should definitely be considering its size, especially if you&rsquo;re not able to multidex your app.</p> <p>With Kotlin version 1.0.0, the runtime + stdlib jars weigh in at 210KB + 636K = <strong>846KB</strong>, which is fairly hefty for a library. Counting all the methods using <a href=""https://github.com/mihaip/dex-method-counts"">dex-method-counts</a> reveals a total of <strong>6584 methods</strong> under the kotlin package, not including the methods in the Java runtime it also references. This is at least a full 10% of your method count budget for a single dex! But, after applying ProGuard on my test project, that number drops to just <strong>42 methods</strong>. The final number will, of course, expand in relation to the other parts of Kotlin that the app makes use of. The bottom line is that use of ProGuard on apps that include Kotlin is crucial to keeping it under control for serious use.</p> <p><strong>Summing it all up:</strong></p> <p>Kotlin is a pleasure to use in general and can be directly applicable to Android development. For building views, it&rsquo;s not a silver bullet, since there are many advantages to using XML layouts as is normally recommended. But there are definitely times when programmatic view building is preferable, and Kotlin can provide some handy shortcuts to getting that done with style.</p> <p>You may also wonder what other hidden costs there are to using Kotlin. This is a valid question, and was recently addressed in <a href=""https://www.reddit.com/r/androiddev/comments/47613n/can_we_talk_about_the_downsides_of_using_kotlin/"">a discussion on Reddit</a>. I add my two cents to that discussion, so head over there if you want to see what some people think about that.</p> <p>If you want to see my test project and compare XML layouts with views built by Kotlin, clone <a href=""https://github.com/CodingDoug/kotlin-view-builder"">my kotlin-view-builder repo</a> to easily try it out yourself.</p> <p>I hope you enjoyed reading about my experiences with Kotlin for Android as much as I enjoyed learning about it myself!</p> <p>I work extensively with Android, so be sure to follow me on <a href=""https://medium.com/@CodingDoug"">Medium</a> and <a href=""https://twitter.com/CodingDoug"">Twitter</a> to get my upcoming blogs.</p> https://medium.com/@CodingDoug/kotlin-android-a-brass-tacks-experiment-wrap-up-2b37e3ac8957#.nf83hy78ghttps://medium.com/@CodingDoug/kotlin-android-a-brass-tacks-experiment-wrap-up-2b37e3ac8957#.nf83hy78gAndroidKotlinDoug StevensonMon, 14 Mar 2016 20:57:00 GMT Kotlin Month Post 3: Safety<h2><strong>Intro</strong></h2> <p>In this third post for <a href=""https://programmingideaswithjake.wordpress.com/kotlin/#kotlinmonth"">Kotlin Month</a>, I&rsquo;m going to go over some of the safety features that Kotlin comes with. Follow the link to see the previous posts.</p> <h2><strong>Null Safety</strong></h2> <p>This is one of the most touted features of Kotlin, from what I&rsquo;ve seen. Personally, it has given me a little bit of grief, but some built-in property delegates, like <code>lazy</code> and <code>lateinit</code> are helpful workarounds.</p> <p>Here&rsquo;s the safety that Koltin provides: A variable cannot contain <code>null</code> unless its type specifies that it&rsquo;s nullable. You can declare a type as nullable by placing a <code>?</code> at the end of the type&rsquo;s name. For example, for a variable that can hold <code>null</code> or <code>String</code>, its type would be <code>String?</code>. That&rsquo;s step one of the null safety.</p> <p>The next step is that you cannot directly call methods or properties from a nullable variable. In order to safely dereference a nullable object, you must place a <code>?</code> before the <code>.</code>. This operator returns <code>null</code> if the object being dereferenced is <code>null</code>, or else returns the result of the method or property use. For example, if there&rsquo;s a <code>String?</code> variable called <code>str</code>, and we want to find out if it&rsquo;s empty, we would call it with <code>str?.isEmpty()</code>. The result is either <code>null</code>, <code>true</code>, or <code>false</code>. With the next operator, we can use that <code>null</code> to mean <code>true</code>.</p> <p>The next operator, often called the elvis operator, since it kind of looks like it&rsquo;d be a pompadoured emoticon, helps us turn <code>null</code> values into default values. It works a lot like the ternary operator (which Kotlin actually doesn&rsquo;t have, since its <code>if</code>/<code>else</code> block is an expression, not a statement), except the left hand side is a combination of the left and middle of the ternary operator. It either evaluates to <code>null</code> or the desired type. If it <em>does</em> resolve as <code>null</code>, it uses the right side if the operator. So, our <code>String?</code> example above would become <code>str?.isEmpty() ?: true</code>, which returns whatever <code>isEmpty()</code> returns, or else <code>true</code> if <code>str</code> was <code>null</code>. By the way, the <code>?:</code> part was the operator.</p> <p>The last piece of the puzzle is the <code>!!</code> operator. This is a way of telling the compiler one of two things. Either &ldquo;I&rsquo;d rather get a <code>NullPointerException</code> than have to deal with null safety&rdquo;&rdquo; or &ldquo;&rdquo;I know that the type says that it&rsquo;s nullable, but I can <em>guarantee</em> that it won&rsquo;t be <code>null</code>; at least not at this point.&rdquo;</p> <p>Now, because of Java interop, Kotlin can&rsquo;t make any guarantees about the nullability of types coming from Java code. It goes the pragmatic route and lets the developer decide (and deal with the consequences, if need be) whether it can be <code>null</code> or not. Annotations can be used to tell the compiler, also. Check out their documentation on <a href=""http://kotlinlang.org/docs/reference/java-interop.html#null-safety-and-platform-types"">Java interop with null safety</a> for more information.</p> <h2><strong>Smart Casting</strong></h2> <p>Smart casting is nifty little feature that, while not coming up all that often in most cases, is really nice for cleaning up your code. Say you have code like this:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">if</span>(someVar instanceof SomeType) { SomeType anotherVar = (SomeType)someVar; ... }</code></pre> <p>This kind of casting is such a pain. Once you&rsquo;ve determined that <code>someVar</code> is of type <code>SomeType</code>, you don&rsquo;t get to just use it as if it is. No, first you have to create <em>another</em> variable (or, if you&rsquo;re &ldquo;lucky&rdquo;, you can do it without the new variable for a single-line expression, but then you need <em>another</em> set of parentheses for the cast &ndash; <code>((SomeType)someVar)...</code>) as well as write out the cast.</p> <p>In Kotlin, you write it like this:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">if</span>(someVar <span class=""hljs-keyword"">is</span> SomeType) { ... }</code></pre> <p>First off, the type check operartor is shorter as <code>is</code>. The cast operator is cleaner too. If we had needed to use it in this case (which we didn&rsquo;t), it would have been <code>var anotherVar = someVar as SomeType</code>. It&rsquo;s not shorter, but it&rsquo;s cleaner.</p> <p>The reason we didn&rsquo;t need to cast it is because the compiler knows that, inside the block, <code>someVar</code> is definitely a <code>SomeType</code>. So, we didn&rsquo;t even need to use another variable for that because it just pretends that <code>someVar</code>&lsquo;s type is <code>SomeType</code> instead of whatever it was declared as.</p> <p>An interesting note about this is that it applies to nullability, too. Since <code>String?</code> isn&rsquo;t considered to be the same thing as <code>String</code>, but rather a supertype, it can be smart cast from <code>String?</code> to <code>String</code>:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">if</span>(someStr != <span class=""hljs-literal"">null</span>) { ... <span class=""hljs-keyword"">as</span> <span class=""hljs-keyword"">if</span> someStr <span class=""hljs-keyword"">is</span> no longer a nullable type }</code></pre> <p>There is a limit to smart casting, though. If the variable in question could potentially be changed by another thread at any time, it will not do it. Therefore, smart casting can only be applied to <code>final</code> variables (<code>val</code>s) or local variables (those created within the function).</p> <p>Check out <a href=""http://kotlinlang.org/docs/reference/typecasts.html#smart-casts"">Kotlin&rsquo;s documentation on smart casts</a> if you want to learn more.</p> <h2><strong>Generics</strong></h2> <p>Straight-up, Kotlin has better generics than Java. &lsquo;Nuff said.</p> <p>I&rsquo;m just kidding. But seriously, Kotlin&rsquo;s generics are better; they can even allow you to do things that Java won&rsquo;t compile. I can&rsquo;t give you an example, but I spotted a StackOverflow example once where someone tried to turn their Kotlin code into Java code, but they couldn&rsquo;t because the Java code doesn&rsquo;t allow generics to be used in a certain way, but luckily the byte code is forgiving and allows Kotlin to do it.</p> <p>Moving beyond that, Kotlin also uses declaration-site variance as a primary variance rather than Java&rsquo;s use-site variance. It also follows the same syntax as C#&rsquo;s variance (using <code>out</code> and <code>in</code> instead of <code>_ extends</code> or <code>_ super</code>), which is much easier to understand in most cases. Since I&rsquo;m not good at explaining this stuff, I&rsquo;d like to just point you to <a href=""http://kotlinlang.org/docs/reference/generics.html"">Kotlin&rsquo;s documentation on it</a>.</p> <h3><strong>Inline Functions and Reified Generics</strong></h3> <p>Kotlin allows you to define inline functions (functions that are compiled in a way that, when called in code, it actually &ldquo;copies&rdquo; the code from inside the function into the place where it&rsquo;s called), which can be really useful [and is only suggested to be used] when making functions that accept lambdas and method references that are called within, since <em>that</em> can be inlined too, without actually creating a function object. Another interesting feature of inline functions is the ability to have <em>reified generics</em> (generics without type erasure), since, in its inlined state, the compiler can actually <em>know</em> what the actual type is (assuming it wasn&rsquo;t already a generic type to begin with). There&rsquo;s actually quite the swathe of things that can be done with inline functions, so you should check them out in <a href=""http://kotlinlang.org/docs/reference/inline-functions.html"">Kotlin&rsquo;s documentation on them</a>.</p> <h2><strong>Outro</strong></h2> <p>Thus ends my list of safety features in Kotlin. You should totally just go and fall in love with Kotlin now, as I have. Even if you won&rsquo;t do it now, I still have next week&rsquo;s post to sway you, so look forward to that.</p> https://programmingideaswithjake.wordpress.com/2016/03/13/kotlin-month-post-3-safety/https://programmingideaswithjake.wordpress.com/2016/03/13/kotlin-month-post-3-safety/KotlinJacob ZimmermanSun, 13 Mar 2016 22:53:00 GMT Feedback on the Josephus problem<p>My last week <a href=""https://blog.frankel.ch/solving-the-josephus-problem-in-kotlin"">article</a> was about the solving the Josephus problem in Kotlin. For ease of comparison, here&rsquo;s the version I wrote originally:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Soldier</span></span>(<span class=""hljs-keyword"">val</span> position: <span class=""hljs-built_in"">Int</span>) { <span class=""hljs-keyword"">var</span> state = State.Living lateinit <span class=""hljs-keyword"">var</span> next: Soldier <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">suicide</span><span class=""hljs-params"">()</span></span> { state = State.Dead } <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">isDead</span><span class=""hljs-params"">()</span></span> = state == State.Dead } <span class=""hljs-keyword"">enum</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">State</span> </span>{ Living, Dead } <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Circle</span></span>(<span class=""hljs-keyword"">private</span> <span class=""hljs-keyword"">val</span> size: <span class=""hljs-built_in"">Int</span>, <span class=""hljs-keyword"">private</span> <span class=""hljs-keyword"">val</span> step: <span class=""hljs-built_in"">Int</span>) { <span class=""hljs-keyword"">private</span> <span class=""hljs-keyword"">val</span> first = Soldier(<span class=""hljs-number"">0</span>) init { <span class=""hljs-keyword"">var</span> person = first <span class=""hljs-keyword"">while</span> (person.position &lt; size - <span class=""hljs-number"">1</span>) { person = createNext(person) } <span class=""hljs-keyword"">val</span> last = person last.next = first } <span class=""hljs-keyword"">private</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">createNext</span><span class=""hljs-params"">(soldier: <span class=""hljs-type"">Soldier</span>)</span></span>: Soldier { <span class=""hljs-keyword"">val</span> new = Soldier(soldier.position + <span class=""hljs-number"">1</span>) soldier.next = new <span class=""hljs-keyword"">return</span> new } <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">findSurvivor</span><span class=""hljs-params"">()</span></span>: Soldier { <span class=""hljs-keyword"">var</span> soldier: Soldier = first <span class=""hljs-keyword"">var</span> numberOfDead = <span class=""hljs-number"">0</span> <span class=""hljs-keyword"">while</span> (numberOfDead &lt; size - <span class=""hljs-number"">1</span>) { <span class=""hljs-keyword"">var</span> count: <span class=""hljs-built_in"">Int</span> = <span class=""hljs-number"">0</span> <span class=""hljs-keyword"">while</span> (count &lt; step) { soldier = nextLivingSoldier(soldier) count++ } soldier.suicide() numberOfDead++ } <span class=""hljs-keyword"">return</span> nextLivingSoldier(soldier) } <span class=""hljs-keyword"">private</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">nextLivingSoldier</span><span class=""hljs-params"">(soldier: <span class=""hljs-type"">Soldier</span>)</span></span>: Soldier { <span class=""hljs-keyword"">var</span> currentSoldier = soldier.next <span class=""hljs-keyword"">while</span> (currentSoldier.isDead()) { currentSoldier = currentSoldier.next } <span class=""hljs-keyword"">return</span> currentSoldier } }</code></pre> <p>The post ended with an open question: was the code the <em>right</em> way to do it? In particular:</p> <ul> <li>Is the code idiomatic Kotlin?</li> <li>Lack of <code>for</code> means using <code>while</code> with <code>var</code>s</li> <li>Too many mutability (<code>var</code>) for my own liking</li> </ul> <p>I&rsquo;ve received great feedback from the community on many different channels, including Ilya Ryzhenkov from JetBrains, C&eacute;dric Beust, Peter Somerhoff and Ga&euml;tan Zoritchak. Thanks guys!</p> <p>I think the most interesting is this one, very slightly modified from the original <a href=""https://gist.github.com/gzoritchak/1e2ec8d38fc39a4485ba"">Gist</a> by Ga&euml;tan:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Soldier</span></span>(<span class=""hljs-keyword"">val</span> position: <span class=""hljs-built_in"">Int</span>, <span class=""hljs-keyword"">var</span> state:State = State.Living) { <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">suicide</span><span class=""hljs-params"">()</span></span> { state = State.Dead } <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">isAlive</span><span class=""hljs-params"">()</span></span> = state == State.Living } <span class=""hljs-keyword"">enum</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">State</span> </span>{ Living, Dead } <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Circle</span></span>(<span class=""hljs-keyword"">val</span> size: <span class=""hljs-built_in"">Int</span>, <span class=""hljs-keyword"">val</span> step: <span class=""hljs-built_in"">Int</span>) { <span class=""hljs-keyword"">val</span> soldiers = Array( size, {Soldier(it)}).toList() <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">findSurvivor</span><span class=""hljs-params"">()</span></span>: Soldier { <span class=""hljs-keyword"">var</span> soldier = soldiers.first() (<span class=""hljs-number"">2.</span>.size).forEach { (<span class=""hljs-number"">1.</span>.step).forEach { soldier = soldier.nextLivingSoldier() } soldier.suicide() } <span class=""hljs-keyword"">return</span> soldier.nextLivingSoldier() } tailrec <span class=""hljs-keyword"">private</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> Soldier.<span class=""hljs-title"">nextLivingSoldier</span><span class=""hljs-params"">()</span></span>:Soldier = <span class=""hljs-keyword"">if</span> (next().isAlive()) next() <span class=""hljs-keyword"">else</span> next().nextLivingSoldier() <span class=""hljs-keyword"">private</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> Soldier.<span class=""hljs-title"">next</span><span class=""hljs-params"">()</span></span> = soldiers.<span class=""hljs-keyword"">get</span>( <span class=""hljs-keyword"">if</span> (position == size - <span class=""hljs-number"">1</span>) <span class=""hljs-number"">0</span> <span class=""hljs-keyword"">else</span> position + <span class=""hljs-number"">1</span> ) }</code></pre> <p>I like this code a lot because it feels more Kotlin-esque. Improvements are many.</p> <ul> <li>The code is shorter without any loss of readability</li> <li> <p>It&rsquo;s entirely functional, there&rsquo;s only a single <code>var</code> involved:</p> <ul> <li>the 2 <code>while</code> loops with their associated <code>var</code> counter have been replaced by simple <code>forEach</code> on <code>Int</code> ranges.</li> <li>Chaining <code>Soldier</code> instances is not handled in the <code>Soldier</code> class itself through the <code>next()</code> method but by the containing <code>Circle</code>. Thus, a simple backing array can store them and there&rsquo;s no need for custom code with mutable variables.</li> </ul> </li> <li>The <em>recursive</em> <code>nextLivingSoldier()</code> function has been &ldquo;annotated&rdquo; with <code>tailrec</code> in order for the compiler to run its optimization magic.</li> <li>The <code>Soldier</code> class doesn&rsquo;t know about its container <code>Circle</code>&lsquo;s <code>size</code>, so functions using it have been moved inside the <code>Circle</code> class as extension functions to the <code>Soldier</code> class. This is a great usage of Kotlin&rsquo;s extension functions.</li> </ul> <p>This experience reinforced my belief that learning a language by just reading about it is not enough. To truly make it yours, steps should be those:</p> <ol> <li>obviously, learn the syntax of the language &ndash; and its API,</li> <li>code a solution or an app with this language,</li> <li>ask for feedback,</li> <li>read, analyze and understand the feedback,</li> <li>rinse and repeat.</li> </ol> https://blog.frankel.ch/feedback-jospehus-problemhttps://blog.frankel.ch/feedback-jospehus-problemKotlinNicolas FrankelSun, 13 Mar 2016 19:14:00 GMT (RU) SDCast #41: в гостях Андрей Бреслав, руководитель проекта Kotlin в компании JetBrains<p><img src=""https://sdcast.ksdaemon.ru/wp-content/uploads/2014/06/sd-podcast-logo-200x200.png"" alt=""sd-podcast-logo""> &#x420;&#x430;&#x434; &#x43F;&#x440;&#x435;&#x434;&#x441;&#x442;&#x430;&#x432;&#x438;&#x442;&#x44C; &#x432;&#x430;&#x43C; 41-&#x439; &#x432;&#x44B;&#x43F;&#x443;&#x441;&#x43A; &#x43F;&#x43E;&#x434;&#x43A;&#x430;&#x441;&#x442;&#x430;! &#x42D;&#x442;&#x43E;&#x442; &#x44D;&#x43F;&#x438;&#x437;&#x43E;&#x434; &#x43F;&#x43E;&#x441;&#x432;&#x44F;&#x449;&#x435;&#x43D; &#x44F;&#x437;&#x44B;&#x43A;&#x443; Kotlin, &#x443; &#x43C;&#x435;&#x43D;&#x44F; &#x432; &#x433;&#x43E;&#x441;&#x442;&#x44F;&#x445; &#x410;&#x43D;&#x434;&#x440;&#x435;&#x439; &#x411;&#x440;&#x435;&#x441;&#x43B;&#x430;&#x432;, &#x440;&#x443;&#x43A;&#x43E;&#x432;&#x43E;&#x434;&#x438;&#x442;&#x435;&#x43B;&#x44C; &#x43F;&#x440;&#x43E;&#x435;&#x43A;&#x442;&#x430; Kotlin &#x432; &#x43A;&#x43E;&#x43C;&#x43F;&#x430;&#x43D;&#x438;&#x438; JetBrains.</p> <p>&#x412; &#x43D;&#x430;&#x447;&#x430;&#x43B;&#x435; &#x432;&#x44B;&#x43F;&#x443;&#x441;&#x43A;&#x430; &#x43C;&#x44B; &#x43F;&#x43E;&#x433;&#x43E;&#x432;&#x43E;&#x440;&#x438;&#x43B;&#x438; &#x43E; &#x442;&#x43E;&#x43C;, &#x437;&#x430;&#x447;&#x435;&#x43C; &#x432;&#x43E;&#x43E;&#x431;&#x449;&#x435; &#x43D;&#x443;&#x436;&#x435;&#x43D; &#x435;&#x449;&#x435; &#x43E;&#x434;&#x438;&#x43D; &#x44F;&#x437;&#x44B;&#x43A;, &#x410;&#x43D;&#x434;&#x440;&#x435;&#x439; &#x440;&#x430;&#x441;&#x441;&#x43A;&#x430;&#x437;&#x430;&#x43B; &#x43F;&#x440;&#x43E; &#x438;&#x441;&#x442;&#x43E;&#x440;&#x438;&#x44E; &#x438; &#x43F;&#x440;&#x435;&#x434;&#x43F;&#x43E;&#x441;&#x44B;&#x43B;&#x43A;&#x438; &#x43F;&#x43E;&#x44F;&#x432;&#x43B;&#x435;&#x43D;&#x438;&#x44F; Kotlin, &#x43A;&#x430;&#x43A; &#x432;&#x441;&#x435; &#x43D;&#x430;&#x447;&#x438;&#x43D;&#x430;&#x43B;&#x43E;&#x441;&#x44C; &#x438; &#x440;&#x430;&#x437;&#x432;&#x438;&#x432;&#x430;&#x43B;&#x43E;&#x441;&#x44C;.</p> <p>&#x41E;&#x431;&#x441;&#x443;&#x434;&#x438;&#x43B;&#x438; &#x442;&#x430;&#x43A; &#x436;&#x435; &#x43E;&#x431;&#x449;&#x438;&#x435; &#x442;&#x435;&#x43E;&#x440;&#x435;&#x442;&#x438;&#x447;&#x435;&#x441;&#x43A;&#x438;&#x435; &#x430;&#x441;&#x43F;&#x435;&#x43A;&#x442;&#x44B; &#x440;&#x430;&#x437;&#x440;&#x430;&#x431;&#x43E;&#x442;&#x43A;&#x438; &#x44F;&#x437;&#x44B;&#x43A;&#x43E;&#x432; &#x43F;&#x440;&#x43E;&#x433;&#x440;&#x430;&#x43C;&#x43C;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x43D;&#x438;&#x44F;: &#x447;&#x435;&#x43C; &#x440;&#x430;&#x437;&#x440;&#x430;&#x431;&#x43E;&#x442;&#x43A;&#x430; &#x44F;&#x437;&#x44B;&#x43A;&#x430; &#x43E;&#x442;&#x43B;&#x438;&#x447;&#x430;&#x435;&#x442;&#x441;&#x44F; &#x43E;&#x442; &#x440;&#x430;&#x437;&#x440;&#x430;&#x431;&#x43E;&#x442;&#x43A;&#x438; &#x43A;&#x430;&#x43A;&#x438;&#x445;-&#x43B;&#x438;&#x431;&#x43E; &#x434;&#x440;&#x443;&#x433;&#x438;&#x445; &#x43F;&#x440;&#x43E;&#x433;&#x440;&#x430;&#x43C;&#x43C;&#x43D;&#x44B;&#x445; &#x43F;&#x440;&#x43E;&#x434;&#x443;&#x43A;&#x442;&#x43E;&#x432;, &#x43A;&#x430;&#x43A;&#x438;&#x435; &#x43A;&#x43E;&#x43C;&#x43F;&#x43E;&#x43D;&#x435;&#x43D;&#x442;&#x44B; &#x44F;&#x432;&#x43B;&#x44F;&#x44E;&#x442;&#x441;&#x44F; &#x43E;&#x441;&#x43D;&#x43E;&#x432;&#x43E;&#x439; &#x434;&#x43B;&#x44F; &#x43F;&#x43E;&#x441;&#x442;&#x440;&#x43E;&#x435;&#x43D;&#x438;&#x44F; &#x44F;&#x437;&#x44B;&#x43A;&#x430;, &#x43D;&#x430; &#x43A;&#x430;&#x43A;&#x438;&#x435; &#x430;&#x441;&#x43F;&#x435;&#x43A;&#x442;&#x44B; &#x441;&#x43B;&#x435;&#x434;&#x443;&#x435;&#x442; &#x43E;&#x431;&#x440;&#x430;&#x449;&#x430;&#x442;&#x44C; &#x43E;&#x441;&#x43E;&#x431;&#x43E;&#x435; &#x432;&#x43D;&#x438;&#x43C;&#x430;&#x43D;&#x438;&#x435; &#x438; &#x43A;&#x430;&#x43A; &#x43F;&#x440;&#x430;&#x432;&#x438;&#x43B;&#x44C;&#x43D;&#x43E; &#x437;&#x430;&#x43B;&#x43E;&#x436;&#x438;&#x442;&#x44C; &#x430;&#x440;&#x445;&#x438;&#x442;&#x435;&#x43A;&#x442;&#x443;&#x440;&#x443;.</p> <p>&#x422;&#x430;&#x43A; &#x436;&#x435; &#x410;&#x43D;&#x434;&#x440;&#x435;&#x439; &#x440;&#x430;&#x441;&#x441;&#x43A;&#x430;&#x437;&#x430;&#x43B;, &#x43F;&#x43E;&#x447;&#x435;&#x43C;&#x443; &#x432; &#x43A;&#x430;&#x447;&#x435;&#x441;&#x442;&#x432;&#x435; &#x43F;&#x43B;&#x430;&#x442;&#x444;&#x43E;&#x440;&#x43C;&#x44B; &#x431;&#x44B;&#x43B;&#x430; &#x432;&#x44B;&#x431;&#x440;&#x430;&#x43D;&#x430; JVM, &#x440;&#x430;&#x441;&#x441;&#x43A;&#x430;&#x437;&#x430;&#x43B; &#x43D;&#x435;&#x43A;&#x43E;&#x442;&#x43E;&#x440;&#x44B;&#x435; &#x442;&#x435;&#x445;&#x43D;&#x438;&#x447;&#x435;&#x441;&#x43A;&#x438;&#x435; &#x43F;&#x43E;&#x434;&#x440;&#x43E;&#x431;&#x43D;&#x43E;&#x441;&#x442;&#x438; &#x440;&#x435;&#x430;&#x43B;&#x438;&#x437;&#x430;&#x446;&#x438;&#x438; &#x43F;&#x440;&#x43E;&#x435;&#x43A;&#x442;&#x430;. &#x41F;&#x43E;&#x434;&#x440;&#x43E;&#x431;&#x43D;&#x43E; &#x440;&#x430;&#x441;&#x441;&#x43A;&#x430;&#x437;&#x430;&#x43B; &#x43F;&#x440;&#x43E; interop &#x441; Java, &#x43E; &#x442;&#x43E;&#x43C;, &#x43A;&#x430;&#x43A; &#x43C;&#x43E;&#x436;&#x43D;&#x43E; &#x43D;&#x430;&#x447;&#x430;&#x442;&#x44C; &#x438;&#x441;&#x43F;&#x43E;&#x43B;&#x44C;&#x437;&#x43E;&#x432;&#x430;&#x442;&#x44C; Kotlin &#x432; &#x443;&#x436;&#x435; &#x441;&#x443;&#x449;&#x435;&#x441;&#x442;&#x432;&#x443;&#x44E;&#x449;&#x435;&#x43C; &#x43F;&#x440;&#x43E;&#x435;&#x43A;&#x442;&#x435; &#x43D;&#x430; Java &#x441;&#x435;&#x439;&#x447;&#x430;&#x441;, &#x438; &#x43A;&#x430;&#x43A; &#x43E;&#x43D;&#x438; &#x443; &#x441;&#x435;&#x431;&#x44F;, &#x432; &#x43A;&#x43E;&#x43C;&#x43F;&#x430;&#x43D;&#x438;&#x438; JetBrains &#x443;&#x436;&#x435; &#x43D;&#x430;&#x447;&#x430;&#x43B;&#x438; &#x44D;&#x442;&#x43E; &#x434;&#x435;&#x43B;&#x430;&#x442;&#x44C;.</p> <p>&#x41D;&#x435; &#x43E;&#x431;&#x43E;&#x448;&#x43B;&#x438; &#x43C;&#x44B; &#x441;&#x442;&#x43E;&#x440;&#x43E;&#x439; &#x438; &#x441;&#x43E;&#x446;&#x438;&#x430;&#x43B;&#x44C;&#x43D;&#x443;&#x44E; &#x441;&#x43E;&#x441;&#x442;&#x430;&#x432;&#x43B;&#x44F;&#x44E;&#x449;&#x443;&#x44E; &#x43F;&#x440;&#x43E;&#x435;&#x43A;&#x442;&#x430;. &#x41A;&#x43E;&#x434; &#x44F;&#x437;&#x44B;&#x43A;&#x430; Kotlin &#x432;&#x44B;&#x43B;&#x43E;&#x436;&#x435;&#x43D; &#x432; open source &#x43D;&#x430; github. &#x410;&#x43D;&#x434;&#x440;&#x435;&#x439; &#x440;&#x430;&#x441;&#x441;&#x43A;&#x430;&#x437;&#x430;&#x43B; &#x43F;&#x440;&#x43E; &#x441;&#x43E;&#x43E;&#x431;&#x449;&#x435;&#x441;&#x442;&#x432;&#x43E;, &#x43A;&#x43E;&#x442;&#x43E;&#x440;&#x43E;&#x435; &#x441;&#x444;&#x43E;&#x440;&#x43C;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x43B;&#x43E;&#x441;&#x44C; &#x432;&#x43E;&#x43A;&#x440;&#x443;&#x433; &#x43F;&#x440;&#x43E;&#x435;&#x43A;&#x442;&#x430;, &#x438; &#x43A;&#x430;&#x43A; &#x43E;&#x43D;&#x438; &#x441; &#x43D;&#x438;&#x43C; &#x432;&#x437;&#x430;&#x438;&#x43C;&#x43E;&#x434;&#x435;&#x439;&#x441;&#x442;&#x432;&#x443;&#x44E;&#x442;, &#x43E;&#x431;&#x441;&#x443;&#x436;&#x434;&#x430;&#x44E;&#x442; &#x437;&#x430;&#x43F;&#x440;&#x43E;&#x441;&#x44B; &#x43D;&#x430; &#x43D;&#x43E;&#x432;&#x44B;&#x439; &#x444;&#x443;&#x43D;&#x43A;&#x446;&#x438;&#x43E;&#x43D;&#x430;&#x43B;, &#x431;&#x430;&#x433;-&#x440;&#x435;&#x43F;&#x43E;&#x440;&#x442;&#x44B; &#x438; &#x432;&#x441;&#x435; &#x43F;&#x440;&#x43E;&#x447;&#x435;&#x435;.</p> <p>&#x412; &#x437;&#x430;&#x432;&#x435;&#x440;&#x448;&#x435;&#x43D;&#x438;&#x435; &#x432;&#x44B;&#x43F;&#x443;&#x441;&#x43A;&#x430;, &#x410;&#x43D;&#x434;&#x440;&#x435;&#x439; &#x43F;&#x43E;&#x434;&#x435;&#x43B;&#x438;&#x43B;&#x441;&#x44F; &#x43F;&#x43B;&#x430;&#x43D;&#x430;&#x43C;&#x438; &#x43F;&#x43E; &#x440;&#x430;&#x437;&#x432;&#x438;&#x442;&#x438;&#x44E; &#x44F;&#x437;&#x44B;&#x43A;&#x430; &#x43A;&#x430;&#x43A; &#x432; &#x431;&#x43B;&#x438;&#x436;&#x430;&#x439;&#x448;&#x435;&#x43C; &#x431;&#x443;&#x434;&#x443;&#x449;&#x435;&#x43C;, &#x442;&#x430;&#x43A; &#x438; &#x432; &#x434;&#x43E;&#x43B;&#x433;&#x43E;&#x441;&#x440;&#x43E;&#x447;&#x43D;&#x43E;&#x439; &#x43F;&#x435;&#x440;&#x441;&#x43F;&#x435;&#x43A;&#x442;&#x438;&#x432;&#x435;.</p> <p>&#x421;&#x441;&#x44B;&#x43B;&#x43A;&#x438; &#x43D;&#x430; &#x440;&#x435;&#x441;&#x443;&#x440;&#x441;&#x44B; &#x43F;&#x43E; &#x442;&#x435;&#x43C;&#x430;&#x43C; &#x432;&#x44B;&#x43F;&#x443;&#x441;&#x43A;&#x430;:</p> <ul> <li> <p>&#x410;&#x43D;&#x434;&#x440;&#x435;&#x439; &#x432; &#x441;&#x43E;&#x446; &#x441;&#x435;&#x442;&#x44F;&#x445;:</p> <ul> <li><a href=""https://twitter.com/abreslav"">Twitter</a></li> <li><a href=""https://fb.com/abreslav"">Facebook</a></li> <li><a href=""https://vk.com/abreslav"">&#x412;&#x41A;&#x43E;&#x43D;&#x442;&#x430;&#x43A;&#x442;&#x435;</a></li> <li><a href=""https://www.linkedin.com/in/abreslav"">LinkedIn</a></li> </ul> </li> <li><a href=""https://kotlinlang.org/"">&#x41E;&#x441;&#x43D;&#x43E;&#x432;&#x43D;&#x43E;&#x439; &#x441;&#x430;&#x439;&#x442; &#x43F;&#x440;&#x43E;&#x435;&#x43A;&#x442;&#x430; kotlinlang.org</a></li> <li><a href=""https://github.com/JetBrains/kotlin"">&#x420;&#x435;&#x43F;&#x43E;&#x437;&#x438;&#x442;&#x43E;&#x440;&#x438;&#x439; &#x43D;&#x430; github</a></li> <li><a href=""http://blog.jetbrains.com/kotlin/2016/02/kotlin-1-0-released-pragmatic-language-for-jvm-and-android/"">&#x41F;&#x43E;&#x441;&#x442; &#x432; &#x431;&#x43B;&#x43E;&#x433;&#x435; &#x43F;&#x440;&#x43E;&#x435;&#x43A;&#x442;&#x430; &#x43E; &#x440;&#x435;&#x43B;&#x438;&#x437;&#x435; 1.0</a></li> <li> <p>&#x41D;&#x435;&#x441;&#x43A;&#x43E;&#x43B;&#x44C;&#x43A;&#x43E; &#x432;&#x438;&#x434;&#x435;&#x43E; &#x434;&#x43E;&#x43A;&#x43B;&#x430;&#x434;&#x43E;&#x432; &#x43F;&#x440;&#x43E; Kotlin &#x410;&#x43D;&#x434;&#x440;&#x435;&#x44F; &#x411;&#x440;&#x435;&#x441;&#x43B;&#x430;&#x432;&#x430; &#x438; &#x414;&#x43C;&#x438;&#x442;&#x440;&#x438;&#x44F; &#x416;&#x435;&#x43C;&#x435;&#x440;&#x43E;&#x432;&#x430;:</p> <ul> <li><a href=""https://www.youtube.com/watch?v=HWyd1gYMkl0"">&#x427;&#x442;&#x43E; &#x442;&#x430;&#x43A;&#x43E;&#x435; Kotlin? &#x412;&#x432;&#x435;&#x434;&#x435;&#x43D;&#x438;&#x435;</a></li> <li><a href=""https://www.youtube.com/watch?v=LWFx4QWrTyo"">Kotlin: &#x441;&#x430;&#x43C;&#x43E;&#x435; &#x441;&#x43B;&#x43E;&#x436;&#x43D;&#x43E;&#x435; &mdash; &#x441;&#x43E;&#x432;&#x43C;&#x435;&#x441;&#x442;&#x438;&#x43C;&#x43E;&#x441;&#x442;&#x44C;</a></li> <li><a href=""https://www.youtube.com/watch?v=VU_L2_XGQ9s"">Kotlin &#x434;&#x43B;&#x44F; Android: &#x43A;&#x43E;&#x440;&#x43E;&#x442;&#x43A;&#x43E; &#x438; &#x44F;&#x441;&#x43D;&#x43E;</a></li> <li><a href=""https://www.youtube.com/watch?v=YOmdOTlhZa8"">Kotlin: &#x441;&#x435;&#x441;&#x441;&#x438;&#x44F; &#x432;&#x43E;&#x43F;&#x440;&#x43E;&#x441;&#x43E;&#x432; &#x438; &#x43E;&#x442;&#x432;&#x435;&#x442;&#x43E;&#x432; &#x441;&#x43E; &#x432;&#x441;&#x442;&#x440;&#x435;&#x447;&#x438; JUG.ru 04.03.2016</a></li> </ul> </li> </ul> https://sdcast.ksdaemon.ru/2016/03/sdcast-41/https://sdcast.ksdaemon.ru/2016/03/sdcast-41/KotlinPodcastАндрей Бреслав, Константин БуркалевFri, 11 Mar 2016 21:54:00 GMT Why I don't want to use Kotlin for Android Development yet<p>Even though Kotlin is better than Java in many points it still has significant (in my opinion) drawbacks.</p> <blockquote> <p>Please treat it as personal opinion &amp; comment if you have solutions for problems listed below.</p> </blockquote> <h6>1) Slow compilation</h6> <p>Small project (~100 classes in total, mostly in Kotlin) takes ~1 minute to assemble. This is simply unacceptable. <a href=""https://youtrack.jetbrains.com/issue/KT-6246"">https://youtrack.jetbrains.com/issue/KT-6246</a></p> <h6>2) Performance of Kotlin plugin for IDEA</h6> <p>Syntax analysis and highlighting of Kotlin in IDEA (Android Studio) pretty often freezes development machine during typing, unacceptable.</p> <h6>3) Problems with annotation processing</h6> <p>Sometimes it gives random errors and you have to do <code>clean</code>. Almost every day I see complaints about that on different resources. I&#x27;m not alone.</p> <h6>4) Mocking Kotlin classes with Mockito is painful</h6> <p>Almost everything is <code>final</code> in Kotlin by default: classes, methods, etc. And I really like it because it forces immutability -&gt; less bugs. But at the same time, it makes mocking via <code>Mockito</code> (which is kind of gold standard in JVM world) painful and goes contrary with language design.</p> <p>Yes, PowerMock is possible solution, but it interferes with tools like Robolectric and generally it was always a good rule that you should not mock final classes and final method.</p> <p>I understand that in Java we have that problem of everything non-final by design, but at the same time <strong>I don&#x27;t want to change code just for testing.</strong></p> <h6>5) No static analyzers for Kotlin yet</h6> <p>Yes, <code>kotlinc</code> adds more safety to the code than <code>javac</code>, but if you want to achieve good performance of the compiler you don&#x27;t want to turn it into static analyzer.</p> <p>Static code analysis is good for CI, but probably you don&#x27;t want to run it every time you click on <code>run</code> button in IDE during local development.</p> <p>Java has: FindBugs, PMD, Checkstyle, Sonarqube, Error Prone, FB infer.</p> <p>Kotlin has: <code>kotlinc</code>.</p> <blockquote> <p>Points above were objective, I hope. Points below are more subjective and personal.</p> </blockquote> <h6>6) <code>==</code> does <code>equals()</code> instead of reference comparison</h6> <p>If Kotlin is &quot;better&quot; Java or &quot;Java on steroids&quot; then it should be <em>better</em>, but not <em>breaking</em>.</p> <p>Imagine you&#x27;re in the process of rewriting Java project to Kotlin, you will have Java and Kotlin code at the same time.</p> <p>You&#x27;ll have to read and write <em>same</em> code that works differently from language to language. This is one of the reasons why I don&#x27;t like Groovy.</p> <h6>7) In bad hands operators overloading may lead to bad results</h6> <p>Statement 1: you will need to deal with old codebase written in Kotlin in future. Statement 2: you can add operators overloading to <strong>existing</strong> java classes via extension functions.</p> <p>Now imagine you see something like <code>val person3 = person1 + person2</code> in already written code you need to deal with.</p> <p>Every project you&#x27;ll work on may have its own meaning of operators for same classes &#x1F63F;</p> <p>Operators overloading is controversial, these links may help you decide (not all of them end with same conclusion):</p> <ul> <li><a href=""http://cafe.elharo.com/programming/operator-overloading-considered-harmful/"">Operator Overloading Considered Harmful</a></li> <li><a href=""http://james-iry.blogspot.ru/2009/03/operator-overloading-ad-absurdum.html"">Operator Overloading Ad Absurdum</a></li> <li><a href=""http://blog.jooq.org/2014/02/10/why-everyone-hates-operator-overloading/"">Why Everyone Hates Operator Overloading</a></li> </ul> <hr> <p><a href=""https://twitter.com/artem_zin"">@artem_zin</a></p> http://artemzin.com/blog/why-i-dont-want-to-use-kotlin-for-android-development-yet/http://artemzin.com/blog/why-i-dont-want-to-use-kotlin-for-android-development-yet/AndroidKotlinArtem ZinnatullinFri, 11 Mar 2016 19:58:00 GMT Getting Started with Kotlin and Anko on Android<p>by <a href=""https://twitter.com/donnfelker"">Donn Felker</a></p> <h3>Getting Started With Kotlin and Anko on Android</h3> <p>I&rsquo;m just going to say it like it is ...</p> <blockquote> <p>Android is stuck in Java 6 purgatory.</p> </blockquote> <p><img src=""http://cl.ly/2q0e3B3l202Z/1__adb.png"" alt=""ADB Hell""></p> <p>When I first started developing for Android, I was coming out of working very heavily with C# for a few years. I came over to find a lack of proper generics support (when compared to Java generics), no lambda expressions, and an awkward syntax for common things that I felt should just be in the language. 8 years later, I&rsquo;m still stuck writing super-verbose Java 6. Java 8 has been out for a while now, and it would be great to use some of those features without having to resort to bytecode weaving! (That said, I am very thankful for <a href=""https://github.com/orfjackal/retrolambda"">retrolambda</a>.) Unfortunately, who knows if or when Java 8 support will ever arrive.</p> <p>Thankfully, there seems to be a new hope for Android development: <a href=""https://kotlinlang.org"">Kotlin</a>.</p> <p><img src=""http://cl.ly/0q2n240R3I3N/kotlin-logo.png"" alt=""Kotlin Logo""></p> <p>Kotlin is a new JVM-compatible language from JetBrains that you can use to write Android applications. If you haven&rsquo;t been exposed to the language, I highly recommend that you watch <a href=""https://realm.io/news/droidcon-michael-pardo-kotlin/"">Michael Pardo&rsquo;s talk on Kotlin</a> from <a href=""http://droidcon.nyc"">Droidcon NYC</a>. Furthermore, the layout view for a portion of the application will be created with <a href=""https://github.com/Kotlin/anko"">Anko</a>, a DSL (Domain-Specific Language) for Android which is written in Kotlin. You can get a basic understanding of Anko <a href=""https://github.com/Kotlin/anko"">here</a>.</p> <p>Kotlin, as a language, is a breath of fresh air compared to Java 6. Once you get used to the syntax, you will notice that it is much more succinct than its Java 6 counterpart. Since Kotlin is JVM-compatible, it will compile down to JVM bytecode that is understood by Android.</p> <p><em><strong>Important</strong>: This article will assume that you have a basic understanding of Kotlin and Anko.</em></p> <h3>Using Kotlin in an Android project</h3> <p>As with anything new, you&rsquo;d probably like to try out Kotlin but you don&rsquo;t want to commit an entire project to it just yet. With Kotlin and Android Studio, you can have both Java and Kotlin sitting side by side in your application. I recommend taking a screen, a feature, or a simple custom widget, and writing it in Kotlin to see how it feels. Integrating Kotlin into your codebase slowly allows you to give the language a test run and allows you to keep existing application code untouched.</p> <p>Thankfully it&rsquo;s quite easily to integrate Kotlin into an existing Android application with the free Kotlin plugin for Android Studio. To get started, you&rsquo;ll need to install the plugin. Open Android Studio and select <code>Configure &gt; Plugins</code>. If the screen below is not visible, close all your projects and <code>Welcome to Android Studio</code> window will present itself.</p> <p><img src=""http://f.cl.ly/items/0h2Q0f0I3g471m3j190s/Screen%20Shot%202016-03-01%20at%2010.45.09%20AM.png"" alt=""Configure Plugin""></p> <p>Then select <code>Install JetBrains Plugin</code> as shown below.</p> <p><img src=""http://cl.ly/312E3M123n2L/3_1_16__10_46_AM.png"" alt=""Install Plugin""></p> <p>Now search for <code>Kotlin</code> and install the <code>Kotlin</code> plugin as shown below. The main Kotlin plugin includes the Android extensions.</p> <p><img src=""http://cl.ly/2I1k3H0X2i0o/Untitled-1___100___Layer_1__RGB_8____.png"" alt=""""></p> <p>You&rsquo;re now ready to start building your first feature with Kotlin!</p> <h3>The Application</h3> <p>The application that I&rsquo;m going to be working with is a simple to-do list application. The main screen has a list of to-dos that looks like this:</p> <p><img src=""http://cl.ly/2t15210V3r3l/3_1_16__11_05_AM.png"" alt=""Example Screenshot""></p> <p>To add a to-do, users tap on the FAB (Floating Action Button). To edit a to-do, they tap on the to-do itself. This will load the add/edit screen. The add/edit screen is what I will write in Kotlin and Anko.</p> <h3>What is Anko?</h3> <p><a href=""https://github.com/Kotlin/anko"">Anko</a> is a DSL (Domain-Specific Language) for Android written in Kotlin. Traditionally, Android views are expressed as XML layouts. This XML is usually duplicated in various parts of your application and is not re-used (sometimes it is, with includes). At runtime, the XML is then transformed into the Java representation of the view which wastes CPU and battery. Anko allows you to write this view in Kotlin, in an Activity or Fragment (or even as an <a href=""https://github.com/Kotlin/anko#ankocomponent"">AnkoComponent</a>, an external Kotlin file that represents the view).</p> <p>Here&rsquo;s an example of a simple XML file that is transformed to Anko.</p> <p><strong>XML</strong></p> <pre><code class=""hljs language-xml""><span class=""hljs-tag"">&lt;<span class=""hljs-name"">LinearLayout</span> <span class=""hljs-attr"">xmlns:android</span>=<span class=""hljs-string"">""http://schemas.android.com/apk/res/android""</span> <span class=""hljs-attr"">android:layout_height</span>=<span class=""hljs-string"">""match_parent""</span> <span class=""hljs-attr"">android:layout_width</span>=<span class=""hljs-string"">""match_parent""</span>&gt;</span> <span class=""hljs-tag"">&lt;<span class=""hljs-name"">EditText</span> <span class=""hljs-attr"">android:id</span>=<span class=""hljs-string"">""@+id/todo_title""</span> <span class=""hljs-attr"">android:layout_width</span>=<span class=""hljs-string"">""match_parent""</span> <span class=""hljs-attr"">android:layout_heigh</span>=<span class=""hljs-string"">""wrap_content""</span> <span class=""hljs-attr"">android:hint</span>=<span class=""hljs-string"">""@string/title_hint""</span> /&gt;</span> <span class=""hljs-comment"">&lt;!-- Cannot directly add an inline click listener as onClick delegates implementation to the activity --&gt;</span> <span class=""hljs-tag"">&lt;<span class=""hljs-name"">Button</span> <span class=""hljs-attr"">android:layout_width</span>=<span class=""hljs-string"">""match_parent""</span> <span class=""hljs-attr"">android:layout_height</span>=<span class=""hljs-string"">""wrap_content""</span> <span class=""hljs-attr"">android:text</span>=<span class=""hljs-string"">""@string/add_todo""</span> /&gt;</span> <span class=""hljs-tag"">&lt;/<span class=""hljs-name"">LinearLayout</span>&gt;</span></code></pre> <p><strong>The same view expressed in Anko</strong></p> <pre><code class=""hljs language-kotlin"">verticalLayout { <span class=""hljs-keyword"">var</span> title = editText { id = R.id.todo_title hintResource = R.string.title_hint } button { textResource = R.string.add_todo onClick { view -&gt; { <span class=""hljs-comment"">// do something here</span> title.text = <span class=""hljs-string"">""Foo""</span> } } } }</code></pre> <p>Notice the inline click listener in the layout definition above. Since this is Kotlin, you can also access other view members, such as <code>title</code> and use them in the click listener.</p> <h3>Getting Started</h3> <p>Using this <a href=""https://github.com/donnfelker/KotlinMix/archive/fresh.zip"">starter app</a> you can start with a blank slate. (Final code is available <a href=""https://github.com/donnfelker/KotlinMix/"">here</a>). This app has the following:</p> <ul> <li>An Activity (<code>MainActivity</code>) that acts as a simple controller of the application.</li> <li>A <a href=""https://github.com/thorbenprimke/realm-recyclerview"">RecyclerView</a> to show the to-dos on the first screen (TodosFragment)</li> <li>A Realm database to store the to-dos</li> <li>A <code>Todo.java</code> Realm model</li> <li>An adapter for the RecyclerView</li> </ul> <p>You will now build the add/edit screen using Kotlin and Anko.</p> <h3>Set Up Your Application for Kotlin and Anko</h3> <p>Now that you have the Kotlin extension installed, you&rsquo;ll want to configure your application using the <code>Configure Kotlin in Project</code> action. In Android Studio, press <code>CMD+SHIFT+A</code> to open the action finder window. Type in <code>Kotlin</code> and select <code>Configure Kotlin in Project</code> action as shown below:</p> <p><img src=""http://cl.ly/2f023X2q1r2r/Screenshot_3_1_16__11_57_AM.png"" alt=""Actions""></p> <p>After this runs, your <code>build.gradle</code> file will have been updated with <code>kotlin-android</code> applied at the top of the file, a Kotlin <code>sourceSet</code> added, and Kotlin added to your dependencies.</p> <p>During this time you&rsquo;ll also want to add Anko to your dependencies. Your <code>build.gradle</code> file should look similar to this:</p> <pre><code class=""hljs language-groovy"">apply <span class=""hljs-string"">plugin:</span> <span class=""hljs-string"">'com.android.application'</span> apply <span class=""hljs-string"">plugin:</span> <span class=""hljs-string"">'kotlin-android'</span> android { compileSdkVersion <span class=""hljs-number"">23</span> buildToolsVersion <span class=""hljs-string"">""23.0.2""</span> defaultConfig { applicationId <span class=""hljs-string"">""com.donnfelker.kotlinmix""</span> minSdkVersion <span class=""hljs-number"">16</span> targetSdkVersion <span class=""hljs-number"">23</span> versionCode <span class=""hljs-number"">1</span> versionName <span class=""hljs-string"">""1.0""</span> } buildTypes { release { minifyEnabled <span class=""hljs-literal"">false</span> } } packagingOptions { exclude <span class=""hljs-string"">'META-INF/services/javax.annotation.processing.Processor'</span> } sourceSets { main.java.srcDirs += <span class=""hljs-string"">'src/main/kotlin'</span> } } dependencies { compile fileTree(<span class=""hljs-string"">dir:</span> <span class=""hljs-string"">'libs'</span>, <span class=""hljs-string"">include:</span> [<span class=""hljs-string"">'*.jar'</span>]) testCompile <span class=""hljs-string"">'junit:junit:4.12'</span> <span class=""hljs-comment"">// Kotlin</span> compile <span class=""hljs-string"">""org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version""</span> <span class=""hljs-comment"">// Anko</span> compile <span class=""hljs-string"">'org.jetbrains.anko:anko-sdk15:0.8.2'</span> <span class=""hljs-comment"">// sdk19, sdk21, sdk23 are also available</span> compile <span class=""hljs-string"">'org.jetbrains.anko:anko-support-v4:0.8.2'</span> <span class=""hljs-comment"">// In case you need support-v4 bindings</span> compile <span class=""hljs-string"">'org.jetbrains.anko:anko-appcompat-v7:0.8.2'</span> <span class=""hljs-comment"">// For appcompat-v7 bindings</span> compile <span class=""hljs-string"">'com.android.support:appcompat-v7:23.1.1'</span> compile <span class=""hljs-string"">'com.android.support:design:23.1.1'</span> compile <span class=""hljs-string"">'io.realm:realm-android:0.87.1'</span> compile <span class=""hljs-string"">'com.github.thorbenprimke:realm-recyclerview:0.9.12'</span> compile <span class=""hljs-string"">'com.jakewharton:butterknife:7.0.1'</span> compile <span class=""hljs-string"">'com.android.support:support-v4:23.1.1'</span> } buildscript { ext.kotlin_version = <span class=""hljs-string"">'1.0.0'</span> repositories { mavenCentral() } dependencies { classpath <span class=""hljs-string"">""org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version""</span> } } repositories { mavenCentral() }</code></pre> <p>You&rsquo;re now ready to start creating the add/edit to-do screen.</p> <h3>Adding a Fragment with Kotlin</h3> <p>If the <code>src/main/kotlin/com.donnfelker.kotlinmix/</code> directory does not exist, create it. You&rsquo;ll notice that the <code>kotlin</code> folder turns blue indicating that this is a source folder.</p> <p>Right-click on the <code>/src/main/kotlin/com.donnfelker.kotlinmix/</code> folder, select <code>New &gt; Kotlin File/Class</code>, and give it the name <code>EditFragment</code>. The new file is created and only contains a package declaration.</p> <p>Copy the code below and past it into the <code>EditFragment</code> file.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">package</span> com.donnfelker.kotlinmix <span class=""hljs-keyword"">import</span> android.os.Bundle <span class=""hljs-keyword"">import</span> android.support.v4.app.Fragment <span class=""hljs-keyword"">import</span> android.view.LayoutInflater <span class=""hljs-keyword"">import</span> android.view.View <span class=""hljs-keyword"">import</span> android.view.ViewGroup <span class=""hljs-keyword"">import</span> android.widget.Button <span class=""hljs-keyword"">import</span> android.widget.EditText <span class=""hljs-keyword"">import</span> com.donnfelker.kotlinmix.models.Todo <span class=""hljs-keyword"">import</span> io.realm.Realm <span class=""hljs-keyword"">import</span> org.jetbrains.anko.* <span class=""hljs-keyword"">import</span> org.jetbrains.anko.support.v4.UI <span class=""hljs-keyword"">import</span> org.jetbrains.anko.support.v4.find <span class=""hljs-keyword"">import</span> java.util.* <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">EditFragment</span> : <span class=""hljs-type"">Fragment</span></span>() { <span class=""hljs-keyword"">val</span> TODO_ID_KEY: String = <span class=""hljs-string"">""todo_id_key""</span> <span class=""hljs-keyword"">val</span> realm: Realm = Realm.getDefaultInstance() <span class=""hljs-keyword"">var</span> todo: Todo? = <span class=""hljs-literal"">null</span> <span class=""hljs-keyword"">companion</span> <span class=""hljs-keyword"">object</span> { <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">newInstance</span><span class=""hljs-params"">(id: <span class=""hljs-type"">String</span>)</span></span>: EditFragment { <span class=""hljs-keyword"">var</span> args: Bundle = Bundle() args.putString(<span class=""hljs-string"">""todo_id_key""</span>, id) <span class=""hljs-keyword"">var</span> editFragment: EditFragment = newInstance() editFragment.arguments = args <span class=""hljs-keyword"">return</span> editFragment } <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">newInstance</span><span class=""hljs-params"">()</span></span>: EditFragment { <span class=""hljs-keyword"">return</span> EditFragment() } } <span class=""hljs-keyword"">override</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">onActivityCreated</span><span class=""hljs-params"">(savedInstanceState: <span class=""hljs-type"">Bundle</span>?)</span></span> { <span class=""hljs-keyword"">super</span>.onActivityCreated(savedInstanceState) <span class=""hljs-keyword"">if</span>(arguments != <span class=""hljs-literal"">null</span> &amp;&amp; arguments.containsKey(TODO_ID_KEY)) { <span class=""hljs-keyword"">val</span> todoId = arguments.getString(TODO_ID_KEY) todo = realm.where(Todo::<span class=""hljs-class""><span class=""hljs-keyword"">class</span>.<span class=""hljs-title"">java</span>).<span class=""hljs-title"">equalTo</span></span>(<span class=""hljs-string"">""id""</span>, todoId).findFirst() <span class=""hljs-keyword"">val</span> todoTitle = find&lt;EditText&gt;(R.id.todo_title) todoTitle.setText(todo?.title) <span class=""hljs-keyword"">val</span> todoDesc = find&lt;EditText&gt;(R.id.todo_desc) todoDesc.setText(todo?.description) <span class=""hljs-keyword"">val</span> add = find&lt;Button&gt;(R.id.todo_add) add.setText(R.string.save) } } <span class=""hljs-keyword"">override</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">onDestroy</span><span class=""hljs-params"">()</span></span> { <span class=""hljs-keyword"">super</span>.onDestroy() realm.close() } <span class=""hljs-comment"">/** * A private function to create a TODO item in the database (Realm). * * <span class=""hljs-doctag"">@param</span> title the title edit text. * <span class=""hljs-doctag"">@param</span> desc the description edit text. */</span> <span class=""hljs-keyword"">private</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">createTodoFrom</span><span class=""hljs-params"">(title: <span class=""hljs-type"">EditText</span>, desc: <span class=""hljs-type"">EditText</span>)</span></span> { realm.beginTransaction() <span class=""hljs-comment"">// Either update the edited object or create a new one.</span> <span class=""hljs-keyword"">var</span> t = todo?: realm.createObject(Todo::<span class=""hljs-class""><span class=""hljs-keyword"">class</span>.<span class=""hljs-title"">java</span>)</span> t.id = todo?.id?: UUID.randomUUID().toString() t.title = title.text.toString() t.description = desc.text.toString() realm.commitTransaction() <span class=""hljs-comment"">// Go back to previous activity</span> activity.supportFragmentManager.popBackStack(); } }</code></pre> <p>The example above has a few methods: <code>newInstance</code>, <code>onActivityCreated</code>, <code>onDestroy</code>, and <code>createTodoFrom</code>. <code>createTodoFrom</code> accepts two <code>EditText</code> widgets as parameters, which are used to either create a new <code>Todo</code> or to update an existing one, all in a single line of code.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">var</span> t = todo?: realm.createObject(Todo::<span class=""hljs-class""><span class=""hljs-keyword"">class</span>.<span class=""hljs-title"">java</span>)</span></code></pre> <p>This will check to see if the field-level <code>todo</code> value is null. If it is, then it will create a new <code>Todo</code> instance. If it is not null, it will use that local field instance. The field instance is instantiated in the <code>onActivityCreated</code> method near the top of the file.</p> <p>In <code>onActivityCreated</code>, the arguments of the fragment are checked. If they&rsquo;re not null, the id of the <code>Todo</code> is pulled from the intent extras and the <code>Todo</code> object is obtained from Realm. The <code>todo</code> field is now instantiated, indicating that the <code>Todo</code> object is being edited. The views are updated with the corresponding values at that point.</p> <h3>Adding the View with Anko</h3> <p>You&rsquo;ve probably noticed that there is no view present in the Fragment. To add a view, copy and paste this code into the fragment:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">override</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">onCreateView</span><span class=""hljs-params"">(inflater: <span class=""hljs-type"">LayoutInflater</span>?, container: <span class=""hljs-type"">ViewGroup</span>?, savedInstanceState: <span class=""hljs-type"">Bundle</span>?)</span></span>: View? { <span class=""hljs-keyword"">return</span> UI { verticalLayout { padding = dip(<span class=""hljs-number"">30</span>) <span class=""hljs-keyword"">var</span> title = editText { id = R.id.todo_title hintResource = R.string.title_hint } <span class=""hljs-keyword"">var</span> desc = editText { id = R.id.todo_desc hintResource = R.string.description_hint } button { id = R.id.todo_add textResource = R.string.add_todo onClick { view -&gt; createTodoFrom(title, desc) } } } }.view }</code></pre> <p>This Anko code creates a LinearLayout with a vertical orientation (<code>verticalLayout</code>). Inside of the <code>verticalLayout</code> block, three Android widgets are created - two <code>editText</code> views and one <code>button</code> view. The view attributes are set in line. There is something interesting happening in the widget declaration of the button. The button has a click listener set in the view declaration. The method <code>createTodoFrom</code> is called with the <code>title</code> and <code>desc</code> variables that are declared prior to the button. Finally, the view is returned by calling the <code>view</code> property on the AnkoContext (<code>UI</code> class).</p> <p>The <code>id</code>s are set with <code>R.id.&lt;id_name&gt;</code>. These <code>id</code>s had to be created manually in a file named <code>ids.xml</code> located in <code>app/src/main/res/values/ids.xml</code>. Create this file if it does not exist. The contents of this file are as follows:</p> <pre><code class=""hljs language-xml""><span class=""php""><span class=""hljs-meta"">&lt;?</span>xml version=<span class=""hljs-string"">""1.0""</span> encoding=<span class=""hljs-string"">""utf-8""</span><span class=""hljs-meta"">?&gt;</span></span> <span class=""hljs-tag"">&lt;<span class=""hljs-name"">resources</span>&gt;</span> <span class=""hljs-tag"">&lt;<span class=""hljs-name"">item</span> <span class=""hljs-attr"">name</span>=<span class=""hljs-string"">""todo_title""</span> <span class=""hljs-attr"">type</span>=<span class=""hljs-string"">""id""</span> /&gt;</span> <span class=""hljs-tag"">&lt;<span class=""hljs-name"">item</span> <span class=""hljs-attr"">name</span>=<span class=""hljs-string"">""todo_desc""</span> <span class=""hljs-attr"">type</span>=<span class=""hljs-string"">""id""</span> /&gt;</span> <span class=""hljs-tag"">&lt;<span class=""hljs-name"">item</span> <span class=""hljs-attr"">name</span>=<span class=""hljs-string"">""todo_add""</span> <span class=""hljs-attr"">type</span>=<span class=""hljs-string"">""id""</span> /&gt;</span> <span class=""hljs-tag"">&lt;/<span class=""hljs-name"">resources</span>&gt;</span></code></pre> <p>This <code>ids.xml</code> file declares <code>id</code>s that can be used in an Android application for various view <code>id</code>s.</p> <h3>Java and Kotlin Commingling</h3> <p>At this point, the view can now be shown on the screen. The only thing left is to show the Fragment when a user taps on an item.</p> <p>Open the <code>TodosFragment</code> and add the following code to the <code>onTodoClick</code> method:</p> <pre><code class=""hljs language-java"">EditFragment editFragment = EditFragment.Companion.newInstance(task.getId()); getActivity().getSupportFragmentManager() .beginTransaction() .replace(R.id.content_main, editFragment, editFragment.getClass().getSimpleName()) .addToBackStack(editFragment.getClass().getSimpleName()) .commit();</code></pre> <p>The <code>EditFragment</code> is written in pure Kotlin, yet it can be called from Android code as a regular Java object very easily.</p> <p>Notice the <code>EditFragment.Companion.newInstance</code> call? This is necessary because Kotlin does not have static methods. Therefore, a <a href=""https://kotlinlang.org/docs/reference/classes.html#companion-objects"">companion object</a> is necessary to accomplish a similar feat in Kotlin.</p> <p>Finally, you&rsquo;ll need to wire up the FAB to start the fragment. In the FAB&rsquo;s click listener, in the <code>MainActivity</code>, you&rsquo;ll need to add the following code:</p> <pre><code class=""hljs language-java"">EditFragment editFragment = EditFragment.Companion.newInstance(); getSupportFragmentManager() .beginTransaction() .replace(R.id.content_main, editFragment, editFragment.getClass().getSimpleName()) .addToBackStack(editFragment.getClass().getSimpleName()) .commit();</code></pre> <p>Build and install the application and tap the FAB. This starts the Kotlin part of the application. Add a to-do and tap <code>Add</code>. Back on the list of to-dos, tap a to-do so you can edit it. The button text in the Kotlin <code>EditFagment</code> will change to &lsquo;save&rsquo;. Update the to-do and tap save.</p> <p><img src=""https://dl.dropboxusercontent.com/u/888640/Realm/kotlin-mix-example.gif"" alt=""Example""></p> <h3>Congratulations, you&rsquo;ve now mixed Java and Kotlin together! &#x1F44F;</h3> <p>You&rsquo;ve built a feature with Kotlin while the rest of your application remains functional with typical Java that is used in Android. You can continue on your path of Kotlin development or only bring it in where you find it useful.</p> <p>You can also continue to use Anko as your view mechanism for Kotlin. If you prefer XML, you can still use XML layouts. For example, you can replace the above <code>onCreateView</code> method called with the following:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">override</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">onCreateView</span><span class=""hljs-params"">(inflater: <span class=""hljs-type"">LayoutInflater</span>?, container: <span class=""hljs-type"">ViewGroup</span>?, savedInstanceState: <span class=""hljs-type"">Bundle</span>?)</span></span>: View? { <span class=""hljs-keyword"">return</span> inflater?.inflate(R.layout.your_layout, container, <span class=""hljs-literal"">false</span>) }</code></pre> <p>This gives you the flexibility to work with Kotlin with or without Anko.</p> <p>Best of luck on your Kotlin adventures!</p> <h3>Sample Code</h3> <ul> <li><a href=""https://github.com/donnfelker/KotlinMix/archive/fresh.zip"">Starter Project</a></li> <li><a href=""https://github.com/donnfelker/KotlinMix/"">Finished Code For This Article</a></li> </ul> https://realm.io/news/getting-started-with-kotlin-and-anko/https://realm.io/news/getting-started-with-kotlin-and-anko/AndroidKotlinDonn FelkerWed, 09 Mar 2016 15:44:00 GMT (RU) Дмитрий Полищук - Kotlin + Android: практический ликбез<iframe width=""960"" height=""480"" src=""https://www.youtube.com/embed/2oVpnArCdWI"" frameborder=""0"" allowfullscreen></iframe> https://www.youtube.com/watch?v=2oVpnArCdWIhttps://www.youtube.com/watch?v=2oVpnArCdWIKotlinAndroidДмитрий ПолищукWed, 09 Mar 2016 00:00:00 GMT A DSL Workbench with Gradle and Kotlin<p>Easy to use. This is one of a main tasks to solve then new tool is created. For the world of DSL this mostly mean it should be easy to a end-user to use the tool and to be able to run the tool within a continuous integration build easily.</p> <p>I found an elegant way to fiddle a DSL tasks into Gradle to make it easy to use. Next I&#x27;ll cover an example of <a href=""https://github.com/jonnyzzz/TeamCity2DSL"">TeamCity2DSL</a> where I implemented this approach.</p> <h2>Domain description</h2> <p>I will not cover the domain where <a href=""https://github.com/jonnyzzz/TeamCity2DSL"">TeamCity2DSL</a> is applied. This deserves a dedicated post(s) (link will be included here). All we need to know about TeamCity2DSL here are</p> <ul> <li>it provides a way to describe build settings with <a href=""https://kotlinlang.org/"">Kotlin</a> DSL</li> <li>the DSL is executed to generate XML settings that TeamCity understands</li> <li>it also generates DSL from existing XML settings from TeamCity</li> </ul> <p>Here goes tricks one need to handle to use the TeamCity2DSL</p> <ul> <li>download TeamCity2DSL classes</li> <li>have Kotlin sources with DSL complied</li> <li>allow an IDE to be used to author/edit DSL code</li> </ul> <p>This is vital to provide as easy as possible way to run those tasks. This is where our Gradle plugin is used.</p> <h2>TeamCity2DSL Gradle Plugin</h2> <p>The plugin does the following set of tricks</p> <ul> <li>it setups project repositories and dependencies</li> <li>setups dependency on Kotlin runtime and compiler</li> <li>declares <code>dsl2xml</code> and <code>xml2dsl</code> tasks</li> <li>adds DSL generation output folder as Kotlin sources</li> <li>introduces a dependency on compilation from <code>dsl2xml</code> task</li> </ul> <h2>A Gradle Plugin Usage Example</h2> <p>This is <code>build.gradle</code> script that is only required to have both TeamCity2DSL tasks (<code>dsl2xml</code> and <code>xml2dsl</code>) supported</p> <pre><code class=""hljs language-groovy"">buildscript { repositories { jcenter() mavenCentral() maven { url <span class=""hljs-string"">""http://dl.bintray.com/jonnyzzz/maven""</span> } } dependencies { classpath <span class=""hljs-string"">'org.jonnyzzz.teamcity.dsl:gradle-plugin:&lt;PLUGIN VERSION&gt;'</span> } } apply <span class=""hljs-string"">plugin:</span> <span class=""hljs-string"">'org.jonnyzzz.teamcity.dsl'</span></code></pre> <p><em>NOTE</em>. Replace <code>&lt;PLUGIN VERSION&gt;</code> with the latest version from the <a href=""https://bintray.com/jonnyzzz/maven/teamcity2dsl/view"">maven repository</a> <em>NOTE2</em>. We also assume <a href=""https://confluence.jetbrains.com/display/TCD10/Storing+Project+Settings+in+Version+Control"">TeamCity project settings XML files</a> are located in a <code>.teamcity</code> folder.</p> <h2>IDE Usages</h2> <p>The project opens in IntelliJ IDEA. It detects all dependencies, Kotlin, source roots, library sources, etc. No specific requirements here. It <em>Just Works</em>. And again an easy-to-use pattern is implemented.</p> <h1>Implementation Details</h1> <p>I use <a href=""https://kotlinlang.org/"">Kotlin</a> in <a href=""https://github.com/jonnyzzz/TeamCity2DSL"">TeamCity2DSL</a>. The Gradle plugin is implemented with Kotlin as well.</p> <p>The first trick is the plugin itself declares a dependency on <a href=""https://kotlinlang.org/docs/reference/using-gradle.html"">Kotlin Gradle plugin</a>. The version of Kotlin is selected from plugin dependency. This allows to avoid explicit configuration for Kotlin.</p> <pre><code class=""hljs language-groovy"">project.apply { config -&gt; config.plugin(<span class=""hljs-string"">""java""</span>) config.plugin(<span class=""hljs-string"">""kotlin""</span>) }</code></pre> <p>The plugin includes DSL dependencies to itself into <code>compile</code> configuration. Those jars are predefined and we make Gradle download them from Maven repository.</p> <pre><code class=""hljs language-groovy"">val dsl2xml = project.tasks.create(<span class=""hljs-string"">""dsl2xml""</span>, <span class=""hljs-string"">Dsl2Xml:</span>:<span class=""hljs-class""><span class=""hljs-keyword"">class</span>.<span class=""hljs-title"">java</span>) <span class=""hljs-title"">dsl2xml</span>.<span class=""hljs-title"">dependsOn</span>(<span class=""hljs-title"">project</span>.<span class=""hljs-title"">tasks</span>.<span class=""hljs-title"">getByName</span>(""<span class=""hljs-title"">classes</span>""))</span></code></pre> <p>Next, we include all <code>buildScript</code> block repositories into code repositories. This helps to avoid duplicates in repositories declaration.</p> <pre><code class=""hljs language-groovy"">project.buildscript.repositories.forEach { project.repositories.add(it) }</code></pre> <p>To add extra source directory we use the following code (that depends on Gradle&#x27;s Java plugin)</p> <pre><code class=""hljs language-groovy"">println(""Adding DSL path to Kotlin source set: ${settings.dslPath}"") val sourceSets = project.convention.getPlugin(JavaPluginConvention::class.java).sourceSets println(""Source sets: ${sourceSets.names}"") sourceSets.getByName(""main"").java.srcDir( settings.dslPath!!.path )</code></pre> <p>We know Kotlin plugin checks Java output path for kotlin sources too. So we depend here only on Java plugin, not on a private API of the Kotlin plugin.</p> <p>The task implementation uses a custom classloader (with <code>null</code> parent) to avoid bothering Gradle&#x27;s tasks execution classpath. This is too complicated, from the other hand, to synchronize dependencies of TeamCity2DSL and Gradle. In the future we may consider running an external processes for better stability.</p> <h1>Finally</h1> <p>We created a Gradle plugin that helps to use a Kotlin DSL.</p> <p>Everything that is related to the setup and execution of tasks is now packed as a Gradle Plugin leading to easy-to-use and easy-to-adopt solution.</p> <p>This pattern could be re-used for other applications.</p> <p>Feel free to try <a href=""https://github.com/jonnyzzz/TeamCity2DSL"">TeamCity2DSL</a> for TeamCity project settings domain.</p> http://jonnyzzz.com/blog/2016/03/08/gradle-for-dsl/http://jonnyzzz.com/blog/2016/03/08/gradle-for-dsl/GradleDSLTeamcity2DSLKotlinEugene PetrenkoTue, 08 Mar 2016 21:02:00 GMT Kotlin & Android: A Brass Tacks Experiment, Part 6<p><img src=""https://d262ilb51hltx0.cloudfront.net/max/1600/1*UN-S8ELMC2kpHf4tJKfbLQ.png"" alt=""""></p> <p><em>Disclaimer: I am a Google employee, but the views expressed in this article are not those of my employer.</em></p> <h3>Kotlin &amp; Android: A Brass Tacks Experiment, Part 6</h3> <p>Alright! We&rsquo;re nearing the end of this series about experimenting with Kotlin to make view creation easier during Android app development. (Please <a href=""https://medium.com/p/kotlin-android-a-brass-tacks-experiment-part-1-3e5028491bcc"">jump back to the beginning</a> if you landed here prematurely.) So far we&rsquo;ve learned a bunch of features of the Kotlin&reg; language that help implement the type-safe builder pattern, including:</p> <ul> <li>Lambda with receiver &amp; reified types (<a href=""https://medium.com/p/kotlin-android-a-brass-tacks-experiment-part-2-c67661cfdf5f"">part 2</a>)</li> <li>Extension functions (<a href=""https://medium.com/p/kotlin-android-a-brass-tacks-experiment-part-4-4b7b501fa457"">part 4</a>)</li> <li>Extension properties (<a href=""https://medium.com/p/kotlin-android-a-brass-tacks-experiment-part-5-bd79eb9c85d4"">part 5</a>)</li> </ul> <p>These have all been instrumental in creating a &ldquo;domain specific language&rdquo; for expressing the programmatic creation of view hierarchies in a declarative fashion. For example, using all these techniques combined, we can write this to create two TextViews stacked on top of each other with some padding:</p> <pre><code class=""hljs language-kotlin"">v&lt;LinearLayout&gt; { layoutParams = LayoutParams(MATCH_PARENT, WRAP_CONTENT) orientation = VERTICAL padLeft = dp_i(<span class=""hljs-number"">16</span>f) v&lt;TextView&gt; { layoutParams = LayoutParams(WRAP_CONTENT, WRAP_CONTENT) text = <span class=""hljs-string"">""Hello""</span> } v&lt;TextView&gt; { layoutParams = LayoutParams(WRAP_CONTENT, WRAP_CONTENT) text = <span class=""hljs-string"">""World""</span> } }</code></pre> <p>This is pretty good on its own, and it definitely beats writing out all these view creations and associations traditionally. Now, to wrap up the coding part of this experiment, let&rsquo;s do a couple more things to tighten up the syntax <em>even more!</em></p> <p><strong>How do we assign values to specialized layout parameter properties?</strong></p> <p>It&rsquo;s not immediately evident from the code above, but there is a problem if you want to assign some attributes of the layout parameters specific to LinearLayout. Up until now we have only specified the height and width of a view using the <a href=""http://developer.android.com/reference/android/widget/LinearLayout.LayoutParams.html"">LinearLayout.LayoutParams</a> class constructor, and assigned that new object to the layoutParams synthetic property of a view. But what if we also wanted to assign values to the &ldquo;gravity&rdquo; property of the layout parameters? It might make sense to try it like this:</p> <pre><code class=""hljs language-kotlin"">layoutParams = LinearLayout.LayoutParams(WRAP_CONTENT, WRAP_CONTENT) layoutParams.gravity = Gravity.CENTER <span class=""hljs-comment"">// oops, compiler says no</span></code></pre> <p>But the compiler won&rsquo;t allow that because the layoutParams property of View is of type ViewGroup.LayoutParams, the superclass of all other LayoutParams. In order to use layoutParams as a LinearLayout.LayoutParams, it will need to be downcast.</p> <p>Instead of casting and assigning to another value as you would in the Java&reg; language, we can use a Kotlin stdlib function called &ldquo;<a href=""https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/with.html"">with</a>&rdquo; to make it easier to deal with layoutParams. The &ldquo;with&rdquo; function takes an object parameter along with lambda with receiver and executes that lambda against the given object. This description may not sound interesting, but it allows a syntax like this:</p> <pre><code class=""hljs language-kotlin"">v&lt;TextView&gt; { with(layoutParams <span class=""hljs-keyword"">as</span> LinearLayout.LayoutParams) { width = WRAP_CONTENT height = WRAP_CONTENT gravity = CENTER } text = <span class=""hljs-string"">""Hello""</span> }</code></pre> <p>Notice how we&rsquo;re able to simultaneously cast layoutParams to LinearLayout.LayoutParams, then use that as the receiver inside the lambda for abbreviated access to its properties.</p> <p>Another subtle thing to be aware of here is that an Android view container will automatically create and assign a correctly typed layout parameter object to layoutParams when a child view is added to it. In our case, adding a TextView child to a LinearLayout will <em>automatically</em> create and assign a LinearLayout.LayoutParams to the TextView&rsquo;s layoutParams property. This means we don&rsquo;t actually need to create a new LayoutParams object&#x200A;&mdash;&#x200A;we can just access the one that&rsquo;s already provided by the parent LinearLayout. Please remember that this only happens when adding a child view to a parent ViewGroup. The outermost ViewGroup will not have layout parameters assigned automatically because it&rsquo;s not yet attached to its own parent!</p> <p>All that said, this is not exactly the <em>most</em> desirable syntax for layout parameters, but it&rsquo;s the most straightforward way I could find to specify specialized layout parameters inside the lambdas we have for creating views.</p> <p><strong>And now, for my last trick, I&rsquo;ll make the &ldquo;v&rdquo; functions disappear!</strong></p> <p>The &ldquo;v&rdquo; functions we&rsquo;ve been using so far are pretty convenient, but what if we want to further shortcut their syntax? It would be even more convenient to take the layout from above and pattern it like this:</p> <pre><code class=""hljs language-kotlin"">linearLayout { textView { <span class=""hljs-comment"">// properties...</span> } textView { <span class=""hljs-comment"">// properties...</span> } }</code></pre> <p>This looks even more natural, and makes for easy reading. It also looks very similar to the Android Gradle configuration language. The trick to getting a syntax like this is to effectively create a sort of alias for each type of view we want to use. So, to create a structure like above, we need a function called &ldquo;linearLayout&rdquo; that works like &ldquo;v<LinearLayout>&rdquo; and a function called &ldquo;textView&rdquo; that works like &ldquo;v<TextView>&rdquo;. Kotlin makes this pretty easy to set up:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> ViewGroup.<span class=""hljs-title"">linearLayout</span><span class=""hljs-params"">(init: <span class=""hljs-type"">LinearLayout</span>.()</span></span> -&gt; <span class=""hljs-built_in"">Unit</span>) = v(init) <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> Context.<span class=""hljs-title"">linearLayout</span><span class=""hljs-params"">(init: <span class=""hljs-type"">LinearLayout</span>.()</span></span> -&gt; <span class=""hljs-built_in"">Unit</span>) = v(init) <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> ViewGroup.<span class=""hljs-title"">textView</span><span class=""hljs-params"">(init: <span class=""hljs-type"">TextView</span>.()</span></span> -&gt; <span class=""hljs-built_in"">Unit</span>) = v(init) <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> Context.<span class=""hljs-title"">textView</span><span class=""hljs-params"">(init: <span class=""hljs-type"">TextView</span>.()</span></span> -&gt; <span class=""hljs-built_in"">Unit</span>) = v(init)</code></pre> <p>Here, I defined two functions for each type of view in order to account for the different v functions that could be invoked, depending on the starting point of a Context or a ViewGroup parent. The Kotlin language feature that makes these declarations possible is called <em>single expression function</em>. This is a special syntax for functions that allows you to:</p> <ol> <li>Omit the usual curly braces for the function body.</li> <li>Infer the return type based on the return type of the expression.</li> <li>Omit the return keyword.</li> </ol> <p>Now, let&rsquo;s use these convenience functions to recreate the view hierarchy from the beginning of this article:</p> <pre><code class=""hljs language-kotlin"">linearLayout { layoutParams = LayoutParams(MATCH_PARENT, WRAP_CONTENT) orientation = VERTICAL padLeft = dp_i(<span class=""hljs-number"">16</span>f) textView { layoutParams = LayoutParams(WRAP_CONTENT, WRAP_CONTENT) text = <span class=""hljs-string"">""Hello""</span> } textView { layoutParams = LayoutParams(WRAP_CONTENT, WRAP_CONTENT) text = <span class=""hljs-string"">""World""</span> } }</code></pre> <p>Wow, we&rsquo;ve come a long way since our humble beginnings in part 2! (As long as you&rsquo;re willing to define alias functions for each type of view you want to build.)</p> <p><strong>But the novelty of this technique is not all that novel after all!</strong></p> <p>Some readers of this series have pointed out that this method using the type-safe builder pattern for building view hierarchies is really close to that of a project called <a href=""https://github.com/Kotlin/anko"">Anko</a>. I actually set out on this series without having any knowledge of it, and it wasn&rsquo;t until I was finished with the first two parts of this series that one of my colleagues pointed this out to me. Anko provides a more comprehensive solution for building views than what I&rsquo;ve been experimenting with here. Even after seeing it, I was still pretty interested in going through the process of discovering Kotlin language features and how they could be applied to Android development. If you&rsquo;ve been following this series, I hope you&rsquo;ve also enjoyed discovering these things!</p> <p><strong>So, are we really any better off with this technique?</strong></p> <p>You might be wondering now if it&rsquo;s better in general to create your Android views programmatically like this in Kotlin than the traditional XML layout resources. Up till now, it certainly seems like a big win to use Kotlin in this way. So, for the next part in this series, I&rsquo;ll compare the two techniques with each other to see how they compare to each other. Also, I&rsquo;ll provide a sample project that you can use to easily compare equivalent implementations.</p> <p>Don&rsquo;t forget that you can follow me <a href=""https://medium.com/@CodingDoug"">here on Medium</a> to get <a href=""https://medium.com/p/kotlin-android-a-brass-tacks-experiment-wrap-up-2b37e3ac8957"">the next part to this series</a> (in addition to future blogs and series!). And for even faster updates, <a href=""https://twitter.com/CodingDoug"">follow me on Twitter</a>!</p> https://medium.com/@CodingDoug/kotlin-android-a-brass-tacks-experiment-part-6-49fea0ed3a7#.53axmkcxthttps://medium.com/@CodingDoug/kotlin-android-a-brass-tacks-experiment-part-6-49fea0ed3a7#.53axmkcxtAndroidKotlinDoug StevensonTue, 08 Mar 2016 20:57:00 GMT Solving the Josephus problem in Kotlin<p>I recently stumbled upon a <a href=""http://www.danvk.org/josephus.html"">post</a> telling about the <a href=""https://en.wikipedia.org/wiki/Josephus_problem"">Josephus problem</a> and trying to solve it in different scripting languages. For the sake of brevity, here&rsquo;s the problem (taken from the referenced post):</p> <blockquote> <p>Flavius Josephus was a roman historian of Jewish origin. During the Jewish-Roman wars of the first century AD, he was in a cave with fellow soldiers, 40 men in all, surrounded by enemy Roman troops. They decided to commit suicide by standing in a ring and counting off each third man. Each man so designated was to commit suicide...Josephus, not wanting to die, managed to place himself in the position of the last survivor.</p> </blockquote> <blockquote> <p>In the general version of the problem, there are n soldiers numbered from 1 to n and each k-th soldier will be eliminated. The count starts from the first soldier. What is the number of the last survivor?</p> </blockquote> <p>It seemed like a good challenge to test my building Kotlin skills. Here&rsquo;s the solution I&rsquo;ve come up with. First, the test class, using TestNG and a data provider &ndash; it&rsquo;s the perfect use-case:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">JosephusTest</span> </span>{ <span class=""hljs-meta"">@DataProvider</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">data</span><span class=""hljs-params"">()</span></span>: Array&lt;Array&lt;<span class=""hljs-built_in"">Int</span>&gt;&gt; { <span class=""hljs-keyword"">return</span> arrayOf( arrayOf(<span class=""hljs-number"">2</span>, <span class=""hljs-number"">1</span>, <span class=""hljs-number"">0</span>), arrayOf(<span class=""hljs-number"">3</span>, <span class=""hljs-number"">1</span>, <span class=""hljs-number"">0</span>), arrayOf(<span class=""hljs-number"">10</span>, <span class=""hljs-number"">1</span>, <span class=""hljs-number"">0</span>), arrayOf(<span class=""hljs-number"">3</span>, <span class=""hljs-number"">2</span>, <span class=""hljs-number"">0</span>), arrayOf(<span class=""hljs-number"">4</span>, <span class=""hljs-number"">2</span>, <span class=""hljs-number"">1</span>) ) } <span class=""hljs-meta"">@Test(dataProvider = <span class=""hljs-meta-string"">""data""</span>)</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">circle_of_size_and_step_should_survive_position</span><span class=""hljs-params"">(size: <span class=""hljs-type"">Int</span>, step: <span class=""hljs-type"">Int</span>, expectedPosition: <span class=""hljs-type"">Int</span>)</span></span> { <span class=""hljs-keyword"">val</span> circle = Circle(size, step) <span class=""hljs-keyword"">val</span> survivor = circle.findSurvivor() assertEquals(survivor.position, expectedPosition) } }</code></pre> <p>Now, the code:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Soldier</span></span>(<span class=""hljs-keyword"">val</span> position: <span class=""hljs-built_in"">Int</span>) { <span class=""hljs-keyword"">var</span> state = State.Living lateinit <span class=""hljs-keyword"">var</span> next: Soldier <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">suicide</span><span class=""hljs-params"">()</span></span> { state = State.Dead } <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">isDead</span><span class=""hljs-params"">()</span></span> = state == State.Dead } <span class=""hljs-keyword"">enum</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">State</span> </span>{ Living, Dead } <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Circle</span></span>(<span class=""hljs-keyword"">private</span> <span class=""hljs-keyword"">val</span> size: <span class=""hljs-built_in"">Int</span>, <span class=""hljs-keyword"">private</span> <span class=""hljs-keyword"">val</span> step: <span class=""hljs-built_in"">Int</span>) { <span class=""hljs-keyword"">private</span> <span class=""hljs-keyword"">val</span> first = Soldier(<span class=""hljs-number"">0</span>) init { <span class=""hljs-keyword"">var</span> person = first <span class=""hljs-keyword"">while</span> (person.position &lt; size - <span class=""hljs-number"">1</span>) { person = createNext(person) } <span class=""hljs-keyword"">val</span> last = person last.next = first } <span class=""hljs-keyword"">private</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">createNext</span><span class=""hljs-params"">(soldier: <span class=""hljs-type"">Soldier</span>)</span></span>: Soldier { <span class=""hljs-keyword"">val</span> new = Soldier(soldier.position + <span class=""hljs-number"">1</span>) soldier.next = new <span class=""hljs-keyword"">return</span> new } <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">findSurvivor</span><span class=""hljs-params"">()</span></span>: Soldier { <span class=""hljs-keyword"">var</span> soldier: Soldier = first <span class=""hljs-keyword"">var</span> numberOfDead = <span class=""hljs-number"">0</span> <span class=""hljs-keyword"">while</span> (numberOfDead &lt; size - <span class=""hljs-number"">1</span>) { <span class=""hljs-keyword"">var</span> count: <span class=""hljs-built_in"">Int</span> = <span class=""hljs-number"">0</span> <span class=""hljs-keyword"">while</span> (count &lt; step) { soldier = nextLivingSoldier(soldier) count++ } soldier.suicide() numberOfDead++ } <span class=""hljs-keyword"">return</span> nextLivingSoldier(soldier) } <span class=""hljs-keyword"">private</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">nextLivingSoldier</span><span class=""hljs-params"">(soldier: <span class=""hljs-type"">Soldier</span>)</span></span>: Soldier { <span class=""hljs-keyword"">var</span> currentSoldier = soldier.next <span class=""hljs-keyword"">while</span> (currentSoldier.isDead()) { currentSoldier = currentSoldier.next } <span class=""hljs-keyword"">return</span> currentSoldier } }</code></pre> <p>This code works fine and the tests are successful.</p> <p>However, while trying to code the solution, I realized that there were no data-structure implementing circular linked lists neither in Java nor in Kotlin. I had thus to implement my own circular data-structure, but without implementing common collection features.</p> <p>Now, my problem with the above code is that while the <code>Soldier</code> class looks fine by me, the <code>Circle</code> class doesn&rsquo;t. There are too many vars in <code>Circle</code> and it feels too much like imperative programming. The lack of <code>for(;;)</code> in Kotlin forces me to use a <code>while</code> with an outside variable &ndash; twice: <code>count</code> and <code>numberOfDead</code>.</p> <p>I&rsquo;ve been thinking that I could improve the situation by changing the data-structure. I just don&rsquo;t know how... Now, Kotlin and FP gurus, do you have any proposal?</p> https://blog.frankel.ch/solving-the-josephus-problem-in-kotlinhttps://blog.frankel.ch/solving-the-josephus-problem-in-kotlinKotlinNicolas FrankeSun, 06 Mar 2016 16:00:00 GMT Kotlin Month Post 2: Inheritance and Defaults<h2>Intro</h2> <p>Continuing on with <a href=""https://programmingideaswithjake.wordpress.com/kotlin/#kotlinmonth"">Kotlin Month</a>, this week, I&rsquo;ll be discussing topics in Kotlin that have to do with inheritance and default values.</p> <h2>Composition Over Inheritance</h2> <p>Kotlin has put in a feature and a couple defaults that help developers keep the principle of Composition Over Inheritance at the forefront of their mind. The first of these is a feature that lets you composition almost as easily as inheritance when it comes to defining wrapper classes.</p> <h2>First-Class Delegation</h2> <p>Kotlin provides first-class access to delegation with very little help from you, the developer. All that needs to be done is:</p> <ol> <li>The new class inherits from an interface</li> <li>The new class provides a primary constructor that defines a property that inherits from the same interface</li> <li>After declaring the inheritance of the interface, include &ldquo;by &lt;name of property&gt;&rdquo;</li> </ol> <p>For example:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">interface</span> <span class=""hljs-title"">A</span> </span>{ <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">doSomething</span><span class=""hljs-params"">()</span></span>: <span class=""hljs-built_in"">Unit</span> } <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">B</span> </span>(<span class=""hljs-keyword"">val</span> a: A) : A <span class=""hljs-keyword"">by</span> a</code></pre> <p>In this example, we have interface <code>A</code>, which has a <code>doSomething()</code> method to be implemented. Class <code>B</code> is our delegator class. It inherits from <code>A</code>, includes a primary constructor with a property called <code>a</code> that inherits from <code>A</code> (<code>(val a: A)</code>), and says to delegate to <code>a</code> with <code>A by a</code>.</p> <p>Now <code>B</code> doesn&rsquo;t need to explicitly implement any of the methods from <code>A</code> because they&rsquo;re implicitly provided via delegation, just like it would with normal inheritance if <code>B</code> was inheriting from a fully implemented class. In this case, instead of just pointing to its parent class implementation, it gets a default implementation as if <code>B</code> had been defined like this:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">B</span> </span>(<span class=""hljs-keyword"">val</span> a: A) A { <span class=""hljs-keyword"">override</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">doSomething</span><span class=""hljs-params"">()</span></span> { a.doSomething() } }</code></pre> <p>The delegation can be done for multiple interfaces at a time, too.</p> <p>I created a <a href=""https://programmingideaswithjake.wordpress.com/2015/05/23/python-decorator-for-simplifying-delegate-pattern/"">class decorator in Python</a> that did something like this a while back, since I liked this idea so much.</p> <p>Kotlin practically needed something like this in the language to go along with a certain set of defaults...</p> <h2>Final By Default</h2> <p>Classes and public methods are <code>final</code> by default in Kotlin, meaning they can not be inherited from or overridden, respectively. In order to make those options available, classes and methods must be marked as <code>open</code>.</p> <p>This goes along with item 17 in Effective Java, namely &ldquo;Design and document for inheritance or else prohibit it&rdquo;, just as this entire item lines up with item 16 in Effective Java, &ldquo;Favor Composition Over Inheritance&rdquo;.</p> <p>These two pieces work together quite nicely and will hopefully mean that code written in Kotlin will be of better quality because of it.</p> <p>Many people are against the decision of final by default, but they largely seem to not realize that C# has had the same thing all along (without first-class delegation, I might add), and I haven&rsquo;t heard any complaints from their side. I would venture to guess that most of the people that argue this point also don&rsquo;t have a mindset of preferring composition. Obviously, there are some cases where this may backfire (especially if a library doesn&rsquo;t provide an interface for a certain class you want to extend), but this should hopefully prevent more problems than it makes.</p> <h2>Visibility Modifier Defaults</h2> <p>What is the most commonly typed word in all of Java? I would venture to guess that it&rsquo;s <code>public</code>, with <code>return</code> and <code>import</code> in a close second place. For the most part, that <code>public</code> keyword is clutter; most things are public, and it should probably be the default. Kotlin decided to do just that, making the code cleaner.</p> <p>Now, this does go against the general advice for encapsulation for making members of a class as private as possible, but even when this advice is followed pretty well, <code>public</code> is still the most common visibility modifier. So, thankfully, <code>public</code> is the default in Kotlin.</p> <h2>Sealed Classes</h2> <p>Sealed Classes are a more interesting than useful feature, in my opinion. They provide a way to lock in a hierarchy so that the only subclasses of the sealed class are those defined within its borders. This is really handy for the split-type monads (such as Either and Maybe/Optional) and, judging by the example used in the documents, expression trees.</p> <p>Again, Kotlin has an additional feature that plays well with this feature, and that&rsquo;s the when expression, which is a reimagined <code>switch</code>. The <code>when</code> expression is made aware by the compiler to know whether all of the subclasses are presented so that it doesn&rsquo;t force you to needlessly provide a default <code>else</code> clause.</p> <p>Again, I find this feature more interesting than useful, especially since I worked out a (slightly more painful) way to largely recreate the same thing in Java (with an additional idea or two running through my head). If you&rsquo;re curious how I do it, leave a comment letting me know, and I&rsquo;ll do a post about it.</p> <h1>Extension Methods</h1> <p>Extension methods are methods that you can &ldquo;add onto a class&rdquo; after the fact. I use quotes because they&rsquo;re not actually added to the class (at least not in Kotlin); rather, they are a static methods that can be used as if they&rsquo;re methods on an instance, allowing you to import those methods to be used only in certain instances and to discover them with autocompletion. But mostly it&rsquo;s a syntax that makes static methods look less stupid.</p> <p>Why are these not more of a thing in the programming world? All those <code>String</code> and <code>Date</code> utility classes would be so much easier to use if they could be used as extensions to the actual class. Other than C#, I don&rsquo;t know of any other languages that do this (understandably, dynamic languages don&rsquo;t actually need anything special for this feature, since you can literally add any method to a class any time you want). If you know of any, I&rsquo;d appreciate it if you listed them in the comments.</p> <p>Another awesome thing about extension methods is how Kotlin combines them with lambdas to make extension lambdas, which make certain things like <a href=""https://kotlinlang.org/docs/reference/type-safe-builders.html"">their</a> <a href=""https://programmingideaswithjake.wordpress.com/2016/01/16/mimicking-kotlin-builders-in-java-and-python/"">type-safe</a> <a href=""https://programmingideaswithjake.wordpress.com/2016/01/23/kotlin-like-builders-in-java-and-python-continued-additional-parameters/"">builders</a> so much cleaner.</p> <h2>Outro</h2> <p>That&rsquo;s the end of <em>this</em> article. Tune in next week for the third post of <a href=""https://programmingideaswithjake.wordpress.com/kotlin/#kotlinmonth"">Kotlin Month!</a> That one will go over the safety features that Kotlin has, such as null safety and improved generics.</p> https://programmingideaswithjake.wordpress.com/2016/03/05/kotlin-month-post-2-inheritance-and-defaults/https://programmingideaswithjake.wordpress.com/2016/03/05/kotlin-month-post-2-inheritance-and-defaults/KotlinJacob ZimmermanSat, 05 Mar 2016 06:00:00 GMT Building a Kotlin project 2/2<h6><em>Part 2</em></h6> <p>In the previous <a href=""http://www.cirorizzo.net/building-a-kotlin-project/"">post</a> we started a new project from scratch, and adjusted the <code>build.gradle</code> for the Kitten App purpose.</p> <p>The next steps are going to be the programming of the elements of the app.</p> <h4>Data Model</h4> <p>One of the main features of the app is to retrieve data through Internet via the <code>http://thecatapi.com/</code></p> <blockquote> <p><em>The complete API call will be i.e. <code>http://thecatapi.com/api/images/get?format=xml&amp;results_per_page=10</code></em></p> </blockquote> <p>The API sends back an <code>XML</code> file like this one</p> <p><img src=""http://cirorizzo.net/content/images/2016/03/xxmlAPI.png.pagespeed.ic.CABTBWB1Ch.png"" alt=""XML-API""></p> <p>It needs to deserialize in order to get the <code>url</code> property containing the location of the Kitten image.</p> <p>Kotlin has a very useful class called <code>data class</code> that is perfect for the purpose.</p> <p>Let&#x27;s starting to create a new class file in the <code>model.cats</code> package using right click on it and <code>New-&gt;Kotlin File/Class</code> and call it <code>Cats</code> and choose <code>Class</code> as kind.</p> <p>In order to structure the class as the <code>XML</code> file received the <code>Cats.kt</code> will be as the following</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">data</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Cats</span></span>(<span class=""hljs-keyword"">var</span> <span class=""hljs-keyword"">data</span>: Data? = <span class=""hljs-literal"">null</span>) <span class=""hljs-keyword"">data</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Data</span></span>(<span class=""hljs-keyword"">var</span> images: ArrayList&lt;Image&gt;? = <span class=""hljs-literal"">null</span>) <span class=""hljs-keyword"">data</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Image</span></span>(<span class=""hljs-keyword"">var</span> url: String? = <span class=""hljs-string"">""""</span>, <span class=""hljs-keyword"">var</span> id: String? = <span class=""hljs-string"">""""</span>, <span class=""hljs-keyword"">var</span> source_url: String? = <span class=""hljs-string"">""""</span>)</code></pre> <p>So far very simple... The same class in Java is much longer!</p> <p>The Kotlin Data Class has several benefits, some of them are that the compiler generates <code>getter()</code>, <code>setter()</code> and <code>toString()</code> methods, and many more like <code>equals()</code> <code>hashCode()</code> and <code>copy()</code>. So it&#x27;s the perfect class to use to deserialize data</p> <h4>API Call</h4> <p>There are many ways to retrieve data through the network, and different libraries to handle it. One of these libraries is the <a href=""http://square.github.io/retrofit/"">Retrofit2</a> library from Square. This is a very powerful <code>HTTPClient</code> and easy to set up.</p> <p>Let&#x27;s start with the <code>interface</code> and create it under the <code>network</code> package. Call it <code>CatAPI</code> as shown</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">interface</span> <span class=""hljs-title"">CatAPI</span> </span>{ <span class=""hljs-meta"">@GET(<span class=""hljs-meta-string"">""/api/images/get?format=xml&amp;results_per_page=""</span> + BuildConfig.MAX_IMAGES_PER_REQUEST)</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">getCatImageURLs</span><span class=""hljs-params"">()</span></span>: Observable&lt;Cats&gt; }</code></pre> <p>The <code>interface</code> will manage the <code>Get</code> request to the API Endpoint <code>/api/images/get?format=xml&amp;results_per_page=</code>. In this case the param <code>results_per_page</code> retrieve its numerical value from the constant defined in the <code>build.gradle</code> called <code>MAX_IMAGES_PER_REQUEST</code> that will have different values depending on the <code>buildTypes</code> used.</p> <pre><code class=""hljs language-kotlin"">buildTypes { debug { buildConfigField(<span class=""hljs-string"">""int""</span>, <span class=""hljs-string"">""MAX_IMAGES_PER_REQUEST""</span>, <span class=""hljs-string"">""10""</span>) ...</code></pre> <blockquote> <p>This method is very useful to have different value of constants in case we&#x27;re using <code>debug</code> type or <code>release</code> one i.e. <em>especially in case you need to access to the debug API instead of the production one</em></p> </blockquote> <p>About the <code>interface CatAPI</code> is very interesting the function called to manage the callback from the API <code>fun getCatImageURLs(): Observable&lt;Cats&gt;</code></p> <p>So the next step is its implementation. Let&#x27;s create a new class under the same package (<code>network</code>) and call it <code>CatAPINetwork</code> as this</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">CatAPINetwork</span> </span>{ <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">getExec</span><span class=""hljs-params"">()</span></span>: Observable&lt;Cats&gt; { <span class=""hljs-keyword"">val</span> retrofit = Retrofit.Builder() .baseUrl(<span class=""hljs-string"">""http://thecatapi.com""</span>) .addConverterFactory(SimpleXmlConverterFactory.create()) .addCallAdapterFactory(RxJavaCallAdapterFactory.create()) .build() <span class=""hljs-keyword"">val</span> catAPI: CatAPI = retrofit.create(CatAPI::<span class=""hljs-class""><span class=""hljs-keyword"">class</span>.<span class=""hljs-title"">java</span>)</span> <span class=""hljs-keyword"">return</span> catAPI.getCatImageURLs(). subscribeOn(Schedulers.io()). observeOn(AndroidSchedulers.mainThread()) } }</code></pre> <p>The <code>fun getExec(): Observable&lt;Cats&gt;</code> is implicitly <code>public</code> so that means available to be called by outside this class.</p> <p>The line <code>.addConverterFactory(SimpleXmlConverterFactory.create())</code> indicates to use the <code>XML</code> converter to deserialize the result form the API call.</p> <p>Then the <code>.addCallAdapterFactory(RxJavaCallAdapterFactory.create())</code> is the call adapter to use on the API Callback</p> <p>The <code>return</code> lines referring to the <code>RxJava</code> <code>Observable</code></p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">return</span> catAPI.getCatImageURLs(). subscribeOn(Schedulers.io()). observeOn(AndroidSchedulers.mainThread())</code></pre> <h4>Presenter</h4> <p>The <code>Presenter</code> modules are in charge of managing the logic of the app and to bind data between the <code>View</code> and the <code>Model</code>.</p> <p>In our case it will implement the method called by the <code>View</code> to retrieve the API data and send them to the <code>Adapter</code> in charge to show up.</p> <p>In order to communicate with the <code>View</code> we&#x27;re starting to create its <code>interface</code> called <code>MasterPresenter</code> under the package <code>presenter</code> as the followed</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">interface</span> <span class=""hljs-title"">MasterPresenter</span> </span>{ <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">connect</span><span class=""hljs-params"">(imagesAdapter: <span class=""hljs-type"">ImagesAdapter</span>)</span></span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">getMasterRequest</span><span class=""hljs-params"">()</span></span> }</code></pre> <p>The first function <code>fun connect(imagesAdapter: ImagesAdapter)</code> will be used to connect the <code>Adapter interface</code> to show data, and the <code>fun getMasterRequest()</code> will be the one to start the API request.</p> <p>Let&#x27;s the implementations in a new class under the same <code>presenter</code> package and call it <code>MasterPresenterImpl</code></p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">MasterPresenterImpl</span> : <span class=""hljs-type"">MasterPresenter {</span></span> lateinit <span class=""hljs-keyword"">private</span> <span class=""hljs-keyword"">var</span> imagesAdapter: ImagesAdapter <span class=""hljs-keyword"">override</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">connect</span><span class=""hljs-params"">(imagesAdapter: <span class=""hljs-type"">ImagesAdapter</span>)</span></span> { <span class=""hljs-keyword"">this</span>.imagesAdapter = imagesAdapter } <span class=""hljs-keyword"">override</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">getMasterRequest</span><span class=""hljs-params"">()</span></span> { imagesAdapter.setObservable(getObservableMasterRequest(CatAPINetwork())) } <span class=""hljs-keyword"">private</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">getObservableMasterRequest</span><span class=""hljs-params"">(catAPINetwork: <span class=""hljs-type"">CatAPINetwork</span>)</span></span>: Observable&lt;Cats&gt; { <span class=""hljs-keyword"">return</span> catAPINetwork.getExec() } }</code></pre> <p>Interesting line at <code>lateinit private var imagesAdapter: ImagesAdapter</code> where Kotlin give us the chance to declare a Non-Nullable mutable object without initialization thanks to <code>lateinit</code> keyword. So it will be initialize at the first time it will be used at runtime; in our case on calling the <code>fun connect(imagesAdapter: ImagesAdapter)</code>.</p> <p>The function <code>fun getMasterRequest()</code> is in charge of starting the API call, just set the <code>Observable</code> in order to be subscribed by the <code>Adapter</code> (i.e. <code>imagesAdapter</code>) after starts the <code>catAPINetwork.getExec()</code> that executes the API call</p> <h4>View section</h4> <p>In the <code>view</code> package are collected the classes to manage the UI. Basically are the <code>View</code> and the <code>Adapter</code> ones; in our case <code>MainActivity</code> and <code>ImagesAdapter</code>.</p> <h6>Layouts</h6> <p>Before starting with their implementation, let&#x27;s go through the <code>Layout</code> designing.</p> <p><img src=""http://cirorizzo.net/content/images/2016/03/xkittenApp-1.png.pagespeed.ic.ulo4yWl6Cg.png"" alt=""Kitten App""> To design it we need basically of two elements the <mark>main container</mark> and the <mark>item container</mark>.</p> <p>The <mark>main container</mark> is the element containing the list of the item and we&#x27;re going to place it in the <code>activity_main.xml</code> contained in the <code>res-&gt;layout</code> folder of the project; this one has been automatically created during the initial phase of <a href=""http://www.cirorizzo.net/building-a-kotlin-project/"">Project Creation</a>.</p> <p>For our app we need to inject in a <code>RecyclerView</code> component (a very powerful and optimized component for listing views).</p> <p>The <code>activity_main.xml</code> will be like shown</p> <pre><code class=""hljs language-xml""><span class=""php""><span class=""hljs-meta"">&lt;?</span>xml version=<span class=""hljs-string"">""1.0""</span> encoding=<span class=""hljs-string"">""utf-8""</span><span class=""hljs-meta"">?&gt;</span></span> <span class=""hljs-tag"">&lt;<span class=""hljs-name"">RelativeLayout</span> <span class=""hljs-attr"">xmlns:android</span>=<span class=""hljs-string"">""http://schemas.android.com/apk/res/android""</span> <span class=""hljs-attr"">xmlns:tools</span>=<span class=""hljs-string"">""http://schemas.android.com/tools""</span> <span class=""hljs-attr"">android:layout_width</span>=<span class=""hljs-string"">""wrap_content""</span> <span class=""hljs-attr"">android:layout_height</span>=<span class=""hljs-string"">""wrap_content""</span> <span class=""hljs-attr"">tools:context</span>=<span class=""hljs-string"">"".view.MainActivity""</span> <span class=""hljs-attr"">android:gravity</span>=<span class=""hljs-string"">""center""</span>&gt;</span> <span class=""hljs-tag"">&lt;<span class=""hljs-name"">android.support.v7.widget.RecyclerView</span> <span class=""hljs-attr"">android:id</span>=<span class=""hljs-string"">""@+id/containerRecyclerView""</span> <span class=""hljs-attr"">android:layout_width</span>=<span class=""hljs-string"">""wrap_content""</span> <span class=""hljs-attr"">android:layout_height</span>=<span class=""hljs-string"">""wrap_content""</span> <span class=""hljs-attr"">android:scrollbars</span>=<span class=""hljs-string"">""vertical""</span> <span class=""hljs-attr"">android:layout_centerInParent</span>=<span class=""hljs-string"">""true""</span> /&gt;</span> <span class=""hljs-tag"">&lt;/<span class=""hljs-name"">RelativeLayout</span>&gt;</span></code></pre> <p>The component <code>containerRecyclerView</code> represents the <mark>main container</mark> of the list of item</p> <p>The <code>row_card_view.xml</code> is the <mark>item container</mark> of our list and basically it appears like this</p> <pre><code class=""hljs language-xml""><span class=""php""><span class=""hljs-meta"">&lt;?</span>xml version=<span class=""hljs-string"">""1.0""</span> encoding=<span class=""hljs-string"">""utf-8""</span><span class=""hljs-meta"">?&gt;</span></span> <span class=""hljs-tag"">&lt;<span class=""hljs-name"">android.support.v7.widget.CardView</span> <span class=""hljs-attr"">xmlns:card_view</span>=<span class=""hljs-string"">""http://schemas.android.com/apk/res-auto""</span> <span class=""hljs-attr"">xmlns:android</span>=<span class=""hljs-string"">""http://schemas.android.com/apk/res/android""</span> <span class=""hljs-attr"">android:id</span>=<span class=""hljs-string"">""@+id/card_view""</span> <span class=""hljs-attr"">android:layout_gravity</span>=<span class=""hljs-string"">""center""</span> <span class=""hljs-attr"">android:layout_width</span>=<span class=""hljs-string"">""wrap_content""</span> <span class=""hljs-attr"">android:layout_height</span>=<span class=""hljs-string"">""wrap_content""</span> <span class=""hljs-attr"">card_view:cardCornerRadius</span>=<span class=""hljs-string"">""4dp""</span> <span class=""hljs-attr"">android:layout_margin</span>=<span class=""hljs-string"">""16dp""</span> <span class=""hljs-attr"">android:background</span>=<span class=""hljs-string"">""@android:color/transparent""</span> <span class=""hljs-attr"">android:layout_centerInParent</span>=<span class=""hljs-string"">""true""</span> <span class=""hljs-attr"">android:elevation</span>=<span class=""hljs-string"">""4dp""</span>&gt;</span> <span class=""hljs-tag"">&lt;<span class=""hljs-name"">RelativeLayout</span> <span class=""hljs-attr"">android:layout_width</span>=<span class=""hljs-string"">""wrap_content""</span> <span class=""hljs-attr"">android:layout_height</span>=<span class=""hljs-string"">""wrap_content""</span> <span class=""hljs-attr"">android:layout_centerInParent</span>=<span class=""hljs-string"">""true""</span> <span class=""hljs-attr"">android:gravity</span>=<span class=""hljs-string"">""center""</span> <span class=""hljs-attr"">android:foregroundGravity</span>=<span class=""hljs-string"">""center""</span>&gt;</span> <span class=""hljs-tag"">&lt;<span class=""hljs-name"">ImageView</span> <span class=""hljs-attr"">android:layout_width</span>=<span class=""hljs-string"">""wrap_content""</span> <span class=""hljs-attr"">android:layout_height</span>=<span class=""hljs-string"">""wrap_content""</span> <span class=""hljs-attr"">android:id</span>=<span class=""hljs-string"">""@+id/imgVw_cat""</span> <span class=""hljs-attr"">android:padding</span>=<span class=""hljs-string"">""4dp""</span> <span class=""hljs-attr"">android:layout_centerInParent</span>=<span class=""hljs-string"">""true""</span> <span class=""hljs-attr"">android:scaleType</span>=<span class=""hljs-string"">""fitCenter""</span> <span class=""hljs-attr"">android:contentDescription</span>=<span class=""hljs-string"">""@string/cat_image""</span> /&gt;</span> <span class=""hljs-tag"">&lt;/<span class=""hljs-name"">RelativeLayout</span>&gt;</span> <span class=""hljs-tag"">&lt;/<span class=""hljs-name"">android.support.v7.widget.CardView</span>&gt;</span></code></pre> <p>As you can see the item container is the <code>card_view</code> that basically is composed by a <code>RelativeLayout</code> containing an <code>ImageView</code> (<code>imgVw_cat</code>)</p> <h6>Adapter</h6> <p>Now we&#x27;ve got basic elements of the <code>Layout</code>, so let&#x27;s move on implementing the <code>MainActivity</code> and the <code>Adapter</code>.</p> <p>Starting on <code>Adapter</code> the first thing to create is its <code>interface</code> in order to be invoked by the previous <code>MasterPresenterImpl</code> so let&#x27;s create a new file in the <code>view</code> package and called it <code>ImagesAdapter</code> and write it down like this</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">interface</span> <span class=""hljs-title"">ImagesAdapter</span> </span>{ <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">setObservable</span><span class=""hljs-params"">(observableCats: <span class=""hljs-type"">Observable</span>&lt;<span class=""hljs-type"">Cats</span>&gt;)</span></span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">unsubscribe</span><span class=""hljs-params"">()</span></span> }</code></pre> <p>The function <code>setObservable(observableCats: Observable&lt;Cats&gt;)</code> is called by <code>MasterPresenterImpl</code> to set the <code>Observable</code> and give the <code>Adapter</code> to subscribe to it.</p> <p>The <code>unsubscribe()</code> function will be invoked by the <code>MainActivity</code> to unsubscribe the <code>Adapter</code> from the <code>Observable</code> when the activity is destroyed.</p> <p>Now let&#x27;s implement them in a new class under the same package called <code>ImagesAdapterImpl</code> that appears like that</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">ImagesAdapterImpl</span> : <span class=""hljs-type"">RecyclerView.Adapter</span>&lt;<span class=""hljs-type"">ImagesAdapterImpl.ImagesURLsDataHolder</span>&gt;</span>(), ImagesAdapter { <span class=""hljs-keyword"">private</span> <span class=""hljs-keyword"">val</span> TAG = ImagesAdapterImpl::<span class=""hljs-class""><span class=""hljs-keyword"">class</span>.<span class=""hljs-title"">java</span>.<span class=""hljs-title"">simpleName</span></span> <span class=""hljs-keyword"">private</span> <span class=""hljs-keyword"">var</span> cats: Cats? = <span class=""hljs-literal"">null</span> <span class=""hljs-keyword"">private</span> <span class=""hljs-keyword"">val</span> subscriber: Subscriber&lt;Cats&gt; <span class=""hljs-keyword"">by</span> lazy { getSubscribe() } <span class=""hljs-keyword"">override</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">onCreateViewHolder</span><span class=""hljs-params"">(parent: <span class=""hljs-type"">ViewGroup</span>, viewType: <span class=""hljs-type"">Int</span>)</span></span>: ImagesURLsDataHolder { <span class=""hljs-keyword"">return</span> ImagesURLsDataHolder( LayoutInflater.from(parent.context).inflate(R.layout.row_card_view, parent, <span class=""hljs-literal"">false</span>)) } <span class=""hljs-keyword"">override</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">getItemCount</span><span class=""hljs-params"">()</span></span>: <span class=""hljs-built_in"">Int</span> { <span class=""hljs-keyword"">return</span> cats?.<span class=""hljs-keyword"">data</span>?.images?.size ?: <span class=""hljs-number"">0</span> } <span class=""hljs-keyword"">override</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">onBindViewHolder</span><span class=""hljs-params"">(holder: <span class=""hljs-type"">ImagesURLsDataHolder</span>, position: <span class=""hljs-type"">Int</span>)</span></span> { holder.bindImages(cats?.<span class=""hljs-keyword"">data</span>?.images?.<span class=""hljs-keyword"">get</span>(position)?.url ?: <span class=""hljs-string"">""""</span>) } <span class=""hljs-keyword"">private</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">setData</span><span class=""hljs-params"">(cats: <span class=""hljs-type"">Cats</span>?)</span></span> { <span class=""hljs-keyword"">this</span>.cats = cats } <span class=""hljs-keyword"">override</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">setObservable</span><span class=""hljs-params"">(observableCats: <span class=""hljs-type"">Observable</span>&lt;<span class=""hljs-type"">Cats</span>&gt;)</span></span> { observableCats.subscribe(subscriber) } <span class=""hljs-keyword"">override</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">unsubscribe</span><span class=""hljs-params"">()</span></span> { <span class=""hljs-keyword"">if</span> (!subscriber.isUnsubscribed) { subscriber.unsubscribe() } } <span class=""hljs-keyword"">private</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">getSubscribe</span><span class=""hljs-params"">()</span></span>: Subscriber&lt;Cats&gt; { <span class=""hljs-keyword"">return</span> <span class=""hljs-keyword"">object</span> : Subscriber&lt;Cats&gt;() { <span class=""hljs-keyword"">override</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">onCompleted</span><span class=""hljs-params"">()</span></span> { Log.d(TAG, <span class=""hljs-string"">""onCompleted""</span>) notifyDataSetChanged() } <span class=""hljs-keyword"">override</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">onNext</span><span class=""hljs-params"">(cats: <span class=""hljs-type"">Cats</span>)</span></span> { Log.d(TAG, <span class=""hljs-string"">""onNextNew""</span>) setData(cats) } <span class=""hljs-keyword"">override</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">onError</span><span class=""hljs-params"">(e: <span class=""hljs-type"">Throwable</span>)</span></span> { <span class=""hljs-comment"">//TODO : Handle error here</span> Log.d(TAG, <span class=""hljs-string"">""""</span> + e.message) } } } <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">ImagesURLsDataHolder</span></span>(view: View) : RecyclerView.ViewHolder(view) { <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">bindImages</span><span class=""hljs-params"">(imgURL: <span class=""hljs-type"">String</span>)</span></span> { Glide.with(itemView.context). load(imgURL). placeholder(R.mipmap.document_image_cancel). diskCacheStrategy(DiskCacheStrategy.ALL). centerCrop(). into(itemView.imgVw_cat) } } }</code></pre> <p>This is the class inflate the <code>row_card_view.xml</code>, basically the <mark>item container</mark> as you can see at function <code>onCreateViewHolder</code></p> <p>The function <code>getSubscribe()</code> provide to subscribe the <code>Adapter</code> to the <code>Observable</code> used at line <code>private val subscriber: Subscriber&lt;Cats&gt; by lazy { getSubscribe() }</code> where you can notice the <code>lazy</code> initialization, this is a way to declare an unmutable object (i.e. <code>subscriber</code>) and it&#x27;ll be created through the function enclosed in the braces (i.e. <code>getSubscribe()</code>) at the first invocation at runtime.</p> <blockquote> <p><em>The Subscriber and Observable concepts comes from <a href=""https://github.com/ReactiveX/RxJava"">RxJava</a>; We can dig deeper in some next posts</em></p> </blockquote> <p>At the end, a very interesting piece of code is the inner class called <code>ImagesURLsDataHolder</code> used to fill up the <code>imgVw_cat</code> using the <code>Glide</code> library, that helps to retrieve the image from the passed <code>URL</code> extracted by the API call. This part is wrapped in the function <code>bindImages(imgURL: String)</code> and invoked by the method <code>onBindViewHolder</code> in the same file.</p> <h6>Activity</h6> <p>Last but not least the the <code>Activity</code> (i.e. <code>MainActivity</code>)</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">MainActivity</span> : <span class=""hljs-type"">AppCompatActivity</span></span>() { <span class=""hljs-keyword"">private</span> <span class=""hljs-keyword"">val</span> imagesAdapterImpl: ImagesAdapterImpl <span class=""hljs-keyword"">by</span> lazy { ImagesAdapterImpl() } <span class=""hljs-keyword"">private</span> <span class=""hljs-keyword"">val</span> masterPresenterImpl: MasterPresenterImpl <span class=""hljs-keyword"">by</span> lazy { MasterPresenterImpl() } <span class=""hljs-keyword"">override</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">onCreate</span><span class=""hljs-params"">(savedInstanceState: <span class=""hljs-type"">Bundle</span>?)</span></span> { <span class=""hljs-keyword"">super</span>.onCreate(savedInstanceState) setContentView(R.layout.activity_main) initRecyclerView() connectingToMasterPresenter() getURLs() } <span class=""hljs-keyword"">override</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">onDestroy</span><span class=""hljs-params"">()</span></span> { imagesAdapterImpl.unsubscribe() <span class=""hljs-keyword"">super</span>.onDestroy() } <span class=""hljs-keyword"">private</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">initRecyclerView</span><span class=""hljs-params"">()</span></span> { containerRecyclerView.layoutManager = GridLayoutManager(<span class=""hljs-keyword"">this</span>, <span class=""hljs-number"">1</span>) containerRecyclerView.adapter = imagesAdapterImpl } <span class=""hljs-keyword"">private</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">connectingToMasterPresenter</span><span class=""hljs-params"">()</span></span> { masterPresenterImpl.connect(imagesAdapterImpl) } <span class=""hljs-keyword"">private</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">getURLs</span><span class=""hljs-params"">()</span></span> { masterPresenterImpl.getMasterRequest() } }</code></pre> <p>Notice the functions</p> <ul> <li><code>initRecyclerView()</code></li> <li><code>connectingToMasterPresenter()</code></li> <li><code>getURLs()</code></li> </ul> <p>Respectively used to</p> <ul> <li>initialize the <mark>main container</mark> (i.e. <code>RecyclerView</code>)</li> <li>connecting the <code>MainActivity</code> to the <code>MasterPresenterImpl</code> and pass to it the <code>interface</code> of the <code>ImagesAdapterImpl</code> (aka <code>Adapter</code>)</li> <li><code>getURLs()</code> starts the API request to retrieve the <code>XML</code> data, and so executing the followed tasks (deserialize data, retrieving images through <code>Adapter</code>).</li> </ul> <p>The Kitten App is now ready to run. In any case you can find the entire project on my Github Repository of the <a href=""https://github.com/cirorizzo/KShows"">KShow</a> project. The same project has been written in Java as well <a href=""https://github.com/cirorizzo/JShows"">JShows</a> so you can comparing them</p> <h6><em>Translations</em></h6> <p>This post is also available in Chinese on <a href=""https://goo.gl/3YpGoR"">gold.xitu.io</a> A special thanks for the translation to the <strong>gold.xitu.io</strong> Team</p> http://cirorizzo.net/2016/03/04/building-a-kotlin-project-2/http://cirorizzo.net/2016/03/04/building-a-kotlin-project-2/AndroidKotlinCiro RizzoFri, 04 Mar 2016 21:22:00 GMT Building a Kotlin project 1/2<h3>Part 1</h3> <p>The best way to learn a new language is to use it in a real use case. That&#x27;s way this new series of posts are focused on building a proper Android project using Kotlin.</p> <h2>Scenario</h2> <p>To cover as many scenarios as possible the project will require:</p> <ul> <li>Accessing to the network</li> <li>Retrieving data through out a REST API call</li> <li>Deserialize data</li> <li>Showing Images in a list</li> </ul> <p>For this purpose why not have an app showing kittens? ;) Using the <a href=""http://thecatapi.com/"">http://thecatapi.com/</a> API we can retrieve several funny cat images</p> <p><img src=""http://cirorizzo.net/content/images/2016/03/xkittenApp.png.pagespeed.ic.ulo4yWl6Cg.png"" alt=""Example""></p> <h2>Dependencies</h2> <p>It looks like a very good chance to try out some very cool libraries like</p> <ul> <li><a href=""http://square.github.io/retrofit/"">Retrofit2</a> for the network access, REST API calls and deserializing data</li> <li><a href=""https://github.com/bumptech/glide"">Glide</a> for showing images</li> <li><a href=""https://github.com/ReactiveX/RxJava"">RxJava</a> to bind data</li> <li><a href=""http://developer.android.com/training/material/lists-cards.html"">RecyclerView CardView</a> as UI</li> <li>Everything wrapped in a <a href=""https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93presenter"">MVP</a> pattern</li> </ul> <h2>Set Up the Project</h2> <p>Using <a href=""http://developer.android.com/sdk/index.html"">Android Studio</a> is extremely simple create a new project from scratch</p> <h3>Start a new Android Project</h3> <p><img src=""http://cirorizzo.net/content/images/2016/03/xAndroidStudio_NewProject.png.pagespeed.ic.7fDR0qSTJd.png"" alt=""Start a new Android Project""></p> <h3>Create a new project</h3> <p><img src=""http://cirorizzo.net/content/images/2016/03/xAndroidStudio_NewProject_Create_NEW-1.png.pagespeed.ic.rtJ-FIVYiG.png"" alt=""Create a new project""></p> <h3>Select Target Android Device</h3> <p><img src=""http://cirorizzo.net/content/images/2016/03/xAndroidStudio_NewProject_Target.png.pagespeed.ic.bXlb6fWH62.png"" alt=""Select Target Android Device""></p> <h3>Add an activity</h3> <p><img src=""http://cirorizzo.net/content/images/2016/03/xAndroidStudio_NewProject_Empty.png.pagespeed.ic.VYxIdhZ3Xk.png"" alt=""Add an activity""></p> <h3>Customize the Activity</h3> <p><img src=""http://cirorizzo.net/content/images/2016/03/xAndroidStudio_NewProject_Activity.png.pagespeed.ic.3g2X5Gs9Bn.png"" alt=""Customize the Activity""></p> <p>Press on Finish, the new project from the chosen template will be created.</p> <p><img src=""http://cirorizzo.net/content/images/2016/03/xAndroidStudio_Basic_Template.png.pagespeed.ic.3iX8nv51PP.png"" alt=""Done""></p> <p>This is the starting point of our Kitten App! However the code is still in Java, later we&rsquo;re going to see how to convert it.</p> <h2>Defining Gradle Build Tool</h2> <p>The next step is to adjust the Build Tool and defining which libraries we&#x27;re going to use for the project.</p> <blockquote> <p>Before starting with this phase, have a look at what you need for an Android Kotlin project on this <a href=""http://www.cirorizzo.net/kotlin-code/"">post</a></p> </blockquote> <p>Open the Module App <code>build.gradle</code> (highlighted with a red rectangle in the picture)</p> <p><img src=""http://cirorizzo.net/content/images/2016/03/xAndroidStudio_Basic_Gradle_High.png.pagespeed.ic.0SHrJn4YZc.png"" alt=""Gradle""></p> <p>It&#x27;s a very good practice collecting all the libraries&#x27; version and Android properties in separate scripts and accessing to them through the <code>ext</code> property object provided by Gradle.</p> <p>The easiest way is to add at the beginning of the <code>build.gradle</code> file the following snippet</p> <pre><code class=""hljs language-groovy"">buildscript { ext.compileSdkVersion_ver = <span class=""hljs-number"">23</span> ext.buildToolsVersion_ver = <span class=""hljs-string"">'23.0.2'</span> ext.minSdkVersion_ver = <span class=""hljs-number"">21</span> ext.targetSdkVersion_ver = <span class=""hljs-number"">23</span> ext.versionCode_ver = <span class=""hljs-number"">1</span> ext.versionName_ver = <span class=""hljs-string"">'1.0'</span> ext.support_ver = <span class=""hljs-string"">'23.1.1'</span> ext.kotlin_ver = <span class=""hljs-string"">'1.0.0'</span> ext.anko_ver = <span class=""hljs-string"">'0.8.2'</span> ext.glide_ver = <span class=""hljs-string"">'3.7.0'</span> ext.retrofit_ver = <span class=""hljs-string"">'2.0.0-beta4'</span> ext.rxjava_ver = <span class=""hljs-string"">'1.1.1'</span> ext.rxandroid_ver = <span class=""hljs-string"">'1.1.0'</span> ext.junit_ver = <span class=""hljs-string"">'4.12'</span> repositories { mavenCentral() } dependencies { classpath <span class=""hljs-string"">""org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_ver""</span> } }</code></pre> <p>Then adding the Kotlin plugins as shown</p> <pre><code class=""hljs language-groovy"">apply <span class=""hljs-string"">plugin:</span> <span class=""hljs-string"">'com.android.application'</span> apply <span class=""hljs-string"">plugin:</span> <span class=""hljs-string"">'kotlin-android'</span> apply <span class=""hljs-string"">plugin:</span> <span class=""hljs-string"">'kotlin-android-extensions'</span></code></pre> <p>Before adding the dependencies for the libraries we&#x27;re going to use in the project starting to change all the version numbers of the script with the <code>ext</code> properties added early at the beginning of the file</p> <pre><code class=""hljs language-groovy"">android { compileSdkVersion <span class=""hljs-string"">""$compileSdkVersion_ver""</span>.toInteger() buildToolsVersion <span class=""hljs-string"">""$buildToolsVersion_ver""</span> defaultConfig { applicationId <span class=""hljs-string"">""com.github.cirorizzo.kshows""</span> minSdkVersion <span class=""hljs-string"">""$minSdkVersion_ver""</span>.toInteger() targetSdkVersion <span class=""hljs-string"">""$targetSdkVersion_ver""</span>.toInteger() versionCode <span class=""hljs-string"">""$versionCode_ver""</span>.toInteger() versionName <span class=""hljs-string"">""$versionName_ver""</span> } ...</code></pre> <p>One more change to the <code>builTypes</code> section</p> <pre><code class=""hljs language-groovy"">buildTypes { debug { buildConfigField(<span class=""hljs-string"">""int""</span>, <span class=""hljs-string"">""MAX_IMAGES_PER_REQUEST""</span>, <span class=""hljs-string"">""10""</span>) debuggable <span class=""hljs-literal"">true</span> minifyEnabled <span class=""hljs-literal"">false</span> proguardFiles getDefaultProguardFile(<span class=""hljs-string"">'proguard-android.txt'</span>), <span class=""hljs-string"">'proguard-rules.pro'</span> } release { buildConfigField(<span class=""hljs-string"">""int""</span>, <span class=""hljs-string"">""MAX_IMAGES_PER_REQUEST""</span>, <span class=""hljs-string"">""500""</span>) debuggable <span class=""hljs-literal"">false</span> minifyEnabled <span class=""hljs-literal"">true</span> shrinkResources <span class=""hljs-literal"">true</span> proguardFiles getDefaultProguardFile(<span class=""hljs-string"">'proguard-android.txt'</span>), <span class=""hljs-string"">'proguard-rules.pro'</span> } } sourceSets { main.java.srcDirs += <span class=""hljs-string"">'src/main/kotlin'</span> }</code></pre> <p>Next step is to declare the Libraries used in the project</p> <pre><code class=""hljs language-groovy"">dependencies { compile fileTree(<span class=""hljs-string"">dir:</span> <span class=""hljs-string"">'libs'</span>, <span class=""hljs-string"">include:</span> [<span class=""hljs-string"">'*.jar'</span>]) testCompile <span class=""hljs-string"">""junit:junit:$junit_ver""</span> compile <span class=""hljs-string"">""com.android.support:appcompat-v7:$support_ver""</span> compile <span class=""hljs-string"">""com.android.support:cardview-v7:$support_ver""</span> compile <span class=""hljs-string"">""com.android.support:recyclerview-v7:$support_ver""</span> compile <span class=""hljs-string"">""com.github.bumptech.glide:glide:$glide_ver""</span> compile <span class=""hljs-string"">""com.squareup.retrofit2:retrofit:$retrofit_ver""</span> compile (<span class=""hljs-string"">""com.squareup.retrofit2:converter-simplexml:$retrofit_ver""</span>) { exclude <span class=""hljs-string"">module:</span> <span class=""hljs-string"">'xpp3'</span> exclude <span class=""hljs-string"">group:</span> <span class=""hljs-string"">'stax'</span> } compile <span class=""hljs-string"">""io.reactivex:rxjava:$rxjava_ver""</span> compile <span class=""hljs-string"">""io.reactivex:rxandroid:$rxandroid_ver""</span> compile <span class=""hljs-string"">""com.squareup.retrofit2:adapter-rxjava:$retrofit_ver""</span> compile <span class=""hljs-string"">""org.jetbrains.kotlin:kotlin-stdlib:$kotlin_ver""</span> compile <span class=""hljs-string"">""org.jetbrains.anko:anko-common:$anko_ver""</span> }</code></pre> <p>Finally the <code>build.gradle</code> is ready to work with the project.</p> <p>Just one more thing is to add the <code>uses-permission</code> to access to Internet, so add the following line to the <code>AndroidManifest.xml</code></p> <pre><code class=""hljs language-xml""><span class=""hljs-tag"">&lt;<span class=""hljs-name"">uses-permission</span> <span class=""hljs-attr"">android:name</span>=<span class=""hljs-string"">""android.permission.INTERNET""</span> /&gt;</span></code></pre> <p>And now we are ready to go to the next step</p> <h2>Designing Project Structure</h2> <p>Another good practice is to structure the project having different packages and folders for different group of Classes composing our project so we can structure our project as shown below.</p> <p><img src=""data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAARIAAAB1CAMAAAC1b55HAAAABGdBTUEAALGPC/xhBQAAAm1QTFRFPT9BPUBBPUBCPkBBPkFDQEJDQEJEQENFQkRFQkRGQkVHQ0ZHQ0ZIREdJRUhJRkhKRklLR0pLSEpMSEtNSUxNSUxOSk1OS05PS05QTE5QTVBRTlBSTlFTTl1mT1JTT11nUFJUUVJUUVRVUVRWUlRWUlVXU1VXU1ZXVFZYVFdZVVdZVVhZV1laV1lbV1pbWFpcWVtcWVtdWlxeWl1eW11eW11fW3ODXF5gXF9gXV9gXV9hX2BiX2FiX2FjYGJjYGJkYWNkYmRlYmRmY2VmY2VnZGZnZGZoZWdoZWdpZmhpZmhqZ2lqZ2lraGpraWtsaWttamxta21ta21ua21vbG5vbW9xbnBxb3FycHFycHJzcXN0cnR1c3R2c3V2c5y3dHV2dJ23dJ24dXd4dnh5d3l6eHl6eXp7emtUenx9eqfEe3x9e31+fH5/fX5/fX+Afn+Af4GCgIGCgYODgYOEgoOEg4WGhIWGhYaHhoeIh4iJiImKiYqLiouLiouMi4yNjI2NjI2OjY2OjY6Pjo+Pjo+QjpCQj5CRkJGSkZKSkZKTkpOTkpOUk5SUk5SVlJWVlJWWlZaWlpaXlpeXlpeYl5iYmJmZmJmamZqampubmpucm5ycnJ2dnJ2enZ2enZ6enp6fnp+gn6CgoKChoKGhoKGioaKioqKjoqOjo6Ojo6SkpKSkpKSlpKWlpaWlpaampqanpqenp6enp6ioqKipqampqaqqqqqrq6urrKysrKytra2tra6urq6vr6+vr7CwsLCxsbGxsrKzs7OztLS0tLS1tbW1tra2tra3t7e3uJZouLi4uLi5urq6urq7u7u7y01+uQAAB/NJREFUeNrtnftDU2Ucxr8sLnIZzKGZYWqGXUArb4kXRFspRuIyFcEsnFZeUiyVMs2sjCysKEDxklg6l5cojwR2ajEnYiHtb+q9nss2tiOM6c7e54dzOOf77gt7xjm8+/CcHQAhISGh+Gkr0XPCiGBLhCehljDhPV9sSaKn/4tMdSmiJdmjksiSMmbJAp0lwV/X1wBsueA9YIFPXwawXUijGybVSeJIG0S0BB84lQ/bfM/A+mMA6w+zDZPqUWLJxOiWIJ2ogfw7o8FdyjbMqs+RI59AdEsqGpp8yIW2msl/WfiGSZV1Xe7Oim7JU/8UwHHkwpozdbuVDbOqTt4B0S1Z7M0o7HwTwNrfM1XZMKtSW1MNzEvSz/rddb5igKaLoG4k71TtRCVa5ALkKWN0G8mn+p0+m5jT6zRzlVWYICQkJCQUJ/1L9LYwItiSoXmyacrgW8PuN/x2w7SEyeCDJId2pd8ZcU/4fWFrkQbGTuHg45AsyU2D05XRLUHDwMi+e2hJOPiotYF+Pb7J37MOxrf6pQqAlhcafbvsbd4NdMTE9huHjlZAS8mOfu+1VGlFQ089wNkigLZZIK1u9h9hNIL2aCmBloq2BqUX/rqlxHYNy8pWvMhcWHQ8E5b85N+PNmhzWv52PmR0OCDlXCYtxk5h4COy4ZHa2kdUS1KunCrMHWu5eMC2/HYxSF3lswJnS5f708mItv3WuTeq0M+ec7naDpJcPa1/CvhmAnQtAqlj6cLuKjKM9sBPUepaZld7LUOPcaTY7fZjJyxsxYvUkgneIrD8Pi/tIWDNWfn9PVB6Zx/M+IEVY6cw8BHZULt1a61qSVFgHloWB9A3PlUP0hqAW89DVmAcHpDdPx7g9Fr8XD34wHEBXHYqlqDX+t0vSSPag1hSrelVzY8Hl0zebuIVL5LxK6+uQqvOvfj/BrQ5KzuuwN76q7DLxYoxVCh8pJZsVC1Z+l8GXt7E75SPkmfQOx1GUUsW4r0aS1DRrVqCtl7tII1oD2KJQ9+LLObefhqXyYoXyXh3N/5lLJb+LOXNWTm73/arvXd0x0RWjKFC4SOyYdLG1yeplkwLTEfLZwPodWzeF2SJfcAOKZepJU7VkjmQ/je1ZNeHpBHtwS3R9sKLsT3k8KIrXiTjV3g+I+xrc18ma87L7Zt/hO83SbwYS4XAx5DTa6p0xJaany67LJNvLtZa8kY5wM9fOxq8xJLGOsWScxtyDt5Bluyx5F14CfA42oNbou2FFmnnPsLfjK14EXeXHPnydkgrhDF9Vtacl3f4t4HLv5sXRxQ+hv4Rfvxan28bzPiju+8d0FrScRCgsPnki54VeG9Zj4dbsrLXV4UPnIOS/xv0AuJxtAezRNsLLRYGfF6vt4CteBE/Cg2Y2ltplbs6XYrfrDw7UIROO7OBFeM+VbOTPy/5qWEfYBt4kqzTVR45isw1cixpueow2oNrkF6DFPMsEcp599k/Iw/s3ykdEe+CtJpQXl0iXBASEhISEvDxnsPHmun3ARYcAbU/NmT4iN4Tx5eBxUmyfNg6MpZgFpmglsjdb0V5d6zljQwMFrTfOORBlhScudmYpVhCASONRRIWGWsuGC9LZPm3BRHho4Y3cjB47IPsMn8VQKsrt3U1t4QBRhqLxCwy5lwwfpbI8muR4KOGNzLyl9E3jhw4ObeemLD9Y24JA4xAY5EYvMWcC8bNks5XIMSSjVpLFGzCyN88Pz2XLOo/f/58A7eEAUYWi8SWxJwLxsmS6+89EHwu0cNHjSWM/E0ZyAY4sxamDYzRnF4pYOSxSMwiY88F42LJdw9CtNOragknf15X+tq+Kki9Wp8JVjJAAYw8FtlYNxJcMA66NMfAvETDGxn5W9ffV49+S6Dwir+zmQxQACOPRZb1eOLBBeM5ex1sXkLJX2YO27TpDgwCGFksErPIPNNepCAkJCQkJCQUv3mJAI2hU7W798QkuHEYoDFEJsGNQwCNgxJE01hiBDQuIfFCShUxQWxSIobauCKLJJrAEgOgkWYXKVXEBFGNGOrjijiSaA5LooJGEi/kVNFTCUrEUB9XpJFEU1hiBDS6nZwqIkuUiKE+rkgjiSawxBhodDs5VcQEkUcM9XFFFklMeEsMgka3k1NFnGbkEcOguCKOJCa8DINGt5NTRZxm5BHDoLgijiSaePYabl5CqWK67urqiHFFISEhISEhIaHhz0sEaAydqiWtJ7EEjSbRMBKNoTpdaQ5LjIDGcnpZNMGJLMRIw4psg5JIEmLke/DQhLXEAGhkl0UTnEhxIwsr8kQjIZHkgmq+Bw9NYEuigkZ2WTTGiRw3krCikmikV1F7KtU91Yl84BgDjfiyaLzmuJGEFbWJRjexRJ9xTFRLjIFGfFk0XnPcSMKK2kQjtsQZlHFMUEuMgEZ2WTR+ngw30rCiJtGILWms02YcE1XGQONX9LJo8jwpbmRhRTXRiC3BCFKzx3SzVx171V4WzXAjCyvqEo0EQdoywfwy10seE83PFx4ICQkJCY3UvESAxtCpmgCNkWavyTVhuwvQGOnzFc1lSXTQyO4U01LCuKL6kYlmtSQqaGR3ikEHDqWISp4RzGtJFNDI7hQjORhFVD8y0byWRAON9E4xkoNRRPUjE81qSXTQSO4UgyzhFFH9yERzWmIANJI7xSBLOEXkeUZzyhBoJHeKwadXRhGVPGOSzV7D/wM0KSiikJCQkJCQQf0P6Bh9nhVvE5IAAAAASUVORK5CYII="" alt=""Structure""></p> <blockquote> <p>Right Click on the Root Package <code>com.github.cirorizzo.kshows</code> and then <code>New -&gt; Package</code></p> </blockquote> <h2>Coding</h2> <p>The next <a href=""http://www.cirorizzo.net/2016/03/04/building-a-kotlin-project-2/"">post</a> is on how to code the elements of the Kitten app</p> <h2>Translations</h2> <p>This post is also available in Chinese on <a href=""https://goo.gl/tBIMn7"">gold.xitu.io</a> A special thanks for the translation to the gold.xitu.io Team</p> http://cirorizzo.net/2016/03/04/building-a-kotlin-project/http://cirorizzo.net/2016/03/04/building-a-kotlin-project/AndroidKotlinCiro RizzoFri, 04 Mar 2016 21:19:00 GMT (RU) Видео со встречи JUG.ru с разработчиками Kotlin<h2>&#x427;&#x430;&#x441;&#x442;&#x44C; 1. &#x412;&#x432;&#x435;&#x434;&#x435;&#x43D;&#x438;&#x435;</h2> <p>&#x410;&#x43D;&#x434;&#x440;&#x435;&#x439; &#x411;&#x440;&#x435;&#x441;&#x43B;&#x430;&#x432; &#x440;&#x430;&#x441;&#x441;&#x43A;&#x430;&#x436;&#x435;&#x442; &#x43F;&#x440;&#x43E; &#x442;&#x43E;, &#x447;&#x442;&#x43E; &#x442;&#x430;&#x43A;&#x43E;&#x435; Kotlin, &#x43A;&#x430;&#x43A; &#x443; &#x43D;&#x435;&#x433;&#x43E; &#x441;&#x435;&#x439;&#x447;&#x430;&#x441; &#x434;&#x435;&#x43B;&#x430; &#x438; &#x442;.&#x434;. <a href=""https://www.youtube.com/watch?v=HWyd1gYMkl0"">&#x410;&#x43D;&#x434;&#x440;&#x435;&#x439; &#x411;&#x440;&#x435;&#x441;&#x43B;&#x430;&#x432; &mdash; &#x427;&#x442;&#x43E; &#x442;&#x430;&#x43A;&#x43E;&#x435; Kotlin &#x412;&#x432;&#x435;&#x434;&#x435;&#x43D;&#x438;&#x435;</a></p> <h2>&#x427;&#x430;&#x441;&#x442;&#x44C; 2. &#x41A; &#x440;&#x435;&#x43B;&#x438;&#x437;&#x443; &#x438; &#x434;&#x430;&#x43B;&#x435;&#x435;</h2> <p>&#x41D;&#x430;&#x447;&#x438;&#x43D;&#x430;&#x44F; &#x441; &#x432;&#x435;&#x440;&#x441;&#x438;&#x438; 1.0, Kotlin &#x43F;&#x440;&#x435;&#x434;&#x43E;&#x441;&#x442;&#x430;&#x432;&#x43B;&#x44F;&#x435;&#x442; &#x433;&#x430;&#x440;&#x430;&#x43D;&#x442;&#x438;&#x438; &#x43E;&#x431;&#x440;&#x430;&#x442;&#x43D;&#x43E;&#x439; &#x441;&#x43E;&#x432;&#x43C;&#x435;&#x441;&#x442;&#x438;&#x43C;&#x43E;&#x441;&#x442;&#x438; &#x441; &#x441;&#x443;&#x449;&#x435;&#x441;&#x442;&#x432;&#x443;&#x44E;&#x449;&#x438;&#x43C; &#x43A;&#x43E;&#x434;&#x43E;&#x43C;. &#x414;&#x43C;&#x438;&#x442;&#x440;&#x438;&#x439; &#x416;&#x435;&#x43C;&#x435;&#x440;&#x43E;&#x432; &#x440;&#x430;&#x441;&#x441;&#x43A;&#x430;&#x436;&#x435;&#x442; &#x43E; &#x442;&#x43E;&#x43C;, &#x447;&#x442;&#x43E; &#x432; &#x442;&#x43E;&#x447;&#x43D;&#x43E;&#x441;&#x442;&#x438; &#x43E;&#x43D;&#x438; &#x43E;&#x431;&#x435;&#x449;&#x430;&#x44E;&#x442; &#x43D;&#x430; &#x431;&#x443;&#x434;&#x443;&#x449;&#x435;&#x435;, &#x43E; &#x442;&#x43E;&#x43C;, &#x43A;&#x430;&#x43A; &#x44D;&#x442;&#x43E; &#x43E;&#x431;&#x435;&#x449;&#x430;&#x43D;&#x438;&#x435; &#x43F;&#x43E;&#x432;&#x43B;&#x438;&#x44F;&#x43B;&#x43E; &#x43D;&#x430; &#x434;&#x438;&#x437;&#x430;&#x439;&#x43D; &#x44F;&#x437;&#x44B;&#x43A;&#x430;, &#x438; &#x43E; &#x442;&#x43E;&#x43C;, &#x43F;&#x43E;&#x434; &#x43A;&#x430;&#x43A;&#x438;&#x435; &#x43D;&#x430;&#x43F;&#x440;&#x430;&#x432;&#x43B;&#x435;&#x43D;&#x438;&#x44F; &#x431;&#x443;&#x434;&#x443;&#x449;&#x435;&#x433;&#x43E; &#x440;&#x430;&#x437;&#x432;&#x438;&#x442;&#x438;&#x44F; &#x443;&#x436;&#x435; &#x435;&#x441;&#x442;&#x44C; &#x437;&#x430;&#x433;&#x43E;&#x442;&#x43E;&#x432;&#x43A;&#x438; &#x432; &#x432;&#x435;&#x440;&#x441;&#x438;&#x438; 1.0. <a href=""https://www.youtube.com/watch?v=m5T0M7SnCC0"">&#x414;&#x43C;&#x438;&#x442;&#x440;&#x438;&#x439; &#x416;&#x435;&#x43C;&#x435;&#x440;&#x43E;&#x432;, JetBrains &mdash; Kotlin - &#x43A; &#x440;&#x435;&#x43B;&#x438;&#x437;&#x443; &#x438; &#x434;&#x430;&#x43B;&#x435;&#x435;</a></p> <h2>&#x427;&#x430;&#x441;&#x442;&#x44C; 3. &#x421;&#x430;&#x43C;&#x43E;&#x435; &#x441;&#x43B;&#x43E;&#x436;&#x43D;&#x43E;&#x435; &mdash; &#x441;&#x43E;&#x432;&#x43C;&#x435;&#x441;&#x442;&#x438;&#x43C;&#x43E;&#x441;&#x442;&#x44C;</h2> <p><a href=""https://www.youtube.com/watch?v=LWFx4QWrTyo"">&#x410;&#x43D;&#x434;&#x440;&#x435;&#x439; &#x411;&#x440;&#x435;&#x441;&#x43B;&#x430;&#x432; &mdash; Kotlin - &#x441;&#x430;&#x43C;&#x43E;&#x435; &#x441;&#x43B;&#x43E;&#x436;&#x43D;&#x43E;&#x435; &mdash; &#x441;&#x43E;&#x432;&#x43C;&#x435;&#x441;&#x442;&#x438;&#x43C;&#x43E;&#x441;&#x442;&#x44C;</a> &#x410;&#x43D;&#x434;&#x440;&#x435;&#x439; &#x411;&#x440;&#x435;&#x441;&#x43B;&#x430;&#x432; &#x440;&#x430;&#x441;&#x441;&#x43A;&#x430;&#x436;&#x435;&#x442; &#x43E; &#x442;&#x43E;&#x43C;, &#x43A;&#x430;&#x43A; &#x43E;&#x43D;&#x438; &#x431;&#x43E;&#x440;&#x43E;&#x43B;&#x438;&#x441;&#x44C; &#x437;&#x430; &#x43F;&#x440;&#x43E;&#x437;&#x440;&#x430;&#x447;&#x43D;&#x443;&#x44E; &#x441;&#x43E;&#x432;&#x43C;&#x435;&#x441;&#x442;&#x438;&#x43C;&#x43E;&#x441;&#x442;&#x44C;: &#x447;&#x442;&#x43E;&#x431;&#x44B; Kotlin &#x438; Java &#x43C;&#x43E;&#x433;&#x43B;&#x438; &#x434;&#x440;&#x443;&#x436;&#x43D;&#x43E; &#x43E;&#x431;&#x438;&#x442;&#x430;&#x442;&#x44C; &#x432; &#x43E;&#x434;&#x43D;&#x43E;&#x43C; &#x43F;&#x440;&#x43E;&#x435;&#x43A;&#x442;&#x435;. &#x414;&#x43B;&#x44F; &#x44D;&#x442;&#x43E;&#x433;&#x43E; &#x43F;&#x440;&#x438;&#x448;&#x43B;&#x43E;&#x441;&#x44C; &#x43F;&#x440;&#x438;&#x434;&#x443;&#x43C;&#x430;&#x442;&#x44C; &#x43D;&#x435;&#x43C;&#x430;&#x43B;&#x43E; &#x43E;&#x440;&#x438;&#x433;&#x438;&#x43D;&#x430;&#x43B;&#x44C;&#x43D;&#x44B;&#x445; &#x440;&#x435;&#x448;&#x435;&#x43D;&#x438;&#x439; &#x438; &#x43F;&#x43E;&#x439;&#x442;&#x438; &#x43D;&#x430; &#x43C;&#x43D;&#x43E;&#x433;&#x438;&#x435; &#x43A;&#x43E;&#x43C;&#x43F;&#x440;&#x43E;&#x43C;&#x438;&#x441;&#x441;&#x44B; &#x43D;&#x430; &#x432;&#x441;&#x435;&#x445; &#x443;&#x440;&#x43E;&#x432;&#x43D;&#x44F;&#x445;: &#x43E;&#x442; &#x441;&#x438;&#x441;&#x442;&#x435;&#x43C;&#x44B; &#x442;&#x438;&#x43F;&#x43E;&#x432; &#x434;&#x43E; &#x43F;&#x43B;&#x430;&#x433;&#x438;&#x43D;&#x43E;&#x432; &#x43A; &#x431;&#x438;&#x43B;&#x434;-&#x441;&#x438;&#x441;&#x442;&#x435;&#x43C;&#x430;&#x43C;.</p> <h2>&#x427;&#x430;&#x441;&#x442;&#x44C; 4. &#x421;&#x435;&#x441;&#x441;&#x438;&#x44F; &#x432;&#x43E;&#x43F;&#x440;&#x43E;&#x441;&#x43E;&#x432; &#x438; &#x43E;&#x442;&#x432;&#x435;&#x442;&#x43E;&#x432;</h2> <p><a href=""https://www.youtube.com/watch?v=YOmdOTlhZa8"">&#x410;&#x43D;&#x434;&#x440;&#x435;&#x439; &#x411;&#x440;&#x435;&#x441;&#x43B;&#x430;&#x432; &#x438; &#x414;&#x43C;&#x438;&#x442;&#x440;&#x438;&#x439; &#x416;&#x435;&#x43C;&#x435;&#x440;&#x43E;&#x432; &mdash; Kotlin - &#x441;&#x435;&#x441;&#x441;&#x438;&#x44F; &#x432;&#x43E;&#x43F;&#x440;&#x43E;&#x441;&#x43E;&#x432; &#x438; &#x43E;&#x442;&#x432;&#x435;&#x442;&#x43E;&#x432;</a> &#x410;&#x43D;&#x434;&#x440;&#x435;&#x439;, &#x414;&#x43C;&#x438;&#x442;&#x440;&#x438;&#x439; &#x438; &#x434;&#x440;&#x443;&#x433;&#x438;&#x435; &#x440;&#x430;&#x437;&#x440;&#x430;&#x431;&#x43E;&#x442;&#x447;&#x438;&#x43A;&#x438; Kotlin &#x441; &#x443;&#x434;&#x43E;&#x432;&#x43E;&#x43B;&#x44C;&#x441;&#x442;&#x432;&#x438;&#x435;&#x43C; &#x43E;&#x442;&#x432;&#x435;&#x442;&#x44F;&#x442; &#x43D;&#x430; &#x432;&#x430;&#x448;&#x438; &#x432;&#x43E;&#x43F;&#x440;&#x43E;&#x441;&#x44B;.</p> https://github.com/KotlinBy/awesome-kotlin/blob/master/app/rss/articles/%5BRU%5D%20%D0%92%D0%B8%D0%B4%D0%B5%D0%BE%20%D1%81%D0%BE%20%D0%B2%D1%81%D1%82%D1%80%D0%B5%D1%87%D0%B8%20JUG.ru%20%D1%81%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0%D0%BC%D0%B8%20Kotlin.mdhttps://github.com/KotlinBy/awesome-kotlin/blob/master/app/rss/articles/%5BRU%5D%20%D0%92%D0%B8%D0%B4%D0%B5%D0%BE%20%D1%81%D0%BE%20%D0%B2%D1%81%D1%82%D1%80%D0%B5%D1%87%D0%B8%20JUG.ru%20%D1%81%20%D1%80%D0%B0%D0%B7%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D1%87%D0%B8%D0%BA%D0%B0%D0%BC%D0%B8%20Kotlin.mdKotlinVideoJetBrainsFri, 04 Mar 2016 17:12:00 GMT Kotlin: a new JVM language you should try<h2>Kotlin 1.0 is here</h2> <p><a href=""https://www.jetbrains.com/"">JetBrains</a> (the people behind IntelliJ IDEA) have <a href=""http://blog.jetbrains.com/kotlin/2016/02/kotlin-1-0-released-pragmatic-language-for-jvm-and-android/"">recently announced</a> the first RC for version 1.0 of <a href=""https://kotlinlang.org/"">Kotlin</a>, a new programming language for the JVM. I say &lsquo;new&rsquo;, but Kotlin has been in the making for a few years now, and has been used by JetBrains to develop several of their products, including Intellij IDEA. The company <a href=""https://github.com/JetBrains/kotlin"">open-sourced</a> Kotlin in 2011, and have worked with the community since then to make the language what it is today.</p> <p><img src=""https://opencredo.com/wp-content/uploads/2016/02/kronshtadt.jpg"" alt=""Kotlin""></p> <h2>What is Kotlin and why you should care</h2> <p>There is no shortage of <a href=""https://en.wikipedia.org/wiki/List_of_JVM_languages"">JVM languages</a> to choose from these days. Kotlin (named after <a href=""https://en.wikipedia.org/wiki/Kotlin_Island"">Kotlin island</a>, near St. Petersburg, pictured above) positions itself as a pragmatic and easy-to-use alternative to Java, with which it is highly interoperable, to the point where you can mix Kotlin and Java code in the single codebase. The emphasis on interoperability lowers the adoption barrier, which can make Kotlin rather appealing to any Java developer who wished Java was more expressive and less verbose. Kotlin compiles to Java 6-compatible bytecode so you can use the powerful features it offers on older JVM versions (or Android where it has become quite popular already).</p> <h2>Hello World! with Kotlin</h2> <p>Let&rsquo;s see some code and compare it with Java and Scala (from which Kotlin has borrowed quite a few language constructs) to get a first impression about the language and highlight a few differences compared to the alternatives.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-comment"">// Kotlin</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">main</span><span class=""hljs-params"">(args: <span class=""hljs-type"">Array</span>&lt;<span class=""hljs-type"">String</span>&gt;)</span></span> { println(<span class=""hljs-string"">""Hello, World!""</span>) }</code></pre> <pre><code class=""hljs language-scala""><span class=""hljs-comment"">// Scala</span> <span class=""hljs-class""><span class=""hljs-keyword"">object</span> <span class=""hljs-title"">App</span> </span>{ <span class=""hljs-function""><span class=""hljs-keyword"">def</span> <span class=""hljs-title"">main</span></span>(args: <span class=""hljs-type"">Array</span>[<span class=""hljs-type"">String</span>]) { println(<span class=""hljs-string"">""Hello, world!""</span>) } }</code></pre> <pre><code class=""hljs language-java""><span class=""hljs-comment"">// Java</span> <span class=""hljs-keyword"">public</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">App</span> </span>{ <span class=""hljs-function""><span class=""hljs-keyword"">public</span> <span class=""hljs-keyword"">static</span> <span class=""hljs-keyword"">void</span> <span class=""hljs-title"">main</span><span class=""hljs-params"">(String[] args)</span> </span>{ System.out.println(<span class=""hljs-string"">""Hello, World!""</span>); } }</code></pre> <p>You can observe almost immediately how compact Kotlin&rsquo;s version is (even compared to Scala). Kotlin benefits from top-level (or package-level) functions that are not members of a class or object, which is perfect for the <code>main</code> function. Since package declaration is omitted the function belongs to the default package.</p> <p>There are a few language features shown above that make Kotlin programs somewhat similar to Scala ones:</p> <ul> <li>Type declarations are defined after function argument names, variable names or function/method names</li> <li>the <code>Unit</code> return type (equivalent to Java void) is optional</li> <li><code>Array</code> is a regular generic type</li> <li>The <code>println()</code> function, and other print functions, are available implicitly</li> <li>semicolons are optional :)</li> </ul> <h2>Type system</h2> <p>Kotlin&rsquo;s type system is close enough to Java&rsquo;s to provide a good level of interoperability, although it still empowers developers to produce elegant code in a productive way; for instance, type inference removes the need to declare variable types everywhere. A lot of features in Kotlin have been influenced by the <a href=""http://www.oracle.com/technetwork/java/effectivejava-136174.html"">Effective Java</a> series, and try to tackle some of the not-so-great elements that Java has inherited from its early days. Kotlin makes it easier to follow best practice, and prevents some of the more questionable practices completely.</p> <p>The key features of Kotlin&rsquo;s type system (compared to Java) are:</p> <ul> <li>every class inherits from type <code>Any</code>, which defines only 3 functions (<code>equals()</code>, <code>hashCode()</code> and <code>toString()</code>), compared to quite a few more in Java&rsquo;s <code>Object</code></li> <li>all <a href=""https://kotlinlang.org/docs/reference/basic-types.html"">data types</a> are represented by classes, including numbers (<code>Int</code>, <code>Long</code>, <code>Double</code>, etc.), characters (<code>Char</code>) and booleans (<code>Boolean</code>)</li> <li>a class&rsquo;s primary <a href=""https://kotlinlang.org/docs/reference/classes.html#constructors"">constructor</a> can be defined as part of the class declaration</li> </ul> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Foo</span></span>(<span class=""hljs-keyword"">val</span> bar: String, <span class=""hljs-keyword"">val</span> baz: <span class=""hljs-built_in"">Int</span>)</code></pre> <ul> <li>the <code>new</code> keyword is missing</li> </ul> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> foo = Foo(<span class=""hljs-string"">""bar""</span>, <span class=""hljs-number"">42</span>)</code></pre> <ul> <li>there are no static methods and any static code needs to be defined in a <a href=""https://kotlinlang.org/docs/reference/object-declarations.html#companion-objects"">class companion object</a></li> <li>classes and functions are final by default and have to be declared <code>open</code> to be overridable</li> <li>any type can be enhanced by using <a href=""https://kotlinlang.org/docs/reference/extensions.html"">extension functions</a> to define additional functions/methods (no more <code>xUtils</code> classes)</li> <li><a href=""https://kotlinlang.org/docs/reference/generics.html"">generics</a> have been revamped to make working with variance much easier</li> <li><a href=""https://kotlinlang.org/docs/reference/object-declarations.html"">objects</a> can be used to implement the singleton pattern or to avoid the need for anonymous inner classes</li> <li><a href=""https://kotlinlang.org/docs/reference/data-classes.html"">data classes</a> make it trivial to create Java Bean-style data containers</li> </ul> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">data</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Person</span></span>(<span class=""hljs-keyword"">val</span> firstName: String, <span class=""hljs-keyword"">val</span> lastName: String)</code></pre> <h2>Functional programming</h2> <p>Kotlin is not a functional language but provides decent support for FP elements where they make sense in the OO world. It lifts functions to first-class-citizen status and makes using them very easy (the same sadly can&rsquo;t be said about Java, even in version 8). Kotlin supports <a href=""https://kotlinlang.org/docs/reference/lambdas.html#higher-order-functions"">higher-order functions</a> which means that functions can be passed in as arguments to other functions or returned from functions.</p> <pre><code class=""hljs language-kotln"">// List.map() is an example of a higher-order function fun List.map(transform: (T) -&gt; R): List { val result = arrayListOf() for (item in this) result.add(transform(item)) return result }</code></pre> <p>Additionally, <a href=""https://kotlinlang.org/docs/reference/lambdas.html#lambda-expression-syntax"">lambda expressions</a> and <a href=""https://kotlinlang.org/docs/reference/lambdas.html#anonymous-functions"">anonymous functions</a> can be used when function expressions or references are expected.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> doubled = ints.map { it -&gt; it * <span class=""hljs-number"">2</span> }</code></pre> <p>Some other nice features around working with <a href=""https://kotlinlang.org/docs/reference/functions.html#functions"">functions</a> in Kotlin include:</p> <ul> <li>default argument values</li> </ul> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">read</span><span class=""hljs-params"">(b: <span class=""hljs-type"">Array</span>, off: <span class=""hljs-type"">Int</span> = <span class=""hljs-number"">0</span>, len: <span class=""hljs-type"">Int</span> = b.size()</span></span>) {...}</code></pre> <ul> <li>named arguments</li> </ul> <pre><code class=""hljs language-kotlin"">read(bytes, len = 100)</code></pre> <ul> <li>infix notation</li> </ul> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> plusOne = value + <span class=""hljs-number"">1</span> <span class=""hljs-comment"">// plus operator is a function call using infix notation</span></code></pre> <ul> <li>Unit return is optional</li> </ul> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">printMe</span><span class=""hljs-params"">(message: <span class=""hljs-type"">String</span>)</span></span>: <span class=""hljs-built_in"">Unit</span> { println(message) }</code></pre> <ul> <li>single-expression functions</li> </ul> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">printMe</span><span class=""hljs-params"">(message: <span class=""hljs-type"">String</span>)</span></span>: <span class=""hljs-built_in"">Unit</span> = println(message)</code></pre> <ul> <li>tail-recursive functions</li> </ul> <pre><code class=""hljs language-kotlin"">tailrec <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">findFixPoint</span><span class=""hljs-params"">(x: <span class=""hljs-type"">Double</span> = <span class=""hljs-number"">1.0</span>)</span></span>: <span class=""hljs-built_in"">Double</span> = <span class=""hljs-keyword"">if</span> (x == Math.cos(x)) x <span class=""hljs-keyword"">else</span> findFixPoint(Math.cos(x))</code></pre> <h2>Null safety</h2> <p>Handling null references has been quite a chore in Java from the very beginning. In recent versions of the language a few utility classes have been added to make it somewhat more manageable (<code>Objects</code> in Java 7 and Optional in Java 8 come to mind), but the language itself doesn&rsquo;t provide much-needed native support. Kotlin is different as it adopts and further enhances Groovy&rsquo;s approach to <a href=""https://kotlinlang.org/docs/reference/null-safety.html"">null-safety</a> and makes working with object references less of a hassle.</p> <p>By default, the compiler will prevent assigning null value to an object reference and you have to explicitly declare a variable as nullable.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">var</span> a: String = <span class=""hljs-string"">""abc""</span> a = <span class=""hljs-literal"">null</span> <span class=""hljs-comment"">// compilation error</span> <span class=""hljs-keyword"">var</span> b: String? = <span class=""hljs-string"">""abc""</span> <span class=""hljs-comment"">// '?' declares variable as nullable</span> b = <span class=""hljs-literal"">null</span> <span class=""hljs-comment"">// ok</span></code></pre> <p>With that initial safety feature in place you can then safely follow nullable object references without worrying about <code>NullPointerException</code> (or employing an excessive degree of null-checking). Additionally, the so-called Elvis operator (surely you can see Elvis&rsquo; hair do in <code>?:</code>) provides a syntactic sugar for defining a default value if a null reference has been encountered.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> departmentHead = employee?.department?.head?.name ?: <span class=""hljs-string"">""n/a""</span></code></pre> <p>On top of that, Kotlin offers safe-casting support, where instead of throwing ClassCastException the expression returns a null value.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> aInt: <span class=""hljs-built_in"">Int</span>? = a <span class=""hljs-keyword"">as</span>? <span class=""hljs-built_in"">Int</span></code></pre> <h2>Collections</h2> <p>Unlike Scala, Kotlin doesn&rsquo;t provide its own collection framework built from ground up. The rationale behind that choice is Java interoperability. Collections are the bread and butter of software engineering and the team behind Kotlin decided they didn&rsquo;t want to make it difficult to use Java collections from Kotlin, or to make developers to learn new collection types. <a href=""https://kotlinlang.org/docs/reference/collections.html"">Collections in Kotlin</a> reflect those in Java with one difference &ndash; Kotlin distinguishes between immutable and mutable collections, favouring immutability (although mutable Java collections are being used behind the scenes).</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> numbers: MutableList = mutableListOf(<span class=""hljs-number"">1</span>, <span class=""hljs-number"">2</span>, <span class=""hljs-number"">3</span>) <span class=""hljs-keyword"">val</span> readOnlyView: List = numbers println(numbers) <span class=""hljs-comment"">// prints ""[1, 2, 3]""</span> numbers.add(<span class=""hljs-number"">4</span>) println(readOnlyView) <span class=""hljs-comment"">// prints ""[1, 2, 3, 4]""</span> readOnlyView.clear() <span class=""hljs-comment"">// -&gt; does not compile</span> <span class=""hljs-keyword"">val</span> strings = hashSetOf(<span class=""hljs-string"">""a""</span>, <span class=""hljs-string"">""b""</span>, <span class=""hljs-string"">""c""</span>, <span class=""hljs-string"">""c""</span>) assert(strings.size == <span class=""hljs-number"">3</span>)</code></pre> <p>Additionally, the <a href=""https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/index.html"">collection API in Kotlin</a> offers a range of easy-to-use extension functions around collection types.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> items = listOf(<span class=""hljs-number"">1</span>, <span class=""hljs-number"">2</span>, <span class=""hljs-number"">3</span>, <span class=""hljs-number"">4</span>) items.first() == <span class=""hljs-number"">1</span> items.last() == <span class=""hljs-number"">4</span> items.filter { it % <span class=""hljs-number"">2</span> == <span class=""hljs-number"">0</span> } <span class=""hljs-comment"">// returns [2, 4]</span> items.filter { it % <span class=""hljs-number"">2</span> == <span class=""hljs-number"">0</span> } take <span class=""hljs-number"">1</span> forEach { println(it) } <span class=""hljs-comment"">// prints out 2</span> items.fold(<span class=""hljs-number"">0</span>) { total, current -&gt; total + current } <span class=""hljs-comment"">// returns 10</span></code></pre> <p>Creating and using maps is quite convenient too.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> readWriteMap = hashMapOf(<span class=""hljs-string"">""foo""</span> to <span class=""hljs-number"">1</span>, <span class=""hljs-string"">""bar""</span> to <span class=""hljs-number"">2</span>) println(readWriteMap[<span class=""hljs-string"">""foo""</span>]) <span class=""hljs-keyword"">val</span> readOnlyView: Map = HashMap(readWriteMap) <span class=""hljs-keyword"">val</span> doubled = readOnlyView.mapValues { entry -&gt; entry.value * <span class=""hljs-number"">2</span> } <span class=""hljs-keyword"">for</span> ((key, value) <span class=""hljs-keyword"">in</span> doubled) println(<span class=""hljs-string"">""<span class=""hljs-subst"">$key</span> -&gt; <span class=""hljs-subst"">$value</span>""</span>)</code></pre> <h2>Control flow</h2> <p>Kotlin offers some improved <a href=""https://kotlinlang.org/docs/reference/control-flow.html"">control flow constructs</a>, certainly compared with Java. So for instance, the <code>if ... else</code> block is an expression (returns a value).</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> max = <span class=""hljs-keyword"">if</span> (a &gt; b) a <span class=""hljs-keyword"">else</span> b</code></pre> <p>The <code>switch</code> operator (as found in C and Java) has been replaced by <code>when</code> expression form, similar to pattern-matching in Scala, that also makes a convenient replacement for <code>if ... else</code> chains.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">when</span> { x.isOdd() -&gt; print(<span class=""hljs-string"">""x is odd""</span>) x.isEven() -&gt; print(<span class=""hljs-string"">""x is even""</span>) <span class=""hljs-keyword"">else</span> -&gt; print(<span class=""hljs-string"">""x is funny""</span>) }</code></pre> <p>The <code>when</code> expression supports <a href=""https://kotlinlang.org/docs/reference/typecasts.html#smart-casts"">smart-casts</a> too, when combined with matching on the type of the when argument.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> hasPrefix = <span class=""hljs-keyword"">when</span>(x) { <span class=""hljs-keyword"">is</span> String -&gt; x.startsWith(<span class=""hljs-string"">""prefix""</span>) <span class=""hljs-comment"">// x is automatically casted to String</span> <span class=""hljs-keyword"">else</span> -&gt; <span class=""hljs-literal"">false</span> }</code></pre> <p>A <code>for</code> loop can iterate over any type that provides an iterator implementing <code>next()</code> and <code>hasNext()</code>.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">for</span> (item <span class=""hljs-keyword"">in</span> collection) print(item) <span class=""hljs-keyword"">for</span> ((index, value) <span class=""hljs-keyword"">in</span> array.withIndex()) { println(<span class=""hljs-string"">""the element at <span class=""hljs-subst"">$index</span> is <span class=""hljs-subst"">$value</span>""</span>) }</code></pre> <h2>Other features</h2> <p>I think we&rsquo;ve covered quite a lot already, but there are still a few more features worth highlighting to round up the language overview:</p> <ul> <li><a href=""https://kotlinlang.org/docs/reference/basic-types.html#string-templates"">string templates</a> (known in Scala as string interpolation) make it easy to format string messages easily by resolving variables and expressions</li> </ul> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> s = <span class=""hljs-string"">""abc""</span> <span class=""hljs-keyword"">val</span> str = <span class=""hljs-string"">""<span class=""hljs-subst"">$s</span>.length is <span class=""hljs-subst"">${s.length}</span>""</span> <span class=""hljs-comment"">// evaluates to ""abc.length is 3""</span></code></pre> <ul> <li><a href=""https://kotlinlang.org/docs/reference/multi-declarations.html"">destructuring</a> allows convenient extraction of data class or collection elements</li> </ul> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> person = Person(<span class=""hljs-string"">""Rafal""</span>, <span class=""hljs-number"">22</span>) <span class=""hljs-comment"">// I wish I was 22 again!</span> <span class=""hljs-keyword"">val</span> (name, age) = person <span class=""hljs-keyword"">for</span> ((key, value) <span class=""hljs-keyword"">in</span> map) { <span class=""hljs-comment"">// Map.Entry can be destructured too</span> }</code></pre> <ul> <li><a href=""https://kotlinlang.org/docs/reference/typecasts.html"">type checks</a> support smart-casting</li> </ul> <pre><code class=""hljs language-koltin"">if (x is String) { print(x.length) // x is automatically cast to String }</code></pre> <ul> <li><a href=""https://kotlinlang.org/docs/reference/equality.html#structural-equality"">structural equality</a> can be checked simply with the <code>==</code> operator (no need to use <code>equals()</code>)</li> <li><a href=""https://kotlinlang.org/docs/reference/equality.html#referential-equality"">referential equality</a> can be checked with the <code>===</code> operator</li> <li>creating <a href=""https://kotlinlang.org/docs/reference/ranges.html"">ranges</a> is supported natively</li> </ul> <pre><code class=""hljs language-koltin"">for (i in 1..10 step 2) println(i)</code></pre> <ul> <li>predefined <a href=""https://kotlinlang.org/docs/reference/operator-overloading.html"">operators can be overloaded</a> (so no crazy operators allowed but still quite powerful)</li> <li>all <a href=""https://kotlinlang.org/docs/reference/exceptions.html"">exceptions</a> are unchecked (no more forced exception handling)</li> <li><code>try</code> is an expression</li> </ul> <pre><code class=""hljs language-koltin"">val a: Int? = try { parseInt(input) } catch (e: NumberFormatException) { null }</code></pre> <ul> <li><a href=""https://kotlinlang.org/docs/reference/type-safe-builders.html"">type-safe builders</a> help creating rich DSLs</li> </ul> <pre><code class=""hljs language-koltin"">html { head { title {+""HTML built with Kotlin""} } // ... }</code></pre> <p>By now I&rsquo;m sure you are overloaded with all this Kotlin knowledge, so I will stop here. I hope I was able to showcase the entire host of very powerful capabilities that Kotlin offers. By all means explore <a href=""https://kotlinlang.org/docs/reference/"">the language reference</a> to find out more about various language features.</p> <h2>Java interoperability</h2> <p>One of the design goals behind Kotlin has always been to stay close enough to Java to lower the barrier to adoption. Obviously, on the other hand the need to stay interoperable limits the the scope to introduce many new features into the language. I think Kotlin has managed to achieve quite a lot without breaking its ties to the Java world.</p> <p>Most of the <a href=""https://kotlinlang.org/docs/reference/java-interop.html"">interoperability</a> aspects revolve around mapping concepts or types between both languages.</p> <p>For instance, since Java doesn&rsquo;t offer null safety support similar to Kotlin, Java types are treated in a special way and called <a href=""https://kotlinlang.org/docs/reference/java-interop.html#null-safety-and-platform-types"">platform types</a>. Null checks are relaxed for such types with the risk of <code>NullPointerExceptions</code> being thrown at runtime.</p> <pre><code>val list = ArrayList() // non-null (constructor result) list.add(&quot;Item&quot;) val size = list.size() // non-null (primitive int) val item = list[0] // platform type inferred (ordinary Java object) item.substring(1) // allowed, may throw an exception if item == null val nullable: String? = item // allowed, always works val notNull: String = item // allowed, may fail at runtime </code></pre> <p>Similarly, Java generics are handled in a special way when types are imported to Kotlin and using Java arrays of primitives requires a workaround where specialised classes are used to represent them in Kotlin.</p> <p>When it comes to <a href=""https://kotlinlang.org/docs/reference/java-to-kotlin-interop.html"">Kotlin classes being called from Java</a>, much of the work required to make them interoperable happens on the Kotlin side. Developers can use an range of annotations to instruct the compiler to produce code that will be usable from Java.</p> <h2>Tooling</h2> <p>One of the interesting aspects about Kotlin is that the language has been created by the company behind a popular IDE product. As one might expect IDE support (well, for Intellij IDEA at least) for Kotlin has been very much a part of working on the language itself. The result is a comprehensive <a href=""https://kotlinlang.org/docs/tutorials/getting-started.html"">Kotlin support in Intellij IDEA</a> on a par with that for Java. JetBrains also maintains an <a href=""https://kotlinlang.org/docs/tutorials/getting-started-eclipse.html"">Eclipse plugin for Kotlin</a> so this open-source IDE should also provide a good level of support.</p> <p>Kotlin creators have resisted the need to redefine much of the external tooling around the language. So for instance Kotlin projects can be built using Maven, Gradle or even Ant so except for the compiler plugin not much else is changing for those coming from the Java background.</p> <h2>Kotlin ecosystem</h2> <p>There is a growing community around the language so perhaps not surprisingly one can already find a good selection of open-source libraries and frameworks written in Kotlin. If you want to stick with your favourite Java framework, you don&rsquo;t have to make a full transition to Kotlin as you can use your existing framework in Kotlin without too much hassle and even mix Java and Kotlin code in a single codebase.</p> <p>The official Kotlin website lists several <a href=""https://kotlinlang.org/docs/resources.html"">tools, libraries and frameworks</a>, covering MVC/Web, HTTP client, dependency injection and text editor support among over things. Also, the <a href=""https://kotlin.link"">Awesome Kotlin</a> GitHub website offers a great selection of resources to explore.</p> <h2>Summary</h2> <p>I believe Kotlin deserves at least a try, especially if you are coming from the Java background. The language brings a lot of good features from Scala and Groovy closer to Java, so you can benefit from the best of both worlds: the vastness of the Java ecosystem with expressiveness and productivity enhanced by constructs and features coming from other languages. If you do want to give Kotlin a go, why don&rsquo;t you <a href=""http://try.kotlinlang.org/"">try it online</a> first or just create a Kotlin project in your favourite IDE and start experimenting with it.</p> <p>Throughout this post I was covering Kotlin from the perspective of somebody coming from Java as I believe this is a primary expansion area for the new language. It&rsquo;s worth knowing that Kotlin is also targeting Android development (also Java but still on version 6) as well as (still experimental) JavaScript runtime as an alternative to the JVM. With such a wide range of applications and some great features I reckon Kotlin stands a good chance of attracting quite a few new users.</p> https://opencredo.com/kotlin/https://opencredo.com/kotlin/KotlinRafal GancarzThu, 03 Mar 2016 09:55:00 GMT (RU) Kotlin для начинающих<p>&#x423;&#x436;&#x435; &#x43D;&#x435; &#x43C;&#x430;&#x43B;&#x43E; &#x43D;&#x430;&#x448;&#x443;&#x43C;&#x435;&#x43B; Kotlin &#x432; &#x43C;&#x438;&#x440;&#x435; &#x43F;&#x440;&#x43E;&#x433;&#x440;&#x430;&#x43C;&#x43C;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x43D;&#x438;&#x44F;, &#x43D;&#x435; &#x43C;&#x430;&#x43B;&#x43E; &#x43F;&#x440;&#x43E;&#x444;&#x435;&#x441;&#x441;&#x438;&#x43E;&#x43D;&#x430;&#x43B;&#x44C;&#x43D;&#x44B;&#x445; &#x438;&#x43D;&#x436;&#x435;&#x43D;&#x435;&#x440;&#x43E;&#x432; &#x443;&#x436;&#x435; &#x43E;&#x431;&#x440;&#x430;&#x442;&#x438;&#x43B; &#x43D;&#x430; &#x43D;&#x435;&#x433;&#x43E; &#x432;&#x43D;&#x438;&#x43C;&#x430;&#x43D;&#x438;&#x435;, &#x43D;&#x43E; &#x442;&#x430;&#x43A;&#x436;&#x435; &#x435;&#x441;&#x442;&#x44C; &#x438; &#x442;&#x435; &#x43A;&#x43E;&#x43C;&#x443; &#x43E;&#x43D; &#x43D;&#x435; &#x441;&#x438;&#x43C;&#x43F;&#x430;&#x442;&#x438;&#x437;&#x438;&#x440;&#x443;&#x435;&#x442;.</p> <p><img src=""https://habrastorage.org/files/a52/453/729/a52453729bd64cb3b5ca8a4892e45cc1.png"" alt=""Kotlin""></p> <p>&#x412; &#x434;&#x430;&#x43D;&#x43D;&#x43E;&#x43C; &#x442;&#x43E;&#x43F;&#x438;&#x43A;&#x435; &#x44F; &#x431;&#x44B; &#x445;&#x43E;&#x442;&#x435;&#x43B; &#x43E;&#x431;&#x440;&#x430;&#x442;&#x438;&#x442;&#x44C; &#x432;&#x43D;&#x438;&#x43C;&#x430;&#x43D;&#x438;&#x435; &#x442;&#x435;&#x445; &#x43D;&#x430;&#x447;&#x438;&#x43D;&#x430;&#x44E;&#x449;&#x438;&#x445; &#x43F;&#x440;&#x43E;&#x433;&#x440;&#x430;&#x43C;&#x43C;&#x438;&#x441;&#x442;&#x43E;&#x432; &#x43A;&#x43E;&#x442;&#x43E;&#x440;&#x44B;&#x435; &#x432;&#x43E;&#x437;&#x43C;&#x43E;&#x436;&#x43D;&#x43E; &#x442;&#x43E;&#x43B;&#x44C;&#x43A;&#x43E; &#x434;&#x435;&#x43B;&#x430;&#x44E;&#x442; &#x441;&#x432;&#x43E;&#x439; &#x432;&#x44B;&#x431;&#x43E;&#x440; &#x44F;&#x437;&#x44B;&#x43A;&#x430; &#x43F;&#x440;&#x43E;&#x433;&#x440;&#x430;&#x43C;&#x43C;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x43D;&#x438;&#x44F;, &#x43A;&#x43E;&#x442;&#x43E;&#x440;&#x43E;&#x43C;&#x443; &#x431;&#x44B; &#x445;&#x43E;&#x442;&#x435;&#x43B;&#x438; &#x43F;&#x43E;&#x441;&#x432;&#x44F;&#x442;&#x438;&#x442;&#x44C; &#x441;&#x432;&#x43E;&#x44E; &#x436;&#x438;&#x437;&#x43D;&#x44C; &#x442;&#x430;&#x43A; &#x441;&#x43A;&#x430;&#x437;&#x430;&#x442;&#x44C;.</p> <p>&#x42F; &#x441;&#x430;&#x43C; Java Developer &#x438; &#x434;&#x43B;&#x44F; &#x43C;&#x435;&#x43D;&#x44F; &#x43D;&#x430;&#x441;&#x442;&#x443;&#x43F;&#x438;&#x43B; &#x442;&#x43E;&#x442; &#x43F;&#x435;&#x440;&#x438;&#x43E;&#x434; &#x44F; &#x43A;&#x43E;&#x433;&#x434;&#x430; &#x445;&#x43E;&#x442;&#x435;&#x43B;&#x43E;&#x441;&#x44C; &#x43F;&#x43E;&#x441;&#x43C;&#x43E;&#x442;&#x440;&#x435;&#x442;&#x44C; &#x43D;&#x430; &#x434;&#x440;&#x443;&#x433;&#x438;&#x435; &#x44F;&#x437;&#x44B;&#x43A;&#x438;, &#x432;&#x437;&#x44F;&#x442;&#x44C; &#x43A;&#x430;&#x43A;&#x438;&#x435;-&#x442;&#x43E; &#x43F;&#x440;&#x430;&#x43A;&#x442;&#x438;&#x43A;&#x438; &#x434;&#x43B;&#x44F; &#x441;&#x435;&#x431;&#x44F; &#x441; &#x43D;&#x438;&#x445;.</p> <p>&#x418; &#x43E;&#x434;&#x43D;&#x430;&#x436;&#x434;&#x44B; &#x43F;&#x440;&#x438;&#x43C;&#x435;&#x440;&#x43D;&#x43E; &#x432; 2013 &#x433;&#x43E;&#x434;&#x443; &#x44F; &#x443;&#x441;&#x43B;&#x44B;&#x448;&#x430;&#x43B; &#x447;&#x442;&#x43E; &#x442;&#x430; &#x43F;&#x440;&#x435;&#x43A;&#x440;&#x430;&#x441;&#x43D;&#x430;&#x44F; &#x43A;&#x43E;&#x43C;&#x43F;&#x430;&#x43D;&#x438;&#x44F; &#x434;&#x435;&#x43B;&#x430;&#x44E;&#x449;&#x430;&#x44F; &#x442;&#x430;&#x43A;&#x438;&#x435; &#x43A;&#x440;&#x443;&#x442;&#x44B;&#x435; &#x43F;&#x440;&#x43E;&#x434;&#x443;&#x43A;&#x442;&#x44B; &#x43A;&#x430;&#x43A; <strong>Intellij IDEA</strong>, <strong>Youtrack</strong> &#x430; &#x438;&#x43C;&#x435;&#x43D;&#x43D;&#x43E; <a href=""https://www.jetbrains.com/"">JetBrains</a>, &#x430;&#x43D;&#x43E;&#x43D;&#x441;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x43B;&#x430; &#x43E; &#x43D;&#x43E;&#x432;&#x43E;&#x43C; &#x44F;&#x437;&#x44B;&#x43A;&#x435; <a href=""https://kotlinlang.org/"">Kotlin</a>, &#x43A;&#x43E;&#x442;&#x43E;&#x440;&#x44B;&#x439; &#x43D;&#x430; &#x442;&#x43E; &#x432;&#x440;&#x435;&#x43C;&#x44F; &#x431;&#x44B;&#x43B; &#x432; &#x430;&#x43A;&#x442;&#x438;&#x432;&#x43D;&#x43E;&#x439; &#x441;&#x442;&#x430;&#x434;&#x438;&#x438; &#x440;&#x430;&#x437;&#x440;&#x430;&#x431;&#x43E;&#x442;&#x43A;&#x438;.</p> <p>&#x418; &#x432; &#x44D;&#x442;&#x43E;&#x43C; &#x433;&#x43E;&#x434;&#x443; &#x430; &#x438;&#x43C;&#x435;&#x43D;&#x43D;&#x43E; 15 &#x444;&#x435;&#x432;&#x440;&#x430;&#x43B;&#x44F; 2016 &#x433;&#x43E;&#x434;&#x430; &#x431;&#x44B;&#x43B; &#x432;&#x44B;&#x43F;&#x443;&#x448;&#x435;&#x43D; &#x440;&#x435;&#x43B;&#x438;&#x437; <strong>Kotlin 1.0</strong>. &#x421; &#x44D;&#x442;&#x43E;&#x433;&#x43E; &#x43C;&#x43E;&#x43C;&#x435;&#x43D;&#x442;&#x430; &#x44F; &#x43D;&#x430;&#x447;&#x430;&#x43B; &#x443;&#x436;&#x435; &#x431;&#x43E;&#x43B;&#x435;&#x435; &#x430;&#x43A;&#x442;&#x438;&#x432;&#x43D;&#x435;&#x439; &#x435;&#x433;&#x43E; &#x438;&#x437;&#x443;&#x447;&#x430;&#x442;&#x44C; &#x438; &#x43F;&#x44B;&#x442;&#x430;&#x442;&#x44C;&#x441;&#x44F; &#x43F;&#x440;&#x438;&#x43C;&#x435;&#x43D;&#x44F;&#x442;&#x44C; &#x432; &#x43D;&#x435;&#x431;&#x43E;&#x43B;&#x44C;&#x448;&#x438;&#x445; &#x441;&#x432;&#x43E;&#x438; &#x43F;&#x440;&#x43E;&#x435;&#x43A;&#x442;&#x430;&#x445;.</p> <h2>Kotlin &#x434;&#x43B;&#x44F; &#x43D;&#x430;&#x447;&#x438;&#x43D;&#x430;&#x44E;&#x449;&#x438;&#x445;</h2> <p>&#x418; &#x44D;&#x442;&#x438;&#x43C; &#x43F;&#x43E;&#x441;&#x442;&#x43E;&#x43C; &#x44F; &#x431;&#x44B; &#x445;&#x43E;&#x442;&#x435;&#x43B; &#x43F;&#x43E;&#x434;&#x435;&#x43B;&#x438;&#x442;&#x441;&#x44F; &#x441;&#x435;&#x440;&#x438;&#x435;&#x439; &#x432;&#x438;&#x434;&#x435;&#x43E; &#x432; &#x43A;&#x43E;&#x442;&#x43E;&#x440;&#x43E;&#x439; &#x44F; &#x43D;&#x430;&#x447;&#x430;&#x43B; &#x434;&#x435;&#x43B;&#x438;&#x442;&#x441;&#x44F; &#x432;&#x441;&#x435;&#x43C; &#x442;&#x435;&#x43C; &#x447;&#x442;&#x43E; &#x44F; &#x438;&#x437;&#x443;&#x447;&#x438;&#x43B; &#x437;&#x430; &#x44D;&#x442;&#x43E; &#x432;&#x440;&#x435;&#x43C;&#x44F; &#x43A;&#x430;&#x441;&#x430;&#x435;&#x43C;&#x43E; Kotlin.</p> <p><strong>&#x423;&#x440;&#x43E;&#x43A; 0. &#x412;&#x432;&#x435;&#x434;&#x435;&#x43D;&#x438;&#x435; &#x438; &#x437;&#x43D;&#x430;&#x43A;&#x43E;&#x43C;&#x441;&#x442;&#x432;&#x43E;</strong> <a href=""https://www.youtube.com/watch?v=L9k_NdTaMeI"">https://www.youtube.com/watch?v=L9k_NdTaMeI</a></p> <p><strong>&#x423;&#x440;&#x43E;&#x43A; 1. String Templates</strong> <a href=""https://www.youtube.com/watch?v=frw1DpNm_ms"">https://www.youtube.com/watch?v=frw1DpNm_ms</a></p> <p>&#x41F;&#x43E;&#x43A;&#x430; &#x43F;&#x43B;&#x430;&#x43D;&#x438;&#x440;&#x443;&#x44E; &#x432;&#x44B;&#x43A;&#x43B;&#x430;&#x434;&#x44B;&#x432;&#x430;&#x442;&#x44C; &#x434;&#x432;&#x430; &#x432;&#x438;&#x434;&#x435;&#x43E; &#x432; &#x43D;&#x435;&#x434;&#x435;&#x43B;&#x44E;, &#x432;&#x435;&#x441;&#x44C; &#x441;&#x43F;&#x438;&#x441;&#x43E;&#x43A; &#x431;&#x443;&#x434;&#x435;&#x442; <a href=""https://goo.gl/yegW0d"">&#x442;&#x443;&#x442;</a>. &#x421;&#x43F;&#x430;&#x441;&#x438;&#x431;&#x43E; &#x437;&#x430; &#x432;&#x430;&#x448;&#x435; &#x432;&#x43D;&#x438;&#x43C;&#x430;&#x43D;&#x438;&#x435;, &#x438; &#x43D;&#x430;&#x434;&#x435;&#x44E;&#x441;&#x44C;, &#x434;&#x430;&#x43D;&#x43D;&#x430;&#x44F; &#x438;&#x43D;&#x444;&#x43E;&#x440;&#x43C;&#x430;&#x446;&#x438;&#x44F; &#x43A;&#x43E;&#x43C;&#x443;-&#x442;&#x43E; &#x431;&#x443;&#x434;&#x435;&#x442; &#x43F;&#x43E;&#x43B;&#x435;&#x437;&#x43D;&#x43E;!</p> https://habrahabr.ru/post/278277/https://habrahabr.ru/post/278277/Kotlin@DevcolibriWed, 02 Mar 2016 15:18:00 GMT Kotlin & Android: A Brass Tacks Experiment, Part 5<p><img src=""https://cdn-images-1.medium.com/max/800/1*UN-S8ELMC2kpHf4tJKfbLQ.png"" alt=""Header Picture""></p> <p><em>Disclaimer: I am a Google employee, but the views expressed in this article are not those of my employer.</em></p> <h2>Kotlin &amp; Android: A Brass Tacks Experiment, Part 5</h2> <p>Well, we&rsquo;ve made it to part 5 in an ongoing weekly blog about my experiences using the Kotlin&reg; language to do useful things for Android development. If you&rsquo;ve landed here randomly or unexpectedly, perhaps you&rsquo;d like to jump to one of the prior parts first and catch up to where we are now?</p> <p><a href=""https://medium.com/p/kotlin-android-a-brass-tacks-experiment-part-1-3e5028491bcc"">Part 1</a> (setup) | <a href=""https://medium.com/p/kotlin-android-a-brass-tacks-experiment-part-2-c67661cfdf5f"">Part 2</a> (code starts here) | <a href=""https://medium.com/p/kotlin-android-a-brass-tacks-experiment-part-3-84e65d567a37"">Part 3</a> | <a href=""https://medium.com/p/kotlin-android-a-brass-tacks-experiment-part-4-4b7b501fa457"">Part 4</a></p> <p>At this point, we have a pretty good way of expressing the creation of an Android view hierarchy with fewer keystrokes than the equivalent XML resource, and <em>far</em> fewer than the equivalent written purely in the Java&reg; language. Its syntax is declarative, the nesting of views is obvious, and we know how to use Kotlin <em>extension functions</em> to add convenient utility functions as needed.</p> <p>But we left things last time with an awkward situation while trying to set a view&rsquo;s left padding. Here&rsquo;s what it looks like currently to set padding. Note that we have to call setPadding() with its four arguments instead of assigning to a <em>synthetic property</em> that&rsquo;s derived from JavaBeans-style getters and setters:</p> <pre><code class=""hljs language-kotlin"">v&lt;TextView&gt; { layoutParams = LayoutParams(WRAP_CONTENT, WRAP_CONTENT) setPadding(dp_i(<span class=""hljs-number"">16</span>), <span class=""hljs-number"">0</span>, <span class=""hljs-number"">0</span>, <span class=""hljs-number"">0</span>) <span class=""hljs-comment"">// bleh - it's not consistent</span> text = <span class=""hljs-string"">""Hello""</span> }</code></pre> <p>To be consistent in this view builder code, we would rather specify the left padding directly by assignment instead of calling a method with four parameters. At first blush, you might consider using another extension function to attach an extension method called &ldquo;setLeftPadding(int)&rdquo; to the View class. You could do this, but then you wouldn&rsquo;t actually be able to refer to it as &ldquo;leftPadding = dp_i(16)&rdquo; in the <em>lambda with receiver</em>. It turns out that member functions that look like JavaBeans-style accessors that are <em>defined in Kotlin</em> don&rsquo;t get automatically converted into synthetic properties like member methods <em>defined in Java classes</em>. Bummer... but not really!</p> <p>Instead, Kotlin also allows you to define <em>extension properties</em>, which allow a syntax that looks just like the synthetic properties for Java class methods that we&rsquo;ve been using so far. An extension property is grafted onto an existing class just like a Kotlin extension method so you can access them on instances of that class, assuming the extension property is imported into your code.</p> <p>So what we can do is define extension properties to set padding values in a way that&rsquo;s consistent with the other synthetic properties of view. I&rsquo;ll just show a single property here for left padding; the others follow suit:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">var</span> View.padLeft: <span class=""hljs-built_in"">Int</span> <span class=""hljs-comment"">// Specify the setter behavior; value is the assigned Int</span> <span class=""hljs-keyword"">set</span>(value) { <span class=""hljs-comment"">// Use View.setPadding to set left padding value,</span> <span class=""hljs-comment"">// uses Kotlin synthetic properties for the others</span> setPadding(value, paddingTop, paddingRight, paddingBottom) } <span class=""hljs-comment"">// Specify the getter behavior</span> <span class=""hljs-keyword"">get</span>() { <span class=""hljs-keyword"">return</span> paddingLeft }</code></pre> <p>Using this &ldquo;padLeft&rdquo; extension property, our earlier TextView creation can now be written like this:</p> <pre><code class=""hljs language-kotlin"">v&lt;TextView&gt; { layoutParams = LayoutParams(WRAP_CONTENT, WRAP_CONTENT) padLeft = dp_i(<span class=""hljs-number"">16</span>) <span class=""hljs-comment"">// ahhh - much better!</span> text = <span class=""hljs-string"">""Hello""</span> }</code></pre> <p>Consistency in assignment for all the properties. Excellent!</p> <p>There&rsquo;s a few things to note about the padLeft extension property:</p> <ul> <li>It uses a syntax similar to the &ldquo;class dot function&rdquo; notation for extension functions, but now it&rsquo;s &ldquo;class dot property&rdquo;.</li> <li>The property type is given after the colon.</li> <li>It&rsquo;s declared using &ldquo;var&rdquo;, which is Kotlin&rsquo;s way of saying a variable or property is <em>mutable</em>. This means we can assign values directly to it. (On the other hand, &ldquo;val&rdquo; properties are <em>immutable</em> and can only be read.)</li> <li>An extension property that&rsquo;s mutable requires us to provide both a getter and setter implementation. (Likewise, an immutable property requires only a getter).</li> </ul> <p>The implementation of the padLeft <em>setter</em> is defined in terms the existing setPadding() method of View. It takes the value provided from the right hand side of the assignment expression and uses that as the first parameter to setPadding(), along with the values of synthetic properties for the other existing padding values of the TextView. Below the setter, the implementation of the padLeft <em>getter</em> is simply defined using the View&rsquo;s existing &ldquo;paddingLeft&rdquo; synthetic property.</p> <p>Side note: I find it somewhat ironic that Android&rsquo;s View class provides JavaBeans-style <em>getters</em> for each directional padding metric but <em>not setters</em>. Oh well, we fixed it with extension properties!</p> <p>If you ever need more from a class API that you don&rsquo;t control, just add what you want with Kotlin&rsquo;s extension functions and properties. &#x1F603;</p> <h2>Any other Kotlin tricks to share?</h2> <p>There a couple more simple tricks that can be used to tighten up the syntax even more. One trick allows you to get rid of all references to &ldquo;v&rdquo; in your view builder expressions, and another will make it easier to specify complicated layout parameters. So check in next time to see how these work!</p> <p>As usual, you can follow me <a href=""https://medium.com/@CodingDoug"">here on Medium</a> and also <a href=""https://twitter.com/CodingDoug"">on Twitter as CodingDoug</a> to get notified of the next part to this series. I hope you&rsquo;ve found it useful for learning Kotlin language features as well as learning some new things about Android views.</p> https://medium.com/@CodingDoug/kotlin-android-a-brass-tacks-experiment-part-5-bd79eb9c85d4#.tyblv8pv8https://medium.com/@CodingDoug/kotlin-android-a-brass-tacks-experiment-part-5-bd79eb9c85d4#.tyblv8pv8KotlinAndroidDoug StevensonTue, 01 Mar 2016 22:14:00 GMT Developing on Android sucks a lot less with Kotlin<p><img src=""https://wiredcraft.com/images/posts/Android-app-development-Kotlin.jpg"" alt=""Kotlin""></p> <p>While Android development has improved tremendously in the past few years, many think that it still sucks when compared to iOS. A lot of folks are working hard to make it better, maybe even enjoyable. And <a href=""https://kotlinlang.org/"">Kotlin</a>, a new programming language, seems to be headed in that direction. Having been brought onboard by Starbucks in China to work on their mobile apps, we&#x27;ve been experimenting with Kotlin as a viable option to improving the UX of the Android app and making it overall more maintainable.</p> <h2>What is Kotlin?</h2> <p><a href=""https://kotlinlang.org/"">Kotlin</a> is a new language from the guys at JetBrain, the team behind Intellij, Android Studio, and some of the best IDE in the industry. Essentially, Kotlin is an evolution of the Java syntax. Its source code can be compiled to JVM bytecode and it has 100% interoperability with Java. JetBrain even recently added the ability to compile Kotlin code to JavaScript, potentially broadening its reach.</p> <h2>Who should use Kotlin?</h2> <p>So, who is Kotlin for? Newbies or experts?</p> <p>I would argue both.</p> <p>Newbies can enjoy a cleaner and more concise syntax and avoid a lot of beginner&#x27;s mistakes people usually run into with Java. Experts will also most likely enjoy the cleaner syntax, and most likely find themselves more productive for it.</p> <h2>What makes Kotlin different?</h2> <p>If you hate Java, Kotlin may be your solution. In many ways, it &quot;fixes&quot; Java, especially for Android. While the next major release of Java (8) looks pretty promising and brings a lot of modern language features (e.g. lambda and functional programming), there&#x27;s no official schedule yet for when it will be made available for the Android platform. Kotlin is available right now.</p> <p>Let&#x27;s have a what it brings:</p> <h3>1. Cleaner syntax</h3> <p>Here&#x27;s a &quot;Hello world&quot; in Kotlin:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">main</span><span class=""hljs-params"">(args: <span class=""hljs-type"">Array</span>&lt;<span class=""hljs-type"">String</span>&gt;)</span></span> { println(<span class=""hljs-string"">""Hello, World!""</span>) }</code></pre> <p>Compared to Java:</p> <pre><code class=""hljs language-java""><span class=""hljs-keyword"">public</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">HelloWorld</span> </span>{ <span class=""hljs-function""><span class=""hljs-keyword"">public</span> <span class=""hljs-keyword"">static</span> <span class=""hljs-keyword"">void</span> <span class=""hljs-title"">main</span><span class=""hljs-params"">(String[] args)</span> </span>{ <span class=""hljs-comment"">//Prints ""Hello, World"" to the terminal window.System.out.println(""Hello, World"");</span> } }</code></pre> <p>I think you&#x27;ll agree that Kotlin is much cleaner and way more concise.</p> <h3>2. Null safety</h3> <p>How many times did you run into a <code>Null Pointer Exception</code> while developing or testing? Kotlin takes all <code>null</code> value checks from runtime to compile time. By doing so, it ensures null safety for any code that passes compilation.</p> <p>For example, the Java code below can be compiled, but will throw a <code>Null Pointer Exception</code> at runtime.</p> <pre><code class=""hljs language-java"">String a = <span class=""hljs-keyword"">null</span>; System.out.println(a.length());</code></pre> <p>With Kotlin, variables are not nullable by default. For example, this piece of Kotlin code won&#x27;t compile:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> a:String = <span class=""hljs-literal"">null</span></code></pre> <p>But if you really want to allow some variable to have null value, you can add a question mark:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> a: String? = <span class=""hljs-literal"">null</span> println(a?.length())</code></pre> <p>In the example above, the first <code>?</code> is used to make the variable <code>a</code> nullable, the second <code>?</code> is just to check if the value of <code>a</code> is null.</p> <h3>3. Functional programming</h3> <p>One of the most important changes in Java 8 is lambda. While we&#x27;re waiting for this to come to the Android platform, Kotlin can already add a lot of high-order functional programming features on top of Java 6.</p> <p>By &quot;high-order,&quot; I mean a function that can take another function as a parameter or return a function. For example, many programming languages have the <code>filter</code> function, which can take a Collection-like data structure and a function to filter the elements in the Collection that doesn&#x27;t meet certain criteria. Then return a subset of the original Collection.</p> <p>This is how you might implement a <code>filter</code> function in Kotlin:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-type"">&lt;T&gt;</span> <span class=""hljs-title"">filter</span><span class=""hljs-params"">(items: <span class=""hljs-type"">Collection</span>&lt;<span class=""hljs-type"">T</span>&gt;, f: (<span class=""hljs-type"">T</span>)</span></span> -&gt; <span class=""hljs-built_in"">Boolean</span>): List&lt;T&gt; { <span class=""hljs-keyword"">val</span> newItems = arrayListOf&lt;T&gt;() <span class=""hljs-keyword"">for</span> (item <span class=""hljs-keyword"">in</span> items) <span class=""hljs-keyword"">if</span> (f(item)) newItems.add(item) <span class=""hljs-keyword"">return</span> newItems }</code></pre> <p>Then you can use it on a Collection data structure:</p> <pre><code class=""hljs language-kotlin"">filter(numbers, { value -&gt; value &gt;= 5 })</code></pre> <p>Pretty clean implementation right? Wait, it can be even cleaner by using the special <code>it</code> keyword that represents each item inside the collection:</p> <pre><code class=""hljs language-kotlin"">filter(numbers) { it &gt;= 5 }</code></pre> <h2>Minimum overhead</h2> <p>Beyond adding features, the Kotlin language is actually pretty small. For the latest version to this day (<code>1.0.0-beta-4584</code>), runtime and standard library are a few kilobytes in size. It won&#x27;t add much weight to your project.</p> <p>The features we mentioned previously are just a few things that Kotlin brings to the table. For more, I suggest checking out the <a href=""https://kotlinlang.org/docs/reference/"">official reference page</a>.</p> <h2>Using Kotlin on Android Studio</h2> <p>The author of Kotlin is also the author of some of the most popular IDE out there. There are official plugins for Eclipse, IntelliJ IDEA, and standalone command line compiler as well. Since we&#x27;re focusing on Android, here are a few tips for Android Studio:</p> <ol> <li>Download and install Intellij IDEA/Android Studio plugin. You can install it through the IDE preference panel or download if from JetBrain site.</li> </ol> <p><img src=""https://wiredcraft.com/images/posts/Kotlin-android-app-development-2.png"" alt=""android-studio-Kotlin-development""></p> <ol start=""2""> <li>Once you have the plugin installed, you can start using it. If you&#x27;re trying to convert an existing Java project, simply click <code>Code &rarr; Convert Java File to Kotlin File</code> in the menu bar. Kotlin will convert the source Java code to Kotlin code. Alternatively, if you&#x27;re starting a project from scratch, you can create a new Java project and then convert all <code>.java</code> files into <code>.kt</code> files. Not the best, but hopefully Google and JetBrain will learn to play nice with each other in the future.</li> </ol> <p><img src=""https://wiredcraft.com/images/posts/Kotlin-android-app-development-3.png"" alt=""android-studio-Kotlin-development""></p> <p>That&#x27;s it!</p> <h2>Conclusion</h2> <p>Kotlin probably isn&#x27;t as hot in the Android community as Swift is for the iOS world, but the number of libraries is growing. Being interoperable with Java 6 and backed up by JetBrain should put you at ease with investing in it; it will be around for a long time.</p> <p>Kotlin fixed a lot of the issues we had with developing for Android. There&#x27;s still room for improvement, but I encourage all of you out there who shared the frustrations of building Android apps to give it a try on your next project.</p> <p>And finally, if you&#x27;re looking for a rock-solid team of nerds and creatives in NYC, Berlin, or Shanghai to work on your next Android or iOS project, <a href=""http://twitter.com/wiredcraft"">reach out on Twitter</a> or shoot us an email either <a href=""https://wiredcraft.typeform.com/to/GG4GQz"">on our site</a> or at <a href=""mailto:info@wiredcraft.com"">info@wiredcraft.com</a>.</p> https://wiredcraft.com/blog/android-apps-development-kotlin/https://wiredcraft.com/blog/android-apps-development-kotlin/AndroidKotlinKuno QingTue, 01 Mar 2016 00:00:00 GMT The Journey of a Spring Boot application from Java 8 to Kotlin, part 3: Data Classes<p>Welcome to the third installment of our Java 8 -&gt; Kotlin conversion for a Spring Boot application. <a href=""/post/spring-boot-configuration-in-kotlin/"">Last time</a> we saw how converting a configuration class to Kotlin helped clean up some of the boilerplate code required in Java.</p> <p>In this third installment, we are going to continue our theme of &quot;write less code with Kotlin&quot; and look at how <a href=""https://kotlinlang.org/docs/reference/data-classes.html"">Kotlin data classes</a> help us clean up our POJOs data classes.</p> <p>Our <a href=""https://github.com/mikegehard/user-management-evolution-kotlin/blob/83883fee6dac3cb06e10bd6a510403cbe3e1ef62/components/email/src/main/java/com/example/email/EmailMessage.java"">starting point</a> is a plain old Java object (POJO) to hold some data to be sent via RabbitMQ:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">package</span> com.example.email; <span class=""hljs-keyword"">import</span> java.io.Serializable; <span class=""hljs-keyword"">public</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">EmailMessage</span> <span class=""hljs-title"">implements</span> <span class=""hljs-title"">Serializable</span> </span>{ <span class=""hljs-keyword"">private</span> <span class=""hljs-keyword"">final</span> String toAddress; <span class=""hljs-keyword"">private</span> <span class=""hljs-keyword"">final</span> String subject; <span class=""hljs-keyword"">private</span> <span class=""hljs-keyword"">final</span> String body; <span class=""hljs-keyword"">public</span> EmailMessage(String toAddress, String subject, String body) { <span class=""hljs-keyword"">this</span>.toAddress = toAddress; <span class=""hljs-keyword"">this</span>.subject = subject; <span class=""hljs-keyword"">this</span>.body = body; } <span class=""hljs-keyword"">public</span> String getToAddress() { <span class=""hljs-keyword"">return</span> toAddress; } <span class=""hljs-keyword"">public</span> String getSubject() { <span class=""hljs-keyword"">return</span> subject; } <span class=""hljs-keyword"">public</span> String getBody() { <span class=""hljs-keyword"">return</span> body; } }</code></pre> <p>Here is the <a href=""https://github.com/mikegehard/user-management-evolution-kotlin/blob/f137c5ec25a2a575c30113a3260f55af6d0285ed/components/email/src/main/kotlin/com/example/email/EmailMessage.kt"">same class</a> implemented as a <a href=""https://kotlinlang.org/docs/reference/data-classes.html"">Kotlin data class</a>:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">package</span> com.example.email <span class=""hljs-keyword"">import</span> java.io.Serializable <span class=""hljs-keyword"">data</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">EmailMessage</span></span>(<span class=""hljs-keyword"">val</span> toAddress: String, <span class=""hljs-keyword"">val</span> subject: String, <span class=""hljs-keyword"">val</span> body: String) : Serializable</code></pre> <p>Not only is this code much shorter than it&#x27;s Java counterpart, it also has more functionality. As a Kotlin data class, this tiny amount of code gets:</p> <ul> <li>generated implementations for a <code>equals()/hashCode()</code> pair</li> <li>a default <code>toString()</code> method</li> <li>a <code>copy()</code> method that allows for easy altering of individual attributes of the object</li> <li>the ability to <a href=""https://kotlinlang.org/docs/reference/data-classes.html#data-classes-and-destructuring-declarations"">destructure</a> the object in an assignment statement.</li> </ul> <p>Other places this feature will come in handy is with <a href=""https://spring.io/blog/2016/02/15/developing-spring-boot-applications-with-kotlin#jackson-kotlin-module"">JSON deserialization</a> and <a href=""https://spring.io/blog/2016/02/15/developing-spring-boot-applications-with-kotlin#jackson-kotlin-module"">Spring Data JPA classes</a>.</p> <p>As someone evaluating a switch from Java to Kotlin, these data classes are a major reasons for adopting Kotlin in your Spring Boot application. They help you write, and thus maintain, less code and the less code we have to maintain the better in my mind.</p> http://engineering.pivotal.io/post/spring-boot-kotlin-data-classes/http://engineering.pivotal.io/post/spring-boot-kotlin-data-classes/Spring BootKotlinMike GehardMon, 29 Feb 2016 17:53:00 GMT Как себе выстрелить в ногу в Kotlin<blockquote> <p>&#x41F;&#x43E;&#x441;&#x442;-&#x43D;&#x430;&#x431;&#x440;&#x43E;&#x441;</p> </blockquote> <h2>&#x41A;&#x430;&#x43A; &#x441;&#x435;&#x431;&#x435; &#x432;&#x44B;&#x441;&#x442;&#x440;&#x435;&#x43B;&#x438;&#x442;&#x44C; &#x432; &#x43D;&#x43E;&#x433;&#x443; &#x432; Kotlin</h2> <p>&#x421;&#x43E;&#x432;&#x441;&#x435;&#x43C; &#x43D;&#x435;&#x434;&#x430;&#x432;&#x43D;&#x43E; &#x432;&#x44B;&#x448;&#x435;&#x43B; <a href=""http://blog.jetbrains.com/kotlin/2016/02/kotlin-1-0-released-pragmatic-language-for-jvm-and-android/"">&#x440;&#x435;&#x43B;&#x438;&#x437;</a> Kotlin, &#x430; &#x435;&#x433;&#x43E; &#x43A;&#x43E;&#x43C;&#x430;&#x43D;&#x434;&#x430; &#x440;&#x430;&#x437;&#x440;&#x430;&#x431;&#x43E;&#x442;&#x447;&#x438;&#x43A;&#x43E;&#x432; &#x43F;&#x440;&#x435;&#x434;&#x43B;&#x430;&#x433;&#x430;&#x43B;&#x430; <a href=""https://habrahabr.ru/company/JetBrains/blog/277573/"">&#x437;&#x430;&#x434;&#x430;&#x432;&#x430;&#x442;&#x44C; &#x432;&#x43E;&#x43F;&#x440;&#x43E;&#x441;&#x44B;</a> &#x43F;&#x440;&#x43E; &#x44F;&#x437;&#x44B;&#x43A;. &#x41E;&#x43D; &#x441;&#x435;&#x439;&#x447;&#x430;&#x441; &#x43D;&#x430; &#x441;&#x43B;&#x443;&#x445;&#x443; &#x438;, &#x432;&#x43E;&#x437;&#x43C;&#x43E;&#x436;&#x43D;&#x43E;, &#x43C;&#x43D;&#x43E;&#x433;&#x438;&#x43C; &#x445;&#x43E;&#x447;&#x435;&#x442;&#x441;&#x44F; &#x435;&#x433;&#x43E; &#x43F;&#x43E;&#x43F;&#x440;&#x43E;&#x431;&#x43E;&#x432;&#x430;&#x442;&#x44C;.</p> <p>&#x41F;&#x430;&#x440;&#x443; &#x43D;&#x435;&#x434;&#x435;&#x43B;&#x44C; &#x43D;&#x430;&#x437;&#x430;&#x434; &#x442;&#x438;&#x43C;&#x43B;&#x438;&#x434; &#x441;&#x434;&#x435;&#x43B;&#x430;&#x43B; &#x434;&#x43B;&#x44F; &#x43A;&#x43E;&#x43C;&#x43F;&#x430;&#x43D;&#x438;&#x438; &#x43F;&#x440;&#x435;&#x437;&#x435;&#x43D;&#x442;&#x430;&#x446;&#x438;&#x44E; &#x43E; &#x442;&#x43E;&#x43C;, &#x447;&#x442;&#x43E; &#x432; &#x41A;&#x43E;&#x442;&#x43B;&#x438;&#x43D;&#x435; &#x445;&#x43E;&#x440;&#x43E;&#x448;&#x43E;. &#x41E;&#x434;&#x43D;&#x438;&#x43C; &#x438;&#x437; &#x441;&#x430;&#x43C;&#x44B;&#x445; &#x438;&#x43D;&#x442;&#x435;&#x440;&#x435;&#x441;&#x43D;&#x44B;&#x445; &#x432;&#x43E;&#x43F;&#x440;&#x43E;&#x441;&#x43E;&#x432; &#x431;&#x44B;&#x43B; &laquo;&#x410; &#x43A;&#x430;&#x43A; &#x432; &#x41A;&#x43E;&#x442;&#x43B;&#x438;&#x43D;&#x435; &#x432;&#x44B;&#x441;&#x442;&#x440;&#x435;&#x43B;&#x438;&#x442;&#x44C; &#x441;&#x435;&#x431;&#x435; &#x432; &#x43D;&#x43E;&#x433;&#x443;?&raquo; &#x422;&#x430;&#x43A; &#x43F;&#x43E;&#x43B;&#x443;&#x447;&#x438;&#x43B;&#x43E;&#x441;&#x44C;, &#x447;&#x442;&#x43E; &#x43E;&#x442;&#x432;&#x435;&#x442;&#x438;&#x43B; &#x43D;&#x430; &#x44D;&#x442;&#x43E;&#x442; &#x432;&#x43E;&#x43F;&#x440;&#x43E;&#x441; &#x44F;.</p> <p>Disclaimer: &#x41D;&#x435; &#x441;&#x442;&#x43E;&#x438;&#x442; &#x432;&#x43E;&#x441;&#x43F;&#x440;&#x438;&#x43D;&#x438;&#x43C;&#x430;&#x442;&#x44C; &#x44D;&#x442;&#x443; &#x441;&#x442;&#x430;&#x442;&#x44C;&#x44E; &#x43A;&#x430;&#x43A; &laquo;Kotlin &mdash; &#x43E;&#x442;&#x441;&#x442;&#x43E;&#x439;&raquo;. &#x425;&#x43E;&#x442;&#x44F; &#x44F; &#x43E;&#x442;&#x43D;&#x43E;&#x448;&#x443;&#x441;&#x44C; &#x441;&#x43A;&#x43E;&#x440;&#x435;&#x435; &#x43A; &#x43A;&#x430;&#x442;&#x435;&#x433;&#x43E;&#x440;&#x438;&#x438; &#x442;&#x435;&#x445;, &#x43A;&#x43E;&#x43C;&#x443; &#x438; &#x441;&#x43E; Scala &#x445;&#x43E;&#x440;&#x43E;&#x448;&#x43E;, &#x44F; &#x441;&#x447;&#x438;&#x442;&#x430;&#x44E;, &#x447;&#x442;&#x43E; &#x44F;&#x437;&#x44B;&#x43A; &#x43D;&#x435;&#x43F;&#x43B;&#x43E;&#x445;&#x43E;&#x439;. &#x412;&#x441;&#x435; &#x43F;&#x443;&#x43D;&#x43A;&#x442;&#x44B; &#x441;&#x43F;&#x43E;&#x440;&#x43D;&#x44B;&#x435;, &#x43D;&#x43E; &#x440;&#x430;&#x437; &#x432; &#x433;&#x43E;&#x434; &#x438; &#x43F;&#x430;&#x43B;&#x43A;&#x430; &#x441;&#x442;&#x440;&#x435;&#x43B;&#x44F;&#x435;&#x442;. &#x41A;&#x43E;&#x433;&#x434;&#x430;-&#x442;&#x43E; &#x432;&#x44B; &#x441;&#x435;&#x431;&#x435; &#x43F;&#x440;&#x43E;&#x441;&#x442;&#x440;&#x435;&#x43B;&#x438;&#x442;&#x435; &#x437;&#x430;&#x43E;&#x434;&#x43D;&#x43E; &#x438; &#x431;&#x430;&#x448;&#x43A;&#x443;, &#x430; &#x43A;&#x43E;&#x433;&#x434;&#x430;-&#x442;&#x43E; &#x443; &#x432;&#x430;&#x441; &#x43F;&#x43E;&#x43B;&#x443;&#x447;&#x438;&#x442;&#x441;&#x44F; &#x432;&#x44B;&#x441;&#x442;&#x440;&#x435;&#x43B;&#x438;&#x442;&#x44C; &#x442;&#x43E;&#x43B;&#x44C;&#x43A;&#x43E; &#x432; &#x43F;&#x43E;&#x43B;&#x43D;&#x43E;&#x447;&#x44C; &#x43F;&#x43E;&#x43B;&#x43D;&#x43E;&#x43B;&#x443;&#x43D;&#x438;&#x44F;, &#x435;&#x441;&#x43B;&#x438; &#x432;&#x44B; &#x43F;&#x440;&#x435;&#x434;&#x432;&#x430;&#x440;&#x438;&#x442;&#x435;&#x43B;&#x44C;&#x43D;&#x43E; &#x441;&#x43E;&#x432;&#x435;&#x440;&#x448;&#x438;&#x442;&#x435; &#x447;&#x435;&#x440;&#x43D;&#x44B;&#x439; &#x440;&#x438;&#x442;&#x443;&#x430;&#x43B; &#x441;&#x43E;&#x437;&#x434;&#x430;&#x43D;&#x438;&#x44F; &#x43F;&#x43B;&#x43E;&#x445;&#x43E;&#x433;&#x43E; &#x43A;&#x43E;&#x434;&#x430;.</p> <p>&#x41D;&#x430;&#x448;&#x430; &#x43A;&#x43E;&#x43C;&#x430;&#x43D;&#x434;&#x430; &#x43D;&#x435;&#x434;&#x430;&#x432;&#x43D;&#x43E; &#x437;&#x430;&#x43A;&#x43E;&#x43D;&#x447;&#x438;&#x43B;&#x430; &#x431;&#x43E;&#x43B;&#x44C;&#x448;&#x43E;&#x439; &#x43F;&#x440;&#x43E;&#x435;&#x43A;&#x442; &#x43D;&#x430; Scala, &#x441;&#x435;&#x439;&#x447;&#x430;&#x441; &#x434;&#x435;&#x43B;&#x430;&#x435;&#x43C; &#x43F;&#x440;&#x43E;&#x435;&#x43A;&#x442; &#x43F;&#x43E;&#x43C;&#x435;&#x43B;&#x44C;&#x447;&#x435; &#x43D;&#x430; Kotlin, &#x43F;&#x43E;&#x44D;&#x442;&#x43E;&#x43C;&#x443; &#x432; &#x441;&#x43F;&#x43E;&#x439;&#x43B;&#x435;&#x440;&#x430;&#x445; &#x431;&#x443;&#x434;&#x435;&#x442; &#x441;&#x440;&#x430;&#x432;&#x43D;&#x435;&#x43D;&#x438;&#x435; &#x441;&#x43E; Scala. &#x42F; &#x431;&#x443;&#x434;&#x443; &#x441;&#x447;&#x438;&#x442;&#x430;&#x442;&#x44C;, &#x447;&#x442;&#x43E; Nullable &#x432; Kotlin &mdash; &#x44D;&#x442;&#x43E; &#x44D;&#x43A;&#x432;&#x438;&#x432;&#x430;&#x43B;&#x435;&#x43D;&#x442; Option, &#x445;&#x43E;&#x442;&#x44F; &#x44D;&#x442;&#x43E; &#x441;&#x43E;&#x432;&#x441;&#x435;&#x43C; &#x43D;&#x435; &#x442;&#x430;&#x43A;, &#x43D;&#x43E;, &#x441;&#x43A;&#x43E;&#x440;&#x435;&#x435; &#x432;&#x441;&#x435;&#x433;&#x43E;, &#x431;&#x43E;&#x43B;&#x44C;&#x448;&#x438;&#x43D;&#x441;&#x442;&#x432;&#x43E; &#x438;&#x437; &#x442;&#x435;&#x445;, &#x43A;&#x442;&#x43E; &#x440;&#x430;&#x431;&#x43E;&#x442;&#x430;&#x43B; &#x441; Option, &#x431;&#x443;&#x434;&#x443;&#x442; &#x432;&#x43C;&#x435;&#x441;&#x442;&#x43E; &#x43D;&#x435;&#x433;&#x43E; &#x438;&#x441;&#x43F;&#x43E;&#x43B;&#x44C;&#x437;&#x43E;&#x432;&#x430;&#x442;&#x44C; Nullable.</p> <h4>1. &#x41F;&#x43E;&#x441;&#x442;-&#x438;&#x43D;&#x43A;&#x440;&#x435;&#x43C;&#x435;&#x43D;&#x442; &#x438; &#x43F;&#x440;&#x435;&#x438;&#x43D;&#x43A;&#x440;&#x435;&#x43C;&#x435;&#x43D;&#x442; &#x43A;&#x430;&#x43A; &#x432;&#x44B;&#x440;&#x430;&#x436;&#x435;&#x43D;&#x438;&#x44F;</h4> <p>&#x426;&#x438;&#x442;&#x438;&#x440;&#x443;&#x44E; &#x432;&#x43E;&#x43F;&#x440;&#x43E;&#x448;&#x430;&#x432;&#x448;&#x435;&#x433;&#x43E;: &laquo;&#x424;&#x443;, &#x44D;&#x442;&#x43E; &#x436; &#x431;&#x430;&#x44F;&#x43D;, &#x441;&#x43A;&#x443;&#x447;&#x43D;&#x43E;&raquo;. &#x421;&#x442;&#x43E;&#x43B;&#x44C;&#x43A;&#x43E; &#x43A;&#x43E;&#x43F;&#x438;&#x439; &#x441;&#x43B;&#x43E;&#x43C;&#x430;&#x43D;&#x43E;, &#x43C;&#x438;&#x43B;&#x43B;&#x438;&#x43E;&#x43D; &#x432;&#x43E;&#x43F;&#x440;&#x43E;&#x441;&#x43E;&#x432; &#x43D;&#x430; &#x441;&#x43E;&#x431;&#x435;&#x441;&#x435;&#x434;&#x43E;&#x432;&#x430;&#x43D;&#x438;&#x44F;&#x445; C++... &#x415;&#x441;&#x43B;&#x438; &#x435;&#x441;&#x442;&#x44C; &#x43F;&#x440;&#x438;&#x432;&#x44B;&#x447;&#x43A;&#x430;, &#x442;&#x43E; &#x43C;&#x43E;&#x436;&#x43D;&#x43E; &#x431;&#x44B;&#x43B;&#x43E; &#x435;&#x433;&#x43E; &#x43E;&#x441;&#x442;&#x430;&#x432;&#x438;&#x442;&#x44C; &#x438;&#x43D;&#x441;&#x442;&#x440;&#x443;&#x43A;&#x446;&#x438;&#x435;&#x439; (statement&#x27;&#x43E;&#x43C;). &#x421;&#x43F;&#x440;&#x430;&#x432;&#x435;&#x434;&#x43B;&#x438;&#x432;&#x43E;&#x441;&#x442;&#x438; &#x440;&#x430;&#x434;&#x438;, &#x434;&#x440;&#x443;&#x433;&#x438;&#x435; &#x43E;&#x43F;&#x435;&#x440;&#x430;&#x442;&#x43E;&#x440;&#x44B;, &#x432;&#x440;&#x43E;&#x434;&#x435; +=, &#x44F;&#x432;&#x43B;&#x44F;&#x44E;&#x442;&#x441;&#x44F; &#x438;&#x43D;&#x441;&#x442;&#x440;&#x443;&#x43A;&#x446;&#x438;&#x44F;&#x43C;&#x438;. <a href=""https://habrahabr.ru/company/JetBrains/blog/277573/#comment_8784811"">&#x426;&#x438;&#x442;&#x438;&#x440;&#x443;&#x44E;</a> &#x43E;&#x434;&#x43D;&#x43E;&#x433;&#x43E; &#x438;&#x437; &#x440;&#x430;&#x437;&#x440;&#x430;&#x431;&#x43E;&#x442;&#x447;&#x438;&#x43A;&#x43E;&#x432;, <a href=""https://habrahabr.ru/users/abreslav/"">abreslav</a>:</p> <blockquote> <p>&#x421;&#x43C;&#x43E;&#x442;&#x440;&#x435;&#x43B;&#x438; &#x43D;&#x430; &#x44E;&#x437;&#x43A;&#x435;&#x439;&#x441;&#x44B;, &#x443;&#x432;&#x438;&#x434;&#x435;&#x43B;&#x438;, &#x447;&#x442;&#x43E; &#x43F;&#x43E;&#x43B;&#x43E;&#x43C;&#x430;&#x435;&#x442;&#x441;&#x44F;, &#x440;&#x435;&#x448;&#x438;&#x43B;&#x438; &#x43E;&#x441;&#x442;&#x430;&#x432;&#x438;&#x442;&#x44C;.</p> <p>&#x417;&#x430;&#x43C;&#x435;&#x447;&#x443;, &#x447;&#x442;&#x43E; &#x443; &#x43D;&#x430;&#x441; &#x442;&#x443;&#x442; &#x43D;&#x435; &#x421;++, &#x438; &#x43D;&#x430; &#x441;&#x43E;&#x431;&#x435;&#x441;&#x435;&#x434;&#x43E;&#x432;&#x430;&#x43D;&#x438;&#x438; &#x43F;&#x440;&#x43E; &#x438;&#x43D;&#x43A;&#x440;&#x435;&#x43C;&#x435;&#x43D;&#x442; &#x441;&#x43F;&#x440;&#x43E;&#x441;&#x438;&#x442;&#x44C; &#x43E;&#x441;&#x43E;&#x431;&#x43E; &#x43D;&#x435;&#x447;&#x435;&#x433;&#x43E;. &#x420;&#x430;&#x437;&#x432;&#x435; &#x447;&#x442;&#x43E; &#x440;&#x430;&#x437;&#x43D;&#x438;&#x446;&#x443; &#x43C;&#x435;&#x436;&#x434;&#x443; &#x43F;&#x440;&#x435;&#x444;&#x438;&#x43A;&#x441;&#x43D;&#x44B;&#x43C; &#x438; &#x43F;&#x43E;&#x441;&#x442;&#x444;&#x438;&#x43A;&#x441;&#x43D;&#x44B;&#x43C;.</p> </blockquote> <p>&#x41D;&#x430; &#x43D;&#x435;&#x442; &#x438; &#x441;&#x443;&#x434;&#x430; &#x43D;&#x435;&#x442;. &#x420;&#x430;&#x437;&#x443;&#x43C;&#x435;&#x435;&#x442;&#x441;&#x44F;, &#x432; &#x437;&#x434;&#x440;&#x430;&#x432;&#x43E;&#x43C; &#x443;&#x43C;&#x435; &#x43D;&#x438;&#x43A;&#x442;&#x43E; &#x442;&#x430;&#x43A; &#x434;&#x435;&#x43B;&#x430;&#x442;&#x44C; &#x43D;&#x435; &#x431;&#x443;&#x434;&#x435;&#x442;, &#x43D;&#x43E; &#x441;&#x43B;&#x443;&#x447;&#x430;&#x439;&#x43D;&#x43E; &mdash; &#x43C;&#x43E;&#x436;&#x435;&#x442; &#x431;&#x44B;&#x442;&#x44C;.</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">var</span> i = <span class=""hljs-number"">5</span> i = i++ + i++ println(i)</code></pre> <blockquote> <p><strong>&#x41D;&#x438;&#x43A;&#x430;&#x43A;&#x43E;&#x433;&#x43E; undefined behaviour, &#x440;&#x435;&#x437;&#x443;&#x43B;&#x44C;&#x442;&#x430;&#x442;, &#x43E;&#x447;&#x435;&#x432;&#x438;&#x434;&#x43D;&#x43E;, 12</strong></p> <p>11</p> </blockquote> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">var</span> a = <span class=""hljs-number"">5</span> a = ++a + ++a println(a)</code></pre> <blockquote> <p><strong>&#x422;&#x443;&#x442; &#x432;&#x441;&#x435; &#x43F;&#x440;&#x43E;&#x449;&#x435;, &#x43A;&#x43E;&#x43D;&#x435;&#x447;&#x43D;&#x43E;, 14</strong></p> <p>13</p> </blockquote> <blockquote> <p><strong>&#x411;&#x43E;&#x43B;&#x44C;&#x448;&#x435; &#x43F;&#x440;&#x438;&#x43C;&#x435;&#x440;&#x43E;&#x432;</strong></p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">var</span> b = <span class=""hljs-number"">5</span> b = ++b + b++ println(b)</code></pre> <blockquote> <p><strong>&#x411;&#x430;&#x43D;&#x430;&#x43B;&#x44C;&#x43D;&#x430;&#x44F; &#x43B;&#x43E;&#x433;&#x438;&#x43A;&#x430; &#x433;&#x43E;&#x432;&#x43E;&#x440;&#x438;&#x442;, &#x447;&#x442;&#x43E; &#x43E;&#x442;&#x432;&#x435;&#x442; &#x434;&#x43E;&#x43B;&#x436;&#x435;&#x43D; &#x431;&#x44B;&#x442;&#x44C; &#x43C;&#x435;&#x436;&#x434;&#x443; 11 &#x438; 13</strong></p> <p>&#x434;&#x430;, 12</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">var</span> c = <span class=""hljs-number"">5</span> c = c++ + ++c println(c)</code></pre> </blockquote> <blockquote> <p><strong>&#x41E;&#x442; &#x43F;&#x435;&#x440;&#x435;&#x441;&#x442;&#x430;&#x43D;&#x43E;&#x432;&#x43A;&#x438; &#x43C;&#x435;&#x441;&#x442; &#x441;&#x43B;&#x430;&#x433;&#x430;&#x435;&#x43C;&#x44B;&#x445; &#x441;&#x443;&#x43C;&#x43C;&#x430; &#x43D;&#x435; &#x43C;&#x435;&#x43D;&#x44F;&#x435;&#x442;&#x441;&#x44F;</strong></p> <p>&#x440;&#x430;&#x437;&#x443;&#x43C;&#x435;&#x435;&#x442;&#x441;&#x44F;, 12</p> </blockquote> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">var</span> d = <span class=""hljs-number"">5</span> d = d + d++ + ++d + ++d println(d) <span class=""hljs-keyword"">var</span> e = <span class=""hljs-number"">5</span> e = ++e + ++e + e++ + e println(e)</code></pre> <blockquote> <p><strong>&#x41E;&#x442; &#x43F;&#x435;&#x440;&#x435;&#x441;&#x442;&#x430;&#x43D;&#x43E;&#x432;&#x43A;&#x438; &#x43C;&#x435;&#x441;&#x442; &#x441;&#x43B;&#x430;&#x433;&#x430;&#x435;&#x43C;&#x44B;&#x445; &#x441;&#x443;&#x43C;&#x43C;&#x430; &#x43D;&#x435; &#x43C;&#x435;&#x43D;&#x44F;&#x435;&#x442;&#x441;&#x44F;!</strong></p> <p>&#x420;&#x430;&#x437;&#x443;&#x43C;&#x435;&#x435;&#x442;&#x441;&#x44F;: 25 28</p> </blockquote> </blockquote> <blockquote> <p><strong>&#x427;&#x451; &#x442;&#x430;&#x43C; &#x432; Scala?</strong></p> <p>&#x41D;&#x438;&#x447;&#x435;&#x433;&#x43E; &#x438;&#x43D;&#x442;&#x435;&#x440;&#x435;&#x441;&#x43D;&#x43E;&#x433;&#x43E;, &#x432; Scala &#x438;&#x43D;&#x43A;&#x440;&#x435;&#x43C;&#x435;&#x43D;&#x442;&#x43E;&#x432; &#x43D;&#x435;&#x442;. &#x41A;&#x43E;&#x43C;&#x43F;&#x438;&#x43B;&#x44F;&#x442;&#x43E;&#x440; &#x441;&#x43A;&#x430;&#x436;&#x435;&#x442;, &#x447;&#x442;&#x43E; &#x43D;&#x435;&#x442; &#x43C;&#x435;&#x442;&#x43E;&#x434;&#x430; ++ &#x434;&#x43B;&#x44F; Int. &#x41D;&#x43E; &#x435;&#x441;&#x43B;&#x438; &#x43E;&#x447;&#x435;&#x43D;&#x44C; &#x437;&#x430;&#x445;&#x43E;&#x442;&#x435;&#x442;&#x44C;, &#x435;&#x433;&#x43E;, &#x43A;&#x43E;&#x43D;&#x435;&#x447;&#x43D;&#x43E;, &#x43C;&#x43E;&#x436;&#x43D;&#x43E; &#x43E;&#x43F;&#x440;&#x435;&#x434;&#x435;&#x43B;&#x438;&#x442;&#x44C;.</p> </blockquote> <h4>2. &#x41E;&#x434;&#x43E;&#x431;&#x440;&#x435;&#x43D;&#x43D;&#x44B;&#x439; &#x441;&#x43F;&#x43E;&#x441;&#x43E;&#x431;</h4> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> foo: <span class=""hljs-built_in"">Int</span>? = <span class=""hljs-literal"">null</span> <span class=""hljs-keyword"">val</span> bar = foo!! + <span class=""hljs-number"">5</span></code></pre> <blockquote> <p><strong>&#x427;&#x442;&#x43E; &#x445;&#x43E;&#x442;&#x435;&#x43B;&#x438;, &#x442;&#x43E; &#x438; &#x43F;&#x43E;&#x43B;&#x443;&#x447;&#x438;&#x43B;&#x438;</strong></p> <p>Exception in thread &laquo;main&raquo; kotlin.KotlinNullPointerException</p> </blockquote> <p>&#x412; &#x434;&#x43E;&#x43A;&#x443;&#x43C;&#x435;&#x43D;&#x442;&#x430;&#x446;&#x438;&#x438; &#x433;&#x43E;&#x432;&#x43E;&#x440;&#x438;&#x442;&#x441;&#x44F;, &#x447;&#x442;&#x43E; &#x442;&#x430;&#x43A; &#x434;&#x435;&#x43B;&#x430;&#x442;&#x44C; &#x441;&#x442;&#x43E;&#x438;&#x442; &#x442;&#x43E;&#x43B;&#x44C;&#x43A;&#x43E; &#x435;&#x441;&#x43B;&#x438; &#x432;&#x44B; &#x43E;&#x447;&#x435;&#x43D;&#x44C; &#x445;&#x43E;&#x442;&#x438;&#x442;&#x435; &#x43F;&#x43E;&#x43B;&#x443;&#x447;&#x438;&#x442;&#x44C; NullPointerException. &#x42D;&#x442;&#x43E; &#x445;&#x43E;&#x440;&#x43E;&#x448;&#x438;&#x439; &#x43C;&#x435;&#x442;&#x43E;&#x434; &#x432;&#x44B;&#x441;&#x442;&#x440;&#x435;&#x43B;&#x438;&#x442;&#x44C; &#x441;&#x435;&#x431;&#x435; &#x432; &#x43D;&#x43E;&#x433;&#x443;: !! &#x440;&#x435;&#x436;&#x435;&#x442; &#x433;&#x43B;&#x430;&#x437; &#x438; &#x43F;&#x440;&#x438; &#x43F;&#x435;&#x440;&#x432;&#x43E;&#x43C; &#x432;&#x437;&#x433;&#x43B;&#x44F;&#x434;&#x435; &#x43D;&#x430; &#x43A;&#x43E;&#x434; &#x432;&#x441;&#x435; &#x43F;&#x43E;&#x43D;&#x44F;&#x442;&#x43D;&#x43E;. &#x420;&#x430;&#x437;&#x443;&#x43C;&#x435;&#x435;&#x442;&#x441;&#x44F;, &#x438;&#x441;&#x43F;&#x43E;&#x43B;&#x44C;&#x437;&#x43E;&#x432;&#x430;&#x43D;&#x438;&#x435; !! &#x43F;&#x440;&#x435;&#x434;&#x43F;&#x43E;&#x43B;&#x430;&#x433;&#x430;&#x435;&#x442;&#x441;&#x44F; &#x442;&#x43E;&#x433;&#x434;&#x430;, &#x43A;&#x43E;&#x433;&#x434;&#x430; &#x434;&#x43E; &#x44D;&#x442;&#x43E;&#x433;&#x43E; &#x432;&#x44B; &#x43F;&#x440;&#x43E;&#x432;&#x435;&#x440;&#x438;&#x43B;&#x438; &#x437;&#x43D;&#x430;&#x447;&#x435;&#x43D;&#x438;&#x435; &#x43D;&#x430; null &#x438; smart cast &#x43F;&#x43E; &#x43A;&#x430;&#x43A;&#x43E;&#x439;-&#x43D;&#x438;&#x431;&#x443;&#x434;&#x44C; &#x43F;&#x440;&#x438;&#x447;&#x438;&#x43D;&#x435; &#x43D;&#x435; &#x441;&#x440;&#x430;&#x431;&#x43E;&#x442;&#x430;&#x43B;. &#x418;&#x43B;&#x438; &#x43A;&#x43E;&#x433;&#x434;&#x430; &#x432;&#x44B; &#x43F;&#x43E;&#x447;&#x435;&#x43C;&#x443;-&#x442;&#x43E; &#x443;&#x432;&#x435;&#x440;&#x435;&#x43D;&#x44B;, &#x447;&#x442;&#x43E; &#x442;&#x430;&#x43C; &#x43D;&#x435; &#x43C;&#x43E;&#x436;&#x435;&#x442; &#x431;&#x44B;&#x442;&#x44C; null.</p> <blockquote> <p><strong>&#x427;&#x451; &#x442;&#x430;&#x43C; &#x432; Scala?</strong></p> <pre><code class=""hljs language-scala""><span class=""hljs-keyword"">val</span> foo: <span class=""hljs-type"">Option</span>[<span class=""hljs-type"">Int</span>] = <span class=""hljs-type"">None</span> <span class=""hljs-keyword"">val</span> bar = foo.get + <span class=""hljs-number"">5</span></code></pre> <blockquote> <p><strong>&#x427;&#x442;&#x43E; &#x445;&#x43E;&#x442;&#x435;&#x43B;&#x438;, &#x442;&#x43E; &#x438; &#x43F;&#x43E;&#x43B;&#x443;&#x447;&#x438;&#x43B;&#x438;</strong></p> <p>Exception in thread &laquo;main&raquo; java.util.NoSuchElementException: None.get</p> </blockquote> </blockquote> <h4>3. &#x41F;&#x435;&#x440;&#x435;&#x43E;&#x43F;&#x440;&#x435;&#x434;&#x435;&#x43B;&#x435;&#x43D;&#x438;&#x435; invoke()</h4> <p>&#x41D;&#x430;&#x447;&#x43D;&#x435;&#x43C; &#x441; &#x43F;&#x440;&#x43E;&#x441;&#x442;&#x43E;&#x433;&#x43E;: &#x447;&#x442;&#x43E; &#x434;&#x435;&#x43B;&#x430;&#x435;&#x442; &#x44D;&#x442;&#x43E;&#x442; &#x43A;&#x443;&#x441;&#x43E;&#x43A; &#x43A;&#x43E;&#x434;&#x430; &#x438; &#x43A;&#x430;&#x43A;&#x43E;&#x439; &#x442;&#x438;&#x43F; &#x443; a?</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">A</span></span>(){...} <span class=""hljs-keyword"">val</span> a = A()</code></pre> <blockquote> <p><strong>&#x41D;&#x430; &#x433;&#x43B;&#x443;&#x43F;&#x44B;&#x439; &#x432;&#x43E;&#x43F;&#x440;&#x43E;&#x441; - &#x433;&#x43B;&#x443;&#x43F;&#x44B;&#x439; &#x43E;&#x442;&#x432;&#x435;&#x442;</strong></p> <p>&#x41F;&#x440;&#x430;&#x432;&#x438;&#x43B;&#x44C;&#x43D;&#x43E;, &#x441;&#x43E;&#x437;&#x434;&#x430;&#x435;&#x442; &#x43D;&#x43E;&#x432;&#x44B;&#x439; &#x43E;&#x431;&#x44A;&#x435;&#x43A;&#x442; &#x442;&#x438;&#x43F;&#x430; A, &#x432;&#x44B;&#x437;&#x44B;&#x432;&#x430;&#x44F; &#x43A;&#x43E;&#x43D;&#x441;&#x442;&#x440;&#x443;&#x43A;&#x442;&#x43E;&#x440; &#x43F;&#x43E; &#x443;&#x43C;&#x43E;&#x43B;&#x447;&#x430;&#x43D;&#x438;&#x44E;.</p> </blockquote> <p>&#x410; &#x437;&#x434;&#x435;&#x441;&#x44C; &#x447;&#x442;&#x43E; &#x431;&#x443;&#x434;&#x435;&#x442;?</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">class</span> В <span class=""hljs-keyword"">private</span> <span class=""hljs-keyword"">constructor</span></span>(){...} <span class=""hljs-keyword"">val</span> b = B()</code></pre> <blockquote> <p><strong>&#x41D;&#x443;, &#x43D;&#x430;&#x432;&#x435;&#x440;&#x43D;&#x43E;, &#x43E;&#x448;&#x438;&#x431;&#x43A;&#x430; &#x43A;&#x43E;&#x43C;&#x43F;&#x438;&#x43B;&#x44F;&#x446;&#x438;&#x438; &#x431;&#x443;&#x434;&#x435;&#x442;...</strong></p> <p>&#x410; &#x432;&#x43E;&#x442; &#x438; &#x43D;&#x435;&#x442;!</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">B</span> <span class=""hljs-keyword"">private</span> <span class=""hljs-keyword"">constructor</span></span>(){ <span class=""hljs-keyword"">var</span> param = <span class=""hljs-number"">6</span> <span class=""hljs-keyword"">constructor</span>(a: <span class=""hljs-built_in"">Int</span>): <span class=""hljs-keyword"">this</span>(){ param = a } <span class=""hljs-keyword"">companion</span> <span class=""hljs-keyword"">object</span>{ <span class=""hljs-keyword"">operator</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">invoke</span><span class=""hljs-params"">()</span></span> = B(<span class=""hljs-number"">7</span>) } }</code></pre> <p>&#x414;&#x43B;&#x44F; &#x43A;&#x43B;&#x430;&#x441;&#x441;&#x430; &#x43C;&#x43E;&#x436;&#x435;&#x442; &#x431;&#x44B;&#x442;&#x44C; &#x43E;&#x43F;&#x440;&#x435;&#x434;&#x435;&#x43B;&#x435;&#x43D;&#x430; &#x444;&#x430;&#x431;&#x440;&#x438;&#x43A;&#x430;. &#x410; &#x435;&#x441;&#x43B;&#x438; &#x431;&#x44B; &#x43E;&#x43D;&#x430; &#x431;&#x44B;&#x43B;&#x430; &#x432; &#x43A;&#x43B;&#x430;&#x441;&#x441;&#x435; A, &#x442;&#x43E; &#x442;&#x430;&#x43C; &#x432;&#x441;&#x435; &#x440;&#x430;&#x432;&#x43D;&#x43E; &#x432;&#x44B;&#x437;&#x44B;&#x432;&#x430;&#x43B;&#x441;&#x44F; &#x431;&#x44B; &#x43A;&#x43E;&#x43D;&#x441;&#x442;&#x440;&#x443;&#x43A;&#x442;&#x43E;&#x440;.</p> </blockquote> <p>&#x422;&#x435;&#x43F;&#x435;&#x440;&#x44C; &#x432;&#x44B; &#x43A;&#x43E; &#x432;&#x441;&#x435;&#x43C;&#x443; &#x433;&#x43E;&#x442;&#x43E;&#x432;&#x44B;:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">class</span> С <span class=""hljs-keyword"">private</span> <span class=""hljs-keyword"">constructor</span></span>(){...} <span class=""hljs-keyword"">val</span> c = C()</code></pre> <blockquote> <p><strong>&#x422;&#x443;&#x442; &#x441;&#x43E;&#x437;&#x434;&#x430;&#x435;&#x442;&#x441;&#x44F; &#x43E;&#x431;&#x44A;&#x435;&#x43A;&#x442; &#x43A;&#x43B;&#x430;&#x441;&#x441;&#x430; &#x421; &#x447;&#x435;&#x440;&#x435;&#x437; &#x444;&#x430;&#x431;&#x440;&#x438;&#x43A;&#x443;, &#x43E;&#x43F;&#x440;&#x435;&#x434;&#x435;&#x43B;&#x435;&#x43D;&#x43D;&#x443;&#x44E; &#x432; &#x43E;&#x431;&#x44A;&#x435;&#x43A;&#x442;&#x435;-&#x43A;&#x43E;&#x43C;&#x43F;&#x430;&#x43D;&#x44C;&#x43E;&#x43D;&#x435; &#x43A;&#x43B;&#x430;&#x441;&#x441;&#x430; &#x421;.</strong></p> <p>&#x41A;&#x43E;&#x43D;&#x435;&#x447;&#x43D;&#x43E; &#x436;&#x435; &#x43D;&#x435;&#x442;!</p> <pre><code class=""hljs language-kotlin""> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">C</span> <span class=""hljs-keyword"">private</span> <span class=""hljs-keyword"">constructor</span></span>(){ ... <span class=""hljs-keyword"">companion</span> <span class=""hljs-keyword"">object</span>{ <span class=""hljs-keyword"">operator</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">invoke</span><span class=""hljs-params"">()</span></span> = A(<span class=""hljs-number"">9</span>) } }</code></pre> <p>&#x423; &#x43F;&#x435;&#x440;&#x435;&#x43C;&#x435;&#x43D;&#x43D;&#x43E;&#x439; c &#x431;&#x443;&#x434;&#x435;&#x442; &#x442;&#x438;&#x43F; A. &#x417;&#x430;&#x43C;&#x435;&#x442;&#x44C;&#x442;&#x435;, &#x447;&#x442;&#x43E; A &#x438; &#x421; &#x43D;&#x435; &#x441;&#x432;&#x44F;&#x437;&#x430;&#x43D;&#x44B; &#x440;&#x43E;&#x434;&#x441;&#x442;&#x432;&#x435;&#x43D;&#x43D;&#x44B;&#x43C;&#x438; &#x443;&#x437;&#x430;&#x43C;&#x438;.</p> </blockquote> <p><strong>&#x41F;&#x43E;&#x43B;&#x43D;&#x44B;&#x439; &#x43A;&#x43E;&#x434;</strong></p> <blockquote> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">A</span></span>(){ <span class=""hljs-keyword"">var</span> param = <span class=""hljs-number"">5</span> <span class=""hljs-keyword"">constructor</span>(a: <span class=""hljs-built_in"">Int</span>): <span class=""hljs-keyword"">this</span>(){ param = a } <span class=""hljs-keyword"">companion</span> <span class=""hljs-keyword"">object</span>{ <span class=""hljs-keyword"">operator</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">invoke</span><span class=""hljs-params"">()</span></span>= A(<span class=""hljs-number"">10</span>) } } <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">B</span> <span class=""hljs-keyword"">private</span> <span class=""hljs-keyword"">constructor</span></span>(){ <span class=""hljs-keyword"">var</span> param = <span class=""hljs-number"">6</span> <span class=""hljs-keyword"">constructor</span>(a: <span class=""hljs-built_in"">Int</span>): <span class=""hljs-keyword"">this</span>(){ param = a } <span class=""hljs-keyword"">companion</span> <span class=""hljs-keyword"">object</span>{ <span class=""hljs-keyword"">operator</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">invoke</span><span class=""hljs-params"">()</span></span> = B(<span class=""hljs-number"">7</span>) } } <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">C</span> <span class=""hljs-keyword"">private</span> <span class=""hljs-keyword"">constructor</span></span>(){ <span class=""hljs-keyword"">var</span> param = <span class=""hljs-number"">8</span> <span class=""hljs-keyword"">constructor</span>(a: <span class=""hljs-built_in"">Int</span>): <span class=""hljs-keyword"">this</span>(){ param = a } <span class=""hljs-keyword"">companion</span> <span class=""hljs-keyword"">object</span>{ <span class=""hljs-keyword"">operator</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">invoke</span><span class=""hljs-params"">()</span></span> = A(<span class=""hljs-number"">9</span>) } } <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">D</span></span>(){ <span class=""hljs-keyword"">var</span> param = <span class=""hljs-number"">10</span> <span class=""hljs-keyword"">private</span> <span class=""hljs-keyword"">constructor</span>(a: <span class=""hljs-built_in"">Int</span>): <span class=""hljs-keyword"">this</span>(){ param = a } <span class=""hljs-keyword"">companion</span> <span class=""hljs-keyword"">object</span>{ <span class=""hljs-keyword"">operator</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">invoke</span><span class=""hljs-params"">(a: <span class=""hljs-type"">Int</span> = <span class=""hljs-number"">25</span>)</span></span> = D(a) } } <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">main</span><span class=""hljs-params"">(args: <span class=""hljs-type"">Array</span>&lt;<span class=""hljs-type"">String</span>&gt;)</span></span> { <span class=""hljs-keyword"">val</span> a = A() <span class=""hljs-keyword"">val</span> b = B() <span class=""hljs-keyword"">val</span> c = C() <span class=""hljs-keyword"">val</span> d = D() println(<span class=""hljs-string"">""<span class=""hljs-subst"">${a.javaClass}</span>, <span class=""hljs-subst"">${a.param}</span>""</span>) println(<span class=""hljs-string"">""<span class=""hljs-subst"">${b.javaClass}</span>, <span class=""hljs-subst"">${b.param}</span>""</span>) println(<span class=""hljs-string"">""<span class=""hljs-subst"">${c.javaClass}</span>, <span class=""hljs-subst"">${c.param}</span>""</span>) println(<span class=""hljs-string"">""<span class=""hljs-subst"">${d.javaClass}</span>, <span class=""hljs-subst"">${d.param}</span>""</span>) }</code></pre> <p>&#x420;&#x435;&#x437;&#x443;&#x43B;&#x44C;&#x442;&#x430;&#x442; &#x432;&#x44B;&#x43F;&#x43E;&#x43B;&#x43D;&#x435;&#x43D;&#x438;&#x44F;:</p> <p>class A, 5 class B, 7 class A, 9 class D, 10</p> </blockquote> <p>&#x41A; &#x441;&#x43E;&#x436;&#x430;&#x43B;&#x435;&#x43D;&#x438;&#x44E;, &#x43F;&#x440;&#x438;&#x434;&#x443;&#x43C;&#x430;&#x442;&#x44C; &#x43A;&#x43E;&#x440;&#x43E;&#x442;&#x43A;&#x438;&#x439; &#x43F;&#x440;&#x438;&#x43C;&#x435;&#x440;, &#x433;&#x434;&#x435; &#x443; &#x432;&#x430;&#x441; &#x440;&#x435;&#x430;&#x43B;&#x44C;&#x43D;&#x43E; &#x432;&#x441;&#x435; &#x43F;&#x43E;&#x43B;&#x43E;&#x43C;&#x430;&#x435;&#x442;&#x441;&#x44F;, &#x44F; &#x43D;&#x435; &#x441;&#x43C;&#x43E;&#x433;. &#x41D;&#x43E; &#x43F;&#x43E;&#x444;&#x430;&#x43D;&#x442;&#x430;&#x437;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x442;&#x44C; &#x43D;&#x435;&#x43C;&#x43D;&#x43E;&#x433;&#x43E; &#x43C;&#x43E;&#x436;&#x43D;&#x43E;. &#x415;&#x441;&#x43B;&#x438; &#x432;&#x44B; &#x432;&#x435;&#x440;&#x43D;&#x435;&#x442;&#x435; &#x43B;&#x435;&#x432;&#x44B;&#x439; &#x43A;&#x43B;&#x430;&#x441;&#x441;, &#x43A;&#x430;&#x43A; &#x432; &#x43F;&#x440;&#x438;&#x43C;&#x435;&#x440;&#x435; &#x441; &#x43A;&#x43B;&#x430;&#x441;&#x441;&#x43E;&#x43C; C, &#x442;&#x43E; &#x441;&#x43A;&#x43E;&#x440;&#x435;&#x435; &#x432;&#x441;&#x435;&#x433;&#x43E;, &#x43A;&#x43E;&#x43C;&#x43F;&#x438;&#x43B;&#x44F;&#x442;&#x43E;&#x440; &#x432;&#x430;&#x441; &#x43E;&#x441;&#x442;&#x430;&#x43D;&#x43E;&#x432;&#x438;&#x442;. &#x41D;&#x43E; &#x435;&#x441;&#x43B;&#x438; &#x432;&#x44B; &#x43D;&#x438;&#x43A;&#x443;&#x434;&#x430; &#x43D;&#x435; &#x43F;&#x435;&#x440;&#x435;&#x434;&#x430;&#x435;&#x442;&#x435; &#x43E;&#x431;&#x44A;&#x435;&#x43A;&#x442;, &#x442;&#x43E; &#x43C;&#x43E;&#x436;&#x43D;&#x43E; &#x441;&#x44B;&#x43C;&#x438;&#x442;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x442;&#x44C; &#x443;&#x442;&#x438;&#x43D;&#x443;&#x44E; &#x442;&#x438;&#x43F;&#x438;&#x437;&#x430;&#x446;&#x438;&#x44E;, &#x43A;&#x430;&#x43A; &#x432; &#x43F;&#x440;&#x438;&#x43C;&#x435;&#x440;&#x435;. &#x41D;&#x438;&#x447;&#x435;&#x433;&#x43E; &#x43A;&#x440;&#x438;&#x43C;&#x438;&#x43D;&#x430;&#x43B;&#x44C;&#x43D;&#x43E;&#x433;&#x43E;, &#x43D;&#x43E; &#x447;&#x435;&#x43B;&#x43E;&#x432;&#x435;&#x43A;, &#x447;&#x438;&#x442;&#x430;&#x44E;&#x449;&#x438;&#x439; &#x43A;&#x43E;&#x434;, &#x43C;&#x43E;&#x436;&#x435;&#x442; &#x441;&#x43E;&#x439;&#x442;&#x438; &#x441; &#x443;&#x43C;&#x430; &#x438; &#x437;&#x430;&#x441;&#x442;&#x440;&#x435;&#x43B;&#x438;&#x442;&#x44C;&#x441;&#x44F;, &#x435;&#x441;&#x43B;&#x438; &#x443; &#x43D;&#x435;&#x433;&#x43E; &#x43D;&#x435; &#x431;&#x443;&#x434;&#x435;&#x442; &#x438;&#x441;&#x445;&#x43E;&#x434;&#x43D;&#x438;&#x43A;&#x430; &#x43A;&#x43B;&#x430;&#x441;&#x441;&#x430;.</p> <p>&#x415;&#x441;&#x43B;&#x438; &#x443; &#x432;&#x430;&#x441; &#x435;&#x441;&#x442;&#x44C; &#x43D;&#x430;&#x441;&#x43B;&#x435;&#x434;&#x43E;&#x432;&#x430;&#x43D;&#x438;&#x435; &#x438; &#x444;&#x443;&#x43D;&#x43A;&#x446;&#x438;&#x438; &#x434;&#x43B;&#x44F; &#x440;&#x430;&#x431;&#x43E;&#x442;&#x44B; &#x441; &#x431;&#x430;&#x437;&#x43E;&#x432;&#x44B;&#x43C; &#x43A;&#x43B;&#x430;&#x441;&#x441;&#x43E;&#x43C; (Animal), &#x430; invoke() &#x43E;&#x442; &#x43E;&#x434;&#x43D;&#x43E;&#x433;&#x43E; &#x43D;&#x430;&#x441;&#x43B;&#x435;&#x434;&#x43D;&#x438;&#x43A;&#x430; (Dog) &#x432;&#x435;&#x440;&#x43D;&#x435;&#x442; &#x432;&#x430;&#x43C; &#x434;&#x440;&#x443;&#x433;&#x43E;&#x433;&#x43E; &#x43D;&#x430;&#x441;&#x43B;&#x435;&#x434;&#x43D;&#x438;&#x43A;&#x430; (Duck), &#x442;&#x43E; &#x442;&#x43E;&#x433;&#x434;&#x430; &#x43F;&#x440;&#x438; &#x43F;&#x440;&#x43E;&#x432;&#x435;&#x440;&#x43A;&#x435; &#x442;&#x438;&#x43F;&#x43E;&#x432; (Animal as Dog) &#x432;&#x44B; &#x43C;&#x43E;&#x436;&#x435;&#x442;&#x435; &#x43D;&#x430;&#x43A;&#x440;&#x44F;&#x43A;&#x430;&#x442;&#x44C; &#x441;&#x435;&#x431;&#x435; &#x431;&#x435;&#x434;&#x443;.</p> <blockquote> <p><strong>&#x427;&#x451; &#x442;&#x430;&#x43C; &#x432; Scala?</strong></p> <p>&#x412; Scala &#x43F;&#x440;&#x43E;&#x449;&#x435; &mdash; &#x435;&#x441;&#x442;&#x44C; new, &#x43A;&#x43E;&#x442;&#x43E;&#x440;&#x44B;&#x439; &#x432;&#x441;&#x435;&#x433;&#x434;&#x430; &#x432;&#x44B;&#x437;&#x44B;&#x432;&#x430;&#x435;&#x442; &#x43A;&#x43E;&#x43D;&#x441;&#x442;&#x440;&#x443;&#x43A;&#x442;&#x43E;&#x440;. &#x415;&#x441;&#x43B;&#x438; &#x43D;&#x435; &#x431;&#x443;&#x434;&#x435;&#x442; new, &#x442;&#x43E; &#x432;&#x441;&#x435;&#x433;&#x434;&#x430; &#x432;&#x44B;&#x437;&#x44B;&#x432;&#x430;&#x435;&#x442;&#x441;&#x44F; &#x43C;&#x435;&#x442;&#x43E;&#x434; apply &#x443; &#x43A;&#x43E;&#x43C;&#x43F;&#x430;&#x43D;&#x44C;&#x43E;&#x43D;&#x430; (&#x43A;&#x43E;&#x442;&#x43E;&#x440;&#x44B;&#x439; &#x442;&#x43E;&#x436;&#x435; &#x43C;&#x43E;&#x436;&#x435;&#x442; &#x432;&#x435;&#x440;&#x43D;&#x443;&#x442;&#x44C; &#x43B;&#x435;&#x432;&#x44B;&#x439; &#x442;&#x438;&#x43F;). &#x420;&#x430;&#x437;&#x443;&#x43C;&#x435;&#x435;&#x442;&#x441;&#x44F;, &#x435;&#x441;&#x43B;&#x438; &#x447;&#x442;&#x43E;-&#x442;&#x43E; &#x432;&#x430;&#x43C; &#x43D;&#x435; &#x434;&#x43E;&#x441;&#x442;&#x443;&#x43F;&#x43D;&#x43E; &#x438;&#x437;-&#x437;&#x430; private, &#x442;&#x43E; &#x43A;&#x43E;&#x43C;&#x43F;&#x438;&#x43B;&#x44F;&#x442;&#x43E;&#x440; &#x440;&#x443;&#x433;&#x43D;&#x435;&#x442;&#x441;&#x44F;. &#x412;&#x441;&#x435; &#x442;&#x43E; &#x436;&#x435; &#x441;&#x430;&#x43C;&#x43E;&#x435;, &#x442;&#x43E;&#x43B;&#x44C;&#x43A;&#x43E; &#x43E;&#x447;&#x435;&#x432;&#x438;&#x434;&#x43D;&#x435;&#x435;.</p> </blockquote> <h4>4. lateinit</h4> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">SlowPoke</span></span>(){ lateinit <span class=""hljs-keyword"">var</span> value: String <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">test</span><span class=""hljs-params"">()</span></span>{ <span class=""hljs-keyword"">if</span> (value == <span class=""hljs-literal"">null</span>){ <span class=""hljs-comment"">//компилятор здесь говорит, что проверка не нужна (и правильно делает)</span> println(<span class=""hljs-string"">""null""</span>) <span class=""hljs-keyword"">return</span> } <span class=""hljs-keyword"">if</span> (value == <span class=""hljs-string"">""ololo""</span>) println(<span class=""hljs-string"">""ololo!""</span>) <span class=""hljs-keyword"">else</span> println(<span class=""hljs-string"">""alala!""</span>) } } SlowPoke().test()</code></pre> <blockquote> <p><strong>&#x420;&#x435;&#x437;&#x443;&#x43B;&#x44C;&#x442;&#x430;&#x442; &#x43F;&#x440;&#x435;&#x434;&#x441;&#x43A;&#x430;&#x437;&#x443;&#x435;&#x43C;</strong></p> <p>Exception in thread &laquo;main&raquo; kotlin.UninitializedPropertyAccessException: lateinit property value has not been initialized</p> </blockquote> <blockquote> <p><strong>&#x410; &#x43A;&#x430;&#x43A; &#x43F;&#x440;&#x430;&#x432;&#x438;&#x43B;&#x44C;&#x43D;&#x43E;?</strong></p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">SlowBro</span></span>(){ <span class=""hljs-keyword"">val</span> value: String? = <span class=""hljs-literal"">null</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">test</span><span class=""hljs-params"">()</span></span>{ <span class=""hljs-keyword"">if</span> (value == <span class=""hljs-literal"">null</span>) { println(<span class=""hljs-string"">""null""</span>) <span class=""hljs-keyword"">return</span> } <span class=""hljs-keyword"">if</span> (value == <span class=""hljs-string"">""ololo""</span>) println(<span class=""hljs-string"">""ololo!""</span>) <span class=""hljs-keyword"">else</span> println(<span class=""hljs-string"">""alala!""</span>) } } SlowBro().test()</code></pre> <p><strong>&#x420;&#x435;&#x437;&#x443;&#x43B;&#x44C;&#x442;&#x430;&#x442;</strong></p> <p>null</p> </blockquote> <p>&#x42F; &#x431;&#x44B; &#x441;&#x43A;&#x430;&#x437;&#x430;&#x43B;, &#x447;&#x442;&#x43E; &#x44D;&#x442;&#x43E; &#x442;&#x43E;&#x436;&#x435; &#x43E;&#x434;&#x43E;&#x431;&#x440;&#x435;&#x43D;&#x43D;&#x44B;&#x439; &#x441;&#x43F;&#x43E;&#x441;&#x43E;&#x431;, &#x43D;&#x43E; &#x43F;&#x440;&#x438; &#x447;&#x442;&#x435;&#x43D;&#x438;&#x438; &#x43A;&#x43E;&#x434;&#x430; &#x44D;&#x442;&#x43E; &#x43D;&#x435;&#x43E;&#x447;&#x435;&#x432;&#x438;&#x434;&#x43D;&#x43E;, &#x432; &#x43E;&#x442;&#x43B;&#x438;&#x447;&#x438;&#x435; &#x43E;&#x442; !!. &#x412; &#x434;&#x43E;&#x43A;&#x443;&#x43C;&#x435;&#x43D;&#x442;&#x430;&#x446;&#x438;&#x438; &#x43D;&#x435;&#x43C;&#x43D;&#x43E;&#x433;&#x43E; &#x437;&#x430;&#x432;&#x443;&#x430;&#x43B;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x43D;&#x43D;&#x43E; &#x433;&#x43E;&#x432;&#x43E;&#x440;&#x438;&#x442;&#x441;&#x44F;, &#x447;&#x442;&#x43E;, &#x43C;&#x43E;&#x43B;, &#x43F;&#x440;&#x43E;&#x432;&#x435;&#x440;&#x44F;&#x442;&#x44C; &#x43D;&#x435; &#x43D;&#x430;&#x434;&#x43E;, &#x435;&#x441;&#x43B;&#x438; &#x447;&#x442;&#x43E;, &#x43C;&#x44B; &#x43A;&#x438;&#x43D;&#x435;&#x43C; &#x442;&#x435;&#x431;&#x435; Exception. &#x41F;&#x43E; &#x438;&#x434;&#x435;&#x435;, &#x44D;&#x442;&#x43E;&#x442; &#x43C;&#x43E;&#x434;&#x438;&#x444;&#x438;&#x43A;&#x430;&#x442;&#x43E;&#x440; &#x438;&#x441;&#x43F;&#x43E;&#x43B;&#x44C;&#x437;&#x443;&#x435;&#x442;&#x441;&#x44F; &#x442;&#x43E;&#x433;&#x434;&#x430;, &#x43A;&#x43E;&#x433;&#x434;&#x430; &#x432;&#x44B; &#x442;&#x43E;&#x447;&#x43D;&#x43E; &#x443;&#x432;&#x435;&#x440;&#x435;&#x43D;&#x44B;, &#x447;&#x442;&#x43E; &#x43F;&#x43E;&#x43B;&#x435; &#x431;&#x443;&#x434;&#x435;&#x442; &#x438;&#x43D;&#x438;&#x446;&#x438;&#x430;&#x43B;&#x438;&#x437;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x43D;&#x43D;&#x43E; &#x43A;&#x435;&#x43C;-&#x442;&#x43E; &#x434;&#x440;&#x443;&#x433;&#x438;&#x43C;. &#x422;&#x43E; &#x435;&#x441;&#x442;&#x44C; &#x43D;&#x438;&#x43A;&#x43E;&#x433;&#x434;&#x430;. &#x41F;&#x43E; &#x43C;&#x43E;&#x435;&#x43C;&#x443; &#x43E;&#x43F;&#x44B;&#x442;&#x443;, &#x432;&#x441;&#x435; &#x43F;&#x43E;&#x43B;&#x44F;, &#x43A;&#x43E;&#x442;&#x43E;&#x440;&#x44B;&#x435; &#x431;&#x44B;&#x43B;&#x438; lateinit, &#x440;&#x430;&#x43D;&#x43E; &#x438;&#x43B;&#x438; &#x43F;&#x43E;&#x437;&#x434;&#x43D;&#x43E; &#x441;&#x442;&#x430;&#x43B;&#x438; Nullable. &#x41D;&#x435;&#x43F;&#x43B;&#x43E;&#x445;&#x43E; &#x44D;&#x442;&#x43E; &#x43F;&#x43E;&#x43B;&#x435; &#x432;&#x43F;&#x438;&#x441;&#x430;&#x43B;&#x43E;&#x441;&#x44C; &#x432; &#x43A;&#x43E;&#x43D;&#x442;&#x440;&#x43E;&#x43B;&#x43B;&#x435;&#x440; JavaFX &#x43F;&#x440;&#x438;&#x43B;&#x43E;&#x436;&#x435;&#x43D;&#x438;&#x44F;, &#x433;&#x434;&#x435; Gui &#x433;&#x440;&#x443;&#x437;&#x438;&#x442;&#x441;&#x44F; &#x438;&#x437; FXML, &#x43D;&#x43E; &#x434;&#x430;&#x436;&#x435; &#x44D;&#x442;&#x43E; &laquo;&#x436;&#x435;&#x43B;&#x435;&#x437;&#x43E;&#x431;&#x435;&#x442;&#x43E;&#x43D;&#x43D;&#x43E;&#x435;&raquo; &#x440;&#x435;&#x448;&#x435;&#x43D;&#x438;&#x435; &#x431;&#x44B;&#x43B;&#x43E; &#x441;&#x432;&#x435;&#x440;&#x433;&#x43D;&#x443;&#x442;&#x43E; &#x43F;&#x43E;&#x441;&#x43B;&#x435; &#x442;&#x43E;&#x433;&#x43E;, &#x43A;&#x430;&#x43A; &#x43F;&#x43E;&#x44F;&#x432;&#x438;&#x43B;&#x441;&#x44F; &#x430;&#x43B;&#x44C;&#x442;&#x435;&#x440;&#x43D;&#x430;&#x442;&#x438;&#x432;&#x43D;&#x44B;&#x439; &#x432;&#x430;&#x440;&#x438;&#x430;&#x43D;&#x442; &#x431;&#x435;&#x437; &#x43F;&#x430;&#x440;&#x44B; &#x43A;&#x43D;&#x43E;&#x43F;&#x43E;&#x43A;. &#x41E;&#x434;&#x438;&#x43D; &#x440;&#x430;&#x437; &#x442;&#x430;&#x43A; &#x43F;&#x43E;&#x43B;&#x443;&#x447;&#x438;&#x43B;&#x43E;&#x441;&#x44C;, &#x447;&#x442;&#x43E; &#x432; SceneBuilder &#x438;&#x437;&#x43C;&#x435;&#x43D;&#x438;&#x43B; fx:id, &#x430; &#x432; &#x43A;&#x43E;&#x434;&#x435; &#x437;&#x430;&#x431;&#x44B;&#x43B;. &#x412; &#x43F;&#x435;&#x440;&#x432;&#x44B;&#x435; &#x434;&#x43D;&#x438; &#x43A;&#x43E;&#x434;&#x438;&#x43D;&#x433;&#x430; &#x43D;&#x430; Kotlin &#x43D;&#x435;&#x43C;&#x43D;&#x43E;&#x433;&#x43E; &#x432;&#x437;&#x431;&#x435;&#x441;&#x438;&#x43B;&#x43E;, &#x447;&#x442;&#x43E; &#x43D;&#x435;&#x43B;&#x44C;&#x437;&#x44F; &#x441;&#x434;&#x435;&#x43B;&#x430;&#x442;&#x44C; lateinit Int. &#x42F; &#x43C;&#x43E;&#x433;&#x443; &#x43F;&#x440;&#x438;&#x434;&#x443;&#x43C;&#x430;&#x442;&#x44C;, &#x43F;&#x43E;&#x447;&#x435;&#x43C;&#x443; &#x442;&#x430;&#x43A; &#x441;&#x434;&#x435;&#x43B;&#x430;&#x43B;&#x438;, &#x43D;&#x43E; &#x441;&#x43E;&#x43C;&#x43D;&#x435;&#x432;&#x430;&#x44E;&#x441;&#x44C;, &#x447;&#x442;&#x43E; &#x441;&#x43E;&#x432;&#x441;&#x435;&#x43C; &#x43D;&#x435;&#x442; &#x441;&#x43F;&#x43E;&#x441;&#x43E;&#x431;&#x430; &#x43E;&#x431;&#x43E;&#x439;&#x442;&#x438; &#x44D;&#x442;&#x438; &#x43F;&#x440;&#x438;&#x447;&#x438;&#x43D;&#x44B; (&#x447;&#x438;&#x442;&#x430;&#x439;: &#x441;&#x434;&#x435;&#x43B;&#x430;&#x442;&#x44C; &#x43A;&#x43E;&#x441;&#x442;&#x44B;&#x43B;&#x44C;).</p> <blockquote> <p><strong>&#x427;&#x451; &#x442;&#x430;&#x43C; &#x432; Scala?</strong></p> <p>&#x410; &#x442;&#x430;&#x43C; &#x430;&#x43D;&#x430;&#x43B;&#x43E;&#x433;&#x430; lateinit &#x43A;&#x430;&#x43A; &#x442;&#x430;&#x43A;&#x43E;&#x432;&#x43E;&#x433;&#x43E; &#x438; &#x43D;&#x435;&#x442;. &#x41F;&#x43E; &#x43A;&#x440;&#x430;&#x439;&#x43D;&#x435;&#x439; &#x43C;&#x435;&#x440;&#x435;, &#x44F; &#x43D;&#x435; &#x43E;&#x431;&#x43D;&#x430;&#x440;&#x443;&#x436;&#x438;&#x43B;.</p> </blockquote> <h4>5. &#x41A;&#x43E;&#x43D;&#x441;&#x442;&#x440;&#x443;&#x43A;&#x442;&#x43E;&#x440;</h4> <blockquote> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">IAmInHurry</span></span>(){ <span class=""hljs-keyword"">val</span> param = initSecondParam() <span class=""hljs-comment"">/*tons of code*/</span> <span class=""hljs-keyword"">val</span> twentySecondParam = <span class=""hljs-number"">10</span> <span class=""hljs-comment"">/*tons of code*/</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">initSecondParam</span><span class=""hljs-params"">()</span></span>: <span class=""hljs-built_in"">Int</span>{ println(<span class=""hljs-string"">""Initializing by default with <span class=""hljs-subst"">$twentySecondParam</span>""</span>) <span class=""hljs-keyword"">return</span> twentySecondParam } } <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">IAmInHurryWithStrings</span></span>(){ <span class=""hljs-keyword"">val</span> param = initSecondParam() <span class=""hljs-comment"">/*tons of code*/</span> <span class=""hljs-keyword"">val</span> twentySecondParam = <span class=""hljs-string"">""Default value of param""</span> <span class=""hljs-comment"">/*tons of code*/</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">initSecondParam</span><span class=""hljs-params"">()</span></span>: String{ println(<span class=""hljs-string"">""Initializing by default with <span class=""hljs-subst"">$twentySecondParam</span>""</span>) <span class=""hljs-keyword"">return</span> twentySecondParam } } <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">main</span><span class=""hljs-params"">(args: <span class=""hljs-type"">Array</span>&lt;<span class=""hljs-type"">String</span>&gt;)</span></span>{ IAmInHurry() IAmInHurryWithStrings() }</code></pre> </blockquote> <blockquote> <p><strong>&#x420;&#x435;&#x437;&#x443;&#x43B;&#x44C;&#x442;&#x430;&#x442;</strong></p> <p>Initializing by default with 0 Initializing by default with null</p> </blockquote> <p>&#x412;&#x441;&#x435; &#x43F;&#x440;&#x43E;&#x441;&#x442;&#x43E; &mdash; &#x43A; &#x43F;&#x43E;&#x43B;&#x44E; &#x438;&#x434;&#x435;&#x442; &#x43E;&#x431;&#x440;&#x430;&#x449;&#x435;&#x43D;&#x438;&#x435; &#x434;&#x43E; &#x442;&#x43E;&#x433;&#x43E;, &#x43A;&#x430;&#x43A; &#x43E;&#x43D;&#x43E; &#x431;&#x44B;&#x43B;&#x43E; &#x438;&#x43D;&#x438;&#x446;&#x438;&#x430;&#x43B;&#x438;&#x437;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x43D;&#x43E;. &#x412;&#x438;&#x434;&#x438;&#x43C;&#x43E;, &#x442;&#x443;&#x442; &#x441;&#x442;&#x43E;&#x438;&#x442; &#x43D;&#x435;&#x43C;&#x43D;&#x43E;&#x433;&#x43E; &#x434;&#x43E;&#x440;&#x430;&#x431;&#x43E;&#x442;&#x430;&#x442;&#x44C; &#x43A;&#x43E;&#x43C;&#x43F;&#x438;&#x43B;&#x44F;&#x442;&#x43E;&#x440;. &#x41F;&#x43E; &#x438;&#x434;&#x435;&#x435;, &#x435;&#x441;&#x43B;&#x438; &#x432;&#x44B; &#x43F;&#x438;&#x448;&#x435;&#x442;&#x435; &#x43A;&#x43E;&#x434; &#x445;&#x43E;&#x440;&#x43E;&#x448;&#x43E;, &#x442;&#x430;&#x43A;&#x430;&#x44F; &#x43F;&#x440;&#x43E;&#x431;&#x43B;&#x435;&#x43C;&#x430; &#x443; &#x432;&#x430;&#x441; &#x43D;&#x435; &#x434;&#x43E;&#x43B;&#x436;&#x43D;&#x430; &#x432;&#x43E;&#x437;&#x43D;&#x438;&#x43A;&#x43D;&#x443;&#x442;&#x44C;, &#x43D;&#x43E; &#x432;&#x441;&#x44F;&#x43A;&#x43E;&#x435; &#x431;&#x44B;&#x432;&#x430;&#x435;&#x442;, &#x43D;&#x435; &#x441; &#x43F;&#x43E;&#x442;&#x43E;&#x43B;&#x43A;&#x430; &#x436;&#x435; &#x44F; &#x432;&#x437;&#x44F;&#x43B; &#x44D;&#x442;&#x43E;&#x442; &#x43F;&#x440;&#x438;&#x43C;&#x435;&#x440; (&#x43A;&#x43E;&#x43B;&#x43B;&#x435;&#x433;&#x430; &#x441;&#x435;&#x431;&#x435; &#x442;&#x430;&#x43A; &#x432;&#x44B;&#x441;&#x442;&#x440;&#x435;&#x43B;&#x438;&#x43B; &#x432; &#x43D;&#x43E;&#x433;&#x443;, &#x441;&#x43B;&#x443;&#x447;&#x430;&#x439;&#x43D;&#x43E; &#x447;&#x435;&#x440;&#x435;&#x437; &#x446;&#x435;&#x43F;&#x43E;&#x447;&#x43A;&#x443; &#x43C;&#x435;&#x442;&#x43E;&#x434;&#x43E;&#x432; &#x432; &#x440;&#x435;&#x434;&#x43A;&#x43E; &#x441;&#x440;&#x430;&#x431;&#x430;&#x442;&#x44B;&#x432;&#x430;&#x44E;&#x449;&#x435;&#x43C; &#x43A;&#x43E;&#x434;&#x435; &#x432;&#x44B;&#x437;&#x432;&#x430;&#x43B; &#x43F;&#x43E;&#x43B;&#x435;, &#x43A;&#x43E;&#x442;&#x43E;&#x440;&#x43E;&#x435; &#x431;&#x44B;&#x43B;&#x43E; &#x43D;&#x435; &#x438;&#x43D;&#x438;&#x446;&#x438;&#x430;&#x43B;&#x438;&#x437;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x43D;&#x43E;).</p> <blockquote> <p><strong>&#x427;&#x451; &#x442;&#x430;&#x43C; &#x432; Scala?</strong></p> <p>&#x412;&#x441;&#x435; &#x442;&#x43E; &#x436;&#x435; &#x441;&#x430;&#x43C;&#x43E;&#x435;.</p> <p>object Initializer extends App{ class IAmInHurry(){ val param = initSecondParam() /<em>tons of code</em>/ val twentySecondParam = 10 /<em>tons of code</em>/ def initSecondParam(): Int = { println(s&quot;Initializing by default with $twentySecondParam&quot;) twentySecondParam }</p> <p>}</p> <p>class IAmInHurryWithStrings(){ val param = initSecondParam() /<em>tons of code</em>/ val twentySecondParam = &quot;Default value of param&quot; /<em>tons of code</em>/ def initSecondParam(): String = { println(s&quot;Initializing by default with $twentySecondParam&quot;) twentySecondParam }</p> <p>}</p> <p>override def main(args: Array[String]){ new IAmInHurry() new IAmInHurryWithStrings() } }</p> <p><strong>&#x420;&#x435;&#x437;&#x443;&#x43B;&#x44C;&#x442;&#x430;&#x442;</strong></p> <p>Initializing by default with 0 Initializing by default with null</p> </blockquote> <h4>6. &#x412;&#x437;&#x430;&#x438;&#x43C;&#x43E;&#x434;&#x435;&#x439;&#x441;&#x442;&#x432;&#x438;&#x435; &#x441; Java</h4> <p>&#x414;&#x43B;&#x44F; &#x432;&#x44B;&#x441;&#x442;&#x440;&#x435;&#x43B;&#x430; &#x442;&#x443;&#x442; &#x43F;&#x440;&#x43E;&#x441;&#x442;&#x43E;&#x440; &#x434;&#x43E;&#x441;&#x442;&#x430;&#x442;&#x43E;&#x447;&#x43D;&#x43E; &#x431;&#x43E;&#x43B;&#x44C;&#x448;&#x43E;&#x439;. &#x41E;&#x447;&#x435;&#x432;&#x438;&#x434;&#x43D;&#x43E;&#x435; &#x440;&#x435;&#x448;&#x435;&#x43D;&#x438;&#x435; &mdash; &#x441;&#x447;&#x438;&#x442;&#x430;&#x442;&#x44C; &#x432;&#x441;&#x435;, &#x447;&#x442;&#x43E; &#x43F;&#x440;&#x438;&#x448;&#x43B;&#x43E; &#x438;&#x437; Java, Nullable. &#x41D;&#x43E; &#x442;&#x443;&#x442; &#x435;&#x441;&#x442;&#x44C; &#x434;&#x43E;&#x43B;&#x433;&#x430;&#x44F; &#x438; &#x43F;&#x43E;&#x443;&#x447;&#x438;&#x442;&#x435;&#x43B;&#x44C;&#x43D;&#x430;&#x44F; <a href=""http://blog.jetbrains.com/kotlin/2015/04/upcoming-change-more-null-safety-for-java/"">&#x438;&#x441;&#x442;&#x43E;&#x440;&#x438;&#x44F;</a>. &#x41A;&#x430;&#x43A; &#x44F; &#x43F;&#x43E;&#x43D;&#x44F;&#x43B;, &#x43E;&#x43D;&#x430; &#x441;&#x432;&#x44F;&#x437;&#x430;&#x43D;&#x430; &#x432; &#x43E;&#x441;&#x43D;&#x43E;&#x432;&#x43D;&#x43E;&#x43C; &#x441; &#x448;&#x430;&#x431;&#x43B;&#x43E;&#x43D;&#x430;&#x43C;&#x438;, &#x43D;&#x430;&#x441;&#x43B;&#x435;&#x434;&#x43E;&#x432;&#x430;&#x43D;&#x438;&#x435;&#x43C;, &#x438; &#x446;&#x435;&#x43F;&#x43E;&#x447;&#x43A;&#x43E;&#x439; Java-Kotlin-Java. &#x418; &#x43F;&#x440;&#x438; &#x442;&#x430;&#x43A;&#x438;&#x445; &#x441;&#x446;&#x435;&#x43D;&#x430;&#x440;&#x438;&#x44F;&#x445; &#x43F;&#x440;&#x438;&#x445;&#x43E;&#x434;&#x438;&#x43B;&#x43E;&#x441;&#x44C; &#x434;&#x435;&#x43B;&#x430;&#x442;&#x44C; &#x43C;&#x43D;&#x43E;&#x433;&#x43E; &#x43A;&#x43E;&#x441;&#x442;&#x44B;&#x43B;&#x435;&#x439;, &#x447;&#x442;&#x43E;&#x431;&#x44B; &#x437;&#x430;&#x440;&#x430;&#x431;&#x43E;&#x442;&#x430;&#x43B;&#x43E;. &#x41F;&#x43E;&#x44D;&#x442;&#x43E;&#x43C;&#x443; &#x440;&#x435;&#x448;&#x438;&#x43B;&#x438; &#x43E;&#x442; &#x438;&#x434;&#x435;&#x438; &laquo;&#x432;&#x441;&#x435; Nullable&raquo; &#x43E;&#x442;&#x43A;&#x430;&#x437;&#x430;&#x442;&#x44C;&#x441;&#x44F;. &#x41D;&#x43E; &#x432;&#x440;&#x43E;&#x434;&#x435; &#x43A;&#x430;&#x43A; &#x43E;&#x434;&#x438;&#x43D; &#x438;&#x437; &#x43E;&#x441;&#x43D;&#x43E;&#x432;&#x43D;&#x44B;&#x445; &#x441;&#x446;&#x435;&#x43D;&#x430;&#x440;&#x438;&#x435;&#x432; &mdash; &#x441;&#x432;&#x43E;&#x439; &#x43A;&#x43E;&#x434; &#x43F;&#x438;&#x448;&#x435;&#x43C; &#x43D;&#x430; Kotlin, &#x431;&#x438;&#x431;&#x43B;&#x438;&#x43E;&#x442;&#x435;&#x43B;&#x438; &#x431;&#x435;&#x440;&#x435;&#x43C; Java (&#x43A;&#x430;&#x43A; &#x432;&#x438;&#x434;&#x438;&#x442;&#x441;&#x44F; &#x43C;&#x43D;&#x435;, &#x43F;&#x440;&#x43E;&#x441;&#x442;&#x43E;&#x43C;&#x443; &#x43A;&#x440;&#x435;&#x441;&#x442;&#x44C;&#x44F;&#x43D;&#x438;&#x43D;&#x443;-&#x43A;&#x43E;&#x434;&#x435;&#x440;&#x443;). &#x418; &#x43F;&#x440;&#x438; &#x442;&#x430;&#x43A;&#x43E;&#x43C; &#x440;&#x430;&#x441;&#x43A;&#x43B;&#x430;&#x434;&#x435;, &#x43B;&#x443;&#x447;&#x448;&#x435; &#x431;&#x435;&#x437;&#x43E;&#x43F;&#x430;&#x441;&#x43D;&#x43E;&#x441;&#x442;&#x44C; &#x432; &#x431;&#x43E;&#x43B;&#x44C;&#x448;&#x435;&#x439; &#x447;&#x430;&#x441;&#x442;&#x438; &#x43A;&#x43E;&#x434;&#x430; &#x438; &#x44F;&#x432;&#x43D;&#x44B;&#x435; &#x43A;&#x43E;&#x441;&#x442;&#x44B;&#x43B;&#x438; &#x432; &#x43D;&#x435;&#x431;&#x43E;&#x43B;&#x44C;&#x448;&#x43E;&#x439; &#x447;&#x430;&#x441;&#x442;&#x438; &#x43A;&#x43E;&#x434;&#x430;, &#x43A;&#x43E;&#x442;&#x43E;&#x440;&#x44B;&#x435; &#x432;&#x438;&#x434;&#x43D;&#x43E;, &#x447;&#x435;&#x43C; &laquo;&#x43A;&#x440;&#x430;&#x441;&#x438;&#x432;&#x43E; &#x438; &#x443;&#x434;&#x43E;&#x431;&#x43D;&#x43E;&raquo; + &#x432;&#x43D;&#x435;&#x437;&#x430;&#x43F;&#x43D;&#x44B;&#x435; &#x433;&#x440;&#x430;&#x431;&#x43B;&#x438; &#x432; &#x440;&#x430;&#x43D;&#x442;&#x430;&#x439;&#x43C;&#x435; (&#x438;&#x43B;&#x438; &#x44F;&#x43C;&#x430; &#x441; &#x43A;&#x43E;&#x43B;&#x44C;&#x44F;&#x43C;&#x438;, &#x43A;&#x430;&#x43A; &#x43F;&#x43E;&#x432;&#x435;&#x437;&#x435;&#x442;). &#x41D;&#x43E; &#x443; &#x440;&#x430;&#x437;&#x440;&#x430;&#x431;&#x43E;&#x442;&#x447;&#x438;&#x43A;&#x43E;&#x432; &#x434;&#x440;&#x443;&#x433;&#x43E;&#x435; <a href=""https://habrahabr.ru/company/JetBrains/blog/277573/#comment_8784731"">&#x43C;&#x43D;&#x435;&#x43D;&#x438;&#x435;</a>:</p> <blockquote> <p>&#x41E;&#x434;&#x43D;&#x430; &#x438;&#x437; &#x43E;&#x441;&#x43D;&#x43E;&#x432;&#x43D;&#x44B;&#x445; &#x43F;&#x440;&#x438;&#x447;&#x438;&#x43D; &#x431;&#x44B;&#x43B;&#x430; &#x432; &#x442;&#x43E;&#x43C;, &#x447;&#x442;&#x43E; &#x43F;&#x438;&#x441;&#x430;&#x442;&#x44C; &#x43D;&#x430; &#x442;&#x430;&#x43A;&#x43E;&#x43C; &#x44F;&#x437;&#x44B;&#x43A;&#x435; &#x431;&#x44B;&#x43B;&#x43E; &#x43D;&#x435;&#x443;&#x434;&#x43E;&#x431;&#x43D;&#x43E;, &#x430; &#x447;&#x438;&#x442;&#x430;&#x442;&#x44C; &#x435;&#x433;&#x43E; &mdash; &#x43D;&#x435;&#x43F;&#x440;&#x438;&#x44F;&#x442;&#x43D;&#x43E;. &#x41F;&#x43E;&#x432;&#x441;&#x44E;&#x434;&#x443; &#x432;&#x43E;&#x43F;&#x440;&#x43E;&#x441;&#x438;&#x442;&#x435;&#x43B;&#x44C;&#x43D;&#x44B;&#x435; &#x438; &#x432;&#x43E;&#x441;&#x43A;&#x43B;&#x438;&#x446;&#x430;&#x442;&#x435;&#x43B;&#x44C;&#x43D;&#x44B;&#x435; &#x437;&#x43D;&#x430;&#x43A;&#x438;, &#x43A;&#x43E;&#x442;&#x43E;&#x440;&#x44B;&#x435; &#x43D;&#x435; &#x43E;&#x447;&#x435;&#x43D;&#x44C;-&#x442;&#x43E; &#x43F;&#x43E;&#x43C;&#x43E;&#x433;&#x430;&#x44E;&#x442; &#x438;&#x437;-&#x437;&#x430; &#x442;&#x43E;&#x433;&#x43E;, &#x447;&#x442;&#x43E; &#x440;&#x430;&#x441;&#x441;&#x442;&#x430;&#x432;&#x43B;&#x44F;&#x44E;&#x442;&#x441;&#x44F; &#x432; &#x43E;&#x441;&#x43D;&#x43E;&#x432;&#x43D;&#x43E;&#x43C;, &#x447;&#x442;&#x43E;&#x431;&#x44B; &#x443;&#x434;&#x43E;&#x432;&#x43B;&#x435;&#x442;&#x432;&#x43E;&#x440;&#x438;&#x442;&#x44C; &#x43A;&#x43E;&#x43C;&#x43F;&#x438;&#x43B;&#x44F;&#x442;&#x43E;&#x440;, &#x430; &#x43D;&#x435; &#x447;&#x442;&#x43E;&#x431;&#x44B; &#x43A;&#x43E;&#x440;&#x440;&#x435;&#x43A;&#x442;&#x43D;&#x43E; &#x43E;&#x431;&#x440;&#x430;&#x431;&#x43E;&#x442;&#x430;&#x442;&#x44C; &#x441;&#x43B;&#x443;&#x447;&#x430;&#x438;, &#x43A;&#x43E;&#x433;&#x434;&#x430; &#x432;&#x44B;&#x440;&#x430;&#x436;&#x435;&#x43D;&#x438;&#x435; &#x432;&#x44B;&#x447;&#x438;&#x441;&#x43B;&#x44F;&#x435;&#x442;&#x441;&#x44F; &#x432; null. &#x41E;&#x441;&#x43E;&#x431;&#x435;&#x43D;&#x43D;&#x43E; &#x431;&#x43E;&#x43B;&#x44C;&#x43D;&#x43E; &#x432; &#x441;&#x43B;&#x443;&#x447;&#x430;&#x435; &#x434;&#x436;&#x435;&#x43D;&#x435;&#x440;&#x438;&#x43A;&#x43E;&#x432;: &#x43D;&#x430;&#x43F;&#x440;&#x438;&#x43C;&#x435;&#x440;, Map&lt;String?, String?&gt;?..</p> </blockquote> <p>&#x421;&#x434;&#x435;&#x43B;&#x430;&#x435;&#x43C; &#x43D;&#x435;&#x431;&#x43E;&#x43B;&#x44C;&#x448;&#x43E;&#x439; &#x43A;&#x43B;&#x430;&#x441;&#x441; &#x43D;&#x430; Java:</p> <pre><code class=""hljs language-java""><span class=""hljs-keyword"">public</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">JavaCopy</span> </span>{ <span class=""hljs-keyword"">private</span> String a = <span class=""hljs-keyword"">null</span>; <span class=""hljs-function""><span class=""hljs-keyword"">public</span> <span class=""hljs-title"">JavaCopy</span><span class=""hljs-params"">()</span></span>{}; <span class=""hljs-function""><span class=""hljs-keyword"">public</span> <span class=""hljs-title"">JavaCopy</span><span class=""hljs-params"">(String s)</span></span>{ a = s; } <span class=""hljs-function""><span class=""hljs-keyword"">public</span> String <span class=""hljs-title"">get</span><span class=""hljs-params"">()</span></span>{ <span class=""hljs-keyword"">return</span> a; } }</code></pre> <p>&#x418; &#x43F;&#x43E;&#x43F;&#x440;&#x43E;&#x431;&#x443;&#x435;&#x43C; &#x435;&#x433;&#x43E; &#x432;&#x44B;&#x437;&#x432;&#x430;&#x442;&#x44C; &#x438;&#x437; Kotlin:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">printString</span><span class=""hljs-params"">(s: <span class=""hljs-type"">String</span>)</span></span> { println(s) } <span class=""hljs-keyword"">val</span> j1 = JavaCopy() <span class=""hljs-keyword"">val</span> j1Got = j1.<span class=""hljs-keyword"">get</span>() printString(j1Got)</code></pre> <blockquote> <p><strong>&#x420;&#x435;&#x437;&#x443;&#x43B;&#x44C;&#x442;&#x430;&#x442;</strong></p> <p>Exception in thread &laquo;main&raquo; java.lang.IllegalStateException: j1Got must not be null</p> </blockquote> <p>&#x422;&#x438;&#x43F; &#x443; j1 &mdash; String! &#x438; &#x438;&#x441;&#x43A;&#x43B;&#x44E;&#x447;&#x435;&#x43D;&#x438;&#x435; &#x43C;&#x44B; &#x43F;&#x43E;&#x43B;&#x443;&#x447;&#x438;&#x43C; &#x442;&#x43E;&#x43B;&#x44C;&#x43A;&#x43E; &#x442;&#x43E;&#x433;&#x434;&#x430;, &#x43A;&#x43E;&#x433;&#x434;&#x430; &#x432;&#x44B;&#x437;&#x43E;&#x432;&#x435;&#x43C; printString. &#x41E;&#x43A;, &#x434;&#x430;&#x432;&#x430;&#x439;&#x442;&#x435; &#x44F;&#x432;&#x43D;&#x43E; &#x437;&#x430;&#x434;&#x430;&#x434;&#x438;&#x43C; &#x442;&#x438;&#x43F;:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> j2 = JavaCopy(<span class=""hljs-string"">""Test""</span>) <span class=""hljs-keyword"">val</span> j3 = JavaCopy(<span class=""hljs-literal"">null</span>) <span class=""hljs-keyword"">val</span> j2Got: String = j2.<span class=""hljs-keyword"">get</span>() <span class=""hljs-keyword"">val</span> j3Got: String = j3.<span class=""hljs-keyword"">get</span>() printString(j2Got) printString(j3Got)</code></pre> <blockquote> <p><strong>&#x420;&#x435;&#x437;&#x443;&#x43B;&#x44C;&#x442;&#x430;&#x442;</strong></p> <p>Exception in thread &laquo;main&raquo; java.lang.IllegalStateException: j3.get() must not be null</p> </blockquote> <p>&#x412;&#x441;&#x435; &#x43B;&#x43E;&#x433;&#x438;&#x447;&#x43D;&#x43E;. &#x41A;&#x43E;&#x433;&#x434;&#x430; &#x43C;&#x44B; &#x44F;&#x432;&#x43D;&#x43E; &#x443;&#x43A;&#x430;&#x437;&#x44B;&#x432;&#x430;&#x435;&#x43C;, &#x447;&#x442;&#x43E; &#x43D;&#x430;&#x43C; &#x43D;&#x443;&#x436;&#x435;&#x43D; NotNullable, &#x442;&#x43E;&#x433;&#x434;&#x430; &#x438; &#x43B;&#x43E;&#x432;&#x438;&#x43C; &#x438;&#x441;&#x43A;&#x43B;&#x44E;&#x447;&#x435;&#x43D;&#x438;&#x435;. &#x41A;&#x430;&#x437;&#x430;&#x43B;&#x43E;&#x441;&#x44C; &#x431;&#x44B;, &#x443;&#x43A;&#x430;&#x437;&#x44B;&#x432;&#x430;&#x439; &#x443; &#x432;&#x441;&#x435;&#x445; &#x43F;&#x435;&#x440;&#x435;&#x43C;&#x435;&#x43D;&#x43D;&#x44B;&#x445; Nullable, &#x438; &#x432;&#x441;&#x435; &#x431;&#x443;&#x434;&#x435;&#x442; &#x445;&#x43E;&#x440;&#x43E;&#x448;&#x43E;. &#x41D;&#x43E; &#x435;&#x441;&#x43B;&#x438; &#x434;&#x435;&#x43B;&#x430;&#x442;&#x44C; &#x442;&#x430;&#x43A;:</p> <pre><code class=""hljs language-kotlin"">printString(j2.<span class=""hljs-keyword"">get</span>())</code></pre> <p>&#x442;&#x43E; &#x43E;&#x448;&#x438;&#x431;&#x43A;&#x443; &#x432;&#x44B; &#x43C;&#x43E;&#x436;&#x435;&#x442;&#x435; &#x43E;&#x431;&#x43D;&#x430;&#x440;&#x443;&#x436;&#x438;&#x442;&#x44C; &#x43D;&#x435;&#x441;&#x43A;&#x43E;&#x440;&#x43E;.</p> <blockquote> <p><strong>&#x427;&#x451; &#x442;&#x430;&#x43C; &#x432; Scala?</strong></p> <p>&#x41D;&#x438;&#x43A;&#x430;&#x43A;&#x438;&#x445; &#x433;&#x430;&#x440;&#x430;&#x43D;&#x442;&#x438;&#x439;, NPE &#x441;&#x43B;&#x43E;&#x432;&#x438;&#x442;&#x44C; &#x43C;&#x43E;&#x436;&#x43D;&#x43E; &#x44D;&#x43B;&#x435;&#x43C;&#x435;&#x43D;&#x442;&#x430;&#x440;&#x43D;&#x43E;. &#x420;&#x435;&#x448;&#x435;&#x43D;&#x438;&#x435; &mdash; &#x43E;&#x431;&#x43E;&#x440;&#x430;&#x447;&#x438;&#x432;&#x430;&#x442;&#x44C; &#x432;&#x441;&#x435; &#x432; Option, &#x443; &#x43A;&#x43E;&#x442;&#x43E;&#x440;&#x43E;&#x433;&#x43E;, &#x43D;&#x430;&#x43F;&#x43E;&#x43C;&#x43D;&#x44E;, &#x435;&#x441;&#x442;&#x44C; &#x445;&#x43E;&#x440;&#x43E;&#x448;&#x435;&#x435; &#x441;&#x432;&#x43E;&#x439;&#x441;&#x442;&#x432;&#x43E;, &#x447;&#x442;&#x43E; Option(null) = None. &#x421; &#x434;&#x440;&#x443;&#x433;&#x43E;&#x439; &#x441;&#x442;&#x43E;&#x440;&#x43E;&#x43D;&#x44B;, &#x442;&#x443;&#x442; &#x43D;&#x435;&#x442; &#x438;&#x43B;&#x43B;&#x44E;&#x437;&#x438;&#x439;, &#x447;&#x442;&#x43E; java interop &#x431;&#x435;&#x437;&#x43E;&#x43F;&#x430;&#x441;&#x435;&#x43D;.</p> </blockquote> <h4>7. infix &#x43D;&#x43E;&#x442;&#x430;&#x446;&#x438;&#x44F; &#x438; &#x43B;&#x44F;&#x43C;&#x431;&#x434;&#x44B;</h4> <p>&#x421;&#x434;&#x435;&#x43B;&#x430;&#x435;&#x43C; &#x446;&#x435;&#x43F;&#x43E;&#x447;&#x43A;&#x443; &#x438;&#x437; &#x43C;&#x435;&#x442;&#x43E;&#x434;&#x43E;&#x432; &#x438; &#x432;&#x44B;&#x437;&#x43E;&#x432;&#x435;&#x43C; &#x435;&#x435;:</p> <pre><code class=""hljs language-kotlin""> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span><span class=""hljs-type"">&lt;R&gt;</span> <span class=""hljs-title"">first</span><span class=""hljs-params"">(func: ()</span></span> -&gt; R): R{ println(<span class=""hljs-string"">""calling first""</span>) <span class=""hljs-keyword"">return</span> func() } <span class=""hljs-keyword"">infix</span> <span class=""hljs-function""><span class=""hljs-keyword"">fun</span><span class=""hljs-type"">&lt;R, T&gt;</span> R.<span class=""hljs-title"">second</span><span class=""hljs-params"">(func: (<span class=""hljs-type"">R</span>)</span></span> -&gt; T): T{ println(<span class=""hljs-string"">""calling second""</span>) <span class=""hljs-keyword"">return</span> func(<span class=""hljs-keyword"">this</span>) } first { println(<span class=""hljs-string"">""calling first body""</span>) } second { println(<span class=""hljs-string"">""calling second body""</span>) }</code></pre> <p><strong>&#x420;&#x435;&#x437;&#x443;&#x43B;&#x44C;&#x442;&#x430;&#x442;</strong></p> <pre><code class=""hljs language-kotlin"">calling first calling first body Oops! calling second body</code></pre> <p>&#x41F;&#x43E;&#x434;&#x43E;&#x436;&#x434;&#x438;&#x442;&#x435;-&#x43A;&#x430;... &#x442;&#x443;&#x442; &#x43A;&#x430;&#x43A;&#x430;&#x44F;-&#x442;&#x43E; &#x43F;&#x43E;&#x434;&#x441;&#x442;&#x430;&#x432;&#x430;! &#x418; &#x43F;&#x440;&#x430;&#x432;&#x434;&#x430;, &laquo;&#x437;&#x430;&#x431;&#x44B;&#x43B;&raquo; &#x43E;&#x434;&#x438;&#x43D; &#x43C;&#x435;&#x442;&#x43E;&#x434; &#x432;&#x441;&#x442;&#x430;&#x432;&#x438;&#x442;&#x44C;:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span><span class=""hljs-type"">&lt;T&gt;</span> <span class=""hljs-title"">second</span><span class=""hljs-params"">(func: ()</span></span> -&gt; T): T{ println(<span class=""hljs-string"">""Oops!""</span>) <span class=""hljs-keyword"">return</span> func() }</code></pre> <p>&#x418; &#x447;&#x442;&#x43E;&#x431;&#x44B; &#x437;&#x430;&#x440;&#x430;&#x431;&#x43E;&#x442;&#x430;&#x43B;&#x43E; &laquo;&#x43A;&#x430;&#x43A; &#x43D;&#x430;&#x434;&#x43E;&raquo;, &#x43D;&#x443;&#x436;&#x43D;&#x43E; &#x431;&#x44B;&#x43B;&#x43E; &#x43D;&#x430;&#x43F;&#x438;&#x441;&#x430;&#x442;&#x44C; &#x442;&#x430;&#x43A;:</p> <pre><code class=""hljs language-kotlin"">first { println(<span class=""hljs-string"">""calling first body""</span>) } second { println(<span class=""hljs-string"">""calling second body""</span>) }</code></pre> <blockquote> <p><strong>&#x420;&#x435;&#x437;&#x443;&#x43B;&#x44C;&#x442;&#x430;&#x442;</strong></p> <p>calling first calling first body calling second calling second body</p> </blockquote> <p>&#x412;&#x441;&#x435;&#x433;&#x43E; &#x43E;&#x434;&#x438;&#x43D; &#x43F;&#x435;&#x440;&#x435;&#x43D;&#x43E;&#x441; &#x441;&#x442;&#x440;&#x43E;&#x43A;&#x438;, &#x43A;&#x43E;&#x442;&#x43E;&#x440;&#x44B;&#x439; &#x43B;&#x435;&#x433;&#x43A;&#x43E; &#x43F;&#x440;&#x438; &#x43F;&#x435;&#x440;&#x435;&#x444;&#x43E;&#x440;&#x43C;&#x430;&#x442;&#x438;&#x440;&#x43E;&#x432;&#x430;&#x43D;&#x438;&#x438; &#x443;&#x434;&#x430;&#x43B;&#x438;&#x442;&#x44C;/&#x434;&#x43E;&#x431;&#x430;&#x432;&#x438;&#x442;&#x44C; &#x43F;&#x435;&#x440;&#x435;&#x43A;&#x43B;&#x44E;&#x447;&#x430;&#x435;&#x442; &#x43F;&#x43E;&#x432;&#x435;&#x434;&#x435;&#x43D;&#x438;&#x435;. &#x41E;&#x441;&#x43D;&#x43E;&#x432;&#x430;&#x43D;&#x43E; &#x43D;&#x430; &#x440;&#x435;&#x430;&#x43B;&#x44C;&#x43D;&#x44B;&#x445; &#x441;&#x43E;&#x431;&#x44B;&#x442;&#x438;&#x44F;&#x445;: &#x431;&#x44B;&#x43B;&#x430; &#x446;&#x435;&#x43F;&#x43E;&#x447;&#x43A;&#x430; &#x43C;&#x435;&#x442;&#x43E;&#x434;&#x43E;&#x432; &laquo;&#x441;&#x434;&#x435;&#x43B;&#x430;&#x439; &#x432; background&raquo; &#x438; &laquo;&#x43F;&#x43E;&#x442;&#x43E;&#x43C; &#x441;&#x434;&#x435;&#x43B;&#x430;&#x439; &#x432; ui &#x442;&#x440;&#x435;&#x434;&#x435;&raquo;. &#x418; &#x431;&#x44B;&#x43B; &#x43C;&#x435;&#x442;&#x43E;&#x434; &laquo;&#x441;&#x434;&#x435;&#x43B;&#x430;&#x439; &#x432; ui&raquo; &#x441; &#x442;&#x430;&#x43A;&#x438;&#x43C; &#x436;&#x435; &#x438;&#x43C;&#x435;&#x43D;&#x435;&#x43C;.</p> <blockquote> <p><strong>&#x427;&#x451; &#x442;&#x430;&#x43C; &#x432; Scala?</strong></p> <p>&#x421;&#x438;&#x43D;&#x442;&#x430;&#x43A;&#x441;&#x438;&#x441; &#x43D;&#x435;&#x43C;&#x43D;&#x43E;&#x433;&#x43E; &#x43E;&#x442;&#x43B;&#x438;&#x447;&#x430;&#x435;&#x442;&#x441;&#x44F;, &#x43F;&#x43E;&#x44D;&#x442;&#x43E;&#x43C;&#x443; &#x442;&#x430;&#x43A; &#x43F;&#x440;&#x43E;&#x441;&#x442;&#x43E; &#x442;&#x443;&#x442; &#x441;&#x435;&#x431;&#x435; &#x43D;&#x435; &#x432;&#x44B;&#x441;&#x442;&#x440;&#x435;&#x43B;&#x438;&#x448;&#x44C;:</p> <pre><code class=""hljs language-scala""><span class=""hljs-class""><span class=""hljs-keyword"">object</span> <span class=""hljs-title"">Infix</span> <span class=""hljs-keyword"">extends</span> <span class=""hljs-title"">App</span></span>{ <span class=""hljs-function""><span class=""hljs-keyword"">def</span> <span class=""hljs-title"">first</span></span>[<span class=""hljs-type"">R</span>](func: () =&gt; <span class=""hljs-type"">R</span>): <span class=""hljs-type"">R</span> = { println(<span class=""hljs-string"">""calling first""</span>) func() } <span class=""hljs-keyword"">implicit</span> <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Second</span>[<span class=""hljs-type"">R</span>](<span class=""hljs-params"">val value: <span class=""hljs-type"">R</span></span>) <span class=""hljs-keyword"">extends</span> <span class=""hljs-title"">AnyVal</span></span>{ <span class=""hljs-function""><span class=""hljs-keyword"">def</span> <span class=""hljs-title"">second</span></span>[<span class=""hljs-type"">T</span>](func: (<span class=""hljs-type"">R</span>) =&gt; <span class=""hljs-type"">T</span>): <span class=""hljs-type"">T</span> = { println(<span class=""hljs-string"">""calling second""</span>) func(value) } } <span class=""hljs-function""><span class=""hljs-keyword"">def</span> <span class=""hljs-title"">second</span></span>[<span class=""hljs-type"">T</span>](func: () =&gt; <span class=""hljs-type"">T</span>): <span class=""hljs-type"">T</span> = { println(<span class=""hljs-string"">""Oops!""</span>) func() } <span class=""hljs-keyword"">override</span> <span class=""hljs-function""><span class=""hljs-keyword"">def</span> <span class=""hljs-title"">main</span></span>(args: <span class=""hljs-type"">Array</span>[<span class=""hljs-type"">String</span>]) { first { () =&gt; println(<span class=""hljs-string"">""calling first body""</span>) } second { () =&gt; <span class=""hljs-comment"">//&lt;--------type mismach</span> println(<span class=""hljs-string"">""calling second body""</span>) } } }</code></pre> <p>&#x417;&#x430;&#x442;&#x43E;, &#x43F;&#x44B;&#x442;&#x430;&#x44F;&#x441;&#x44C; &#x43F;&#x43E;&#x434;&#x43E;&#x433;&#x43D;&#x430;&#x442;&#x44C; &#x441;&#x43A;&#x430;&#x43B;&#x43E;&#x432;&#x441;&#x43A;&#x438;&#x439; &#x43A;&#x43E;&#x434; &#x445;&#x43E;&#x442;&#x44F; &#x431;&#x44B; &#x434;&#x43B;&#x44F; &#x43D;&#x435;&#x43E;&#x447;&#x435;&#x432;&#x438;&#x434;&#x43D;&#x43E;&#x441;&#x442;&#x438; &#x437;&#x430;&#x441;&#x447;&#x435;&#x442; implicit/underscore, &#x44F; &#x432;&#x437;&#x43E;&#x440;&#x432;&#x430;&#x43B; &#x432;&#x441;&#x435; &#x432;&#x43E;&#x43A;&#x440;&#x443;&#x433;.</p> <blockquote> <p><strong>&#x41E;&#x441;&#x442;&#x43E;&#x440;&#x43E;&#x436;&#x43D;&#x43E;! &#x41A;&#x440;&#x43E;&#x432;&#x44C;, &#x43A;&#x438;&#x448;&#x43A;&#x438; &#x438; &#x440;&#x430;&#x441;&#x447;&#x43B;&#x435;&#x43D;&#x435;&#x43D;&#x43A;&#x430;...</strong></p> <pre><code>object Infix2 extends App{ def first(func: (Unit) =&gt; Unit): Unit = { println(&quot;calling first&quot;) func() } implicit class Second(val value: Unit) extends AnyVal{ def second(func: (Unit) =&gt; Unit): Unit = { println(&quot;calling second&quot;) func(value) } } def second(func: (Unit) =&gt; Unit): Unit = { println(&quot;Oops!&quot;) func() } override def main(args: Array[String]) { first { _ =&gt; println(&quot;calling first body&quot;) } second { _ =&gt; println(&quot;calling second body&quot;) } } } </code></pre> <p>&#x418; &#x440;&#x435;&#x437;&#x443;&#x43B;&#x44C;&#x442;&#x430;&#x442;:</p> <pre><code class=""hljs language-scala""><span class=""hljs-type"">Exception</span> in thread <span class=""hljs-string"">""main""</span> java.lang.<span class=""hljs-type"">VerifyError</span>: <span class=""hljs-type"">Operand</span> stack underflow <span class=""hljs-type"">Exception</span> <span class=""hljs-type"">Details</span>: <span class=""hljs-type"">Location</span>: <span class=""hljs-type"">Infix2</span>$<span class=""hljs-type"">Second</span>$.equals$extension(<span class=""hljs-type"">Lscala</span>/runtime/<span class=""hljs-type"">BoxedUnit</span>;<span class=""hljs-type"">Ljava</span>/lang/<span class=""hljs-type"">Object</span>;)<span class=""hljs-type"">Z</span> @<span class=""hljs-number"">40</span>: pop <span class=""hljs-type"">Reason</span>: <span class=""hljs-type"">Attempt</span> to pop empty stack. <span class=""hljs-type"">Current</span> <span class=""hljs-type"">Frame</span>: bci: @<span class=""hljs-number"">40</span> flags: { } locals: { <span class=""hljs-symbol"">'Infix2</span>$<span class=""hljs-type"">Second</span>/pre&gt;, <span class=""hljs-symbol"">'scala</span>/runtime/<span class=""hljs-type"">BoxedUnit</span>', <span class=""hljs-symbol"">'java</span>/lang/<span class=""hljs-type"">Object</span>', <span class=""hljs-symbol"">'java</span>/lang/<span class=""hljs-type"">Object</span>', integer } stack: { } <span class=""hljs-type"">Bytecode</span>: <span class=""hljs-number"">0000000</span>: <span class=""hljs-number"">2</span>c4e <span class=""hljs-number"">2</span>dc1 <span class=""hljs-number"">0033</span> <span class=""hljs-number"">9900</span> <span class=""hljs-number"">0904</span> <span class=""hljs-number"">3604</span> a700 <span class=""hljs-number"">0603</span> <span class=""hljs-number"">0000010</span>: <span class=""hljs-number"">3604</span> <span class=""hljs-number"">1504</span> <span class=""hljs-number"">9900</span> <span class=""hljs-number"">4</span>d2c c700 <span class=""hljs-number"">0901</span> <span class=""hljs-number"">5701</span> a700 <span class=""hljs-number"">0000020</span>: <span class=""hljs-number"">102</span>c c000 <span class=""hljs-number"">33</span>b6 <span class=""hljs-number"">0036</span> <span class=""hljs-number"">57</span>bb <span class=""hljs-number"">0038</span> <span class=""hljs-number"">59</span>bf <span class=""hljs-number"">3</span>a05 <span class=""hljs-number"">0000030</span>: b200 <span class=""hljs-number"">1</span>f57 b200 <span class=""hljs-number"">1</span>fb2 <span class=""hljs-number"">001</span>f <span class=""hljs-number"">57</span>b2 <span class=""hljs-number"">001</span>f <span class=""hljs-number"">3</span>a06 <span class=""hljs-number"">0000040</span>: <span class=""hljs-number"">59</span>c7 <span class=""hljs-number"">000</span>c <span class=""hljs-number"">5719</span> <span class=""hljs-number"">06</span>c6 <span class=""hljs-number"">000</span>e a700 <span class=""hljs-number"">0</span>f19 <span class=""hljs-number"">06</span>b6 <span class=""hljs-number"">0000050</span>: <span class=""hljs-number"">003</span>c <span class=""hljs-number"">9900</span> <span class=""hljs-number"">0704</span> a700 <span class=""hljs-number"">0403</span> <span class=""hljs-number"">9900</span> <span class=""hljs-number"">0704</span> a700 <span class=""hljs-number"">0000060</span>: <span class=""hljs-number"">0403</span> ac <span class=""hljs-type"">Stackmap</span> <span class=""hljs-type"">Table</span>: append_frame(@<span class=""hljs-number"">15</span>,<span class=""hljs-type"">Object</span>[#<span class=""hljs-number"">4</span>]) append_frame(@<span class=""hljs-number"">18</span>,<span class=""hljs-type"">Integer</span>) same_frame(@<span class=""hljs-number"">33</span>) same_locals_1_stack_item_frame(@<span class=""hljs-number"">46</span>,<span class=""hljs-type"">Null</span>) full_frame(@<span class=""hljs-number"">77</span>,{<span class=""hljs-type"">Object</span>[#<span class=""hljs-number"">2</span>],<span class=""hljs-type"">Object</span>[#<span class=""hljs-number"">27</span>],<span class=""hljs-type"">Object</span>[#<span class=""hljs-number"">4</span>],<span class=""hljs-type"">Object</span>[#<span class=""hljs-number"">4</span>],<span class=""hljs-type"">Integer</span>,<span class=""hljs-type"">Null</span>,<span class=""hljs-type"">Object</span>[#<span class=""hljs-number"">27</span>]},{<span class=""hljs-type"">Object</span>[#<span class=""hljs-number"">27</span>]}) same_frame(@<span class=""hljs-number"">85</span>) same_frame(@<span class=""hljs-number"">89</span>) same_locals_1_stack_item_frame(@<span class=""hljs-number"">90</span>,<span class=""hljs-type"">Integer</span>) chop_frame(@<span class=""hljs-number"">97</span>,<span class=""hljs-number"">2</span>) same_locals_1_stack_item_frame(@<span class=""hljs-number"">98</span>,<span class=""hljs-type"">Integer</span>) at <span class=""hljs-type"">Infix2</span>$.main(<span class=""hljs-type"">Infix</span>.scala)</code></pre> </blockquote> </blockquote> <h4>8. &#x41F;&#x435;&#x440;&#x435;&#x433;&#x440;&#x443;&#x437;&#x43A;&#x430; &#x43C;&#x435;&#x442;&#x43E;&#x434;&#x43E;&#x432; &#x438; it</h4> <p>&#x42D;&#x442;&#x43E;, &#x441;&#x43A;&#x43E;&#x440;&#x435;&#x435;, &#x43C;&#x435;&#x442;&#x43E;&#x434; &#x43F;&#x43E;&#x434;&#x433;&#x430;&#x434;&#x438;&#x442;&#x44C; &#x434;&#x440;&#x443;&#x433;&#x438;&#x43C;. &#x41F;&#x440;&#x435;&#x434;&#x441;&#x442;&#x430;&#x432;&#x44C;&#x442;&#x435;, &#x447;&#x442;&#x43E; &#x432;&#x44B; &#x43F;&#x438;&#x448;&#x438;&#x442;&#x435; &#x431;&#x438;&#x431;&#x43B;&#x438;&#x43E;&#x442;&#x435;&#x43A;&#x443;, &#x438; &#x432; &#x43D;&#x435;&#x439; &#x435;&#x441;&#x442;&#x44C; &#x444;&#x443;&#x43D;&#x43A;&#x446;&#x438;&#x44F;</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">applier</span><span class=""hljs-params"">(x: <span class=""hljs-type"">String</span>, func: (<span class=""hljs-type"">String</span>)</span></span> -&gt; <span class=""hljs-built_in"">Unit</span>){ func(x) }</code></pre> <p>&#x420;&#x430;&#x437;&#x443;&#x43C;&#x435;&#x435;&#x442;&#x441;&#x44F;, &#x43D;&#x430;&#x440;&#x43E;&#x434; &#x435;&#x435; &#x438;&#x441;&#x43F;&#x43E;&#x43B;&#x44C;&#x437;&#x443;&#x435;&#x442; &#x434;&#x43E;&#x432;&#x43E;&#x43B;&#x44C;&#x43D;&#x43E; &#x43F;&#x440;&#x43E;&#x437;&#x440;&#x430;&#x447;&#x43D;&#x44B;&#x43C; &#x441;&#x43F;&#x43E;&#x441;&#x43E;&#x431;&#x43E;&#x43C;:</p> <pre><code class=""hljs language-kotlin"">applier (<span class=""hljs-string"">""arg""</span>) { println(it) } applier (<span class=""hljs-string"">""no arg""</span>) { println(<span class=""hljs-string"">""ololo""</span>) }</code></pre> <p>&#x41A;&#x43E;&#x434; &#x43A;&#x43E;&#x43C;&#x43F;&#x438;&#x43B;&#x438;&#x440;&#x443;&#x435;&#x442;&#x441;&#x44F;, &#x440;&#x430;&#x431;&#x43E;&#x442;&#x430;&#x435;&#x442;, &#x432;&#x441;&#x435; &#x434;&#x43E;&#x432;&#x43E;&#x43B;&#x44C;&#x43D;&#x44B;. &#x410; &#x43F;&#x43E;&#x442;&#x43E;&#x43C; &#x432;&#x44B; &#x434;&#x43E;&#x431;&#x430;&#x432;&#x43B;&#x44F;&#x435;&#x442;&#x435; &#x43C;&#x435;&#x442;&#x43E;&#x434;</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">applier</span><span class=""hljs-params"">(x: <span class=""hljs-type"">String</span>, func: ()</span></span> -&gt; <span class=""hljs-built_in"">Unit</span>){ println(<span class=""hljs-string"">""not applying <span class=""hljs-subst"">$x</span>""</span>) func() }</code></pre> <p>&#x418; &#x447;&#x442;&#x43E;&#x431;&#x44B; &#x43A;&#x43E;&#x43C;&#x43F;&#x438;&#x43B;&#x44F;&#x442;&#x43E;&#x440; &#x43D;&#x435; &#x440;&#x443;&#x433;&#x430;&#x43B;&#x441;&#x44F;, &#x43F;&#x43E;&#x43B;&#x44C;&#x437;&#x43E;&#x432;&#x430;&#x442;&#x435;&#x43B;&#x44F;&#x43C; &#x43F;&#x440;&#x438;&#x434;&#x435;&#x442;&#x441;&#x44F; &#x432;&#x435;&#x437;&#x434;&#x435; &#x43E;&#x442;&#x43A;&#x430;&#x437;&#x430;&#x442;&#x44C;&#x441;&#x44F; &#x43E;&#x442; it (&#x447;&#x438;&#x442;&#x430;&#x439;: &#x43F;&#x435;&#x440;&#x435;&#x43F;&#x438;&#x441;&#x430;&#x442;&#x44C; &#x43A;&#x443;&#x447;&#x443; &#x43A;&#x43E;&#x434;&#x430;):</p> <pre><code class=""hljs language-kotlin"">applier (<span class=""hljs-string"">""arg""</span>) { it -&gt; <span class=""hljs-comment"">//FIXED</span> println(it) } applier (<span class=""hljs-string"">""no arg""</span>) { -&gt; <span class=""hljs-comment"">//yes, explicit!</span> println(<span class=""hljs-string"">""ololo""</span>) }</code></pre> <p>&#x425;&#x43E;&#x442;&#x44F;, &#x442;&#x435;&#x43E;&#x440;&#x435;&#x442;&#x438;&#x447;&#x435;&#x441;&#x43A;&#x438;, &#x43A;&#x43E;&#x43C;&#x43F;&#x438;&#x43B;&#x44F;&#x442;&#x43E;&#x440; &#x43C;&#x43E;&#x433; &#x431;&#x44B; &#x438; &#x443;&#x433;&#x430;&#x434;&#x430;&#x442;&#x44C;, &#x447;&#x442;&#x43E; &#x435;&#x441;&#x43B;&#x438; &#x435;&#x441;&#x442;&#x44C; it, &#x442;&#x43E; &#x44D;&#x442;&#x43E; &#x43B;&#x44F;&#x43C;&#x431;&#x434;&#x430; &#x441; 1 &#x432;&#x445;&#x43E;&#x434;&#x43D;&#x44B;&#x43C; &#x430;&#x440;&#x433;&#x443;&#x43C;&#x435;&#x43D;&#x442;&#x43E;&#x43C;. &#x414;&#x443;&#x43C;&#x430;&#x44E;, &#x447;&#x442;&#x43E; &#x441; &#x440;&#x430;&#x437;&#x432;&#x438;&#x442;&#x438;&#x435;&#x43C; &#x44F;&#x437;&#x44B;&#x43A;&#x430; &#x438; &#x43A;&#x43E;&#x43C;&#x43F;&#x438;&#x43B;&#x44F;&#x442;&#x43E;&#x440; &#x43F;&#x43E;&#x443;&#x43C;&#x43D;&#x435;&#x435;&#x442;, &#x438; &#x44D;&#x442;&#x43E;&#x442; &#x43F;&#x443;&#x43D;&#x43A;&#x442; &mdash; &#x432;&#x440;&#x435;&#x43C;&#x435;&#x43D;&#x43D;&#x44B;&#x439;.</p> <blockquote> <p><strong>&#x427;&#x451; &#x442;&#x430;&#x43C; &#x432; Scala?</strong></p> <p>&#x411;&#x435;&#x437; &#x430;&#x440;&#x433;&#x443;&#x43C;&#x435;&#x43D;&#x442;&#x43E;&#x432; &#x43F;&#x440;&#x438;&#x434;&#x435;&#x442;&#x441;&#x44F; &#x44F;&#x432;&#x43D;&#x43E; &#x443;&#x43A;&#x430;&#x437;&#x430;&#x442;&#x44C;, &#x447;&#x442;&#x43E; &#x44D;&#x442;&#x43E; &#x43B;&#x44F;&#x43C;&#x431;&#x434;&#x430;. &#x410; &#x43F;&#x440;&#x438; &#x434;&#x43E;&#x431;&#x430;&#x432;&#x43B;&#x435;&#x43D;&#x438;&#x438; &#x43D;&#x43E;&#x432;&#x43E;&#x433;&#x43E; &#x43C;&#x435;&#x442;&#x43E;&#x434;&#x430; &#x43F;&#x43E;&#x432;&#x435;&#x434;&#x435;&#x43D;&#x438;&#x435; &#x43D;&#x435; &#x438;&#x437;&#x43C;&#x435;&#x43D;&#x438;&#x442;&#x441;&#x44F;.</p> <pre><code class=""hljs language-scala""><span class=""hljs-class""><span class=""hljs-keyword"">object</span> <span class=""hljs-title"">Its</span> <span class=""hljs-keyword"">extends</span> <span class=""hljs-title"">App</span></span>{ <span class=""hljs-function""><span class=""hljs-keyword"">def</span> <span class=""hljs-title"">applier</span></span>(x: <span class=""hljs-type"">String</span>, func: (<span class=""hljs-type"">String</span>) =&gt; <span class=""hljs-type"">Unit</span>){ func(x) } <span class=""hljs-function""><span class=""hljs-keyword"">def</span> <span class=""hljs-title"">applier</span></span>(x: <span class=""hljs-type"">String</span>, func: () =&gt; <span class=""hljs-type"">Unit</span>){ println(<span class=""hljs-string"">""not applying $x""</span>) func() } <span class=""hljs-keyword"">override</span> <span class=""hljs-function""><span class=""hljs-keyword"">def</span> <span class=""hljs-title"">main</span></span>(args: <span class=""hljs-type"">Array</span>[<span class=""hljs-type"">String</span>]) { applier(<span class=""hljs-string"">""arg""</span>, println(_)) applier(<span class=""hljs-string"">""no arg""</span>, _ =&gt; println(<span class=""hljs-string"">""ololo""</span>)) } }</code></pre> </blockquote> <h4>9. &#x41F;&#x43E;&#x447;&#x435;&#x43C;&#x443; &#x43D;&#x435; &#x441;&#x442;&#x43E;&#x438;&#x442; &#x434;&#x443;&#x43C;&#x430;&#x442;&#x44C; &#x43E; Nullable &#x43A;&#x430;&#x43A; &#x43E;&#x431; Option</h4> <p>&#x41F;&#x443;&#x441;&#x442;&#x44C; &#x443; &#x43D;&#x430;&#x441; &#x435;&#x441;&#x442;&#x44C; &#x43E;&#x431;&#x435;&#x440;&#x442;&#x43A;&#x430; &#x434;&#x43B;&#x44F; &#x43A;&#x44D;&#x448;&#x430;:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Cache</span>&lt;<span class=""hljs-type"">T</span>&gt;</span>(){ <span class=""hljs-keyword"">val</span> elements: MutableMap&lt;String, T&gt; = HashMap() <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">put</span><span class=""hljs-params"">(key: <span class=""hljs-type"">String</span>, elem: <span class=""hljs-type"">T</span>)</span></span> = elements.put(key, elem) <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">get</span><span class=""hljs-params"">(key: <span class=""hljs-type"">String</span>)</span></span> = elements[key] }</code></pre> <p>&#x418; &#x43F;&#x440;&#x43E;&#x441;&#x442;&#x43E;&#x439; &#x441;&#x446;&#x435;&#x43D;&#x430;&#x440;&#x438;&#x439; &#x438;&#x441;&#x43F;&#x43E;&#x43B;&#x44C;&#x437;&#x43E;&#x432;&#x430;&#x43D;&#x438;&#x44F;:</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> cache = Cache&lt;String&gt;() cache.put(<span class=""hljs-string"">""foo""</span>, <span class=""hljs-string"">""bar""</span>) <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">getter</span><span class=""hljs-params"">(key: <span class=""hljs-type"">String</span>)</span></span> { cache.<span class=""hljs-keyword"">get</span>(key)?.let { println(<span class=""hljs-string"">""Got <span class=""hljs-subst"">$key</span> from cache: <span class=""hljs-subst"">$it</span>""</span>) } ?: println(<span class=""hljs-string"">""<span class=""hljs-subst"">$key</span> is not in cache!""</span>) } getter(<span class=""hljs-string"">""foo""</span>) getter(<span class=""hljs-string"">""baz""</span>)</code></pre> <blockquote> <p><strong>&#x420;&#x435;&#x437;&#x443;&#x43B;&#x44C;&#x442;&#x430;&#x442; &#x434;&#x43E;&#x432;&#x43E;&#x43B;&#x44C;&#x43D;&#x43E; &#x43F;&#x440;&#x435;&#x434;&#x441;&#x43A;&#x430;&#x437;&#x443;&#x435;&#x43C;</strong></p> <p>Got foo from cache: bar baz is not in cache!</p> </blockquote> <p>&#x41D;&#x43E; &#x435;&#x441;&#x43B;&#x438; &#x43C;&#x44B; &#x432;&#x434;&#x440;&#x443;&#x433; &#x437;&#x430;&#x445;&#x43E;&#x442;&#x438;&#x43C; &#x43A; &#x43A;&#x44D;&#x448;&#x435; &#x445;&#x440;&#x430;&#x43D;&#x438;&#x442;&#x44C; Nullable...</p> <pre><code class=""hljs language-kotlin""><span class=""hljs-keyword"">val</span> cache = Cache&lt;String?&gt;() cache.put(<span class=""hljs-string"">""foo""</span>, <span class=""hljs-string"">""bar""</span>) <span class=""hljs-function""><span class=""hljs-keyword"">fun</span> <span class=""hljs-title"">getter</span><span class=""hljs-params"">(key: <span class=""hljs-type"">String</span>)</span></span> { cache.<span class=""hljs-keyword"">get</span>(key)?.let { println(<span class=""hljs-string"">""Got <span class=""hljs-subst"">$key</span> from cache: <span class=""hljs-subst"">$it</span>""</span>) } ?: println(<span class=""hljs-string"">""<span class=""hljs-subst"">$key</span> is not in cache!""</span>) } getter(<span class=""hljs-string"">""foo""</span>) getter(<span class=""hljs-string"">""baz""</span>) cache.put(<span class=""hljs-string"">""IAmNull""</span>, <span class=""hljs-literal"">null</span>) getter(<span class=""hljs-string"">""IAmNull""</span>)</code></pre> <blockquote> <p><strong>&#x422;&#x43E; &#x43F;&#x43E;&#x43B;&#x443;&#x447;&#x438;&#x442;&#x441;&#x44F; &#x43D;&#x435; &#x43E;&#x447;&#x435;&#x43D;&#x44C; &#x445;&#x43E;&#x440;&#x43E;&#x448;&#x43E;</strong></p> <p>Got foo from cache: bar baz is not in cache! IAmNull is not in cache!</p> </blockquote> <p>&#x417;&#x430;&#x447;&#x435;&#x43C; &#x445;&#x440;&#x430;&#x43D;&#x438;&#x442;&#x44C; null? &#x41D;&#x430;&#x43F;&#x440;&#x438;&#x43C;&#x435;&#x440;, &#x447;&#x442;&#x43E;&#x431;&#x44B; &#x43F;&#x43E;&#x43A;&#x430;&#x437;&#x430;&#x442;&#x44C;, &#x447;&#x442;&#x43E; &#x440;&#x435;&#x437;&#x443;&#x43B;&#x44C;&#x442;&#x430;&#x442; &#x43D;&#x435; &#x432;&#x44B;&#x447;&#x438;&#x441;&#x43B;&#x438;&#x43C;. &#x41A;&#x43E;&#x43D;&#x435;&#x447;&#x43D;&#x43E;, &#x442;&#x443;&#x442; &#x431;&#x44B;&#x43B;&#x43E; &#x431;&#x44B; &#x43F;&#x440;&#x430;&#x432;&#x438;&#x43B;&#x44C;&#x43D;&#x435;&#x435; &#x438;&#x441;&#x43F;&#x43E;&#x43B;&#x44C;&#x437;&#x43E;&#x432;&#x430;&#x442;&#x44C; Option &#x438;&#x43B;&#x438; Either, &#x43D;&#x43E;, &#x43A; &#x441;&#x43E;&#x436;&#x430;&#x43B;&#x435;&#x43D;&#x438;&#x44E;, &#x43D;&#x438; &#x442;&#x43E;&#x433;&#x43E;, &#x43D;&#x438; &#x434;&#x440;&#x443;&#x433;&#x43E;&#x433;&#x43E; &#x432; &#x441;&#x442;&#x430;&#x43D;&#x434;&#x430;&#x440;&#x442;&#x43D;&#x43E;&#x439; &#x431;&#x438;&#x431;&#x43B;&#x438;&#x43E;&#x442;&#x435;&#x43A;&#x435; &#x43D;&#x435;&#x442; (&#x43D;&#x43E; &#x435;&#x441;&#x442;&#x44C;, &#x43D;&#x430;&#x43F;&#x440;&#x438;&#x43C;&#x435;&#x440;, &#x432; <a href=""https://github.com/MarioAriasC/funKTionale/wiki"">funKTionale</a>). &#x411;&#x43E;&#x43B;&#x435;&#x435; &#x442;&#x43E;&#x433;&#x43E;, &#x43A;&#x430;&#x43A; &#x440;&#x430;&#x437; &#x43F;&#x440;&#x438; &#x440;&#x435;&#x430;&#x43B;&#x438;&#x437;&#x430;&#x446;&#x438;&#x438; Either, &#x44F; &#x43D;&#x430;&#x441;&#x442;&#x443;&#x43F;&#x438;&#x43B; &#x43D;&#x430; &#x433;&#x440;&#x430;&#x431;&#x43B;&#x438; &#x44D;&#x442;&#x43E;&#x433;&#x43E; &#x43F;&#x443;&#x43D;&#x43A;&#x442;&#x430; &#x438; &#x43F;&#x440;&#x435;&#x434;&#x44B;&#x434;&#x443;&#x449;&#x435;&#x433;&#x43E;. &#x420;&#x435;&#x448;&#x438;&#x442;&#x44C; &#x44D;&#x442;&#x443; &#x43F;&#x440;&#x43E;&#x431;&#x43B;&#x435;&#x43C;&#x443; &#x441; &laquo;&#x434;&#x432;&#x43E;&#x439;&#x43D;&#x44B;&#x43C; Nullable&raquo; &#x43C;&#x43E;&#x436;&#x43D;&#x43E;, &#x43D;&#x430;&#x43F;&#x440;&#x438;&#x43C;&#x435;&#x440;, &#x432;&#x43E;&#x437;&#x432;&#x440;&#x430;&#x442;&#x43E;&#x43C; Pair &#x438;&#x43B;&#x438; &#x441;&#x43F;&#x435;&#x446;&#x438;&#x430;&#x43B;&#x44C;&#x43D;&#x43E;&#x433;&#x43E; data class.</p> <blockquote> <p><strong>&#x427;&#x451; &#x442;&#x430;&#x43C; &#x432; Scala?</strong></p> <p>&#x41D;&#x438;&#x43A;&#x442;&#x43E; &#x43D;&#x435; &#x437;&#x430;&#x43F;&#x440;&#x435;&#x442;&#x438;&#x442; &#x441;&#x434;&#x435;&#x43B;&#x430;&#x442;&#x44C; Option &#x43E;&#x442; Option. &#x41D;&#x430;&#x434;&#x435;&#x44E;&#x441;&#x44C;, &#x43F;&#x43E;&#x43D;&#x44F;&#x442;&#x43D;&#x43E;, &#x447;&#x442;&#x43E; &#x442;&#x430;&#x43A; &#x432;&#x441;&#x435; &#x431;&#x443;&#x434;&#x435;&#x442; &#x445;&#x43E;&#x440;&#x43E;&#x448;&#x43E;. &#x414;&#x430; &#x438; &#x441; null &#x442;&#x43E;&#x436;&#x435;:</p> <pre><code class=""hljs language-scala""><span class=""hljs-class""><span class=""hljs-keyword"">object</span> <span class=""hljs-title"">doubleNull</span> <span class=""hljs-keyword"">extends</span> <span class=""hljs-title"">App</span></span>{ <span class=""hljs-class""><span class=""hljs-keyword"">class</span> <span class=""hljs-title"">Cache</span>[<span class=""hljs-type"">T</span>]</span>{ <span class=""hljs-keyword"">val</span> elements = mutable.<span class=""hljs-type"">Map</span>.empty[<span class=""hljs-type"">String</span>, <span class=""hljs-type"">T</span>] <span class=""hljs-function""><span class=""hljs-keyword"">def</span> <span class=""hljs-title"">put</span></span>(key: <span class=""hljs-type"">String</span>, elem: <span class=""hljs-type"">T</span>) = elements.put(key, elem) <span class=""hljs-function""><span class=""hljs-keyword"">def</span> <span class=""hljs-title"">get</span></span>(key: <span class=""hljs-type"">String</span>) = elements.get(key) } <span class=""hljs-keyword"">override</span> <span class=""hljs-function""><span class=""hljs-keyword"">def</span> <span class=""hljs-title"">main</span></span>(args: <span class=""hljs-type"">Array</span>[<span class=""hljs-type"">String</span>]) { <span class=""hljs-keyword"">val</span> cache = <span class=""hljs-keyword"">new</span> <span class=""hljs-type"">Cache</span>[<span class=""hljs-type"">String</span>]() cache.put(<span class=""hljs-string"">""foo""</span>, <span class=""hljs-string"">""bar""</span>) <span class=""hljs-function""><span class=""hljs-keyword"">def</span> <span class=""hljs-title"">getter</span></span>(key: <span class=""hljs-type"">String</span>) { cache.get(key) <span class=""hljs-keyword"">match</span> { <span class=""hljs-keyword"">case</span> <span class=""hljs-type"">Some</span>(value) =&gt; println(<span class=""hljs-string"">s""Got <span class=""hljs-subst"">$key</span> from cache: <span class=""hljs-subst"">$value</span>""</span>) <span class=""hljs-keyword"">case</span> <span class=""hljs-type"">None</span> =&gt; println(<span class=""hljs-string"">s""<span class=""hljs-subst"">$key</span> is not in cache!""</span>) } } getter(<span class=""hljs-string"">""foo""</span>) getter(<span class=""hljs-string"">""baz""</span>) cache.put(<span class=""hljs-string"">""IAmNull""</span>, <span class=""hljs-literal"">null</span>) getter(<span class=""hljs-string"">""IAmNull""</span>) }</code></pre> <blockquote> <p><strong>&#x412;&#x441;&#x435; &#x445;&#x43E;&#x440;&#x43E;&#x448;&#x43E;</strong></p> <p>Got foo from cache: bar baz is not in cache! Got IAmNull from cache: null</p> </blockquote> </blockquote> <h4>10. &#x41E;&#x431;&#x44A;&#x44F;&#x432;&#x43B;&#x435;&#x43D;&#x438;&#x435; &#x43C;&#x435;&#x442;&#x43E;&#x434;&#x43E;&#x432;</h4> <p>&#x411;&#x43E;&#x43D;&#x443;&#x441; &#x434;&#x43B;&#x44F; &#x442;&#x435;&#x445;, &#x43A;&#x442;&#x43E; &#x440;&#x430;&#x43D;&#x44C;&#x448;&#x435; &#x43F;&#x438;&#x441;&#x430;&#x43B; &#x43D;&#x430; Scala. &#x421;&#x43F;&#x43E;&#x43D;&#x441;&#x43E;&#x440; &#x434;&#x430;&#x43D;&#x43D;&#x43E;&#x433;&#x43E; &#x43F;&#x443;&#x43D;&#x43A;&#x442;&#x430; &mdash; <a href=""https://habrahabr.ru/users/lgorsl/"">lgorSL</a>. <a href=""https://habrahabr.ru/post/277479/#comment_8779645"">&#x426;&#x438;&#x442;&#x438;&#x440;&#x443;&#x44E;:</a></p> <blockquote> <p>... &#x418;&#x43B;&#x438;, &#x43D;&#x430;&#x43F;&#x440;&#x438;&#x43C;&#x435;&#x440;, &#x441;&#x438;&#x43D;&#x442;&#x430;&#x43A;&#x441;&#x438;&#x441; &#x43E;&#x431;&#x44A;&#x44F;&#x432;&#x43B;&#x435;&#x43D;&#x438;&#x44F; &#x43C;&#x435;&#x442;&#x43E;&#x434;&#x430;: &#x412; scala: def methodName(...) = {...} &#x412; kotlin &#x432;&#x43E;&#x437;&#x43C;&#x43E;&#x436;&#x43D;&#x44B; &#x434;&#x432;&#x430; &#x432;&#x430;&#x440;&#x438;&#x430;&#x43D;&#x442;&#x430; &mdash; &#x43A;&#x430;&#x43A; &#x432; scala (&#x441;&#x43E; &#x437;&#x43D;&#x430;&#x43A;&#x43E;&#x43C; =) &#x438; &#x43A;&#x430;&#x43A; &#x432; java (&#x431;&#x435;&#x437; &#x43D;&#x435;&#x433;&#x43E;), &#x43D;&#x43E; &#x44D;&#x442;&#x438; &#x434;&#x432;&#x430; &#x441;&#x43F;&#x43E;&#x441;&#x43E;&#x431;&#x430; &#x43E;&#x431;&#x44A;&#x44F;&#x432;&#x43B;&#x435;&#x43D;&#x438;&#x44F; &#x43D;&#x435;&#x44D;&#x43A;&#x432;&#x438;&#x432;&#x430;&#x43B;&#x435;&#x43D;&#x442;&#x43D;&#x44B; &#x434;&#x440;&#x443;&#x433; &#x434;&#x440;&#x443;&#x433;&#x443; &#x438; &#x440;&#x430;&#x431;&#x43E;&#x442;&#x430;&#x44E;&#x442; &#x43D;&#x435;&#x43C;&#x43D;&#x43E;&#x433;&#x43E; &#x43F;&#x43E;-&#x440;&#x430;&#x437;&#x43D;&#x43E;&#x43C;&#x443;, &#x44F; &#x43E;&#x434;&#x43D;&#x430;&#x436;&#x434;&#x44B; &#x43A;&#x443;&#x447;&#x443; &#x432;&#x440;&#x435;&#x43C;&#x435;&#x43D;&#x438; &#x43F;&#x43E;&#x442;&#x440;&#x430;&#x442;&#x438;&#x43B; &#x43D;&#x430; &#x43F;&#x43E;&#x438;&#x441;&#x43A; &#x442;&#x430;&#x43A;&#x43E;&#x439; &laquo;&#x43E;&#x441;&#x43E;&#x431;&#x435;&#x43D;&#x43D;&#x43E;&#x441;&#x442;&#x438;&raquo; &#x432; &#x43A;&#x43E;&#x434;&#x435;. ...</p> </blockquote> <blockquote> <p>&#x42F; &#x43F;&#x43E;&#x434;&#x440;&#x430;&#x437;&#x443;&#x43C;&#x435;&#x432;&#x430;&#x43B; &#x441;&#x43B;&#x435;&#x434;&#x443;&#x44E;&#x449;&#x435;&#x435;:</p> <p>fun test(){ println(&laquo;it works&raquo;) } fun test2() = println(&laquo;it works too&raquo;) fun test3() = {println(&laquo;surprise!&raquo;)}</p> <p>&#x427;&#x442;&#x43E;&#x431;&#x44B; &#x432;&#x44B;&#x432;&#x435;&#x441;&#x442;&#x438; &laquo;surprise&raquo;, &#x43F;&#x440;&#x438;&#x434;&#x451;&#x442;&#x441;&#x44F; &#x43D;&#x430;&#x43F;&#x438;&#x441;&#x430;&#x442;&#x44C; test3()(). &#x412;&#x430;&#x440;&#x438;&#x430;&#x43D;&#x442; &#x432;&#x44B;&#x437;&#x43E;&#x432;&#x430; test3() &#x442;&#x43E;&#x436;&#x435; &#x43D;&#x43E;&#x440;&#x43C;&#x430;&#x43B;&#x44C;&#x43D;&#x43E; &#x43A;&#x43E;&#x43C;&#x43F;&#x438;&#x43B;&#x438;&#x440;&#x443;&#x435;&#x442;&#x441;&#x44F;, &#x442;&#x43E;&#x43B;&#x44C;&#x43A;&#x43E; &#x441;&#x440;&#x430;&#x431;&#x43E;&#x442;&#x430;&#x435;&#x442; &#x43D;&#x435; &#x442;&#x430;&#x43A;, &#x43A;&#x430;&#x43A; &#x43E;&#x436;&#x438;&#x434;&#x430;&#x43B;&#x43E;&#x441;&#x44C; &mdash; &#x434;&#x43E;&#x431;&#x430;&#x432;&#x43B;&#x435;&#x43D;&#x438;&#x435; &laquo;&#x43B;&#x438;&#x448;&#x43D;&#x438;&#x445;&raquo; &#x441;&#x43A;&#x43E;&#x431;&#x43E;&#x447;&#x435;&#x43A; &#x43A;&#x430;&#x440;&#x434;&#x438;&#x43D;&#x430;&#x43B;&#x44C;&#x43D;&#x43E; &#x43C;&#x435;&#x43D;&#x44F;&#x435;&#x442; &#x43B;&#x43E;&#x433;&#x438;&#x43A;&#x443; &#x43F;&#x440;&#x43E;&#x433;&#x440;&#x430;&#x43C;&#x43C;&#x44B;.</p> <p>&#x418;&#x437;-&#x437;&#x430; &#x44D;&#x442;&#x438;&#x445; &#x433;&#x440;&#x430;&#x431;&#x43B;&#x435;&#x439; &#x43F;&#x435;&#x440;&#x435;&#x445;&#x43E;&#x434; &#x441;&#x43E; &#x441;&#x43A;&#x430;&#x43B;&#x44B; &#x43D;&#x430; &#x43A;&#x43E;&#x442;&#x43B;&#x438;&#x43D; &#x43E;&#x43A;&#x430;&#x437;&#x430;&#x43B;&#x441;&#x44F; &#x43D;&#x435;&#x43C;&#x43D;&#x43E;&#x433;&#x43E; &#x431;&#x43E;&#x43B;&#x435;&#x437;&#x43D;&#x435;&#x43D;&#x43D;&#x44B;&#x43C; &mdash; &#x438;&#x43D;&#x43E;&#x433;&#"	"null"	"null"	""	"true"
"Web"	"Kotlin/ktor"	"https://github.com/Kotlin/ktor"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"68"	"26"	"9"	"GitHub - Kotlin/ktor: Web backend framework for Kotlin Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 26 Star 68 Fork 9 Kotlin/ktor Code Issues 3 Pull requests 1 Wiki Pulse Graphs Web backend framework for Kotlin 663 commits 5 branches 9 releases 2 contributors Kotlin 98.3% Other 1.7% Kotlin Other Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags extract-binding generify-features http2 master secure Nothing to show ktor-0.2.1 ktor-0.2.0 ktor-0.1.8 ktor-0.1.7 ktor-0.1.6 ktor-0.1.5 ktor-0.1.4 ktor-0.1.3 ktor-0.1.2 Nothing to show New pull request Latest commit e8bf079 Jul 15, 2016 orangy Install default headers in sample applications. Permalink Failed to load latest commit information. .idea Run configurations Jun 3, 2016 ktor-core Fix Date header TZ to UTC, tell Jetty to avoid sending its own Date h… Jul 15, 2016 ktor-features Custom mapping from Location type to route path. Jul 6, 2016 ktor-hosts Fix Date header TZ to UTC, tell Jetty to avoid sending its own Date h… Jul 15, 2016 ktor-samples Install default headers in sample applications. Jul 15, 2016 .gitignore Video hosting example: use local .video directory Apr 20, 2016 README.md Add version badge Jun 22, 2016 pom.xml Add manifest entries about package Jul 6, 2016 README.md ktor Web backend framework for Kotlin Maven Add a repository <repository>     <snapshots>         <enabled>false</enabled>     </snapshots>     <id>bintray-kotlin-ktor</id>     <name>bintray</name>     <url>http://dl.bintray.com/kotlin/ktor</url> </repository>  Add a dependency: <dependency>     <groupId>org.jetbrains.ktor</groupId>     <artifactId>ktor-core</artifactId>     <version>LATEST</version> </dependency>  Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/Kotlin/ktor"	""	"true"
"Web"	"TinyMission/kara"	"https://github.com/TinyMission/kara"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"272"	"32"	"51"	"GitHub - TinyMission/kara: Kotlin Web Framework for the JVM Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 32 Star 272 Fork 51 TinyMission/kara Code Pull requests 0 Pulse Graphs Kotlin Web Framework for the JVM 634 commits 3 branches 0 releases 18 contributors Kotlin 62.2% CSS 35.5% JavaScript 2.1% Java 0.2% Kotlin CSS JavaScript Java Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags gh-pages master typesafe_attributes Nothing to show Nothing to show New pull request Latest commit 61ccf32 May 6, 2016 JuliusKunze Merge branch 'master' of https://github.com/shafirov/kara … Conflicts: 	samples/KaraDemo/src/kara/demo/Application.kt 	samples/KaraDemo/src/kara/demo/models/Post.kt Permalink Failed to load latest commit information. .idea Merge branch 'master' of github.com:shafirov/kara Feb 15, 2016 lib Numerous fixes to pull request May 7, 2015 license initial commit. just got generator templates working Dec 16, 2012 samples/KaraDemo Merge branch 'master' of https://github.com/shafirov/kara May 6, 2016 src specify proper content type for json result Apr 26, 2016 .gitignore fixed .gitignore Mar 21, 2015 README.md Update README.md Apr 23, 2015 kara.iml Match to default suggested library name for easier initial config Apr 15, 2013 README.md Kara Web Framework Kara is a web framework for the JVM written in Kotlin. It enables developers to build succinct, type-safe HTML and CSS all in one language. The article Type-safe Web with Kotlin by Andrey Breslav illustrates the benefits of such a framework. Check out karaframework.com to get a quick overview of the project. (Caution: Some contents are outdated.) Authors The project was started by Tiny Mission, a small web and mobile development company hoping to use Kara as a help to work faster and write better code. Currently, it is actively developed by JetBrains, the company behind Kotlin. Contributing There's plenty of work left to do to make Kara a first class framework, and we'd welcome contributions. Contact andy at tinymission.com to get involved. License Kara is Open Source and licensed under the Apache Licenses, version 2.0. It can be freely used in commercial projects. Run the sample Download the repository, load the project in IntelliJ IDEA (can take a while), then choose the ""Sample Server"" configuration in the toolbar and run it. You can now open the sample web page at http://localhost:3000. Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/TinyMission/kara"	""	"true"
"Web"	"jean79/yested"	"https://github.com/jean79/yested"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"44"	"8"	"7"	"GitHub - jean79/yested: A Kotlin framework for building web applications in Javascript. Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 8 Star 44 Fork 7 jean79/yested Code Issues 14 Pull requests 0 Pulse Graphs A Kotlin framework for building web applications in Javascript. 213 commits 7 branches 28 releases Fetching contributors JavaScript 86.1% Kotlin 13.8% HTML 0.1% JavaScript Kotlin HTML Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags fix fix2 fixes gh-pages master materialdesignlite my Nothing to show build-0.0.106 build-0.0.105 build-0.0.104 build-0.0.103 build-0.0.102 build-0.0.101 build-0.0.100 build-0.0.98 build-0.0.97 build-0.0.96 build-0.0.94 build-0.0.91 build-0.0.90 build-0.0.88 build-0.0.87 build-0.0.86 build-0.0.85 build-0.0.84 build-0.0.80 build-0.0.76 build-0.0.75 build-0.0.74 build-0.0.73 build-0.0.71 build-0.0.68 build-0.0.67 build-0.0.65 build-0.0.63 Nothing to show New pull request Latest commit 20261e0 Jul 14, 2016 jean79 committed on GitHub Merge pull request #122 from epabst/type-safe-date … Fix type-safety of DateField instead of using asDynamic(). Permalink Failed to load latest commit information. demo-site javadoc some workaround for maven central repo Dec 29, 2014 samples/TestYestedProject Added simple sample project Mar 12, 2015 src/main Fix type-safety of DateField instead of using asDynamic(). Jul 12, 2016 LICENSE Initial commit Dec 14, 2014 README.md index.html pom.xml README.md Yested Yested is a Kotlin framework for building single-page web applications in Javascript. Project and Demo page Project page: www.yested.net Demo page: demo.yested.net Demo page is whole written in Yested framework. Main features Strongly typed development of Web applications Minimalistic code DSL for layout construction Debugging within browser Component style of development Simple re-use of 3rd party Javascript libraries Simple creation and re-use of custom components Built-in support for Twitter Bootstrap for a quick start Status Under the development, API can change. Feedback and contributions welcome. Author Jan Kovar (jan.kovar79@gmail.com) Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/jean79/yested"	""	"true"
"Web"	"hhariri/wasabi"	"https://github.com/hhariri/wasabi"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"294"	"31"	"37"	"GitHub - hhariri/wasabi: An HTTP Framework Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 31 Star 294 Fork 37 hhariri/wasabi Code Issues 2 Pull requests 2 Pulse Graphs An HTTP Framework 466 commits 8 branches 0 releases Fetching contributors Kotlin 99.3% Other 0.7% Kotlin Other Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags gh-pages hadi-test http2 kotlin-1.0-beta-4 kotlin-1.0 kotlin-1.0.0-rc-1036 master quasar Nothing to show Nothing to show New pull request Latest commit ab5a32a Jul 11, 2016 swishy README update. Permalink Failed to load latest commit information. annotations/Gradle_io.netty_netty-all_4.0.17.Final/io/netty Added missing annotation files. Aug 6, 2014 gradle/wrapper Bump gradle also. Apr 12, 2016 kobalt Bump gradle also. Apr 12, 2016 lib Prior to changing internal response structure May 21, 2013 src/main Allow passing of class not instance to the exception handler declarat… Jul 11, 2016 test/main/kotlin/org/wasabi/test Merge branch 'master' of https://github.com/hhariri/wasabi Jul 7, 2016 testData Started work on adding response headers (pending far too long). Not c… Aug 18, 2014 tools Corrected tools build.gradle mainClass reference, minor update to ins… Mar 11, 2016 .gitignore Removing .idea and add to git ignore, update cors tests Jul 5, 2016 README.md README update. Jul 11, 2016 build.gradle Start adding HTTP/2 support, this also includes wasabi SSL support, w… Apr 24, 2016 gradlew Updated to 0.6.0.2 Kotlin Oct 4, 2013 gradlew.bat Added gradle build Sep 12, 2013 kobaltw build with kobalt Dec 14, 2015 wasabi JSON POST/PUT parsing support Sep 2, 2013 wasabi.iml removing generated iml, use gradle import on first checkout Jul 5, 2016 README.md Wasabi - An HTTP Framework Update Moving forward, I'm handing the reigns of this project over to Dale who's been contributing for some time to it and has a vision of where we wanted to take it. It's sad for me to have to do this since this was my playground and I really enjoyed working on the project. However, I need to cut my commitments and this project does deserve more attention and in reaching a 1.0, which is something Dale will be more than capable of handling. For now the main repository will live here until Dale decides to move it under his own account. Thanks. Hadi Description An HTTP Framework built with Kotlin for the JVM. Wasabi combines the conciseness and expressiveness of Kotlin, the power of Netty and the simplicity of Express.js (and other Sinatra-inspired web frameworks) to provide an easy to use HTTP framework What it is An HTTP framework that allows you to easily create back-end services for a web application or any other type of application that might require an HTTP API. What it is not It is not an MVC framework. There is no View Engine or templating language. You can combine it with client-side frameworks such as AngularJS or Ember. If you want a fully-fledged MVC framework in Kotlin, take a look at Kara It is not a REST framework. Primarily because there's no such thing, and while calling it REST might sell better, it would be false. However it does provide (and will provide) features that allow you to create resource-orientated systems that help comply with ReSTful constraints. Current Status In development. A lot of the stuff here is not ready for production. There are many experiments, quite a few hacks and things that are just wrong. So be warned. Disclaimer A lot of the API and design of this framework is based on experience developing applications with other HTTP frameworks and the needs that have arised. However, like any framework, until you don't have several usages of it, it's hard to know if you got it right. So while I'm hoping that there won't be major API changes, some things might change over time. Getting Started The Hello World of Wasabi var server = AppServer()  server.get(""/"", { response.send(""Hello World!"") })  server.start() Starting a new application The easiest way to use Wasabi is with Gradle. Download Gradle. Create the build.gradle file and import it into your IDE. To create this file you can either: Have Gradle generate the file for you (easiest) running the build.gradle file under tools (Recommended). To use this option download the file in tools/build.gradle and type  gradle   for more info Create it manually. See the sample for the structure. Make sure you fill in the TODOs Including as a dependency (Gradle) For Gradle projects, 0.1-SNAPSHOT version can be included like this (build.gradle file): repositories {     // Other repositories you use.     maven { url 'http://repository.jetbrains.com/all' } }  dependencies {     // Other dependencies you use.     compile 'org.wasabi:wasabi:0.1-SNAPSHOT' }  All versions can be found here: http://repository.jetbrains.com/all/org/wasabi/wasabi/ Important: Versioning Kotlin is still in development and so is Wasabi. The current master trunk of Wasabi (under 0.1-SNAPSHOT) uses the latest nightly build of Kotlin. As such, if you're using a released version of Kotlin, such as M8, you'll get binary format errors. To use the latest nightly builds of Kotlin (recommendeded), add the following repository to IntelliJ IDEA: http://teamcity.jetbrains.com/guestAuth/repository/download/bt345/.lastSuccessful/updatePlugins.xml under Preferences | Plugins | Browse Repositories | Manage Repositories and you'll be able to install the latest plugin. Alternatively if you're not using IntelliJ IDEA, you can download the artifacts from: http://teamcity.jetbrains.com/project.html?projectId=Kotlin&tab=projectOverview The AppServer Each Wasabi application is composed of a single AppServer on which you define route handlers. A route handler can respond to any of the HTTP verbs: GET, POST, PUT, DELETE, OPTIONS, HEAD. A normal application consists of a section where you define a series of parameters for the application, followed by your handlers (i.e. your routing table). var appServer = AppServer()  server.get(""/customers"", { .... } ) server.post(""/customer"", { .... } )  server.start() Route Handlers In Wasabi, every request is processed by one or more route handlers. In the previous example, we are responding to a GET to ""/"" with the text ""Hello World!"". You can chain route handlers. For instance, if you want to log information about a request (this is actually built-in so no need to do it manually), you could do   server.get(""/"",     {       val log = Log()        log.info(""URI requested is ${request.uri}"")       next()     },     {       response.send(""Hello World!"")     }   ) or as follows enforces JSON serialisation regardless of the request accept header.   server.get(""/"",     {       val log = Log()        log.info(""URI requested is ${request.uri}"")       next()     },     {       response.send(""Hello World!"", ""application/json"")     }   ) By calling next() on each handler, the processing will continue. All verbs on AppServer have the following signature fun get(path: String, vararg handlers: RouteHandler.() -> Unit) {   addRoute(HttpMethod.GET, path, *handlers) } where you can pass one or multiple route handlers. Each one of these is an extension method to the class RouteHandler. This class has various properties, amongst which are request and response. That is how you can access these properties from inside each of the functions without an explicit declaration. Route Parameters Wasabi supports route parameters. Define as many parameters as you like using : followed by the name of the parameter. Access it via request.routeParams[""name""] server.get(""/customer/:id"", { val customerId = request.routeParams[""id""] } ) Query Parameters Access query parameters using queryParams property of the request. http://localhost:3000/customer?name=Joe server.get(""/customer"", { val customerName = request.queryParams[""name""] } ) Form Parameters Access form parameters using bodyParams property of the request. server.post(""/customer"", { val customerNameFromForm = request.bodyParams[""name""] } ) Organization of Route Handlers and Application layout How you layout the code for your application or group your routes depends largely on your own choice. One thing I've always been against is forcing people to group routes per class for instance. Having said that, there are some bounds you need to stay in. Option 1 Defining logic for each route handler inline: val appServer = AppServer()  appServer.get(""/customer"", { response.send(customers) }) For very simple operations this might be ok however, it will soon become unmaintainable. Option 2 Define route handlers as functions and reference them: val appServer = AppServer()  appServer.get(""/customer"", getCustomers)  This means that your definition of route handlers pretty much becomes a routing table, which is what it should be. This is the preferred option. You can then group functions however way you want: Grouping by file Group similar routes in its own file. As Kotlin allows top level functions, you do not need to have a class to group functions. As such, you could have a file name CustomerRouteHandlers.kt for instance with: val getCustomers = routeHandler {    response.send(customers)  }  val getCustomerById = routeHandler {   ... }  routeHandler is a syntatic sugar to define the type of the route handler. You could also have writte that as: val getCustomers : RouteHandler.() -> Unit = {    response.send(customers)  }  val getCustomerById  : RouteHandler.() -> Unit = {   ... }  Grouping by class If for some reason you want to group by class, you can do so. Best way is to use a companion object class CustomerRoutes {      companion object {          val createCustomer = routeHandler {          }      }  } Note Kotlin allows you to refer to a function by name using :: syntax. In principle you could also do: appServer.get(""/customer"", ::getCustomer) and not require an explicit variable declaration for the function. However, this currently does not work with extension functions but hopefully will in the future. Interceptors In addition to handlers, Wasabi also has interceptors. These allow you to intercept a request and decide whether you want it to continue or not (returning false would stop processing). Since you have access to both the request and response, you can do whatever you need. Think of interceptors as a way to add functionality to every request, or a those matching a certain route pattern. Some frameworks have popularized the term middleware to refer to something that intercepts a request/response. I do not agree with such a broad and somewhat ambiguous term. I like to name things as close to what they actually do. An interceptor implements the following interface interface Interceptor {   fun intercept(request: Request, response: Response): Boolean } You return true if you want the process to continue or false if you want to interrupt the request. To add an interceptor to the application, you use server.interceptor(MyInterceptor(), path, position) where path can be a specific route or *** to match all routes. Position indicates when the intercept occurs. Possible positions are  enum class InterceptOn {      PreRequest      PreExecution      PostExecution      PostRequest      Error  } Out of the box, the following interceptors are available BasicAuthenticationInterceptor: Basic authentication ContentNegotiationInterceptor: Automatic Content negotation FavIconInterceptor: Support for favicon StaticFileInterceptor: Support for serving static files LoggingInterceptor: Logging FileBasedErrorInterceptor: Customize error messages based on convention (e.g. 404.html) SessionManagementInterceptor: Session Management support Most interceptor add extension methods to AppServer to make them easier (and more descriptive) to use. For instance the ContentNegotiationInterceptor and StaticFileInterceptor would be used as so val appServer = AppServer()  server.negotiateContent() server.serveStaticFilesFromFolder(""/public"") Content Negotiation Wasabi ships with content negotiation out of the box, via a couple of interceptors. In particular: ContentNegotiationParserInterceptor (still looking for a better name) Allows you to indicate to Wasabi to not only take into account Accept Headers but also Query Fields and Extensions on documents ContentNegotiationInterceptor Does the actual content negotiation, finding the appropriate serializer. How it works Content Negotiation Parsing Sometimes you want to not only do Content Negotiation using the Accept headers, but also using a query field (for instance format=json) or extensions to documents (e.g. /customer.json). The ContentNegotiationParser allows you to do this. Easiest way to use it is via the extension function: server.parseContentNegotiationHeaders() {     onQueryParameter(""format"")     onExtension()     onAcceptHeader() } Based on the order in which you pass in onAcceptHeader, onExtension and onQueryParameter defines the priority. Above for instance first the Query Parameter is taking into account, then extension and lastly the Accept Header QueryParameter defaults to the query parameter format but you can pass in a different one. Both onExtension and onQueryParameter also take a list of mappings, which an array of extension to media type. By default json maps to application/json and xml to application/xml Automatic Content Negotiation By default Content Negotiation is enabled. You can disable it via the AppConfiguration. You can then just send and object you want and Wasabi will automatically serialize it and send it back to the client. server.get(""/customer/:id"", {   val customer = getCustomerById(request.params[""id""])   response.send(customer) } Wasabi will automatically serialize that into Json, Xml or any other media type supported (see Serializers below) Manual If you need to manually override Content Negotiation, you can do so using the negotiate function on response    server.get(""/customer/:id"", {           val customer = getCustomerById(request.params[""id""])          response.negotiate (             ""text/html"" with { send(""Joe Smith"") },             ""application/json"" with { send(customer) }         }   } negotiate signature is: fun negotiate(vararg negotiations: Pair<String, Response.() -> Unit>) You can pass in an unlimited number of media type, functions. Also, as the function is an extension function to Response, you have access to the response functions directly. That is why we can just write send as opposed to response.send. Note that even if you use manual content negotiation, Wasabi will still try and serialize the object for you based on the media type. Serializers Both manual as well as automatic Content Negotiation use serializers. Wasabi ships with Json and XML (TODO) serializers. These are defined as a property of the AppServer. Each Serializer can take as parameters a variable number of strings which define regular expressions for the media types it can handle. JsonSerializer for instance takes: class JsonSerializer(): Serializer(""application/json"", ""application/vnd\\.\\w*\\+json"") CORS Support Wasabi provides CORS support via an Interceptor. You can enable CORS support in multiple ways: Via AppConfiguration.enableCORSGlobally - which enables CORS for all routes, all verbs, all origins Programatically using server.enableCORSGlobally - same as above Programatically using server.enablesCORS([...COREntry...]) - providing an array of CORSEntry's Each CORSEntry consists of: class CORSEntry(val path: String = ""*"",                        val origins: String = ""*"",                        val methods: String = ""GET, POST, PUT, DELETE"",                        val headers: String = ""Origin, X-Requested-With, Content-Type, Accept"",                        val credentials: String = """",                        val preflightMaxAge: String = """") {  } with the corresponding defaults. Obviously you should only have one default. Auto Options Support Wasabi can automatically respond to OPTIONS for a specific path. You can enable this in multiple ways: Via AppConfiguration.enableAutoOptions Programatically using server.enableAutoOptions - same as above Exception Handlers Wasabi allows registration of custom handlers by exception type also. You can register them as follows: val appServer = AppServer() appServer.exception(MyKewlException::class, {      reponse.setStatus(418, ""My brew is not as strong as yours!"")     response.send(""Out of beans: ${exception.message}"") }) like other Wasabi handlers the registered exception handler gets passed the request and response as well as the exception thrown. Community We're mostly hanging out on the #wasabi Channel on Kotlin's Slack. Join us there for questions and discussions. Contributions There's a lot of work still pending and any help would be appreciated. Pull Requests welcome! We have the project building on TeamCity. Click on the Icon to go to the build License Licensed under Apache 2 OSS License Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/hhariri/wasabi"	""	"true"
"Web"	"Kotlin/kotlinx.html"	"https://github.com/Kotlin/kotlinx.html"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"36"	"12"	"10"	"GitHub - Kotlin/kotlinx.html: Kotlin DSL for HTML Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 12 Star 36 Fork 10 Kotlin/kotlinx.html Code Issues 7 Pull requests 0 Wiki Pulse Graphs Kotlin DSL for HTML 418 commits 2 branches 76 releases Fetching contributors Kotlin 96.4% Shell 1.9% Batchfile 1.3% JavaScript 0.4% Kotlin Shell Batchfile JavaScript Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags master singleton.map Nothing to show v0.3.2 v0.3.1 v0.3.0 v0.2-alpha kotlinx.html-0.6.0 kotlinx.html-0.5.10 kotlinx.html-0.5.9 kotlinx.html-0.5.8 kotlinx.html-0.5.7 kotlinx.html-0.5.6 kotlinx.html-0.5.5 kotlinx.html-0.5.4 kotlinx.html-0.5.3 kotlinx.html-0.5.2 kotlinx.html-0.5.1 kotlinx.html-0.5.0 kotlinx.html-0.4.49 kotlinx.html-0.4.48 kotlinx.html-0.4.47 kotlinx.html-0.4.46 kotlinx.html-0.4.45 kotlinx.html-0.4.44 kotlinx.html-0.4.43 kotlinx.html-0.4.42 kotlinx.html-0.4.41 kotlinx.html-0.4.40 kotlinx.html-0.4.39 kotlinx.html-0.4.38 kotlinx.html-0.4.37 kotlinx.html-0.4.36 kotlinx.html-0.4.35 kotlinx.html-0.4.34 kotlinx.html-0.4.33 kotlinx.html-0.4.32 kotlinx.html-0.4.31 kotlinx.html-0.4.30 kotlinx.html-0.4.29 kotlinx.html-0.4.28 kotlinx.html-0.4.27 kotlinx.html-0.4.26 kotlinx.html-0.4.25 kotlinx.html-0.4.24 kotlinx.html-0.4.23 kotlinx.html-0.4.22 kotlinx.html-0.4.21 kotlinx.html-0.4.20 kotlinx.html-0.4.19 kotlinx.html-0.4.18 kotlinx.html-0.4.17 kotlinx.html-0.4.16 kotlinx.html-0.4.15 kotlinx.html-0.4.14 kotlinx.html-0.4.13 kotlinx.html-0.4.12 kotlinx.html-0.4.11 kotlinx.html-0.4.10 kotlinx.html-0.4.9 kotlinx.html-0.4.8 kotlinx.html-0.4.7 kotlinx.html-0.4.6 kotlinx.html-0.4.5 kotlinx.html-0.4.0 kotlinx.html-0.3.13 kotlinx.html-0.3.12 kotlinx.html-0.3.11 kotlinx.html-0.3.10 kotlinx.html-0.3.9 kotlinx.html-0.3.8 kotlinx.html-0.3.7 kotlinx.html-0.3.6 kotlinx.html-0.3.5 kotlinx.html-0.3.4 kotlinx.html-0.3.3 0.2.2 0.2.1 0.2.0 Nothing to show New pull request Latest commit 549862a Jul 8, 2016 cy6erGn0m Add kotlin-dev profile Permalink Failed to load latest commit information. .mvn/wrapper Add maven wrapper Dec 1, 2015 assembly [maven-release-plugin] prepare for next development iteration Jun 30, 2016 generate assign event handler directly Jul 1, 2016 js fix build with Kotlin 1.1 snapshot Jul 4, 2016 jvm [maven-release-plugin] prepare for next development iteration Jun 30, 2016 shared [maven-release-plugin] prepare for next development iteration Jun 30, 2016 .gitignore Run tests in JavaScript May 26, 2015 README.md Upgrade to Kotlin 1.0.3 Jun 30, 2016 mvnw Add maven wrapper Dec 1, 2015 mvnw.cmd Add maven wrapper Dec 1, 2015 pom.xml Add kotlin-dev profile Jul 8, 2016 README.md kotlinx.html A kotlinx.html library provides DSL to build HTML to Writer/Appendable or DOM at JVM and browser (or other JavaScript engine) for better Kotlin programming for Web. Get started See Getting started page for details how to include the library DOM You can build DOM tree with JVM and JS naturally See example for JavaScript-targeted Kotlin window.setInterval({     val myDiv = document.create.div(""panel"") {         p {              +""Here is ""             a(""http://kotlinlang.org"") { +""official Kotlin site"" }          }     }      document.getElementById(""container"")!!.appendChild(myDiv)      document.getElementById(""container"")!!.append {         div {             +""added it""         }     } }, 1000L) Stream You can build HTML directly to Writer (JVM only) or Appendable (both JVM and JS) System.out.appendHTML().html {     body {         div {             a(""http://kotlinlang.org"") {                 target = ATarget.blank                 +""Main site""             }         }     } } Documentation See wiki pages Building See development page for details Old version See https://github.com/kotlinx/kotlinx.html.legacy for older version. We strongly recommend to migrate to latest version. Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/Kotlin/kotlinx.html"	""	"true"
"Web"	"MarioAriasC/KotlinPrimavera"	"https://github.com/MarioAriasC/KotlinPrimavera"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"21"	"2"	"5"	"GitHub - MarioAriasC/KotlinPrimavera: Spring support libraries for Kotlin Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 2 Star 21 Fork 5 MarioAriasC/KotlinPrimavera Code Issues 0 Pull requests 0 Wiki Pulse Graphs Spring support libraries for Kotlin 25 commits 3 branches 15 releases 1 contributor Kotlin 100.0% Kotlin Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags 0.5 M10 master Nothing to show 0.5 0.4_M14 0.4_M12 0.3_M11 0.3_M10 0.2.6_M9 0.2.5_M8 0.2.4_M7 0.2.4_M6.2 0.2.3_M7 0.2.3_M6.2 0.2.2_M6.1 0.2.1_M6.1 0.2_M6.1 0.2_M6 Nothing to show New pull request Latest commit 1c43c01 Feb 18, 2016 MarioAriasC bump version Permalink Failed to load latest commit information. beans bump version Feb 18, 2016 context bump version Feb 18, 2016 core bump version Feb 18, 2016 jdbc bump version Feb 18, 2016 security bump version Feb 18, 2016 tx bump version Feb 18, 2016 webmvc bump version Feb 18, 2016 .gitignore bean extensions Jun 14, 2015 README.md Wiki Sep 11, 2013 pom.xml bump version Feb 18, 2016 README.md Documentation Read the Wiki Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/MarioAriasC/KotlinPrimavera"	""	"true"
"Web"	"kohesive/kovert"	"https://github.com/kohesive/kovert"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"38"	"3"	"3"	"GitHub - kohesive/kovert: The invisible REST and web framework Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 3 Star 38 Fork 3 kohesive/kovert Code Issues 8 Pull requests 0 Pulse Graphs The invisible REST and web framework 220 commits 2 branches 0 releases 1 contributor Kotlin 99.2% Other 0.8% Kotlin Other Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags develop master Nothing to show Nothing to show New pull request Latest commit 24c7509 Jul 12, 2016 apatrida update to latest beta 5 of Kodein 3.0.0 Permalink Failed to load latest commit information. core refactoring onto Kodein 3 and Klutter 2 Jul 5, 2016 gradle/wrapper refactoring onto Kodein 3 and Klutter 2 Jul 5, 2016 template-engine-freemarker refactoring onto Kodein 3 and Klutter 2 Jul 5, 2016 template-engine-handlebars refactoring onto Kodein 3 and Klutter 2 Jul 5, 2016 undertow refactoring onto Kodein 3 and Klutter 2 Jul 5, 2016 vertx-example update to latest beta 5 of Kodein 3.0.0 Jul 12, 2016 vertx update to latest beta 5 of Kodein 3.0.0 Jul 12, 2016 .gitignore initial commit, working Vert-x binding, needs re-org to support under… Aug 22, 2015 CHANGELOG.md refactoring onto Kodein 3 and Klutter 2 Jul 5, 2016 LICENSE initial commit, working Vert-x binding, needs re-org to support under… Aug 22, 2015 README.md refactoring onto Kodein 3 and Klutter 2 Jul 5, 2016 build.gradle refactoring onto Kodein 3 and Klutter 2 Jul 5, 2016 circle.yml setup for future snapshot builds on develop Oct 21, 2015 gradle.properties update to latest beta 5 of Kodein 3.0.0 Jul 12, 2016 gradlew gradle to 2.13 Jun 20, 2016 gradlew.bat gradle to 2.13 Jun 21, 2016 settings.gradle refactoring onto Kodein 3 and Klutter 2 Jul 5, 2016 README.md Kovert The invisible REST (and WEB) framework. It is ""invisible"" since it does not invade your code, and only uses annotations for exception cases (or view rendering). Kovert is a simple framework that binds your Kotlin classes into your Vert.x 3 (and soon Undertow) routers. It does not try to replace or rebuild these frameworks and only handles the task of providing the ""last mile"" binding to your controllers. From a fairly normal looking Kotlin class, Kovert can infer the route path and parameters. This framework is opinionated and optimized for easy coding and default behavior typical of most apps. If you want more control, please use Vertx-Nubes for Vert-x and Kikaha for Undertow, or take a peek at SparkJava. For starting an application with Kovert, you have two options: Configure, Startup Vert-x, deploy a Vert-x verticle, add your routes with Vert-x Web, and then ask Kovert to bind a controller to an existing route. For that sentence to make sense, you should be familiar with Vertx-Web and the basics of Vertx Alternatively, if you just want to get started without knowing too much, Kovert provides KovertVertx and KovertVerticle classes that can bootstrap a base application, but this acts more as an example starting point from which you should build your own. In addition, Kovert uses Klutter/Vertx3 module which contains helper classes for working with Vert-x that use Kovenant promises -- including ensuring that the dispatcher for Kovenant is unified with the thread dispatching in Vert.x so that Vert.x context is maintained on dispatch threads, and callbacks come as expected by Vert.x as well. There are additional helpers for Vert.x JSON objects, the logging facade, web, and integration with Injekt, and more. Maven Dependnecy (Vert.x Version, requires JDK 8) Include the dependency in your Gradle / Maven projects that are setup with Kotlin. Gradle: compile ""uy.kohesive.kovert:kovert-vertx:0.14.+""  Maven: <dependency>     <groupId>uy.kohesive.kovert</groupId>     <artifactId>kovert-vertx</artifactId>     <version>[0.14.0,0.15.0)</version> </dependency>  Learn by Example For a full sample, view the sample REST application to see an example that uses the helper classes KovertVertx and KovertVerticle to startup and run a vertx server using a configuration file. It helps if you are familiar with Injekt to completely understand the sample. Injekt is not required for use of Kovert and can be bypassed, but it helps! The sample also uses small libraries from Klutter such as to control configuration loading with Typesafe Config. Binding a Controller To bind a controller is simple. When you have a route object, call the extension method bindController: route.bindController(MyControllerClass(), ""/api/mystuff"") A controller class is any class that contains methods that are extension functions on a class that you wish to be your dispatch context. So you can either decide that dispatch context is the raw RoutingContext of Vert.x, or you can isolate your code from the raw Vert.x and use simple classes that wrap elements of the RoutingContext to make them available in a type-safe way. Any class that has a 1 parameter constructor of type RoutingContext can be a context class, or RoutingContext itself. An example of a custom context: class RestContext(private val routingContext: RoutingContext) {     public val user: User by Delegates.lazy { routingContext.user() } } Or one that uses an API key to validate the request using an Auth service provided by Injekt (really you should build a Vert.x auth service, this is just for an example of a context that can reject a request instead of using an intercept): class ApiKeySecured(private val routingContext: RoutingContext) {     public val user: User =  Injekt.get<AuthService>()                  .apiKeyToUser(routingContext.request().getHeader(HttpHeaders.AUTHORIZATION.toString()) ?: """")                   ?: throw HttpErrorUnauthorized() } With the dispatch object selected, write your controller. Here is the CompanyRestController from the sample app: class CompanyRestController(val companyService: CompanyService = Injekt.get()) {     public fun ApiKeySecured.getCompanyByName(name: String): Company = companyService.findCompanyByName(name) ?: throw HttpErrorNotFound()      public fun ApiKeySecured.putCompanyByName(name: String, company: Company): Company {         if (!name.equals(company.name, ignoreCase = true)) {             throw HttpErrorBadRequest()         }         companyService.upsertCompany(company)         return company     }      public fun ApiKeySecured.listCompanyByNameEmployees(name: String): List<Person> {         return companyService.listEmployeesOfCompany(name) ?: throw HttpErrorNotFound()     }      public fun ApiKeySecured.findCompaniesNamedByName(name: String): Company = companyService.findCompanyByName(name) ?: throw HttpErrorNotFound()      public fun ApiKeySecured.findCompaniesLocatedInCountry(country: String): List<Company> {         val found = companyService.findCompaniesByCountry(country)         if (found.isEmpty()) throw HttpErrorNotFound()         return found     }      public fun ApiKeySecured.getCompaniesSearch(name: String?, country: String?): Promise<Set<Company>, Exception> {         return task {             val byName: List<Company> = name.whenNotNull { companyService.findCompanyByName(name!!) }.whenNotNull { listOf(it) } ?: emptyList()             val byCountry: List<Company> = country.whenNotNull { companyService.findCompaniesByCountry(country!!) } ?: emptyList()             (byName + byCountry).toSet()         }     } } Great, that class looks like it contains normal Kotlin methods, just that they are extension methods on RestContext class. That means each method has access to values of the context and only those values. You can actually have a different context class for each method if you want, and the correct context will be created for dispatching to that method. A context for public methods, one for logged in, another for temporary state during a process flow, etc. When binding the controller class, HTTP verb and path names are derived from method names unless you use special annotations to override the path, path parameters, HTTP verb and success status code. Kovert is designed to avoid using those annotations altogether, and they should appear ONLY in special cases. Infering HTTP Verb and Path So without any annotations, how does Kovert decide the path names and parameters?!? First, if the name contains underscores it is split on each underscore maintaining case of each fragment in between. Otherwise it camelCase parses the name lower casing each fragment. After parsing the first fragment indicates the HTTP verb, and the rest are segments of the path. When it encounters special words, it creates path parameters. The parsing looks like: // thisIsATestOfSplitting = this is a test of splitting // AndWhatAboutThis = and what about this // aURIIsPresent = a uri is present // SomethingBySomething = something :something // something20BySomething30 = something20 :something30 // 20ThisAndThat = 20 this and that // 20thisAndThat = 20this and that // What_about_underscores = What about underscores // 20_ThisAndThat_And_What = 20 ThisAndThat And What // 20________thisAndThat__What = 20 thisAndThat What Using the prefix part of the method, a HTTP verb is inferred. Obviously prefixes of ""get"", ""put"", ""post"", ""delete"", ""patch"" will generate a route that is for the HTTP verb of the same name. You can see in KovertConfig that other aliases are defined such as ""list"" and ""view"" for HTTP GET, and ""remove"" also works same as HTTP DELETE. You can change the alias list in KovertConfig using the addVerbAlias or removeVerbAlias methods. You can also specify aliases in the bindController method as an optional parameter, or as annotations @VerbAliases and @VerbAlias on your controller class. The sample application modifies KovertConfig to add ""find"" as an alias to HTPT GET: KovertConfig.addVerbAlias(""find"", HttpVerb.GET) Other annotations can be used on classes to tune their behavior and override the path, path parameters and HTTP verbs. All routing path and parameter decisions are logged to the current logger, so you can easily see the results of the bindController method. The example above, would generate these paths when bound at ""/api"" route: Method Verb Path (w/parameters) getCompanyByName(name: String) GET api/company/:name putCompanyByName(name: String) PUT api/company/:name listCompanyByNameEmployees(name: String) GET api/company/:name/employees findCompaniesNamedByName(name: String) GET api/companies/named/:name findCompaniesLocatedInCountry(country: String) GET api/companies/located/:country getCompaniesSearch(name: String, country: String) GET api/companies/search?name=xyz&country=abc Which I can confirm by viewing my log output (notice it logs from my controller class): 11:41:20.880 [vert.x-eventloop-thread-2] INFO  u.k.k.vertx.sample.CompanyRestController - Binding getCompanyByName to HTTP GET:200 /api/company/:name w/context ApiKeySecured 11:41:20.882 [vert.x-eventloop-thread-2] INFO  u.k.k.vertx.sample.CompanyRestController - Binding listCompanyByNameEmployees to HTTP GET:200 /api/company/:name/employees w/context ApiKeySecured 11:41:20.883 [vert.x-eventloop-thread-2] INFO  u.k.k.vertx.sample.CompanyRestController - Binding findCompaniesNamedByName to HTTP GET:200 /api/companies/named/:name w/context ApiKeySecured 11:41:20.884 [vert.x-eventloop-thread-2] INFO  u.k.k.vertx.sample.CompanyRestController - Binding putCompanyByName to HTTP PUT:200 /api/company/:name w/context ApiKeySecured 11:41:20.885 [vert.x-eventloop-thread-2] INFO  u.k.k.vertx.sample.CompanyRestController - Binding findCompaniesLocatedInCountry to HTTP GET:200 /api/companies/located/:country w/context ApiKeySecured 11:41:20.886 [vert.x-eventloop-thread-2] INFO  u.k.k.vertx.sample.CompanyRestController - Binding getCompaniesSearch to HTTP GET:200 /api/companies/search w/context ApiKeySecured  Path Parameters Previously, we mentioned that you can use special words to create path parameters, here they are: word description example result By next word is path parameter getCompanyByName(name:String) HTTP GET company/:name In same as By getCompaniesInCountry(country:String) HTTP GET companies/:country With next word is path segment and then repeated as path parameter getPersonWithName(name:String) HTTP GET person/name/:name The parameter name will then be bound into your method parameters if one of them has a mathing name. Optional parameters should be nullable. Soon, we will allow configuring additional replacement rules for word patterns so you can customize the behavior. Query and Form Parameters Just add the parameter to your method signature, and it is looked for in the path parameters, query and form parameters. Nothing is needed. You can do simple parameters such as: public fun MyContext.getPeopleByName(name: String): List<People> Or you can use complex parameter such as an object: public fun MyContext.getPeopleByQuery(query: Query): List<People> In this case, it must receive parameters prefixed by query. such as query.text, query.name, query.country to fill in the values of the Query object in this example. Body as JSON If a parameter is not satisfied from path, query, or form parameters, and it has Content-Type of application/json then if it is a complex parameter type it will bound from the body of the request using Jackson data binding. You can freely mix all parameter types, and the body will only be used if the others do not provide values for a parameter and it will only be used once. An error will result if a complex parameter exists that cannot be satsified from the request. JSON Response Any non-String return type becomes JSON automatically using Jackson to serialize the result. This includes classes, lists, maps, and anything else Jackson can detect and serialize as JSON. Async and Longer Running Handlers Returning a Kovenant Promise will unwrap the promise when completed and use the resulting value as the response object. This allows async methods. EVERYTHING that isn't immediately resonsive should use Promises otherwise you block Vert.x IO thread, whereas a Promise dispathces on the Vert.x worker thread. In the sample application, you can see in the company controller that the query method uses a promise return type and returns an task {} block of code. You can also create a Deferred instead with more control over your Promise. public fun RestContext.getCompaniesSearch(name: String?, country: String?): Promise<Set<Company>, Exception> {     return task {         val byName: List<Company> = name.whenNotNull { companyService.findCompanyByName(name!!) }.whenNotNull { listOf(it) } ?: emptyList()         val byCountry: List<Company> = country.whenNotNull { companyService.findCompaniesByCountry(country!!) } ?: emptyList()         (byName + byCountry).toSet()     } } When using Kovenant promises, please see the section below about Vert.x + Kovenant. Authorization Controllers, context classes and controller methods can be protected by a list of Authorities that must be present on the current user or the controller method(s) cannot be called. These are set using the `@Authority annotation and provides one or more authorities to match with mode ANY or ALL. If authorities are set on the controller then they apply to all methods fo the controller and must match along with any added directly to the context or methods. Same for adding authorities to a context, it must match and any method specific authorities. Authorization handlers must be set when creating the routes to which the controllers are bound. The authority annotations basically cause the user.isAuthorised(authoriy) method to be called for each authority specified, then combined based on the mode of ANY or ALL. See the Vert.x documentation for Authentication and Authorisation for more on configuration of Vert.x. An empty @Authority() annotation indicates soley that a valid user must be present, they must be authenticated. An example: @Authority(""role:admin"") class AdminApiController {     @Authority(""resource:users:read"") // requires both role:admin and resource:users:read     fun SecuredContext.listUsers(): Promise<PageableList<User>, Exception> { ... }      @Authority(""resource:users:write"") // requires both role:admin and resource:users:write     fun SecuredContext.postUser(user: User): Promise<Unit, Exception> { ... }      // requires only role:admin     fun SecuredContext.getAdminStats(): Promise<AdminStats, Exception> { ... }      @Authority(""resource:secrets"")  // requires role:admin from controller, and role:root from the context, and resource:secrets     fun RootContext.getSecretThing(): Promise<SuperSecret, Exception> { ... } }  @Authority(""role:root"") class RootContext(val routingContext: RoutingContext) { ... } HTML Views (or rendering any text based content type) For rendering HTML or other rendered content you have two options: Return anything of type String and it will set Content-Type of text/html Setup a renderer for any controller method To use a renderer, add the @Rendered annotation to any controller method, and provide the template name to render. The return value of the method will be used as the model and will be provided to the template. This looks like: @Rendered(""search-results.ftl"") public fun UserContext.getCompaniesSearch(name: String?, country: String?): Promise<CompanySearchResults, Exception> {     ... } In this example, the template engine will be selected by the file extension "".ftl"", and the rendering will be passed a model containing and instance of CompanySearchResults. If the code dynamically changes the template to be used, it can provide a empty @Rendered annotation and return a ModelAndRenderTemplate instance which provides the information about how to render the results. @Rendered public fun UserContext.getCompaniesSearch(name: String?, country: String?): Promise<ModelAndRenderTemplate, Exception> {     return task {         ...         ModelAndRenderTemplate(searchResults, ""search-${searchType}-results.ftl"")     } } Before using rendering, add the dependency for your rendering engine, and register an instance of TemplateEngine via the KovertConfig.registerTemplateEngine() method. val freemarker = KovertFreemarkerTemplateEngine(configuredFreemarker) KovertConfig.registerTemplateEngine(freemarker, "".html.ftl"", ""text/html"") // content-type is optional for text/html KovertConfig.registerTemplateEngine(freemarker, "".xml.ftl"", ""application/xml"") KovertConfig.registerTemplateEngine(freemarker, "".json.ftl"", ""application/json"") Template engines are matched from the longest extension to the shortest, so the most specific wins. Note that each extension is registered separately with its appropriate Content-Type type. You can override the content type on any controller method in the @Rendered annotation: @Rendered(""search-results.ftl"", ""application/xml"") public fun UserContext.getCompaniesSearch(name: String?, country: String?): Promise<CompanySearchResults, Exception> {   ... } WARNING: content type expressed in registration of template engine, or in the @Rendered annotation does not currently affect route matching, but might in the future when it is known at binding time. Creating your own template engine is simple, just implement a simple interface TemplateEngine, and register an instance of your new engine. The template engine is always run async so it does not block. Most implementations are a few lines of code. public interface TemplateEngine {     fun render(template: String, model: Any): String     // throw unknown exception causes error 500,     // intentionally throw HttpErrorNotFound if you want a 404 } NOTE: Some engines may need to wrap the model and the use of the model will vary by engine (some allow it to be at the ""root"", others always require it to be named). Available template engines: Apache FreeMarker - KovertFreemarkerTemplateEngine (source, tests) compile group: 'uy.kohesive.kovert', name: 'kovert-template-engine-freemarker', version: ""${versionKovert}""  Handlebars.java - KovertHandlebarsTemplateEngine (source, tests) compile group: 'uy.kohesive.kovert', name: 'kovert-template-engine-handlebars', version: ""${versionKovert}""  It is up to you to configure the raw template system that the engine uses, see the samples above for ideas. Redirects For a redirect, just throw an HttpRedirect(toUrl) exception from anywhere in your controller to cause a redirect. Our rational is that redirects are rare, or exception cases so we didn't want to force a standardized return type (such as ActionResult) just for these special cases, which typically never occur in REST api's and rarely in web frontend controllers. HTTP Errors The following prebuilt exceptions are available to return HTTP errors. Any other exception will always result in an HTTP status code 500. open class HttpErrorUnauthorized() : HttpErrorCode(""unauthorized"", 401) open class HttpErrorForbidden() : HttpErrorCode(""forbidden"", 403) open class HttpErrorBadRequest() : HttpErrorCode(""bad request"", 400) open class HttpErrorNotFound() : HttpErrorCode(""not found"", 404)  open class HttpErrorCode(message: String, val code: Int = 500, causedBy: Throwable? = null) open class HttpErrorCodeWithBody(message: String, code: Int = 500, val body: Any, causedBy: Throwable? = null) : HttpErrorCode(message, code, causedBy) The HttpErrorCodeWithBody allows returning a body (String as HTML, complex object as JSON) with the error code. Intercepts You can intercept by putting another Vert.x handler before you bind the controller and that handler will be called before the controller, and it can decide whether the next handler is called or not. Or, a controller can implement traits to intercept requests, failures, dispatching and also to create a custom context object factory. See VertxTraits.kt for more information. Annotations Name Where Purpose @VerbAlias Controller Set one method prefix alias to be used only by this controller @VerbAliases Controller Set a list of method perfix aliases to be used only by this controller @Location Method Set a specific path for a method, ignoring the method name other than for the prefix to infer the HTTP Verb. Path parameters should be prefixed by a : such as my/path/with/:param @Verb Method Set the HTTP Verb and default status success code for a method, optionally skipping part of the method name when infering the path @Authority Controller, Method, Context Set the authorities (role, permission, etc) required for the controller, context or method. And the mode to match ANY or ALL If is typical to use @Location and @Verb together on a method, although they can be used individually. If you use the @Verb annotation on a method, by default the prefix of the method name is parsed and thrown away so it really can be anything. Or if you want to use the prefix as the first path segment you may use the skipPrefix parameter with value false such as @Verb(HttpVerb.GET, skipPrefix = false) public fun SomeContext.someHappyMethod(): MyResult would bind to some/happy/method whereas skipPrefix = true would bind to happy/method. Kovert Helpers Vert.x + Kovenant Promises For using Vert.x with Kovenant promises, you should launch Vert.x using one of the Klutter/Vertx3 helper functions. If you are NOT using these methods, then call VertxInit.ensure() before using your first Kovenant promise, and before using anything that involves data binding with Kovert. Otherwise, using a helper startup function will do this for you automatically. Note that you can also use the prettier task { } instead of Vert.x executeBlocking() when using Kovenant integration. See Klutter/Vertx3 for all Vert.x helper functions include JSON, Vertx-Web, Logging and Injekt modules. Vert.x and KovertVerticle startup Really, you should configure and launch Vert.x yourself (use helpers above, Klutter for config loading, etc.). But to act as both a sample, and a quick start helper, There are two classes you can use to startup Vert.x enabled for everything described in this documentation. Or use these as a samples to write your own: KovertVertx.kt KovertVerticle.kt The sample application App.kt shows one use of these classes. Injekt Both for setting up JSON integrated with Kotlin, JDK 8 and Vert.x; and for integrated logging you may import Injekt modules. Importing module VertxInjektables will provide an ObjectMapper singleton available for Jackson data binding that is shared with Vert.x, and Kovenant will be initialized correctly so that promises and async calls work in conjunction with Vert.x thread dispathcing, and you will have a logger factory configured routing any of your injected logging calls through the Vertx logging Facade. Alterantively you can import the VertxWithSlf4jInjektables module for the same benefits, although your logging factory will be setup to be direct to SLF4j for application code. See the sample application App.kt which uses Injekt for configuration, KovertVertx and KovertVerticle classes to launch Vert.x and Kovert, data binding, logging and providing services. More Examples View the sample application, and the unit tests for more combinations of the previously described topics. Road Map (random order) Undertow support as alternative to Vert.x SparkJava support as alternative to Vert.x and Undertow Configurable clauses in method names for substitution patterns (i.e. ""By"", ""In"", ""With"" are substitution patterns) With View support, people will want to ask for the HREF from a given controller method, should be able to provide that in Kotlin M13, or can provide using the val getSomeThing = fun MyContext.(param: String): MyObject { ... } form of declaring a controller method already since MyClass::getSomething can reference that value, whereas in the other form, it is not referenceable in M12. Ignore annotation for extension methods in controller that are not desired Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/kohesive/kovert"	""	"true"
"Web"	"sdeleuze/spring-kotlin"	"https://github.com/sdeleuze/spring-kotlin"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"63"	"7"	"6"	"GitHub - sdeleuze/spring-kotlin: Kotlin extensions for Spring projects Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 7 Star 63 Fork 6 sdeleuze/spring-kotlin Code Issues 3 Pull requests 0 Pulse Graphs Kotlin extensions for Spring projects 19 commits 2 branches 3 releases Fetching contributors Kotlin 88.4% Shell 11.6% Kotlin Shell Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags master travis Nothing to show v0.2.1 v0.2.0 v0.1.0 Nothing to show New pull request Latest commit d043072 Jul 7, 2016 jkschneider Properly spread varargs in RestOperations extension functions Permalink Failed to load latest commit information. gradle/wrapper Initial import of MVC and HATEOAS extensions Apr 4, 2016 src/main/kotlin/org/springframework/kotlin Properly spread varargs in RestOperations extension functions Jul 7, 2016 .gitignore Travis setup May 28, 2016 .travis.yml Add Bintray encrypted API key May 28, 2016 LICENSE Initial commit Apr 4, 2016 README.md remove duplication of register Jun 3, 2016 build.gradle Upgrade to Kotlin 1.0.3 Jun 30, 2016 buildViaTravis.sh Travis setup May 28, 2016 gradlew Initial import of MVC and HATEOAS extensions Apr 4, 2016 gradlew.bat Initial import of MVC and HATEOAS extensions Apr 4, 2016 README.md spring-kotlin is a repository that contains Kotlin extensions, documentation, and any helpful assets that can help to build Spring + Kotlin applications. This project has been created after this discussion on Spring Boot issue tracker. You will find more information about using Spring Boot + Kotlin in these 2 blog posts: Developing Spring Boot applications with Kotlin A Geospatial Messenger with Kotlin, Spring Boot and PostgreSQL Using Spring Kotlin To use Spring Kotlin extensions, add the following dependency in your build.gradle file, with x.y.z replaced by the latest release available here: repositories {   maven { url 'https://dl.bintray.com/sdeleuze/maven' } }  dependencies {   compile 'org.springframework.kotlin:spring-kotlin:x.y.z' } Spring + Kotlin FAQ What is the simplest way to start a Spring Boot + Kotlin application? Go to http://start.spring.io/#!language=kotlin, add your dependencies, choose Gradle or Maven and click on ""Generate Project"" ;-) Where this ""Configuration problem: @Configuration class 'Foo' may not be final"" error message come from? Spring applications are using proxies to deal with most @Component beans like @Configuration, @Serviceor @Repository. JDK dynamic proxies are used when possible (your bean should implement an interface, and proxyTargetClass should be set to false, which is the default) while CGLIB proxies are used with classes that do not expose methods with interfaces, and/or when proxyTargetClass is set to true. Unlike Java, Kotlin have made the choice to have a final by default behavior, with open keyword used at class or method level to allow extending or overriding them. As a consequence, with CGLIB proxies you need to explicitely specify open at class and method level since they require to extend/override the class/methods for technical reasons. Kotlin team is working on a solution that will allow you to use CGLIB proxies without having to use the open keyword, see KT-12149 for more details. Meanwhile, current best practice is: Add open modifier at class level for @Configuration class and at @Bean methods level since they require CGLIB proxies Use JDK dynamic proxies for other @Component beans like @Service and @Repository by implementing interfaces and making sure proxyTargetClass=false. Be aware that Spring Boot set proxyTargetClass=true by default when JDBC is used, to use JDK dynamic proxies instead you just have to declare a PersistenceExceptionTranslationPostProcessor @Bean like here. Why annotation array attributes require arrayOf() for single value unlike in Java? That's a known Kotlin 1.0 issue quite annoying with Spring annotations like @RequestMapping(method = arrayOf(RequestMethod.GET)), that will be fixed in Kotlin 1.1, see issue KT-11235 for more details. As a workaround, as of Spring Framework 4.3 / Spring Boot 1.4 you can use annotations aliases like @GetMapping, @PostMapping, etc. Why @Value(""${thing}"") does not work with Kotlin? That's because $ is used for string interpolation in Kotlin. Workarounds are: Escaping $: @Value(""\${some.property}"") Configure PropertySourcesPlaceholderConfigurer to use another PlaceholderPrefix Use @ConfigurationProperties instead See this Stackoverflow response for more details. What is the recommanded way to inject dependencies in a Spring Kotlin application Try to favor contructor injection. As of Spring Framework 4.3 / Spring Boot 1.4 you just have to write class MessageController(val repository: MessageService) and Spring will automatically autowire the constructor (there should be a single constructor with no default values). For previous versions, you need to write class MessageController @Autowired constructor(val repository: MessageService). If you really need to use field injection, use lateinit var: @Component class YourBean {      @Autowired     lateinit var mongoTemplate: MongoTemplate      @Autowired     lateinit var solrClient: SolrClient } How can I get Jackson working correctly with Kotlin classes? You should register Jackson Kotlin module. As of Spring Framework 4.3 / Spring Boot 1.4, you just have to add Maven or Gradle dependency and it will be registered automatically. With previous version, you will have to register it manually in one of your @Configuration classes: @SpringBootApplication open class Application {      @Bean     open fun objectMapperBuilder(): Jackson2ObjectMapperBuilder =         Jackson2ObjectMapperBuilder().modulesToInstall(KotlinModule())      // ... What are other Kotlin features or issues to follow? Support Kotlin nullable information in Spring MVC parameters Parent issue for Spring Framework support Callable reference with expression on the left hand side Infer type parameter to upper bound when no bounds can be inferred from arguments Spring: package name(s) in AnnotationConfigApplicationContext() call are not resolved Member vs SAM conversion with more specific signature (target : 1.1) Contribute Before we accept a non-trivial patch or pull request we will need you to sign the contributor's agreement. Signing the contributor's agreement does not grant anyone commit rights to the main repository, but it does mean that we can accept your contributions, and you will get an author credit if we do. Active contributors might be asked to join the core team, and given the ability to merge pull requests. Use Spring Framework in the project field and Sébastien Deleuze in the project lead field when you complete the form. License Spring Kotlin extensions is Open Source software released under the Apache 2.0 license. Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/sdeleuze/spring-kotlin"	""	"true"
"Tests"	"JetBrains/spek"	"https://github.com/jetbrains/spek"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"298"	"34"	"48"	"GitHub - JetBrains/spek: A specification framework for Kotlin Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 34 Star 298 Fork 48 JetBrains/spek Code Issues 32 Pull requests 9 Pulse Graphs A specification framework for Kotlin 380 commits 4 branches 0 releases 15 contributors Kotlin 100.0% Kotlin Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags gh-pages junit5 master orangy-master Nothing to show Nothing to show New pull request Latest commit 4a9a37d Jul 11, 2016 hhariri committed with raniejade Moved snapshot repository. Permalink Failed to load latest commit information. documentation Add some more documentation Jun 28, 2016 gradle Update to JUnit 5 M1 release Jul 7, 2016 junit-engine-test-support Add source references Jul 1, 2016 spek-api Fix imports Jun 26, 2016 spek-dist Moved snapshot repository. Jul 12, 2016 spek-junit-engine Add before/after spec extension points Jul 7, 2016 spek-samples Fixed two failing tests. Wrong results. Jul 12, 2016 .gitignore Initial commit to custom JUnit 5 engine Jun 10, 2016 LICENSE.TXT Updated to Kotlin 1.0.2 and Gradle 2.13 May 21, 2016 README.md Updated to Kotlin 1.0.2 and Gradle 2.13 May 21, 2016 build.gradle Use semver Jun 28, 2016 gradle.properties Initial support for artifactory publishing Jul 12, 2016 gradlew Initial commit to custom JUnit 5 engine Jun 10, 2016 gradlew.bat Initial commit to custom JUnit 5 engine Jun 10, 2016 settings.gradle Initial commit for docs Jun 25, 2016 README.md A Specification Framework for the JVM Visit the web site for more documentation and information Copyright (c) 2012-2016 Hadi Hariri and Contributors Licensed under Modified BSD Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/jetbrains/spek"	""	"true"
"Tests"	"npryce/hamkrest"	"https://github.com/npryce/hamkrest"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"56"	"2"	"7"	"GitHub - npryce/hamkrest: Hamcrest for Kotlin Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 2 Star 56 Fork 7 npryce/hamkrest Code Issues 0 Pull requests 0 Pulse Graphs Hamcrest for Kotlin 106 commits 1 branch 12 releases 4 contributors Kotlin 99.0% Shell 1.0% Kotlin Shell Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags master Nothing to show 1.2.1.0 1.2.0.0 1.1.0.0 0.0.9.0 0.0.8.0 0.0.7.0 0.0.6.0 0.0.5.0 0.0.4.0 0.0.3.0 0.0.2.0 0.0.1.0 Nothing to show New pull request Latest commit e686312 Jul 5, 2016 npryce-springer Upgrade to 1.0.3 Permalink Failed to load latest commit information. .idea Fixed all tests run config May 19, 2016 gradle/wrapper gradlew wrangling Feb 8, 2016 src Downcast matcher of `cast`/`isA` and valueMatcher of `present` are op… Jul 5, 2016 .gitignore More documentation Nov 18, 2015 .travis.yml Disable build on JDK 7, because Dokka crashes Nov 19, 2015 LICENSE Add Apache 2 License Mar 19, 2016 README.md Fix matcher name in readme May 15, 2016 b fix getting version from git in build file Nov 19, 2015 build.gradle Upgrade to 1.0.3 Jul 5, 2016 gradlew gradlew wrangling Feb 8, 2016 gradlew.bat Initial import Nov 9, 2015 publish-release fix getting version from git in build file Nov 19, 2015 settings.gradle Initial import Nov 9, 2015 tag-release fix reporting of latest tag - sort tags by semver not rely on Git's a… Jan 5, 2016 README.md HamKrest - Hamcrest for Kotlin A reimplementation of Hamcrest to take advantage of Kotlin language features. Compared to Java: A decent type system means that developers don't have to worry about getting the variance of generic signatures right. Variance is defined on the abstract Matcher type and Kotlin makes sure composition and subtyping work together the way you expect. Syntactic sugar. You can negate a matcher with the ! operator and compose matchers with infix and and or functions:   assertThat(""xyzzy"", startsWith(""x"") and endsWith(""y"") and !containsSubstring(""a""))  Easier to extend. You can convert named unary predicates into matchers.   val isBlank = Matcher(String::isBlank)    assertThat(input, isBlank)  As a shortcut, you can pass named functions to the assertThat, and, or and many other functions that take a matcher.   assertThat(input, String::isBlank)  You can also convert a named binary predicate and the second argument to a matcher for first argument, which works well for extension methods.   fun String.hasLength(n: Int): Boolean = this.length == n    val isTheRightLength = Matcher(String::hasLength, 8)    assertThat(secretCode, isTheRightLength)  You can use function and property references to match features of a value:   val isLongEnough = has(String::length, greaterThan(8))    assertThat(password, isLongEnough)  If you like sugar (or don't like punctuation), you can use   password shouldMatch isLongEnough   password shouldMatch ::myPasswordFunction  All of these shortcuts produce good, human-readable diagnostics. Still using Java? The HamKrest API has been crafted to be convenient and idiomatic when used from Java code. And all the generic wildcard bounds work the way you expect. Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/npryce/hamkrest"	""	"true"
"Tests"	"nhaarman/mockito-kotlin"	"https://github.com/nhaarman/mockito-kotlin"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"151"	"6"	"26"	"GitHub - nhaarman/mockito-kotlin: Using Mockito with Kotlin Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 6 Star 151 Fork 26 nhaarman/mockito-kotlin Code Issues 9 Pull requests 3 Pulse Graphs Using Mockito with Kotlin 57 commits 3 branches 16 releases 4 contributors Kotlin 100.0% Kotlin Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags dev master release-0.1.6 Nothing to show 0.5.1 0.5.0 0.4.1 0.4.0 0.3.1 0.3.0 0.2.2 0.2.1 0.2.0 0.1.6 0.1.5 0.1.4 0.1.3 0.1.2 0.1.1 0.1.0 Nothing to show New pull request Latest commit bb4ac76 Jun 29, 2016 nhaarman committed on GitHub Merge pull request #43 from nhaarman/release-0.5.1 … Release 0.5.1 Permalink Failed to load latest commit information. .github Added PR template Feb 18, 2016 gradle Update gradle wrapper version Jun 29, 2016 mockito-kotlin Update Kotlin version Jun 26, 2016 .gitignore Initial commit Jan 21, 2016 .travis.yml Remove Travis-CI cache Mar 27, 2016 LICENSE Initial commit Jan 21, 2016 README.md Use instance creators only from single test file. Jun 1, 2016 build.gradle Upload to Bintray Jan 24, 2016 gradle.properties Upload to Bintray Jan 24, 2016 gradlew Initial commit Jan 21, 2016 gradlew.bat Initial commit Jan 21, 2016 settings.gradle Initial commit Jan 21, 2016 README.md Mockito-Kotlin A small library that provides helper functions to work with Mockito in Kotlin. Install Mockito-Kotlin is available on JCenter. For Gradle users, add the following to your build.gradle: repositories {     jcenter() } dependencies {     testCompile ""com.nhaarman:mockito-kotlin:x.x.x"" } Examples Creating mock instances Due to Kotlin's reified type parameters, if the type can be inferred, you don't have to specify it explicitly: Java: MyClass c = mock(Myclass.class); c.doSomething(mock(MyOtherClass.class)); Kotlin: val c : MyClass = mock() c.doSomething(mock()) If the type can't be inferred, you can pass it like so: val d = mock<MyClass>() Expecting any value Mockito's any(Class<T>) often returns null for non-primitive classes. In Kotlin, this can be a problem due to its null-safety feature. This library creates non-null instances when necessary. Again, if the type can be inferred, you don't have to specify it explicitely: Java: verify(myClass).doSomething(any(String.class)); Kotlin: verify(myClass).doSomething(any()); // Non-nullable parameter type is inferred For generic arrays, use the anyArray() method: verify(myClass).setItems(anyArray()) Custom instance creators There are some cases where Mockito-Kotlin cannot create an instance of a class. This can for instance be when a constructor has some specific preconditions for its parameters. You can register instance creators to overcome this: MockitoKotlin.registerInstanceCreator<MyClass> { MyClass(5) } Whenever MockitoKotlin needs to create an instance of MyClass, this function is called, giving you ultimate control over how these instances are created. These instance creators work on a per-file basis: for each of your test files you will need to register them again. Argument Matchers Using higher-order functions, you can write very clear expectations about expected values. For example: Kotlin: verify(myClass).setItems(argThat{ size == 2 }) Convenience functions Most of Mockito's static functions are available as top-level functions. That means, IDE's like IntelliJ can easily import and autocomplete them, saving you the hassle of manually importing them. Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/nhaarman/mockito-kotlin"	""	"true"
"Tests"	"MarkusAmshove/Kluent"	"https://github.com/MarkusAmshove/Kluent"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"16"	"1"	"2"	"GitHub - MarkusAmshove/Kluent: Fluent Assertion-Library for Kotlin Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 1 Star 16 Fork 2 MarkusAmshove/Kluent Code Issues 0 Pull requests 0 Wiki Pulse Graphs Fluent Assertion-Library for Kotlin 64 commits 1 branch 5 releases 3 contributors Kotlin 100.0% Kotlin Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags master Nothing to show v1.4 v1.3 v1.2 v1.1 v1.0 Nothing to show New pull request Latest commit c7202b2 Jul 12, 2016 MarkusAmshove Release v1.6 Permalink Failed to load latest commit information. gradle/wrapper Update gradle-wrapper Jul 7, 2016 src Improved messages for failing tests Jul 11, 2016 .gitignore Add IntelliJ IDEA folder to .gitignore Jul 7, 2016 .travis.yml give gradlew permissions Feb 9, 2016 LICENSE Initial commit Feb 5, 2016 README.md Update README for hints to backtick methods Jul 12, 2016 build.gradle Release v1.6 Jul 12, 2016 gradlew set up initial project with gradle Feb 5, 2016 gradlew.bat set up initial project with gradle Feb 5, 2016 settings.gradle set up initial project with gradle Feb 5, 2016 README.md Kluent Kluent is a ""Fluent Assertions"" library written specifically for Kotlin. It uses the Infix-Notations and Extension Functions of Kotlin to provide a fluent wrapper around the JUnit-Asserts and Mockito. Examples More examples can be seen in the Wiki or tests. assertEquals ""hello"" shouldEqual ""hello""  assertNotEquals ""hello"" shouldNotEqual ""world""  Assert that an Array/Iterable contains something val alice = Person(""Alice"", ""Bob"") val jon = Person(""Jon"", ""Doe"") val list = listOf(alice, jon) list shouldContain jon  Stubbing val stub = mock(Database::class) val bob = Person(""Bob"", ""Guy"") When calling stub.getPerson() itReturns bob  Using backticks Every method that is included in Kluent also has a ""backtick version"", to make it feel more like a describing sentence. Some examples: assertEquals ""hello"" `should equal` ""hello""  assertNotEquals ""hello"" `should not equal` ""world""  Include it via gradle/maven Kluent is hosted in jCenter Gradle dependencies {     testCompile 'org.amshove.kluent:kluent:1.6' }  Maven <dependency>     <groupId>org.amshove.kluent</groupId>     <artifactId>kluent</artifactId>     <version>1.6</version>     <type>pom</type> </dependency>  Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/MarkusAmshove/Kluent"	""	"true"
"Tests"	"winterbe/expekt"	"https://github.com/winterbe/expekt"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"37"	"4"	"1"	"GitHub - winterbe/expekt: BDD assertion library for Kotlin Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 4 Star 37 Fork 1 winterbe/expekt Code Issues 1 Pull requests 0 Pulse Graphs BDD assertion library for Kotlin http://winterbe.github.io/expekt 51 commits 2 branches 3 releases 2 contributors Kotlin 100.0% Kotlin Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags gh-pages master Nothing to show 0.4.0 0.2.0 0.1.0 Nothing to show New pull request Latest commit 4dca637 May 21, 2016 winterbe Release 0.4.0 Permalink Failed to load latest commit information. src Docs Mar 1, 2016 .gitignore initial commit Feb 7, 2016 .travis.yml Travis config Feb 19, 2016 APIDOC.md More docs Feb 26, 2016 LICENSE initial commit Feb 7, 2016 README.md Release 0.4.0 May 21, 2016 pom.xml Dokka version 0.9.8 May 21, 2016 README.md Expekt Expekt is a (work in progress) BDD assertion library for Kotlin, inspired by Chai.js. It works with your favorite test runner such as JUnit and Spek. class ExpektTest {     @Test     fun helloExpekt() {         23.should.equal(23)         ""Kotlin"".should.not.contain(""Scala"")         listOf(1, 2, 3).should.have.size.above(1)     } } Follow on Twitter for updates! Getting started Expekt is available via Maven Central. Just add the dependency to your Maven POM or Gradle build config. Maven <dependency>     <groupId>com.winterbe</groupId>     <artifactId>expekt</artifactId>     <version>0.4.0</version>     <scope>test</scope> </dependency> Gradle testCompile ""com.winterbe:expekt:0.4.0"" Introduction Expekt let's you write assertions in natural english language by building fluent sentences in your JUnit tests. It comes in two flavors should and expect, both exposing the same API. It's up to you which variant to use. The property should is available on any object (e.g. myObject.should), even on null. The function expect accepts any object as parameter (e.g. expect(myObject)) instead. When using IntelliJ IDEA you can simply use expect and should from classpath. The IDE handles all imports for you. In case you have to handle imports manually, add one of those to your test file: import com.winterbe.expekt.expect import com.winterbe.expekt.should The Expekt API consists of many chainable properties and functions. Properties like to, be and which are provided to improve readibility. They don't serve any semantical meaning. The property not is used to negate expectations. Depending on the type of the initial value plenty of properties and functions are available to assert different aspects of the value, e.g. you can assert that a collection contains some elements, that a number is within it's bounds or that a string matches a given regex pattern. See API doc for all available assertion properties and functions. What happens when expectations fail? When an expectation fails Expekt throws a java.lang.AssertionError containing a readable message, so you can easily see what's going wrong. class FailingTest {     @Test     fun thisTestFails() {         3.4.should.be.closeTo(3.2, delta = 0.1)     } } The above test fails, resulting in the following exception: java.lang.AssertionError: 3.4 should be closeTo 3.2 ±0.1      at com.winterbe.expekt.ExpectAny.fail(ExpectAny.kt:77)     at com.winterbe.expekt.ExpectAny.verify(ExpectAny.kt:68)     at com.winterbe.expekt.ExpectDouble.closeTo(ExpectDouble.kt:12)     at com.example.ExampleTest.example1(ExampleTest.kt:10)  Examples Example assertions using the should property: 23.should.equal(23) null.should.be.`null` ""foo"".should.not.equal(""bar"") 3.should.satisfy { it % 2 == 1 } 3.should.be.above(2).and.below(4) ""abc"".should.contain(""bc"").and.startWith(""a"") ""abc"".should.not.have.length.above(3) ""abc"".should.not.match(Regex(""[0-9]+"")) listOf(1, 2, 3).should.contain(3).and.have.length.above(2) listOf(1, 2, 3).should.contain.any.elements(1, 3, 4) listOf(1, 2, 3).should.have.all.elements(1, 2, 3) mapOf(""foo"" to ""bar"", ""bar"" to ""foo"").should.contain(""foo"" to ""bar"") Example assertions using the expect function: expect(23).to.equal(23) expect(null).to.be.`null` expect(""foo"").not.to.equal(""bar"") expect(3).not.to.satisfy { it % 2 == 1 } expect(3).to.be.above(2).and.to.be.below(4) expect(""abc"").to.contain(""bc"").and.to.startWith(""a"") expect(""abc"").not.to.have.length.above(3) expect(""abc"").not.to.match(Regex(""[0-9]+"")) expect(listOf(1, 2, 3)).to.contain(3).and.to.have.length.above(2) expect(listOf(1, 2, 3)).to.contain.any.elements(1, 3, 4) expect(listOf(1, 2, 3)).to.have.all.elements(1, 2, 3) expect(mapOf(""foo"" to ""bar"", ""bar"" to ""foo"")).to.contain(""foo"" to ""bar"") License MIT Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/winterbe/expekt"	""	"true"
"Tests"	"kotlintest/kotlintest"	"https://github.com/kotlintest/kotlintest"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"90"	"9"	"11"	"GitHub - kotlintest/kotlintest: Kotlin test framework based on the excellent Scalatest Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 9 Star 90 Fork 11 kotlintest/kotlintest Code Issues 13 Pull requests 0 Wiki Pulse Graphs Kotlin test framework based on the excellent Scalatest 215 commits 5 branches 10 releases 7 contributors Kotlin 100.0% Kotlin Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags feature/params feature/#71_tag_class master release/1.3 release/2.0 Nothing to show 1.3.2 1.3.0 1.2.0 1.1.6 1.1.5 1.1.4 1.1.3 1.1.1 1.1.0 1.0.5 Nothing to show New pull request Latest commit 8cb5158 Jul 13, 2016 sksamuel Updated version to 1.3.3 … x Permalink Failed to load latest commit information. src correct call to beforeEach() Jul 13, 2016 .gitignore updated git ignore Jul 3, 2016 .travis.yml Skipping install step in travis Jan 14, 2016 CHANGELOG.md Updated changelog for 1.3.2 Jul 5, 2016 LICENSE Update LICENSE Mar 22, 2016 README.md Updated readme for double matchers Jul 5, 2016 build.gradle Updated version to 1.3.3 Jul 13, 2016 gradle.properties Bumped kotlin to 1.0.1 Mar 20, 2016 README.md KotlinTest KotlinTest is a flexible and comprehensive testing tool for the Kotlin ecosystem based on and heavily inspired by the superb Scalatest. KotlinTest provides several ways to lay out your test so that your team can pick the style they are most happy with. It also includes many matchers which allow you to write many different types of assertions easily and in a human readable way. Finally, there's helpers for things like collection testing, and future testing. For latest updates see Changelog How to use KotlinTest is published to Maven Central, so to use, simply add the dependency in test scope to your build file. You can get the latest version from the little badge at the top of the readme. Gradle: testCompile 'io.kotlintest:kotlintest:xxx'  Maven: <dependency>     <groupId>io.kotlintest</groupId>     <artifactId>kotlintest</artifactId>     <version>xxx</version>     <scope>test</scope> </dependency> Testing Styles You can choose a testing style by extending StringSpec, WordSpec, FunSpec, ShouldSpec, FlatSpec, FeatureSpec, BehaviorSpec or FreeSpec in your test class, and writing your tests inside an init {} block. In ScalaTest, the body of the class is the constructor, so you write tests directly in the class body. The KotlinTest equivalent is the init block. class MyTests : StringSpec() {   init {     // tests here   } } String Spec StringSpec reduces the syntax to the absolute minimum. Just write a string followed by a lambda expression with your test code. If in doubt, use this style. class StringSpecExample : StringSpec() {   init {     ""strings.length should return size of string"" {       ""hello"".length shouldBe 5     }   } } Flat Spec FlatSpec offers the keywords should and allows that to be used inline, as such: class MyTests : FlatSpec() {   init {     ""String.length"" should ""return the length of the string"" {       ""sammy"".length shouldBe 5       """".length shouldBe 0     }   } } Fun Spec FunSpec allows you to create tests similar to the junit style. You invoke a method called test, with a string parameter to describe the test, and then the test itself: class MyTests : FunSpec() {   init {     test(""String.length should return the length of the string"") {       ""sammy"".length shouldBe 5       """".length shouldBe 0     }   } } Should Spec ShouldSpec is similar to fun spec, but uses the keyword should instead of test. Eg: class MyTests : ShouldSpec() {   init {     should(""return the length of the string"") {       ""sammy"".length shouldBe 5       """".length shouldBe 0     }   } } This can be nested in context strings too, eg class MyTests : ShouldSpec() {   init {     ""String.length"" {       should(""return the length of the string"") {         ""sammy"".length shouldBe 5         """".length shouldBe 0       }     }   } } Word Spec WordSpec uses the keyword should and uses that to nest test blocks after a context string, eg: class MyTests : WordSpec() {   init {     ""String.length"" should {       ""return the length of the string"" {         ""sammy"".length shouldBe 5         """".length shouldBe 0       }     }   } } Feature Spec FeatureSpec allows you to use feature and scenario, as such: class MyTests : FlatSpec() {   init {     feature(""the thingy bob"") {       scenario(""should explode when I touch it"") {         // test here       }       scenario(""and should do this when I wibble it"") {         // test heree       }     }   } } Behavior Spec BehaviorSpec allows you to use given, when, then, as such: class MyTests : FlatSpec() {   init {     given(""a broomstick"") {       `when`(""I sit on it"") {         then(""I should be able to fly"") {           // test code         }       }       `when`(""I throw it away"") {         then(""it should come back"") {           // test code         }       }     }   } } Because when is a keyword in Kotlin, we must enclose with backticks. Alternatively, there are title case versions available if you don't like the use of backticks, eg, Given, When, Then. Free Spec FreeSpec allows you to nest arbitary levels of depth using the keyword - (minus), as such: class MyTests : FreeSpec() {   init {     ""String.length"" - {       ""should return the length of the string"" {         ""sammy"".length shouldBe 5         """".length shouldBe 0       }     }   } } Property-based Testing Property Testing To automatically test your code with many combinations of values, you can allow KotlinTest to do the boilerplate by using property testing with generators. You invoke forAll or forNone and pass in a function, where the function parameters are populated automatically with many different values. The function must specify explcitly the parameter types as KotlinTest will use those to determine what types of values to pass in. For example, here is a property test that checks that for any two Strings, the length of a + b is the same as the length of a plus the length of b. In this example KotlinTest would execute the test 100 tests for random String combinations. class PropertyExample: StringSpec() {    ""String size"" {     forAll({ a: String, b: String ->       (a + b).length == a.length + b.length     })   }  } There are generators for all the common types - String, Ints, Sets, etc. If you need to generate custom types then you can simply specify the generator manually (and write your own). For example here is the same test again but with the generators specified. class PropertyExample: StringSpec() {    ""String size"" {     forAll(Gen.string(), Gen.string(), { a: String, b: String ->       (a + b).length == a.length + b.length     })   }  } To write your own generator for a type T, you just implement the interface Gen<T>. For example you could write a Gen that supports a custom class called Person: data class Person(val name: String, val age: Int) class PersonGenerator : Gen<Person> {   override fun generate(): Person = Person(Gen.string().generate(), Gen.int().generate()) } Table-driven Testing To test your code with different parameter combinations, you can use tables as input for your test cases. Your test class should extend from the interface TableTesting. Create a table with the table function and pass a header and one or more row objects. You create the headers with the headers function, and a row with the row function. A row can have up to 22 entries. Headers and and rows must all have the same number of entries. To use the table, you invoke forAll(table) inside a test plan and pass a closure with the actual test code. The entries of the rows are passed as parameters to the closure. Table testing can be used with any spec. Here is an example using StringSpec. class StringSpecExample : StringSpec() {   init {     ""should add"" {        val myTable = table(          headers(""a"", ""b"", ""result""),          row(1, 2, 3),          row(1, 1, 2)        )        forAll(myTable) { a, b, result ->          a + b shouldBe result        }     }   } } Matchers KotlinTest has many built in matchers, along a similar line to the popular hamcrest project. The simplest assertion is that a value should be equal to something, eg: x shouldBe y or x shouldEqual y. This will also work for null values, eg x shouldBe null or y shouldEqual null. String Matchers To assert that a string starts with a given prefix use str should startWith(y). To assert that a string ends with a given suffix use str should endWith(y). To assert that a string contains a given substring use str should have substring y. To assert that a string matches a given regular expression, use str should match(""regex""). To assert that a string has a given length, use str should haveLength(10) Long / Int Matchers To assert that a value is greater than a given value use x should be gt y. This is the same as doing (x > y) shouldBe true. Choose whatever style you prefer. The same goes for the other operators lt, gte, lte. Double Matchers To assert that a double is exactly equal to another double use d shouldBe exactly(e) To assert that a double is equal within some tolerance range, use d shouldBe (e plusOrMinus y) Collection Matchers To assert that a collection has a given size use col should haveSize(4). This is the same as (col.size == 4) shouldBe true but more readable. To assert that a collection contains a given element use col should contain(x). To assert that a collection has a given collection of elements in any order, you can use col should containInAnyOrder(xs) Map Matchers To assert that a map contains a given key use map should haveKey(k). To assert that a map contains a given value use map should haveValue(v). To assert that a map contains a given mappings use col should contain(k,v). References To assert that two instances are the same reference, you can use x should beTheSameInstanceAs(y) Exceptions To assert that a given block of code throws an exception, one can use the shouldThrow function. Eg, shouldThrow<IllegalAccessException> {   // code in here that you expect to throw an IllegalAccessException } You can also check the caught exception: val exception = shouldThrow<IllegalAccessException> {   // code in here that you expect to throw an IllegalAccessException } exception.message should start with ""Something went wrong"" Before and After Each (since 1.1.0) If you need to run a method before each test and/or after each test (perhaps to reset some values to defaults etc), then simply override the beforeEach and afterEach methods in your test class, eg: override fun beforeEach() {   println(""Test starting"") } override fun afterEach() {   println(""Test completed"") } Before and After All If you need to run a setup/tear down function before and after all the tests have run, then simply override the beforeAll and afterAll methods in your test class, eg: override fun beforeAll() {   println(""Setting up my tests"") } override fun afterAll() {   println(""Cleaning up after my tests"") } One Instance Per Test (since 1.1.0) By default a single instance of the test class is created for all the test it contains. However, if you wish to have a fresh instance per test (sometimes its easier to have setup code in the init block instead of resetting after each test) then simply override the oneInstancePerTest value and set it to true, eg: class MyTests : ShouldSpec() {   override val oneInstancePerTest = true   init {     // tests here   } } Testing Config (since 1.2.0) Each test can be configured with various parameters. After the test block, invoke the config method passing in the parameters you wish to set. The available parameters are: invocations - the number of times to run this test. Useful if you have a non-deterministic test and you want to run that particular test a set number of times. Defaults to 1. threads - Allows the invocation of this test to be parallelized by setting the number of threads to use in a thread pool executor for this test. If invocations is 1 (the default) then this parameter will have no effect. Similarly, if you set invocations to a value less than or equal to the number threads, then each invocation will have its own thread. ignored - If set to true then this test is ignored. Can be useful if a test needs to be temporarily disabled. timeout - sets a timeout for this test. If the test has not finished in that time then the test fails. Useful for code that is non-deterministic and might not finish. Timeout is of type Duration which can be instantiated like 2.seconds, 3.minutes and so on. tag / tags - a list of String tags that can be set on a test. Then by invoking the test runner with a system property of testTags, you can control which tests are run. For example, tests that require a linux based O/S might be tagged with ""linux"" then gradle could be invoked with gradle test -DtestTags=linux. Another example might be tagging database tags that you only want to run on a server that has a database installed. Any test that has no tags is always run. Examples of setting config: class MyTests : ShouldSpec() {   init {     should(""return the length of the string"") {       ""sammy"".length shouldBe 5       """".length shouldBe 0     }.config(invocations=10, threads=2)   } } class MyTests : WordSpec() {   init {     ""String.length"" should {       ""return the length of the string"" {         ""sammy"".length shouldBe 5         """".length shouldBe 0       }.config(timeout = 2.seconds)     }   } } class FunSpecTest : FunSpec() {   init {     test(""FunSpec should support config syntax"") {     }.config(tags = listOf(""database"", ""linux""))   } } Closing resource automatically (since 1.3.0) You can let KotlinTest close resources automatically after all tests have been run: class StringSpecExample : StringSpec() {    val reader = autoClose(StringReader(""xyz""))    init {     ""your test case"" {       // use resource reader here     }   } } Resources that should be closed this way must implement java.io.Closeable. Closing is performed in reversed order of declaration after afterAll() was executed. Inspectors Inspectors allow us to test elements in a collection. For example, if we had a collection from a method and we wanted to test that every element in the collection passed some assertions, we can do: val xs = // some collection forAll(xs) { x =>   x should have substring ""qwerty""   x should start with ""q"" } Similarly, if we wanted to asset that NO elements in a collection passed some assertions, we can do: val xs = // some collection forNone(xs) { x =>   x should have substring ""qwerty""   x should start with ""q"" } The full list of inspectors are: forAll which asserts every element passes the assertions forNone which asserts no element passes forOne which asserts only a single element passed forAtMostOne which asserts that either 0 or 1 elements pass forAtLeastOne which asserts that 1 or more elements passed forAtLeast(k) which is a generalization that k or more elements passed forAtMost(k) which is a generalization that k or fewer elements passed forAny which is an alias for forAtLeastOne forSome which asserts that between 1 and n-1 elements passed. Ie, if NONE pass or ALL pass then we consider that a failure. forExactly(k) which is a generalization that exactly k elements passed. This is the basis for the implementation of the other methods Eventually When testing future based code, it's handy to be able to say ""I expect these assertions to pass in a certain time"". Sometimes you can do a Thread.sleep but this is bad as you have to set a timeout that's high enough so that it won't expire prematurely. Plus it means that your test will sit around even if the code completes quickly. Another common method is to use countdown latches. KotlinTest provides the Eventually mixin, which gives you the eventually method which will repeatedly test the code until it either passes, or the timeout is reached. This is perfect for nondeterministic code. For example: class MyTests : ShouldSpec() {   init {     should(""do something"") {       eventually(5.seconds) {         // code here that should complete in 5 seconds but takes an indetermistic amount of time.       }     }   } } Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/kotlintest/kotlintest"	""	"true"
"Tests"	"dmcg/konsent"	"https://github.com/dmcg/konsent"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"4"	"3"	"0"	"GitHub - dmcg/konsent: An acceptance test library for Kotlin Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 3 Star 4 Fork 0 dmcg/konsent Code Issues 0 Pull requests 0 Pulse Graphs An acceptance test library for Kotlin 40 commits 1 branch 6 releases Fetching contributors Kotlin 95.6% Shell 4.4% Kotlin Shell Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags master Nothing to show konsent-1.0.2 konsent-1.0.1 konsent-1.0.0 konsent-0.3.0 konsent-0.2.0 konsent-0.1.0 Nothing to show New pull request Latest commit 0d2c5d1 May 17, 2016 dmcg [maven-release-plugin] prepare for next development iteration Permalink Failed to load latest commit information. .idea Initial commit, extracted from Springer Nature codebase May 10, 2016 src Fix Selector's type parameters May 17, 2016 .gitignore Initial commit, extracted from Springer Nature codebase May 10, 2016 LICENSE Initial commit May 10, 2016 README.md Fix Selector's type parameters May 17, 2016 create_readme.sh Update readme May 12, 2016 konsent.iml Initial commit, extracted from Springer Nature codebase May 10, 2016 pom.xml [maven-release-plugin] prepare for next development iteration May 17, 2016 README.md Konsent An acceptance testing library for Kotlin. KonsentExampleTests shows how to write a test. @RunWith(Konsent::class) @Preamble(     ""As a developer named Duncan"",     ""I want to know that example.com is up and running"") class KonsentExampleTests : ChromeAcceptanceTest() {      val duncan = actorNamed(""Duncan"")      @Scenario(1) fun `Example_dot_com loads`() {         Given(duncan).loadsThePageAt(""http://example.com"")         Then(duncan) {             shouldSee(`the page location`, pathContains(""example.com""))             shouldSee(`the page title`, equalTo(""Example Domain""))             shouldSee(`the page content`, containsALink(""More information..."", ""http://www.iana.org/domains/example""))         }     }      @Scenario(2, ""Following a link from example.com"") fun cant_have_dots_in_quoted_method_names() {         Given(duncan).loadsThePageAt(""http://example.com"")         When(duncan).followsTheLink(""More information..."", ""http://www.iana.org/domains/example"")         Then(duncan).shouldSee(`the page location`, equalTo(URI(""http://www.iana.org/domains/reserved"")))     }      @Scenario(3) fun `Dispensing with the given when then`() {         duncan.he.loadsThePageAt(""http://example.com"")         duncan.he.followsTheLink(""More information..."", ""http://www.iana.org/domains/example"")         duncan.he.shouldSee(`the page location`, equalTo(URI(""http://www.iana.org/domains/reserved"")))     } } This writes an approved file Feature: Konsent Example Tests     As a developer named Duncan     I want to know that example.com is up and running      Scenario: Example_dot_com loads         Given Duncan loads the page at ""http://example.com""         Then Duncan sees the page location ""location contains ""example.com""         and Duncan sees the page title is equal to ""Example Domain""         and Duncan sees the page content contains a link [More information...](http://www.iana.org/domains/example)      Scenario: Following a link from example.com         Given Duncan loads the page at ""http://example.com""         When Duncan follows the link [More information...](http://www.iana.org/domains/example)         Then Duncan sees the page location is equal to http://www.iana.org/domains/reserved      Scenario: Dispensing with the given when then         Duncan loads the page at ""http://example.com""         Duncan follows the link [More information...](http://www.iana.org/domains/example)         Duncan sees the page location is equal to http://www.iana.org/domains/reserved  Konsent is available at Maven central. Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/dmcg/konsent"	""	"true"
"Tests"	"raniejade/kspec"	"https://github.com/raniejade/kspec"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"9"	"3"	"2"	"GitHub - raniejade/kspec: Kotlin Specification Framework Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 3 Star 9 Fork 2 raniejade/kspec Code Issues 8 Pull requests 0 Pulse Graphs Kotlin Specification Framework http://kspec.polymorphicpanda.io/ 120 commits 2 branches 4 releases Fetching contributors Kotlin 100.0% Kotlin Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags gh-pages master Nothing to show v0.4.0 0.3.0 0.2.0 0.1.0 Nothing to show New pull request Latest commit e90fa25 May 22, 2016 raniejade Refactor tagging Permalink Failed to load latest commit information. dist Add publications for engine and launcher May 9, 2016 gradle Major refactoring to executor chain May 17, 2016 kspec-console-runner Make context a sealed class May 21, 2016 kspec-core Refactor tagging May 22, 2016 kspec-engine Refactor tagging May 22, 2016 kspec-junit-runner Make context a sealed class May 21, 2016 kspec-launcher Make context a sealed class May 21, 2016 samples Refactor tagging May 22, 2016 .gitignore Vanila gradle with Kotlin Feb 26, 2016 .travis.yml Use jdk8 Mar 4, 2016 LICENSE.md Add license file Apr 3, 2016 README.md Update README and bump version May 21, 2016 build.gradle Prepare for next development phase May 21, 2016 gradle.properties Re enable incremental compilation May 17, 2016 gradlew Vanila gradle with Kotlin Feb 26, 2016 gradlew.bat Vanila gradle with Kotlin Feb 26, 2016 settings.gradle Add infrastructure to support writing IDE and build tool plugins (#33) May 9, 2016 README.md KSpec Specifications for Kotlin. Basic Structure class TheMostAmazingAnimalSpec: KSpec() {     override fun spec() {         describe(""the most amazing animal in the universe"") {             val animal = GetMostAmazingAnimal()             it(""should be a panda"") {                 assertThat(animal.type, equalTo(""panda""))             }              context(""not a panda"") {                 it(""nope, not going to accept it"") {                     assertThat({                         assertThat(animal.type, not(equalTo(""panda"")))                     }, thrown(EndOfTheWorldException::class))                 }             }         }     } } Context KSpec is heavily inspired by RSpec, Context is synonymous to RSpec's scopes. Example The test method in JUnit and created using it. ExampleGroup Groups similar examples together (they might be testing the same Subject - more on this later) and is created by using describe or context. Be cautious in placing logic code in them as they are eagerly evaluated Fixtures KSpec provides before, beforeEach, afterEach and after callbacks for each context. Subject Just like RSpec, KSpec also support subjects. class TheMostAmazingAnimalSpec: KSpec() {     override fun spec() {         describe(""the most amazing animal in the universe"") {             subject {                 return@subject GetMostAmazingAnimal();             }              it(""should be a panda"") {                 assertThat(subject.type, equalTo(""panda""))             }              context(""not a panda"") {                 it(""nope, not going to accept it"") {                     assertThat({                         assertThat(subject.type, not(equalTo(""panda"")))                     }, thrown(EndOfTheWorldException::class))                 }             }         }     } } Shared Examples Sometimes it's convenient to reuse examples - like testing a subclass. class CalculatorSpec: KSpec() {     override fun spec() {         describe(Calculator::class) {             itBehavesLike(calculator())         }     }      companion object {         fun calculator() = sharedExample<Calculator> {             describe(""add"") {                 it(""1 + 1 = 2"") {                     assertThat(subject.add(1, 1), equalTo(2))                 }             }             ...         }     } }  class AdvancedCalculatorSpec: KSpec() {     override fun spec() {         describe(AdvancedCalculator::class) {             itBehavesLike(CalculatorSpec.calculator())         }     } } Pending You can write specs in advance, KSpec will ignore them during execution. class SomeSpec: KSpec() {     override fun spec() {         xdescribe(""a pending group"") {             it(""won't be executed"") { }         }          xcontext(""another pending group"", ""some reason"")          xit(""a pending example"") { }     } } Focused KSpec supports focusing execution only on several contexts. Use fdescribe and fcontext to create a focused group, and fit to create a focused example. KSpec will only run focused contexts if there are any, othewise it will run everything. Tagging TODO Filters This allows to control which contexts to run. It can be configured per spec (by overriding configure) or by using Shared Configurations. class SomeSpec: KSpec() {     override fun configure(config: KSpecConfig) {        // config.filter.<filter> = tags     } } include Only include contexts having at least one of the tags specified. exclude Exclude any contexts having at least one of the tags specified. matching Similar to the include filter, the only difference is that if there is no match run everything. Shared Configurations Declare shared configurations by extending Configuration and apply it to a spec via @Configurations. class SharedConfiguration: Configuration {     override fun apply(config: KSpecConfig) {         ...     } }  class AnotherConfiguration: Configuration {     override fun apply(config: KSpecConfig) {         ...     } }  // use it @Configurations(     SharedConfiguration::class,     AnotherConfiguration::class ) class SomeSpec: KSpec() {     ... } Usage Console Runner TODO Gradle Currently you need to use a JUnit4 Runner to be able to run specs with gradle. Make sure to annotate your test classes with @RunWith(JUnitKSpecRunner::class). repositories {     jcenter() }  dependencies {     testCompile ""io.polymorphicpanda.kspec:kspec-core:<kspec-version>""     testCompile ""io.polymorphicpanda.kspec:kspec-junit-runner:<kspec-version>"" } Development version Gradle repositories {     maven {         url ""http://oss.jfrog.org/artifactory/oss-snapshot-local/""     } } Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/raniejade/kspec"	""	"true"
"Tests"	"EPadronU/balin"	"https://github.com/EPadronU/balin"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"7"	"1"	"0"	"GitHub - EPadronU/balin: Balin is a browser automation library for Kotlin. It's basically a Selenium-WebDriver wrapper library inspired by Geb. Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 1 Star 7 Fork 0 EPadronU/balin Code Issues 0 Pull requests 0 Pulse Graphs Balin is a browser automation library for Kotlin. It's basically a Selenium-WebDriver wrapper library inspired by Geb. 18 commits 1 branch 0 releases Fetching contributors Kotlin 100.0% Kotlin Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags master Nothing to show Nothing to show New pull request Fetching latest commit… Cannot retrieve the latest commit at this time. Permalink Failed to load latest commit information. examples gradle/wrapper src .gitignore LICENSE README.md build.gradle gradlew gradlew.bat README.md Balin Balin is a browser automation library for Kotlin. It's basically a Selenium-WebDriver wrapper library inspired by Geb. Rationale Geb is a wonderful library that allows its users exploit the power of the Selenium-WebDriver API with incredible ease. The author, as a software developer working a lot with browser automation, has been lucky enough to work with Geb and he is now learning Kotlin. This is the author's chance to learn the new JVM-based language and to bring to its ecosystem a tool that is so heavily used by him. Note This project has been conceived for research purposes but the author doesn't dismiss the possibility of making it a production-ready library if it gets to that point. License Like Kotlin, Balin is released under version 2.0 of the Apache License. Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/EPadronU/balin"	""	"true"
"Dependency Injection"	"SalomonBrys/Kodein"	"https://github.com/SalomonBrys/Kodein"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"129"	"6"	"10"	"GitHub - SalomonBrys/Kodein: Painless Kotlin Dependency Injection Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 6 Star 129 Fork 10 SalomonBrys/Kodein Code Issues 0 Pull requests 0 Pulse Graphs Painless Kotlin Dependency Injection 121 commits 2 branches 0 releases Fetching contributors Kotlin 99.8% Shell 0.2% Kotlin Shell Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags gh-pages master Nothing to show Nothing to show New pull request Latest commit c1014ba Jul 15, 2016 SalomonBrys Dokka Permalink Failed to load latest commit information. AndroidDemo Update to Kotlin-Beta-1103 Nov 3, 2015 dokka Dokka Jul 15, 2016 gradle/wrapper v2.8: onReady and test Jun 14, 2016 kodein-android Dokka Jul 15, 2016 kodein-global Dokka Jul 15, 2016 kodein Dokka Jul 15, 2016 .gitignore v2.1 is compiled with JDK8 but targeted at JVM6 Oct 16, 2015 .travis.yml v2.1 is compiled with JDK8 but targeted at JVM6 Oct 16, 2015 CHANGELOG.md Migration document + more documentation. Jul 15, 2016 Kodein-logo.png Kodein logo in README Jun 27, 2016 LICENSE.txt Kodein: Kotlin Dependency Injection Apr 16, 2015 MIGRATION-2-3.md Migration document + more documentation. Jul 15, 2016 README.md Migration document + more documentation. Jul 15, 2016 README3.adoc Dokka Jul 15, 2016 build.gradle Dokka Jul 15, 2016 gradlew v2 Oct 13, 2015 gradlew.bat Kodein: Kotlin Dependency Injection Apr 16, 2015 settings.gradle - Kodein, TKodein and KodeinContainer are now interfaces Jun 29, 2016 README.md KOtlin DEpendency INjection Kodein is a very simple and yet very useful dependency retrieval container. it is very easy to use and configure. Kodein allows you to: Lazily instantiate your dependencies when needed Stop caring about dependency initialization order Easily bind classes or interfaces to their instance or provider Easily debug your dependency bindings and recursions Kodein does not allow you to: Automatically instantiate your dependencies via injected constructor and reflexivity. For that, you need Guice. Have dependency injection validated at compile time. For that, you need Dagger. Kodein is a good choice because: It is small, fast and optimized (makes extensive use of inline) It proposes a very simple and readable declarative DSL It is not subject to type erasure (like Java) It integrates nicely with Android It proposes a very kotlin-esque idiomatic API It can be used in plain Java Kodein Version 3.0.0 is currently being tested. You can see what's new in the changelog, you can learn about it (or better yet, test it) by reading the new documentation, and you can prepare the migration by reading the migration document Example An example is always better than a thousand words: val kodein = Kodein {     bind<Dice>() with provider { RandomDice(0, 5) }     bind<DataSource>() with singleton { SqliteDS.open(""path/to/file"") } }  class Controller(private val kodein: Kodein) {     private val ds: DataSource by kodein.injectInstance() } Install With Maven <dependency>     <groupId>com.github.salomonbrys.kodein</groupId>     <artifactId>kodein</artifactId>     <version>2.8.0</version> </dependency>  With Gradle compile 'com.github.salomonbrys.kodein:kodein:2.8.0'  For Android compile 'com.github.salomonbrys.kodein:kodein-android:2.8.0'  Using Proguard If you are using Proguard, you need to add the following line to your proguard configuration file: -keepattributes Signature  Table Of Contents KOtlin DEpendency INjection Example Install With Maven With Gradle For Android Using Proguard Table Of Contents Bindings: Declaring dependencies Factory binding Provider binding Singleton binding Eager singleton binding Thread singleton binding Instance binding Tagged bindings Constant binding Direct binding Transitive dependency Modules Extension (composition) Overriding Injection: Dependency retrieval Retrieval rules Via Kodein methods Via lazy property Via injector In Java Android Injecting objects in Android... ...Using appKodein ...Using lazyKodeinFromApp ...Using an injector Android Activity Scopes Android example project Debuging Print bindings Recursive dependency loop Advanced use OnReady callbacks Create your own scopes Builders Scoped singletons Auto Scoped singletons Bind the same type to different factories Let's talk! Donate Bindings: Declaring dependencies You can initialize Kodein in a variable: val kodein = Kodein {     /* Bindings */ } Bindings are declared inside a Kodein initialization block, and they are not subject to type erasure (e.g. You can bind both a List<Int> and a List<String> to different list instances, provider or factory). There are different ways to declare bindings: Factory binding This binds a type to a factory function, which is a function that takes an argument of a defined type and that returns an object of the binded type. Each time you need an instance of the binded type, the function will be called. For example, here is a binding that creates a new Dice entry each time the you need a Dice instance, according to a given Int representing the number of sides: val kodein = Kodein {     bind<Dice>() with factory { sides: Int -> RandomDice(sides) } } Provider binding This binds a type to a provider function, which is a function that takes no arguments and returns an object of the binded type. Each time you need an instance of the bound type, the function will be called. For example, here is a binding that creates a new 6 sided Dice entry each time you need a Dice instance: val kodein = Kodein {     bind<Dice>() with provider { RandomDice(6) } } Singleton binding This binds a type to an instance of this type that will lazily be created at first use. Therefore, the provided function will only be called once: the first time an instance is needed. val kodein = Kodein {     bind<DataSource>() with singleton { SqliteDS.open(""path/to/file"") } } Eager singleton binding This is the same as a regular singleton, except that the provider method will be called as soon as the kodein instance is created and all bindings are defined. val kodein = Kodein {     // The SQLite connection will be opened as soon as the kodein instance is ready     bind<DataSource>() with eagerSingleton { SqliteDS.open(""path/to/file"") } } Thread singleton binding This is the same as the singleton binding, except that each thread gets a different instance. Therefore, the provided function is called once per thread that needs the instance. val kodein = Kodein {     bind<Cache>() with threadSingleton { LRUCache(16 * 1024) } } Instance binding This binds a type to an instance already created. val kodein = Kodein {     bind<DataSource>() with instance(SqliteDataSource.open(""path/to/file"")) } Note that instance is used with parenthesis. It is not given a function, but an instance. Tagged bindings All bindings can be tagged to allow you to bind different instances of the same type: val kodein = Kodein {     bind<Dice>() with provider { RandomDice(6) }     bind<Dice>(""DnD10"") with provider { RandomDice(10) }     bind<Dice>(""DnD20"") with provider { RandomDice(20) } } Note that you can have multiple bindings of the same type, as long as they are binded with different tags. You can have only one binding of a certain type with no tag. Constant binding It is often useful to bind ""configuration"" constants. These contants are always tagged: val kodein = Kodein {     constant(""maxThread"") with 8     constant(""serverURL"") with ""https://my.server.url"" } Note the absence of curly braces. It is not given a function, but an instance. You should only use constant bindings for very simple types without inheritance or interface (e.g. primitive types and data classes). Direct binding Sometime, it may seems overkill to specify the type to bind if you are binding the same type as you are creating. For this use case, you can transform any bind<Type>() with scope to bind() from scope. Here are some examples: val kodein = Kodein {     bind() from singleton { RandomDice(6) }     bind(""DnD20"") from provider { RandomDice(20) }     bind() from instance(SqliteDataSource.open(""path/to/file"")) } This should be used with care as binding a concrete class and, therefore, having concrete dependencies is an anti-pattern that later prevents modularisation and mocking / testing. Please note that, in the case of generic type, the binded type will be the specilised type, e.g. bind() from singleton { listOf(1, 2, 3, 4) } register the binding to List<Int> Transitive dependency With those lazily instantiated dependencies, a dependency (very) often needs another dependency. Such object should have their dependencies passed to their constructor. Thanks to Kotlin's killer type inference engine, Kodein makes retrieval of transitive dependencies really easy. Say you have the following class: /* The class Dice needs:      - A Random implementation.      - The number of side of the dice. */ class Dice(private val random: Random, private val sides: Int) { /*...*/ } Then it is really easy to bind RandomDice with it's transitive dependencies, by simply using instance() or instance(tag): val kodein = Kodein {     bind<Random>() with provider { SecureRandom() }     constant(""max"") with 5     bind<Dice>() with singleton { Dice(instance(), instance(""max"")) } } You can, of course, also use the functions provider(), provider(tag), factory() and factory(tag), Modules Kodein allows you to export your bindings in modules. It is very useful to have separate modules defining their own bindings instead of having only one central binding definition. A module is an object that you can construct the exact same way as you construct a Kodein instance: val apiModule = Kodein.Module {     bind<API>() with singleton { APIImpl() }     /* other bindings */ } Then, in your Kodein binding block: val kodein = Kodein {     import(apiModule)     /* other bindings */ } Note that modules are definitions, they will re-declare their bindings in each kodein instance you use. If you create a module that defines a singleton and import that module into two different kodein instances, then the singleton binded object will exist twice: once in each kodein instance. Extension (composition) Kodein allows you to create a new kodein instance by extending an existing kodein instance: val subKodein = Kodein {     extend(appKodein)     /* other bindings */ } Note that this preserves scopes, meaning that a singleton-binded in appKodein will continue to exist only once. Both appKodein and subKodein will give the same instance. Overriding By default, overriding a binding is not allowed in Kodein. That is because accidentally binding twice the same (class,tag) to different instances/providers/factories can cause real headaches to debug. However, when intended, it can be really interesting to override a binding, especially when creating a testing environment. You can override an existing binding by specifying explicitely that it is an override: val kodein = Kodein {     bind<API>() with singleton { APIImpl() }     /* ... */     bind<API>(overrides = true) with singleton { APIImpl() } // Will not fail because the override is explicit. } By default, modules are not allowed to override, even explicitely. You can allow a module to override some of your bindings when you import it (the same goes for extension): val kodein = Kodein {     /* ... */     import(testEnvModule, allowOverride = true) // The module is allowed to override the previous bindings. } Note that the bindings in the module still need to specify explicitly the overrides. Some times, you just want to define bindings without knowing if you are actually overriding a previous binding or defining a new. Those cases should be rare and you should know what you are doing: val testModule = Kodein.Module(allowSilentOverride = true) {     bind<EmailClient>() with singleton { MockEmailClient() } // Maybe adding a new binding, maybe overriding an existing, who knows ? }  Injection: Dependency retrieval In this chapter, these example bindings are used: val kodein = Kodein {     bind<Dice>() with factory { sides: Int -> RandomDice(sides) }     bind<DataSource>() with singleton { SqliteDS.open(""path/to/file"") }     bind<Random>() with provider { SecureRandom() }     constant(""answer"") with ""fourty-two"" } Retrieval rules When retrieving a dependency, the following rule applies: A dependency binded with a factory can only be retrived as a factory method: (A) -> T. A dependency binded with a provider, an instance, a singleton or a constant can be retrived: as a provider method: () -> T as an instance: T Via Kodein methods You can retrieve a dependency via a Kodein instance: val diceFactory: (Int) -> Dice = kodein.factory() val dataSource: DataSource = kodein.instance() val randomProvider: () -> Random = kodein.provider() val answerConstant: String = kodein.instance(""answer"") When using a provider, whether the provider will give each time a new instance or the same depends on the binding scope. When asking for a type that was not binded, Kodein.NotFoundException will be thrown. If you're not sure (or simply don't know) if the type has been binded, you can use: val diceFactory: ((Int) -> Dice)? = kodein.factoryOrNull() val dataSource: DataSource? = kodein.instanceOrNull() val randomProvider: (() -> Random)? = kodein.providerOrNull() val answerConstant: String? = kodein.instanceOrNull(""answer"") You can retrive a provider or an instance from a factory binded type by using with: private val sixSideDiceProvider: () -> Dice = kodein.with(6).provider() Via lazy property Lazy properties allow you to resolve the dependency upon first access: class Controller(private val kodein: Kodein) {     private val diceFactory: (Int) -> Dice by kodein.lazyFactory()     private val dataSource: DataSource by kodein.lazyInstance()     private val randomProvider: () -> Random by kodein.lazyProvider()     private val answerConstant: String by kodein.lazyInstance(""answer"") } You can retrive a provider or an instance from a factory binded type by using toLazyProvider and toLazyInstance: private val sixSideDiceProvider: () -> Dice by kodein.lazyFactory().toLazyProvider(6) private val tenSideDiceProvider: Dice by kodein.lazyFactory().toLazyInstance(10) Via injector An injector is an object that you can use to inject all injected values in an object. This allows your object to: Retrieve all it's injected dependencies at once; Declare its dependencies without a Kodein instance. class Controller() {     private val injector = KodeinInjector()      private val diceFactory: (Int) -> Dice by injector.factory()     private val dataSource: DataSource by injector.instance()     private val randomProvider: () -> Random by injector.provider()     private val answerConstant: String by injector.instance(""answer"")      fun whenReady(kodein: Kodein) = injector.inject(kodein) } If you try to access a property injected by an injector before calling injector.inject(kodein), KodeinInjector.UninjectedException will be thrown. You can inject a provider or an instance from a factory binded type by using with: private val sixSideDiceProvider: () -> Dice by injector.with(6).provider() private val tenSideDiceProvider: Dice by injector.with(10).instance() In Java While Kodein does not allow you to declare modules or dependencies in Java, it does allow you to retrieve dependencies using a Java API. Simply give kodein.java to your Java classes, and you can use Kodein in Java: public class JavaClass {     private final Function1<Integer, Dice> diceFactory;     private final Datasource dataSource;     private final Function0<Random> randomProvider;     private final String answerConstant;      public JavaClass(JKodein kodein) {         diceFactory = kodein.factory(Integer.class, Dice.class);         dataSource = kodein.instance(Datasource.class);         randomProvider = kodein.provider(Random.class);         answerConstant = kodein.instance(String.class, ""answer"");     } } Remember that Java is subject to type erasure. Therefore, if you registered a generic Class binding such as bind<List<String>>(), in order to retrieve it you have to use TypeToken to circumvent Java's type erasure: class JavaClass {     private final List<String> list;      public JavaClass(JKodein kodein) {         list = kodein.instance(new TypeToken<List<String>>(){}); // Note the usage of the TypeToken class     } } Android Kodein does work on Android (in fact, it was developed for an Android project). You can use Kodein as-is in your Android project or use the very small util library kodein-android. Here's how to use kodein-android: declare the dependency bindings in the Android Application, having it implements KodeinApplication: class MyApp : Application(), KodeinApplication {     override val kodein = Kodein {     /* bindings... */     } }  Don't forget to declare the Application in the AndroidManifest.xml file. Then, in your Activities, Fragments, and other context aware android classes, you can retrieve dependencies. There are different ways to access a Kodein instance and your dependencies: Injecting objects in Android... ...Using appKodein appKodein is a function that will work in your context aware Android classes provided that your Application implements KodeinApplication: class MyActivity : Activity() {     val diceProvider: () -> Dice by appKodein.lazyProvider()  // appKodein without parenthesis      override fun onCreate(savedInstanceState: Bundle?) {         val random: Random = appKodein().instance()   // appKodein with parenthesis     } } Note that appKodein is used without parenthesis to delegate lazy properties but with parenthesis to access the Kodein instance. That's because you cannot access the Application object and therefore the Kodein instance while the activity is not initialized by Android. This method is really easy but it is not really optimized because the Kodein instance will be re-fetched every time you use appKodein (each time inducing a cast from Application to KodeinApplication). However, this method is very easy and readable. I recommend it if you have only a few dependencies to inject. ...Using lazyKodeinFromApp This is a more optimized way of injecting dependencies. It works the exact same way as the previous method, except that the Kodein instance will be fetched only once. class MyActivity : Activity() {     private val kodein = lazyKodeinFromApp() // Note the use of = and not by     val diceProvider: () -> Dice = kodein.lazyProvider()  // kodein without parenthesis      override fun onCreate(savedInstanceState: Bundle?) {         val random: Random = kodein().instance()   // kodein with parenthesis     } } ...Using an injector Using an injector allows you to resolve all dependencies in onCreate, reducing the cost of dependency first-access (but more processing happening in onCreate). As with the previous method, the Kodein instance will only be fetched once. class MyActivity : Activity() {     private val injector = KodeinInjector()      val diceProvider: () -> Dice by injector.provider()     val random: Random by injector.instance()      override fun onCreate(savedInstanceState: Bundle?) {         injector.inject(appKodein())     } } Using this approach has an important advantage: as all dependencies are retrieved in onCreate, you can be sure that all your dependencies have correctly been retrieved, meaning that there were no dependency loop or non-declared dependency. You can have this certitude with the two previous methods only once you have accessed all dependencies at least once. Android Activity Scopes Sometimes, you need to define ""activity singletons"": objects that will be singleton inside an activity, but two different activities will receive different objects. For this, you can use the activity scope: val kodein = Kodein {     bind<Logger>() with activitySingleton { LogManager.getNamedLogger(it.localClassName) } // `it` is the activity the object is being created for. } To retrieve the objects thusly binded, you need to inject a factory which takes the activity as parameter: val logger = kodein.factory<Activity, Logger>().invoke(getActivity()) If you don't want to being required an activity to inject your objects, you can use the ""auto activity scope"": val kodein = Kodein {     bind<Logger>() with autoActivitySingleton { LogManager.getNamedLogger(it.localClassName) } } and then: val logger = kodein.instance<Logger>() This comes with two important caveats: Objects that are binded with autoActivitySingleton will always be injected according to the last displayed activity. In your Application class, in the onCreate method, you must add this line: kotlin class MyActivity : Activity { override fun onCreate() { registerActivityLifecycleCallbacks(ActivityScopeLifecycleManager) // <-- THIS LINE } } Android example project Have a look at the Android demo project! Debuging Print bindings You can easily print bindings with println(kodein.bindingsDescription). Here's an example of what this prints:         bind<com.test.Dice>() with factory<Kotlin.Int>         bind<com.test.DataSource>() with singleton         bind<java.util.Random>() with provider         bind<java.lang.String>(""answer"") with instance  As you can see, it's really easy to understand which type with which tag is binded to which scope. Recursive dependency loop When it detects a recursive dependency, Kodein will throw a Kodein.DependencyLoopException. The message of the exception explains how the loop happened. Here's an example: com.github.salomonbrys.kodein.Kodein$DependencyLoopException: Dependency recursion:        ╔═> bind<com.test.A>()        ╠─> bind<com.test.B>()        ╠─> bind<com.test.C>(""yay"")        ╚═> bind<com.test.A>()  From this, we can see that com.test.A depends on com.test.B com.test.B depends on com.test.C with the tag ""Yay"" com.test.C with the tag ""Yay"" depends on com.test.A And we have found the dependency loop. Advanced use OnReady callbacks You can define callbacks to be called once the kodein instance is ready and all bindings are defined. This can be usefull to do some ""starting"" jobs. val appModule = Kodein.Module {     import(engineModule)     onReady {         val engine = instance<Engine>()         instance<Logger>().info(""Starting engine version ${engine.version}"")         engine.start()     } } Create your own scopes There are three ways to create your scopes. By creating a builder function, a scoped singleton cache function or an auto scoped singleton cache function. Factories A factory function is an extension function to Kodein.Builder that returns a Factory<A, T>. You can use the CFactory<A, T> class for ease of use. If your scope is a provider scope (such as singleton), you can use the CProvider<T> class for ease of use. Have a look at existing scopes in the scopes.kt file. The singleton scope is very easy to understand and is a good starting point. Scoped singletons Scoped singleton are singletons that are binded to a context and live while that context exists. To define a scoped singleton, you must define a function that satisfies this contract: (S) -> HashMap<Any, Any> where S is the context type. This function must always return the same HashMap when given the same S object. Standard ways of doing so is to use the userData property of the context, if the S type has one, or else to use a WeakHashMap<S, HashMap<Any, Any>>. To declare bindings in your scope, you use scopedSingleton: fun myScope(context: Context): HashMap<Any, Any> { /*...*/ }  val kodein = Kodein {     bind<Logger>() with scopedSingleton(::myScope) { LogManager.getNamedLogger(it.name) } // `it` is the context. } Then, to retrieve a binded type, you must retrive a factory and then provide it the context: val logger = kodein.with(getContext()).instance() Auto Scoped singletons Scoped singletons are not always ideal since you need the context to retrieve any object. Sometimes, the context is static. For those times, you can use an ""auto scoped singleton"". An auto scoped singleton function is not given a context: it is responsible for fetching both the cache HashMap and the context. To define an auto scoped singleton, you must define a function that satisfies this contract: () -> Pair<S, HashMap<Any, Any>> where S is the context type. To declare bindings in your scope, you use autoScopedSingleton: fun myScope(): Pair<Context, HashMap<Any, Any>> { /*...*/ }  val kodein = Kodein {     bind<Logger>() with autoScopedSingleton(::myScope) { LogManager.getNamedLogger(it.name) } // `it` is the context. } Then, to retrieve a binded type, you can use the classics: val logger: Logger = kodein.instance() Bind the same type to different factories Yeah, when I said earlier that ""you can have multiple bindings of the same type, as long as they are binded with different tags"", I lied. Because each binding is actually a factory, the bindings are not ([BindType], [Tag]) but actually ([BindType], [ArgType], [Tag]) (note that providers and singletons are binded as ([BindType], Unit, [Tag])). This means that any combination of these three information can be binded to it's own factory, which in turns means that you can bind the same type without tagging to different factories. Please be cautious when using this knowledge, as other less thorough readers may get confused with it. Let's talk! You've read so far ?! You're awsome! Why don't you drop by the Kodein Slack channel on Kotlin's Slack group? Donate Kodein is free to use for both non-profit and commercial use and always will be. If you wish to show some support or appreciation to my work, you are free to donate! This would be (of course) greatly appreciated but is by no means necessary to receive help or support, which I'll be happy to provide for free :) Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/SalomonBrys/Kodein"	""	"true"
"Dependency Injection"	"kohesive/injekt"	"https://github.com/kohesive/injekt"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"173"	"13"	"10"	"GitHub - kohesive/injekt: Dependency Injection for Kotlin Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 13 Star 173 Fork 10 kohesive/injekt Code Issues 9 Pull requests 0 Pulse Graphs Dependency Injection for Kotlin 225 commits 4 branches 4 releases Fetching contributors Kotlin 100.0% Kotlin Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags KT-9068 develop master scope-testing Nothing to show v1.3.0 v1.2.0 v1.1.1 v1.1.0 Nothing to show New pull request Latest commit f1fc40c Jun 26, 2016 apatrida committed on GitHub Update README.md Permalink Failed to load latest commit information. api/src/main/kotlin/uy/kohesive/injekt/api * Added scoped factory methods to `InjektScope` to help with Github #32 Feb 10, 2016 core release 1.16.0 May 9, 2016 gradle/wrapper updates for Kotlin 1.0 RC 1025 Feb 2, 2016 .gitignore Empty build, using kohesive-build git submodule Aug 4, 2015 .gitmodules Removed submodule kohesive-build, hating gradle Aug 4, 2015 CHANGELOG.md * Kotlin 1.0.2 May 27, 2016 LICENSE Removed submodule kohesive-build, hating gradle Aug 4, 2015 README.md Update README.md Jun 26, 2016 build.gradle update dependencies Feb 26, 2016 circle.yml setup develop branch for future snapshot builds Oct 21, 2015 gradle.properties * Kotlin 1.0.2 May 27, 2016 gradlew Revert to simple build, gradle is out to kill me. Init-scripts dont w… Aug 4, 2015 gradlew.bat updates for Kotlin 1.0 RC 1025 Feb 2, 2016 settings.gradle Ready for M13 Sep 16, 2015 README.md Notice: Kodein and Injekt, much of the same Since Injekt and Kodein both ended up in a very similar implementation (object registry approach to injection), it makes little sense in having two flavours of the same library for Kotlin. Therefore Injekt is deferring to Kodein. Since Injekt has no known bugs, there is no fear in continuing to use it (and I will fix anyting that shows up), but for additional functionality see Kodein instead. Libraries such as Klutter will create Kodein modules for their injection modules, same for Kovert. And Typesafe configuration injection from Klutter will also be ported over to Kodein for future releases. Kodein: https://github.com/SalomonBrys/Kodein Injekt Injekt gives you crazy easy Dependency Injection in Kotlin. Although you can probably use it in other JVM languages if you are feeling lucky. Injekt is NOT inversion of control. It is NOT some mystical class file manipulator. It is NOT complex. But it IS powerful. Injekt can also load, bind to objects, and inject configuration using Typesafe Config. Read more in the injekt-config-typesafe module. Quick Samples Simply register singletons (non-lazy), or factories (lazy) and then inject that values either directly or using Kotlin delegates. For example: Early in your program (for modules see Injekt ""Main"" and Packaged Injektables below): Injekt.addSingleton(HikariDataSource(HikariConfig(""some/path/hikari.properties"")) as DataSource) Injekt.addSingletonFactory { PeopleService() } Injekt.addFactory { ComplexParser.loadFromConfig(""some/path/parsing.conf"") } Where PeopleService has default value for constructor parameter that receives the value from Injekt: class PeopleService(db: DataSource = Injekt.get()) { ... } Then you can inject PeopleService into your code whenever you want to use it: class PeopleController {     fun putPerson(person: Person) {         val peopelSrv: PeopleService = Injekt.get()         // ...     } } And when injecting into a property you can use the same style, or instead use delegates: class PeopleController {     val peopelSrv: PeopleService by injectLazy() // or injectValue() if immediate      fun putPerson(person: Person) {         // ...     } } Since PeopleService uses default values in the constructor, you can easily override in tests without requiring an injection model: class TestPeopleService {     companion object {         lateinit var db: DataSource          @JvmStatic @BeforeClass fun setupTests() {             db = HikariDataSource(HikariConfig().apply {                 jdbcUrl = ""jdbc:h2:mem:test""             })         }     }      fun testPeopleService() {         val people = PeopleService(db) // no injection required         // ...     } } Gradle / Maven Dependnecy Include the dependency in your Gradle / Maven projects, ones that have Kotlin configured for Kotlin 1.0 Gradle: compile ""uy.kohesive.injekt:injekt-core:1.16.+""  Maven: <dependency>     <groupId>uy.kohesive.injekt</groupId>     <artifactId>injekt-core</artifactId>     <version>[1.16.0,1.17.0)</version> </dependency>  It is recommended you set your IDE to auto import * for Injekt packages (if your IDE supports such a feature): import uy.kohesive.injekt.* import uy.kohesive.injekt.api.*  Injekt ""Main"" At the earliest point in your application startup, you register singletons, factories and your logging factories. For the simplest version of this process, you can use the InjektModule on an object or companion object (from Injekt Examples) class MyApp {     companion object : InjektMain() {         // my app starts here with a static main()         @JvmStatic public fun main(args: Array<String>) {             MyApp().run()         }          // the InjektModule() will call me back here on a method I override.  And all my functions for registration are         // easy to find on the receiver class         override fun InjektRegistrar.registerInjectables() {             // let's setup my logger first             addLoggerFactory({ byName -> LoggerFactory.getLogger(byName) }, { byClass -> LoggerFactory.getLogger(byClass) })              // now some singletons             addSingleton(HttpServerConfig(""0.0.0.0"", 8080, 16))             addSingleton(DatabaseConnectionConfig(""db.myhost.com"", ""sa"", ""sillycat""))              // or a lazy singleton factory             addSingletonFactory { DontCreateUntilWeNeedYa() }              // or lets only have one database connection per thread, basically a singleton per thread             addPerThreadFactory { JdbcDatabaseConnection(Injekt.get()) }  // wow, nested inections!!!              // or give me a new one each time it is injected             addFactory { LazyDazy() }              // and we also have factories that use a key (or single parameter) to return an instance             val pets = listOf(NamedPet(""Bongo""), NamedPet(""Dancer""), NamedPet(""Cheetah"")).map { it.name to it}.toMap()             addPerKeyFactory { petName: String -> pets.get(petName)!! }              // use prebuilt injectable packages             importModule(AmazonS3InjektModule)         }     }      ... } And once they are registered, anything else in the system can access them, for example as class properties they can be injected using delegates:     val log: Logger by injectLogger()     val laziest: LazyDazy by injectLazy()     val lessLazy: LazyDazy by injectValue() or directly as assignments both as property declarations and local assignemtns:     val notLazy1: LazyDazy = Injekt.get()     val notLazy2 = Injekt.get<LazyDazy>() And they can be used in constructors and methods as default parameters:     public fun foo(dbConnectParms: DatabaseConfig = Injekt.get()) { ... } And since we have registered in the first example a mix of types, including thread specific injections and key/parameter based, here they are in action:  public fun run() {         // even local variables can be injected, or rather ""got""         val something = Injekt.get<DontCreateUntilWeNeedYa>()         startHttpServer()     }      // and we can inject into methods by using Kotlin default parameters     public fun startHttpServer(httpCfg: HttpServerConfig = Injekt.get()) {         log.debug(""HTTP Server starting on ${httpCfg.host}:${httpCfg.port}"")         HttpServer(httpCfg.host, httpCfg.port).withThreads(httpCfg.workerThreads).handleRequest { context ->             val db: JdbcDatabaseConnection = Injekt.get()    // we have a connection per thread now!              if (context.params.containsKey(""pet"")) {                 // inject from a factory that requires a key / parameter                 val pet: NamedPet = Injekt.get(context.params.get(""pet"")!!)                 // or other form without reified parameters                 val pet2 = Injekt.get<NamedPet>(context.params.get(""pet"")!!)             }         }     } Packaged Injektables Now that you have mastered injections, let's make modules of our application provide their own injectable items. Say our Amazon AWS helper module has a properly configured credential provider chain, and can make clients for us nicely. It is best to have that module decide the construction and make it available to other modules. And it's easy. Create an object that extends InjektModule and then it is pretty much the same as before: public object AmazonS3InjektModule : InjektModule {     override fun InjektRegistrar.registerInjectables() {         addSingletonFactory { AmazonS3Client(defaultCredentialsProviderChain()) }     } } The only difference between an InjektMain and InjektModule object is that a InjektMain is automatically called to initialize, whereas an InjektModule does not do anything until it is imported by another InjektMain or InjektModule. Using InjektModule is simple, go back to the first example at the top of this page and you will see it imported with a simple  // use prebuilt package importModule(AmazonS3InjektModule) Note: if you extend InjektMain you are also a module that can be imported. Note: If you use scopes (see InjektScope and InjektScopeMain then you should be aware that using InjektMain points at the global scope always). One Instance Per-Thread Factories -- a tip When using a factory that is per-thread, be sure not to pass the object to other threads if you really intend for them to be isolated. Lookup of such objects is from ThreadLocal storage and fast, so it is better to keep these objects for shorter durations or in situations guaranteed to stay on the same thread as that which retrieved the object. Injecting Configuration with Typesafe Config Injekt + Klutter library can also load, bind to objects, and inject configuration using Typesafe Config. Read more in the klutter/config-typesafe module. Generics, Erased Type and Injection It is best to use type inference for all methods in Injekt to let the full type information come through to the system. If the compiler can determine the types, it is likely the full generic information is captured. But if a value passed to Injekt does not have that information available at the calling site, then you can specify the full generic type as a type parameter to the method, for example Injekt.get<MyFullType<WithGenerics<AndMore>>>(). Methods also accept a TypeReference<T> which can be passed around as a means to parameterize and send type information through the system. The helper method fullType<T>() can create a TypeReference for you, for example Injekt.get(fullType<MyFullType<WithGenerics>>()). It is preferable that you use (in priority order): The inferred forms of Injekt functions that infer their type from the surrounding expression. Do not provide a type unless something breaks. Or if you want to change the type recognized by Injekt, use an explicit generic type for the function someFunction<MyType>(). If those are not to your liking, then use the TypeReference version passing in a typeRef<T>() generated TypeReference ... this is your fallback in cases where things need full and exact control. By doing this, you prevent surprises because you are in full control and it is obvious what types are expected. Scopes Injekt allows manual scoping of instances into separate Injekt registries. The global registry, available through the Injekt variable is just one scope that is pre-created for you. You can also create new ones: val myLocalScope: InjektScope = InjektScope(DefaultRegistrar())  This makes a standalone scope that has no relationship to the global or to others. But then you can link scopes by creating factories in the new scope that delegate some of the instance creation to another scope, or the global Injekt scope. For example: // delegate some factories to global Injekt instance myLocalScope.addSingletonFactory { Injekt.get<SomeSingletonClass>() } myLocalScope.addFactory { Injekt.get<SomeMultiValueClass>() }  When delegating factories such as this, any multi-value instances will not be cached by any scope since those factories create new instances on every call. For singletons and keyed factories the objects are cached and a reference to those objects will exist in both the local and delegated scopes for any instances requested during its lifecycle. You can also just use multiple scopes independently without linking or delegation. Fetch some instances from a local scope, others from the global. But you must use each scope independently and be careful of accidentally using the Injekt global variable when not intended. If you have common factories needed in local scopes, you can easily create a descendent of InjektScope that registers these during its construction. class MyActivityScope: InjektScope(DefaultRegistrar()) {     init {         // override with local value         addSingletonFactory { SomeSingletonClass() }         // import other registrations from defined modules         importModule(OtherModuleWithPrepackagedInjektions)         // delegate to global scope:         addSingletonFactory { Injekt.get<SomeOtherSingleton>() }     } }  // then in each place you want a local scope val localScope = MyActivityScope()  // later use the scope val singly: SomeSingletonClass = localScope.get() val other: SomeOtherSingleton = localScope.get()  Or using the same model as InjektMain create a descendent of InjektScopedMain that overrides function fun InjektRegistrar.registerInjectables() { ... }, if you prefer to be consistent with modules. For example: class MyActivityModule: InjektScopedMain(InjektScope(DefaultRegistrar())) {     override fun InjektRegistrar.registerInjectables() {         // override with local value         addSingletonFactory { NotLazy(""Freddy"") }         // import other registrations from defined modules         importModule(OtherModuleWithPrepackagedInjektions)         // delegate to global scope:         addSingletonFactory { Injekt.get<SomeOtherSingleton>() }     } }  // then in each place you want a local scope val localScope = MyActivityModule().scope  And you can still use delegated properties, as long as the scope is declared before use in the delegate: val myProp: SomeClass by localScope.injectValue()  You can use the LocalScoped base class to have local versions of injectValue() and injectLazy() to make it more convenient when injecting members (see code for LocalScoped). This way your syntax stays consistent (see example in tests). To clear a local scope, drop your reference to the scope and it will garabage collect away. There is no explicit clear method. For more advanced, and more automatic scope linking / delegation / inheritance, please see issue #31 and provide comments. For propagating a scope into other classes injected into the class declaring the local scope, see the test case referenced from #32 Coming soon... (RoadMap) Linked Scopes, see #31 Scoped factories, see #32 Materializing object graphs without explicit calls to Injekt Tell me what you would like to see, add Issues here in Github with requests. Recommended libraries: Other libraries that we recommend a building blocks for Kotlin applications: Kovenant - promises for Kotlin, easy, fun, and async! (JVM / Android) Klutter - simple, small, useful things for Kotlin With help from... Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/kohesive/injekt"	""	"true"
"Functional Programming"	"MarioAriasC/funKTionale"	"https://github.com/MarioAriasC/funKTionale"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"191"	"17"	"17"	"GitHub - MarioAriasC/funKTionale: Functional constructs for Kotlin Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 17 Star 191 Fork 17 MarioAriasC/funKTionale Code Issues 1 Pull requests 3 Wiki Pulse Graphs Functional constructs for Kotlin 61 commits 1 branch 22 releases 4 contributors Kotlin 100.0% Kotlin Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags master Nothing to show M14 0.8 0.7 0.6.1_1.0.0-rc 0.6_1.0.0-beta 0.6_1.0.0-beta-3594 0.6_M13 0.6_M12 0.5.1.1_M12 0.5.1_M12 0.5_M11 0.4.2_M11 0.4.2_M10 0.4_M9 0.3.1_M8 0.3_M8 0.3_M7 0.2.3_M6.2 0.2.2_M6.2 0.2.1_M6.2 0.2.1_M6.1 0.1.5 Nothing to show New pull request Latest commit e33d429 Feb 15, 2016 MarioAriasC Test for memoization, 0.8 release Permalink Failed to load latest commit information. src Test for memoization, 0.8 release Feb 15, 2016 .gitignore new option features Jul 6, 2015 README.md Test for memoization, 0.8 release Feb 15, 2016 pom.xml Test for memoization, 0.8 release Feb 15, 2016 README.md funKTionale Functional constructs and patterns for Kotlin Documentation Read the Wiki Functional Programming in Kotlin with funKTionale presentation Maven You must configure your pom.xml file using JCenter repository <repository>     <id>central</id>     <name>bintray</name>     <url>http://jcenter.bintray.com</url> </repository> Then you can use funKTionale dependency <dependency>     <groupId>org.funktionale</groupId>     <artifactId>funktionale</artifactId>     <version>0.8</version> </dependency> Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/MarioAriasC/funKTionale"	""	"true"
"Functional Programming"	"ReactiveX/RxKotlin"	"https://github.com/ReactiveX/RxKotlin"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"785"	"61"	"64"	"GitHub - ReactiveX/RxKotlin: RxJava bindings for Kotlin Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 61 Star 785 Fork 64 ReactiveX/RxKotlin Code Issues 4 Pull requests 5 Pulse Graphs RxJava bindings for Kotlin 139 commits 2 branches 19 releases Fetching contributors Kotlin 97.9% Shell 2.1% Kotlin Shell Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: 0.x Switch branches/tags Branches Tags 0.x bump-to-2.2 Nothing to show v0.60.0 v0.55.0 v0.54 v0.53 v0.52 v0.51 v0.50 v0.40.1 v0.40 v0.30.1 v0.30 v0.24.100 v0.23.100 v0.22.14 v0.22.13 v0.22.12 v0.22.11 v0.21.0 0.20.4 Nothing to show New pull request Latest commit 215a9f5 Jun 13, 2016 MarioAriasC committed on GitHub Merge pull request #63 from KenVanHoeylandt/feature/subscription_addto … Add subscriptions directly to a CompositeSubscription Permalink Failed to load latest commit information. gradle exec privileges Mar 23, 2015 src Merge pull request #63 from KenVanHoeylandt/feature/subscription_addto Jun 13, 2016 .gitignore Upgrade to Nebula Build Aug 29, 2014 .travis.yml formatting credentials Mar 23, 2015 CONTRIBUTING.md Upgrade to Nebula Build Aug 29, 2014 LICENSE Upgrade to Nebula Build Aug 29, 2014 README.md Order example Feb 17, 2016 build.gradle Merge pull request #67 from lenguyenthanh/bump-rxJava-version Jun 11, 2016 gradle.properties JVM args Oct 23, 2015 gradlew Upgrade to Nebula Build Aug 29, 2014 gradlew.bat Upgrade gradle and parent to latest available Mar 12, 2015 settings.gradle Upgrade to Nebula Build Aug 29, 2014 README.md Kotlin Adaptor for RxJava This adaptor exposes a set of Extension functions that allow a more idiomatic Kotlin usage     observable<String> { subscriber ->         subscriber.onNext(""H"")         subscriber.onNext(""e"")         subscriber.onNext(""l"")         subscriber.onNext("""")         subscriber.onNext(""l"")         subscriber.onNext(""o"")         subscriber.onCompleted()     }.filter { it.isNotEmpty() }     .fold (StringBuilder()) { sb, e -> sb.append(e) }     .map { it.toString() }     .subscribe { a.received(it) }      verify(a, times(1)).received(""Hello"") Build Binaries Binaries and dependency information for Maven, Ivy, Gradle and others can be found at http://search.maven.org. Example for Maven: <dependency>     <groupId>io.reactivex</groupId>     <artifactId>rxkotlin</artifactId>     <version>x.y.z</version> </dependency> and for Ivy: <dependency org=""io.reactivex"" name=""rxkotlin"" rev=""x.y.z"" /> and for Gradle: compile 'io.reactivex:rxkotlin:x.y.z' Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/ReactiveX/RxKotlin"	""	"true"
"Functional Programming"	"kittinunf/Result"	"https://github.com/kittinunf/Result"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"55"	"3"	"3"	"GitHub - kittinunf/Result: The modelling for success/failure of operations in Kotlin Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 3 Star 55 Fork 3 kittinunf/Result Code Issues 1 Pull requests 0 Pulse Graphs The modelling for success/failure of operations in Kotlin 82 commits 1 branch 9 releases Fetching contributors Kotlin 100.0% Kotlin Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags master Nothing to show 1.0.3 1.0.2 1.0.1 1.0.0 1.0.0-rc-1036 0.4 0.3 0.2 0.1 Nothing to show New pull request Latest commit 6d1c731 Jul 6, 2016 kittinunf Update to Kotlin version 1.0.3, add Validation Permalink Failed to load latest commit information. gradle/wrapper Bump version to 1.0.1 Mar 14, 2016 result Update to Kotlin version 1.0.3, add Validation Jul 6, 2016 .gitignore Update gitignore Dec 15, 2015 .travis.yml Update gitignore Dec 14, 2015 README.md Update to Kotlin version 1.0.3, add Validation Jul 6, 2016 build.gradle Update to Kotlin version 1.0.3, add Validation Jul 6, 2016 gradle.properties Enable gradle properties, make it run faster Nov 4, 2015 gradlew Enable gradle properties, make it run faster Nov 3, 2015 gradlew.bat Enable gradle properties, make it run faster Nov 3, 2015 settings.gradle Enable gradle properties, make it run faster Nov 3, 2015 README.md Result This is a tiny framework for modelling success/failure of operations in Kotlin. In short, it is a model in type of Result<V, E : Exception>. Ideology Result<V, E: Exception> is to provide higher abstraction of operation that can be ended with result either success or failure. The is somewhat similar to Kotlin's nullable types (T?) (https://kotlinlang.org/docs/reference/null-safety.html). Result.Success represents value in case of success, and Result.Failure represents error in case of failure which is upper bounded with Exception type. Installation Gradle repositories {     jcenter() }  dependencies {     compile 'com.github.kittinunf.result:result:1.0.3' }  TL;DR This model is highly inspired by ""Railway Oriented Programming"" concept. Result allows one to express series of success/failure operations in Kotlin as; Result.of(operation)       .flatMap { normalizedData(it) }       .map { createRequestFromData(it) }       .flatMap { database.updateFromRequest(it) } Work with Result is easy //multi-declaration val (value, error) = result  //get val value: Int = result.get<Int>() ?: 0 val ex: Exception = result.get<Exception>()!!  //success result.success { }  //failure result.failure { }  //fold is there, if you want to handle both success and failure result.fold({ value ->     //do something with value }, { error ->     //do something with error }) Combine several results in a validation (without stopping at the first error) val r1: Result<Int, Exception> = Result.of(1) val r2: Result<Int, Exception> = Result.of{throw Exception(""Not a number"")} val r3: Result<Int, Exception> = Result.of(3) val r4: Result<Int, Exception> = Result.of{throw Exception(""Division by zero"")}  val validation = Validation(r1, r2, r3, r4) validation.hasFailure //true validation.failures.map{it.message} //[Not a number, Division by zero] Why Result is suitable whenever there is a need to represent an operation that has the possibility of failure. Error handling can be cumbersome to work with. Result helps process the operations in a nice, functional way, while maintaining readability to your code. Let's consider a need to read data from foo, and to perform some further validation fun process(): String {     try {         val foo = File(""/path/to/file/foo.txt"").readText()         val isSuccessful = processData(foo)         if (!isSuccessful) {             return ""Data is corrupted and cannot be processed""         }     } catch (e: Exception) {         //do something if error          Logger.log(ERROR, e.message())     } } However, things start getting ugly when we have chain of operations being run sequentially, such as fun process(): String {     try {         val foo = File(""/path/to/file/foo.txt"").readText()         val isSuccessful = normalizedData(foo)         if (!isSuccessful) {             return ""Data cannot be processable""         }         val request = createRequestFromData(foo)         try {             val result = database.updateFromRequest(request)             if (!result) {                 return ""Record in DB is not found""             }         } catch (dbEx: DBException) {             return ""DB error, cannot update""         }     } catch (e: Exception) {         //do something if error          Logger.log(ERROR, e.message())     } } Ouch, it looks pretty bleak. Let's see how Result can help us. First, we break things down into a small set of model in Result. Read a file val operation = { File(""/path/to/file/foo.txt"").readText() } Result.of(operation)  // Result<String, FileException> Normalize a data fun normalizedData(foo): Result<Boolean, NormalizedException> {     Result.of(foo.normalize()) } Create a request from data fun createRequestFromData(foo): Request {     return createRequest(foo) } Update DB with Request fun database.updateFromRequest(request): Result<Boolean, DBException> {     val transaction = request.transaction     return Result.of(db.openTransaction {         val success = db.execute(transaction)         if (!success) {             throw DBException(""Error"")         }         return success     }) } The whole operation can be chained by the following; Result.of(operation)       .flatMap { normalizedData(it) }       .map { createRequestFromData(it) }       .flatMap { database.updateFromRequest(it) } The creates a nice ""happy path"" of the whole chain, also handle error as appropriate. It looks better and cleaner, right?. Never Fail Operation In some case, one wants to model an always successful operation. Result<V, NoException> is a good idea for that. NoException is to indicate that there is no exception to throw. E.g. // Add operation can never be failure fun add(i: Int, j: Int) : Result<Int, NoException> Nice thing about modelling in this way is to be able to compose it with others ""failable"" operations in Result. High Order functions Success map and flatMap map transforms Result with given transformation (V) -> U. As a result, we are able to transform V into a new V in the case where Result is Result.Success. When Result is Result.Failure, error is re-wrapped into a new Result. flatMap is similar to map, however it requires transformation in type of (V) -> Result<U, ...>. Failure mapError and flatMapError mapError ((E) -> E2) and flatMapError ((E) -> Result<E2, ...>) are counterpart of map and flatMap. However, they are operate on Result.Failure. It is quite handy when one needs to do some transformation on given Exception into a custom type of Exception that suits ones' need. Railway Oriented Programming If interested, here are more articles that one might enjoy. http://fsharpforfunandprofit.com/posts/recipe-part2/ https://speakerdeck.com/swlaschin/railway-oriented-programming-a-functional-approach-to-error-handling https://github.com/swlaschin/Railway-Oriented-Programming-Example Credit to Scott Wlaschin Credits Result is brought to you by contributors. License Result is released under the MIT license. The MIT License (MIT) Copyright (c) 2015 Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the ""Software""), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions: The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software. THE SOFTWARE IS PROVIDED ""AS IS"", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/kittinunf/Result"	""	"true"
"Functional Programming"	"brianegan/bansa"	"https://github.com/brianegan/bansa"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"220"	"9"	"15"	"GitHub - brianegan/bansa: A state container for Java & Kotlin, inspired by Redux & Elm Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 9 Star 220 Fork 15 brianegan/bansa Code Issues 5 Pull requests 0 Pulse Graphs A state container for Java & Kotlin, inspired by Redux & Elm 100 commits 9 branches 7 releases Fetching contributors Kotlin 63.4% Java 36.6% Kotlin Java Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags gh-pages injekt-android-4.x-fix-1 injekt-android-4.x-fix-2 injekt-android-4.x-fix-3 injekt-android-4.x-fix-4 injekt-android-4.x-fix-5 master remove-injekt video-playback-in-list Nothing to show 1.0.0-beta 0.3.0 0.2.0 0.1.0 0.0.3 0.0.2 0.0.1 Nothing to show New pull request Latest commit 023e5fc Jun 9, 2016 brianegan Add a license Permalink Failed to load latest commit information. bansa Yay! Probably stuff broken, but first version in place. May 1, 2016 bansaDevTools Only use the dev tools during debug builds May 5, 2016 bansaDevToolsUi Add kotlin-android back in for unit tests May 5, 2016 bansaKotlin Finish implementing the Dev Tools. Update all projects to use `Action… May 4, 2016 examples BansaDevToolsPresenter should not be here Jun 8, 2016 gradle/wrapper Convert tests to Spek, add more examples Jan 18, 2016 .gitignore Initial Commit of RxRedux Dec 13, 2015 LICENSE.md Add a license Jun 9, 2016 Readme.md syntax error in readme Jun 8, 2016 build.gradle Only use the dev tools during debug builds May 5, 2016 gradle.properties Initial Commit of RxRedux Dec 13, 2015 gradlew Initial Commit of RxRedux Dec 13, 2015 gradlew.bat Initial Commit of RxRedux Dec 13, 2015 settings.gradle Fix build to Deliver Maven Artifacts for DevToolsUi May 5, 2016 Readme.md Bansa This is my take on Redux, the state container for JavaScript apps. It's oriented toward developers who like building React-style apps and Kotlin! Why the name Bansa? Because it means ""Nation"" in Filipino. And a nations are ""state containers."" Get it!? Oh ho ho ho. Continue on for more, dear reader. Get it! // First, add JitPack to your repositories repositories {     ...     maven { url ""https://jitpack.io"" } }  // Base package. Everything else is built upon it! compile 'com.github.brianegan.bansa:bansa:1.0.0-beta'  // If you'd like a more functional interface in Kotlin, go ahead and use the Kotlin Extensions. compile 'com.github.brianegan.bansa:bansaKotlin:1.0.0-beta'  // Time Travel Dev Tools! Highly recommended you only use them // for development, as the store takes up more memory. Note: You can use // the provided UI, or write your own. debugCompile 'com.github.brianegan.bansa:bansaDevTools:1.0.0-beta' debugCompile 'com.github.brianegan.bansa:bansaDevToolsUi:1.0.0-beta' What's the goal? ""State Container"" is pretty vague. So let me explain what I'm trying to accomplish with this little project: An easier way to write Android UIs & Apps. Perhaps an easy way to start would be a concrete analogy. Think about List and RecyclerViews on Android. At a high level, you just give them some data and tell them how to render that data. When the data updates, you call notifyDataSetChanged to inform the View and it redraws everything for ya. Nice and simple. And heck, with RecyclerView, it'll even perform some pretty impressive animations with just a couple lines of code! That's what I'm going for with this project: I want a simple way to declare the way my interface should look, and when the data changes, everything should re-render for me! So where does Bansa fit into that picture, one might ask? It doesn't say anything on the box about making my life easier as a UI developer!? Bansa doesn't handle the UI magic. That's left to other tools, namely Anvil. Bansa is responsible for holding, or ""containing,"" the state of your application, and informing the UI layer (or database layer, or logging layer, etc) about updates to the state of the application. The examples in this project simply show one person's vision for how we could think about Android App development, and whether we could make it easier and more fun. Using it We'll demonstrate using a simple counter example! Define what your state should look like All we need for a simple counter example is the value of one counter. In one delicate line with Kotlin: data class ApplicationState(val counter: Int = 0) Define the types of actions of your application Actions are payloads of information that send data from your application to your state container, which we'll call the store from here on out. They are used to determine what actions your store should respond to. You send them from your application to a store with the store.dispatch(ACTION) method. So here are the three actions we need for our counter app: object INIT : Action object INCREMENT : Action object DECREMENT : Action Update the state with Reducers Actions describe the fact that something happened, but don’t specify how the application’s state changes in response. This is the job of a reducer. Let's see some code and we'll chat about it afterwards: val reducer = Reducer<ApplicationState> { state, action ->     when (action) {         is INIT -> ApplicationState()         is INCREMENT -> state.copy(counter = state.counter.plus(1))         is DECREMENT -> state.copy(counter = state.counter.minus(1))         else -> state     } } So what's happening here? A reducer is a function that takes two arguments: the current state of the application, and the action that was fired. It returns an updated version of the state. In this example, when the INIT action is fired, we want to initialize the state of our application. Therefore, we return a new instance. When the INCREMENT action is fired, we want to simply increase the counter by 1. If DECREMENT is fired, we'll need to decrease the counter by 1. And that's all there is to it: We're simply describing how the state should change in response to an action. Create a new store (this is your state container) Now that we've gotten everything setup, we can create our state container! val counterStore = BaseStore(ApplicationState(), reducer); And that's it! Now you've got a store. Woohoo! So what now? Dispatch (Fire / Trigger) an action The following code will dispatch an action that travels first through any middleware (we'll chat about those later), then through the reducers, generally producing a state change. counterStore.dispatch(INCREMENT) Get the current state of the store Say you want to know what the current state of the app is. That's simple: counterStore.getState() // After the INCREMENT, state is now (counter = 1) And this is where the magic begins: Subscribe to updates! counterStore.subscribe({     textView.setText(store.getState()) }) ZOMG MY TEXT JUST UPDATED DUE TO A STATE CHANGE!!! Stay with me! I know what you're saying: ""Bri, I've seen all this before. It's called an EVENT BUS."" And you know what? You're pretty much right. This isn't anything radical, it's just gluing some pieces together in a different way. But just think about how we can use this pattern to simplify our UIs. Hooking it up to Anvil Ok, so now we have to chat about Anvil. It's a simple way to write UIs in Java & Kotlin, and it might be a bit different than what you're used to. With Anvil, you simply describe your UI in Java / Kotlin code (not XML -- give it a few minutes, I think you'll fall in love), update the state, and call Anvil.render(). Then everything just updates! We've done it! We've achieved the goal set out in the opening paragraphs!!! So here's an example view. It's job is to create a linearLayout with three child views: A text view to display the current count, an plus button, and a minus button. When someone clicks on the plus button, we want to dispatch an INCREMENT action. When someone clicks the minus button, we want to dispatch a DECREMENT action. linearLayout {     size(FILL, WRAP)     orientation(LinearLayout.VERTICAL)      textView {         text(""Counts: ${store.state.counter.toString()}"") // The counter from our state model!     }      button {         size(FILL, WRAP)         padding(dip(10))         text(""+"")         onClick(store.dispatch(INCREMENT))     }      button {         size(FILL, WRAP)         padding(dip(5))         text(""-"")         onClick(store.dispatch(DECREMENT))     } } And now, we hook anvil and Bansa up together: counterStore.subscribe({     Anvil.render() }) That's right: When a user clicks ""+"", the increment action will be fired, the reducer will update the state, and our UI will auto-render with the new info. WHAAAAAAAAAAT. Dev Tools Maybe one of the cooler bonuses about this pattern is that it happens to lend itself well to time-travel style Dev tools! What are time travel dev tools you say? What if, for every action you take in an application, you could replay what happened? Then you could step forward and backward through that series of actions to see the steps along the way. You can totally do that with Bansa! More documentation needs to be written about implementing the Time Travel Dev tools, but for now, please see the Counter example as a reference implementation! It should be possible to get the Dev Tools up and running with only a small amount of code. Dev Tools Screenshot Examples There are a progression of examples that can be found in the ""Examples"" folder. If you're interested in progressing through them, the suggested order is: Counter Counter pair List of counters List of counters variant Random gif List of trending gifs Todo List More docs -- public shameful note for Brian Write sections for: Async Actions Middleware Combining reducers Breaking down apps into smaller parts Things to think about How views should asynchronously request / remove data from the store upon instantiation and disposal if it's safe. What is the role of the database? Store actions? Store models? Could views describe their data requirements as queries, similar to Falcor or GraphQL? Technical Goals If you're thinking of writing your own version of Redux in Java: I'd say, go for it! This libray has benefitted tremendously from the various versions that have been written thus far, and the current version is an attempt to synthesize the best parts of each implementation. When evaluating the various libs, I came up with a bucket list for what this library should accomplish for a 1.0 release: Idiomatic Java and Kotlin usage. Low method count Easy to pick up, even if you come from a less functional background. Support for all basic Redux concepts in the smallest possible package. This includes the Store, Middleware, Reducers, and Subscribers/Subscriptions, and combining Reducers. Dev Tools that allow for Time Travel debugging Interface that allows for sharable middleware & reducers (such as Logging middelware, or Undo/Redo reducer helpers) Well tested The tech setup If you like Buzzwords, then boy howdy, have you found yourself the right repo. Bansa itself has one important dependency, RxJava, and is written in Kotlin. The examples use: Kotlin (yay! it's so lovely.) Anvil for UI RxJava for Observables OkHttp for, uh, http Moshi for Json parsing Picasso for image loading JUnit for Unit Testing AssertJ to make dem assertions all fluent like Inspiration I'd also like to add that this library is a complete , these ideas aren't new in any way. Credit has to be given to the following projects, listed in autobiographical order. React Om ClojureScript Elm Redux CycleJs redux-java - by my coworker and friend, Guillaume Lung re-frame Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/brianegan/bansa"	""	"true"
"JSON"	"cbeust/klaxon"	"https://github.com/cbeust/klaxon"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"108"	"11"	"11"	"GitHub - cbeust/klaxon: A JSON parser for Kotlin Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 11 Star 108 Fork 11 cbeust/klaxon Code Issues 2 Pull requests 1 Pulse Graphs A JSON parser for Kotlin 208 commits 1 branch 10 releases Fetching contributors Kotlin 99.4% Other 0.6% Kotlin Other Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags master Nothing to show klaxon-0.10 klaxon-0.9 klaxon-0.8 klaxon-0.7 klaxon-0.6 klaxon-0.5 klaxon-0.4 klaxon-0.3 klaxon-0.2 klaxon-0.1 Nothing to show New pull request Latest commit 076d44e Jun 6, 2016 cbeust Update. Permalink Failed to load latest commit information. gradle gradle 2.10 Feb 15, 2016 kobalt Update. Jun 6, 2016 src Remove public. Feb 19, 2016 .gitignore ignore .kobalt folder Dec 29, 2015 .travis.yml Use kobaltw on Travis Nov 3, 2015 LICENSE.txt License. Apr 29, 2015 README.md Update to 0.24 and change arrayListOf to listOf Feb 16, 2016 build.gradle new version Feb 15, 2016 empty-javadoc.jar Gradle and bintray work. Apr 29, 2015 gradlew +x permission for gradlew. Apr 29, 2015 gradlew.bat Gradle and bintray work. Apr 30, 2015 klaxon.iml IDEA file. Mar 12, 2016 kobaltw kobaltw Mar 12, 2016 pom.xml Upgrade to Kotlin M12 Jun 4, 2015 README.md Klaxon: JSON for Kotlin Klaxon is a lightweight library to parse JSON in Kotlin. Install repositories {     jcenter() }  dependencies {     compile 'com.beust:klaxon:0.24' } API Values parsed from a valid JSON file can be of the following type: Int Long BigInteger String Double Boolean JsonObject JsonArray JsonObject behaves like a Map while JsonArray behaves like a List. Once you have parsed a file, you should cast it to the type that you expect. For example, consider this simple file called object.json: {     ""firstName"" : ""Cedric"",     ""lastName"" : ""Beust"" } Since this is a JSON object, we parse it as follows: fun parse(name: String) : Any {     val cls = javaClass<Parser>()     val inputStream = cls.getResourceAsStream(name)!!     return Parser().parse(inputStream)!! }  // ...  val obj = parse(""/object.json"") as JsonObject You can also access the JSON content as a file, or any other resource you can get an InputStream from. Let's query these values:     val firstName = obj.string(""firstName"")     val lastName = obj.string(""lastName"")     println(""Name: ${firstName} ${lastName}"")      // Prints: Name: Cedric Beust JsonObject implements the following methods:     fun int(fieldName: String) : Int?     fun long(fieldName: String) : Long?     fun bigInt(fieldName: String) : BigInteger?     fun string(fieldName: String) : String?     fun double(fieldName: String) : Double?     fun boolean(fieldName: String) : Boolean?     fun obj(fieldName: String) : JsonObject?     fun <T> array(thisType: T, fieldName: String) : JsonArray<T>? JsonArray implements the same methods, except that they return JsonArrays of the same type. This allows you to easily fetch collections of fields or even sub-objects. For example, consider the following: [     {         ""name"" : ""John"",         ""age"" : 20     },     {         ""name"" : ""Amy"",         ""age"" : 25     },     {         ""name"" : ""Jessica"",         ""age"" : 38     } ] We can easily collect all the ages as follows: val array = parse(""/e.json"") as JsonArray<JsonObject>  val ages = array.long(""age"") println(""Ages: ${ages}"")  // Prints: Ages: JsonArray(value=[20, 25, 38]) Since a JsonArray behaves like a List, we can apply closures on them, such as filter: val oldPeople = array.filter {     it.long(""age"")!! > 30 } println(""Old people: ${oldPeople}"")  // Prints: Old people: [JsonObject(map={age=38, name=Jessica})] Let's look at a more complex example: [     {         ""first"": ""Dale"",         ""last"": ""Cooper"",         ""schoolResults"" : {             ""scores"": [                 { ""name"": ""math"", ""grade"" : 90 },                 { ""name"": ""physics"", ""grade"" : 50 },                 { ""name"": ""history"", ""grade"" : 85 }             ],             ""location"" : ""Berkeley""         }     },     {         ""first"": ""Kara"",         ""last"": ""Thrace"",         ""schoolResults"" : {             ""scores"": [                 { ""name"": ""math"", ""grade"" : 75 },                 { ""name"": ""physics"", ""grade"" : 90 },                 { ""name"": ""history"", ""grade"" : 55 }             ],             ""location"" : ""Stanford""         }     },     {         ""first"": ""Jack"",         ""last"": ""Harkness"",         ""schoolResults"" : {             ""scores"": [                 { ""name"": ""math"", ""grade"" : 40 },                 { ""name"": ""physics"", ""grade"" : 82 },                 { ""name"": ""history"", ""grade"" : 60 }             ],             ""location"" : ""Berkeley""         }     } ] Let's chain a few operations, for example, finding the last names of all the people who studied in Berkeley: println(""=== Everyone who studied in Berkeley:"") val berkeley = array.filter {     it.obj(""schoolResults"")?.string(""location"") == ""Berkeley"" }.map {     it.string(""last"") } println(""${berkeley}"")  // Prints: // === Everyone who studied in Berkeley: // [Cooper, Harkness] All the grades over 75: println(""=== All grades bigger than 75"") val result = array.flatMap {     it.obj(""schoolResults"")             ?.array(JsonObject(), ""scores"")?.filter {                 it.long(""grade"")!! > 75             }!! } println(""Result: ${result}"")  // Prints: // === All grades bigger than 75 // Result: [JsonObject(map={name=math, grade=90}), JsonObject(map={name=history, grade=85}), JsonObject(map={name=physics, grade=90}), JsonObject(map={name=physics, grade=82})]  Note the use of flatMap which transforms an initial result of a list of lists into a single list. If you use map, you will get a list of three lists: // Using map instead of flatMap // Prints: // Result: [[JsonObject(map={name=math, grade=90}), JsonObject(map={name=history, grade=85})], [JsonObject(map={name=physics, grade=90})], [JsonObject(    map={name=physics, grade=82})]] Pretty printing You can convert any JsonObject to a valid JSON string by calling toJsonString() on it. If you want to get pretty-printed version then you can call toJsonString(true) Advanced DSL Creating a JSON object with the Klaxon DSL makes it possible to insert arbitrary pieces of Kotlin code anywhere you want. For example, the following creates an object that maps each number from 1 to 3 with its string key: val logic = json {     array(listOf(1,2,3).map {         obj(it.toString(), it)     }) } println(""Result: ${logic.toJsonString()}"") will output: Result: [ { ""1"" : 1 }, { ""2"" : 2 }, { ""3"" : 3 }  ] Flattening and path lookup If we have the following JSON {     ""users"" : [         {             ""email"" : ""user@is.here""         },         {             ""email"" : ""spammer@there.us""         }     ] } We can find all emails by parse('my.json').lookup<String?>(""users.email"") Implementation The Parser is implemented as a mutable state machine supported by a simplistic State monad, making the main loop very simple: val sm = StateMachine() val lexer = Lexer(inputStream) var world = World(Status.INIT) do {     val token = lexer.nextToken()     world = sm.next(world, token) } while (token.tokenType != Type.EOF) Limitations Currently reads the entire JSON content in memory. Streaming will be available soon for large files. Error handling is very primitive Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/cbeust/klaxon"	""	"true"
"JSON"	"SalomonBrys/Kotson"	"https://github.com/SalomonBrys/Kotson"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"155"	"5"	"8"	"GitHub - SalomonBrys/Kotson: Kotlin bindings for JSON manipulation via Gson Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 5 Star 155 Fork 8 SalomonBrys/Kotson Code Issues 0 Pull requests 0 Pulse Graphs Kotlin bindings for JSON manipulation via Gson 41 commits 1 branch 0 releases 4 contributors Kotlin 100.0% Kotlin Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags master Nothing to show Nothing to show New pull request Latest commit da4572d Jun 22, 2016 SalomonBrys Version `2.3.0` introduces Gson `1.7` and corrects a bug in `Serializ… … …erArg.Context` Permalink Failed to load latest commit information. gradle/wrapper v2.2.2: `jsonArray` and `jsonObject` functions are now usable with `I… Jun 14, 2016 src Version `2.3.0` introduces Gson `1.7` and corrects a bug in `Serializ… Jun 22, 2016 .gitignore Kotlin bindings Feb 15, 2015 .travis.yml v1.4.1 brings kotlin M14-451, some JsonObject utils and more tests Oct 19, 2015 CHANGELOG.md Version `2.3.0` introduces Gson `1.7` and corrects a bug in `Serializ… Jun 22, 2016 LICENSE.txt Kotlin bindings Feb 15, 2015 README.md Version `2.3.0` introduces Gson `1.7` and corrects a bug in `Serializ… Jun 22, 2016 build.gradle Version `2.3.0` introduces Gson `1.7` and corrects a bug in `Serializ… Jun 22, 2016 gradlew Kotlin bindings Feb 15, 2015 gradlew.bat Kotlin bindings Feb 15, 2015 settings.gradle Kotlin 1.0.0-rc-1036 Feb 5, 2016 README.md Kotson: Gson for Kotlin Kotson enables you to parse and write JSON with Google's Gson using a conciser and easier syntax. Kotson is a set of extension functions, meaning that it adds utility functions and syntactic sugars to Gson in Kotlin. It does not add new features to Gson nor does it creates new types. It is therefore usable on any Gson object, whether created from java or kotlin in source or library. Install Maven: <dependency>     <groupId>com.github.salomonbrys.kotson</groupId>     <artifactId>kotson</artifactId>     <version>2.3.0</version> </dependency>  Gradle: compile 'com.github.salomonbrys.kotson:kotson:2.3.0'  Table Of Contents Kotson: Gson for Kotlin Install Table Of Contents Usage Creating Json Setting custom (de)serializers Setting custom Readers and Writers Parsing JSON Browsing Json Elements Mutating Json Elements Copying Json Elements Accessing object fields via property delegates Let's talk! Donate Usage Creating Json JsonObject: import com.github.salomonbrys.kotson.*  val obj: JsonObject = jsonObject(     ""name"" to ""kotson"",     ""creation"" to Date().getTime(),     ""files"" to 4 ) JsonArray: import com.github.salomonbrys.kotson.*  val arr: JsonArray = jsonArray(""one"", ""two"", 42, 21.5) Of course, a combination of both: import com.github.salomonbrys.kotson.*  val obj: JsonObject = jsonObject(     ""property"" to ""value"",     ""array"" to jsonArray(         21,         ""fourty-two"",         jsonObject(""go"" to ""hell"")     ) ) JsonPrimitives: import com.github.salomonbrys.kotson.*  val pi = 42.toJson()         // java: new JsonPrimitive(42); val pf = 42.21f.toJson()     // java: new JsonPrimitive(42.21f); val pd = 42.21.toJson()      // java: new JsonPrimitive(42.21d); val pc = 'c'.toJson()        // java: new JsonPrimitive('c'); val pz = true.toJson()       // java: new JsonPrimitive(true); val os = ""coucou"".toJson()   // java: new JsonPrimitive(""coucou""); Setting custom (de)serializers If you need to register a serializer / deserializer / InstanceCreator, you can use these ""builder"" APIs: import com.github.salomonbrys.kotson.*  val gson = GsonBuilder()     .registerTypeAdapter<MyType> {          serialize {             /*                 it.type: Type to serialize from                 it.context: GSon context                 it.src : Object to serialize             */         }          deserialize {             /*                 it.type: Type to deserialize to                 it.context: GSon context                 it.json : JsonElement to deserialize from             */         }          createInstances {             /*                 it: Type of instance to create             */         }      }     .registerTypeHierarchyAdapter<MyOtherType> {         serialize { /* Same a above */ }         deserialize { /* Same a above */ }         createInstances { /* Same a above */ }     }     .create() Of course, you can declare only a serializer, a deserializer or an instance creator. You don't have to declare all three. You don't have to declare all your JsonSerializers, JsonDeserializers and InstanceCreators where you initialize Gson. Kotson allows you to create those type adapters in different files using the functions jsonSerializer, jsonDeserializer and instanceCreator. You will then be able to register those when creating the Gson object: //TypeAdapters.kt import com.github.salomonbrys.kotson.*  val personSerializer = jsonSerializer { /* Same arguments as before */ } //Main.kt import com.github.salomonbrys.kotson.*  val gson = GsonBuilder().registerTypeAdapter<Person>(personSerializer).create() Setting custom Readers and Writers Gson has another API (named Stream API) that allows to register writers (to JsonWriter) and readers (from JsonReader). Here is an example for a simple Person class: import com.github.salomonbrys.kotson.*  val gson = GsonBuilder()     .registerTypeAdapter<Person> {          write {             beginArray()             value(it.name)             value(it.age)             endArray()         }          read {             beginArray()             val name = nextString()             val age = nextInt()             endArray()              Person(name, age)         }      }     .create() While a bit more complex and difficult to handle, this API is also better optimized. So if you're after performance, I recommend you use this API. Using this API has a few drawbacks: You must define both write and read You cannot use a mix (serialize + read or write + deserialize). In read, you cannot access the exact object type that you are deserializing to (the it.type of deserialize). If you wish to register a nullable reader or writer, you can use registerNullableTypeAdapter instead. You don't have to declare all your TypeAdapters where you initialize Gson. Kotson allows you to create those type adapters in different files using the functions typeAdapter and nullableTypeAdapter. You will then be able to register those when creating the Gson object: //TypeAdapters.kt import com.github.salomonbrys.kotson.*  val personTypeAdapter = typeAdapter<Person> {     write { /*...*/ }     read { /*...*/ } } //Main.kt import com.github.salomonbrys.kotson.*  val gson = GsonBuilder().registerTypeAdapter<Person>(personSerializer).create() Kotson provides no utility function for the TypeAdapterFactory interface. Because this interface defines a generic function, there is currently no other way to use it other than implementing it on a regular object or class. Parsing JSON Kotson provides a simple API that does not suffer from Java's type erasure. That means that whatever the output type, it will be parsed correctly and eliminates the need for TypeToken. import com.github.salomonbrys.kotson.*  val gson = Gson()  // java: List<User> list = gson.fromJson(src, new TypeToken<List<User>>(){}.getType()); val list1 = gson.fromJson<List<User>>(jsonString) val list2 = gson.fromJson<List<User>>(jsonElement) val list3 = gson.fromJson<List<User>>(jsonReader) val list4 = gson.fromJson<List<User>>(reader) Attention: gson.fromJson<MyType> will return a non-nullable type whereas gson.fromJson<MyType?> will return a nullable type. Therefore the code gson.fromJson<MyType>(""null"") is correct and will throw a null-pointer exception! A lot of Gson's APIs are relying on java.lang.reflect.Type to specify a type, but Kotlin's javaClass returns a java.lang.Class which is a Type but suffers from type erasure. To mediate this issue, Gson uses TypeToken to create java.lang.reflect.Type objects without type erasure. If you need such a Type object, you can simply use the typeToken function the same way you use the javaClass function. For example: typeToken<Map<String, List<User>>>() Careful: the typeToken function behaves slightly differently then Gson's TypeToken class. When providing a non-specialized generic type, typeToken<List<*>> will return Class<List> (while Gson's mechanism will return a ParameterizedType). If you really need a ParameterizedType for a non-specialized generic type, you can use the gsonTypeToken function. Browsing Json Elements Kotson allows you to simply convert a jsonElement to a primitive, a JsonObject or a JsonArray: import com.github.salomonbrys.kotson.*  val s = json.string // java: String s = json.getAsString(); val i = json.int    // java: int i = json.getAsBoolean(); val a = json.array  // java: JsonArray = json.getAsJsonArray(); val o = json.obj    // java: JsonObject = json.getAsJsonObject();  val ns = json.nullString // java: String s = json.isJsonNull() ? null : json.getAsString(); val ni = json.nullInt    // java: Integer i = json.isJsonNull() ? null : json.getAsInt(); val na = json.nullArray  // java: JsonArray = json.isJsonNull() ? null : json.getAsJsonArray(); val no = json.nullObj    // java: JsonObject = json.isJsonNull() ? null : json.getAsJsonObject(); The same APIs exist for .string, .bool, .byte, .char, .short, .int, .long, .float, .double, .number, .bigInteger, .bigDecimal, .array, .obj Kotson provides a simple API that allows you to easily browse JsonElement, JsonObject and JsonArray: import com.github.salomonbrys.kotson.*  // java: JsonElement components = colors.getAsJsonObject().get(""orange""); val components = colors[""orange""]  // java: JsonElement greenComp = components.getAsJsonArray().get(1); val greenComp = components[1]   // java: int greenComp = json .getAsJsonObject() //                            .getAsJsonObject(""colors"") //                            .getAsJsonArray(""orange"") //                            .get(1) //                            .getAsInt();  val greenComp = json[""colors""][""orange""][1].int Mutating Json Elements Kotson allows you to mutate a JsonObject or a JsonArray: import com.github.salomonbrys.kotson.*  fun test() {     val array = jsonArray(""zero"", ""x"", ""two"")     array[1] = ""one""     array += ""three""     array -= ""zero""      val obj = jsonObject()     obj[""this""] = ""that""     obj += ""answer"" to 42     obj -= ""this"" } Copying Json Elements Kotson allows you to make a shallow copy (single-level copy) or a deep copy (recursive copy) of a JsonObject or a JsonArray: import com.github.salomonbrys.kotson.*  val shallow = json.shallowCopy() val deep = json.deepCopy() Accessing object fields via property delegates Kotson allows you to delegate properties to JsonObject fields: import com.github.salomonbrys.kotson.*  class Person(public val obj: JsonObject) {     val id: String by obj.byString               // Maps to obj[""id""]     val name: String by obj.byString(""fullName"") // Maps to obj[""fullName""]     val birthDate: Int by obj[""dates""].byInt(0)  // Maps to obj[""dates""][0] } Let's talk! You've read so far ?! You're awsome! Why don't you drop by the Kotson Slack channel on Kotlin's Slack group? Donate Kotson is free to use for both non-profit and commercial use and always will be. If you wish to show some support or appreciation to my work, you are free to donate! This would be (of course) greatly appreciated but is by no means necessary to receive help or support, which I'll be happy to provide for free :) Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/SalomonBrys/Kotson"	""	"true"
"JSON"	"FasterXML/jackson-module-kotlin"	"https://github.com/FasterXML/jackson-module-kotlin"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"110"	"9"	"17"	"GitHub - FasterXML/jackson-module-kotlin: Module that adds support for serialization/deserialization of Kotlin (http://kotlinlang.org) classes and data classes. Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 9 Star 110 Fork 17 FasterXML/jackson-module-kotlin Code Issues 0 Pull requests 1 Pulse Graphs Module that adds support for serialization/deserialization of Kotlin (http://kotlinlang.org) classes and data classes. 347 commits 7 branches 56 releases 6 contributors Kotlin 100.0% Kotlin Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags 2.4 2.5 2.6 2.7 gh-pages kotlin-snapshot master Nothing to show jackson-module-kotlin-2.8.0 jackson-module-kotlin-2.8.0.rc2 jackson-module-kotlin-2.8.0.rc1 jackson-module-kotlin-2.7.5 jackson-module-kotlin-2.7.4 jackson-module-kotlin-2.7.3 jackson-module-kotlin-2.7.2 jackson-module-kotlin-2.7.1 jackson-module-kotlin-2.7.1-2 jackson-module-kotlin-2.7.0 jackson-module-kotlin-2.7.0-rc3 jackson-module-kotlin-2.7.0-rc2 jackson-module-kotlin-2.7.0-rc1 jackson-module-kotlin-2.6.7 jackson-module-kotlin-2.6.6 jackson-module-kotlin-2.6.5 jackson-module-kotlin-2.6.5-2 jackson-module-kotlin-2.6.5-1 jackson-module-kotlin-2.6.4 jackson-module-kotlin-2.6.4-1 jackson-module-kotlin-2.6.3 jackson-module-kotlin-2.6.3-4 jackson-module-kotlin-2.6.3-3 jackson-module-kotlin-2.6.3-2 jackson-module-kotlin-2.6.3-1 jackson-module-kotlin-2.6.2 jackson-module-kotlin-2.6.2-3 jackson-module-kotlin-2.6.2-2 jackson-module-kotlin-2.6.2-1 jackson-module-kotlin-2.6.1 jackson-module-kotlin-2.6.0 jackson-module-kotlin-2.6.0-rc4 jackson-module-kotlin-2.6.0-rc3 jackson-module-kotlin-2.6.0-rc2 jackson-module-kotlin-2.6.0-rc1 jackson-module-kotlin-2.5.5 jackson-module-kotlin-2.5.5-2 jackson-module-kotlin-2.5.5-1 jackson-module-kotlin-2.5.4 jackson-module-kotlin-2.5.3.1 jackson-module-kotlin-2.5.3 jackson-module-kotlin-2.5.2 jackson-module-kotlin-2.5.1.1.KotlinM11 jackson-module-kotlin-2.5.0 jackson-module-kotlin-2.5.0-rc1 jackson-module-kotlin-2.4.6 jackson-module-kotlin-2.4.5 jackson-module-kotlin-2.4.4 jackson-module-kotlin-2.4.4-1 jackson-module-kotlin-2.4.3 jackson-module-kotlin-2.4.2-rc1 2.5.5-2b 2.5.1.1b 2.5.1b 2.4.3c 2.4.3b Nothing to show New pull request Latest commit 6bed2b7 Jul 4, 2016 cowtowncoder [maven-release-plugin] prepare for next development iteration Permalink Failed to load latest commit information. release-notes prepare for 2.8.0 Jul 4, 2016 src rename test class to Test* naming Jul 3, 2016 .gitattributes ... Apr 4, 2016 .gitignore update to Kotlin M9 Oct 15, 2014 .travis.yml Added .travis.yml. Feb 27, 2015 README.md updating README for 2.8.x version, and change Jun 20, 2016 pom.xml [maven-release-plugin] prepare for next development iteration Jul 4, 2016 README.md Overview Module that adds support for serialization/deserialization of Kotlin classes and data classes. Previously a default constructor must have existed on the Kotlin object for Jackson to deserialize into the object. With this module, single constructor classes can be used automatically, and those with secondary constructors or static factories are also supported. Status Releases are available on Maven Central: release 2.8.0.rc2 (for Jackson 2.8.x) now supports using default values in constructor and creator methods release 2.7.5 (for Jackson 2.7.x) release 2.6.7 (for Jackson 2.6.x) release 2.5.5-2 (for Jackson 2.5.x) Releases require that you have included Kotlin stdlib and reflect libraries already. Gradle: compile ""com.fasterxml.jackson.module:jackson-module-kotlin:2.7.5""  Maven: <dependency>     <groupId>com.fasterxml.jackson.module</groupId>     <artifactId>jackson-module-kotlin</artifactId>     <version>2.7.5</version> </dependency> Usage For any Kotlin class or data class constructor, the JSON property names will be inferred from the parameters using Kotlin runtime type information. To use, just register the Kotlin module with your ObjectMapper instance: val mapper = ObjectMapper().registerModule(KotlinModule()) or with the extension functions imported from import com.fasterxml.jackson.module.kotlin.*, one of: val mapper = jacksonObjectMapper() val mapper = ObjectMapper().registerKotlinModule() A simple data class example: import com.fasterxml.jackson.module.kotlin.*  data class MyStateObject(val name: String, val age: Int)  ... val mapper = jacksonObjectMapper()  val state = mapper.readValue<MyStateObject>(json) // or val state: MyStateObject = mapper.readValue(json) // or myMemberWithType = mapper.readValue(json) All inferred types for the extension functions carry in full generic information (reified generics). Therefore using readValue() extension without the Class parameter will reify the type and automatically create a TypeReference for Jackson. Annotations You can intermix non-field values in the constructor and JsonProperty annotation in the constructor. Any fields not present in the constructor will be set after the constructor call. An example of these concepts:    @JsonInclude(JsonInclude.Include.NON_EMPTY)    class StateObjectWithPartialFieldsInConstructor(val name: String, @JsonProperty(""age"") val years: Int)    {         @JsonProperty(""address"") lateinit var primaryAddress: String   // set after construction         var createdDt: DateTime by Delegates.notNull()                // set after construction         var neverSetProperty: String? = null                          // not in JSON so must be nullable with default     } Note that using lateinit or Delegates.notNull() will ensure that the value is never null when read, while letting it be instantiated after the construction of the class. Caveats The @JsonCreator annotation is optional unless you have more than one constructor that is valid, or you want to use a static factory method (which also must have platformStatic annotation). In these cases, annotate only one method as JsonCreator. Serializing a member or top-level Kotlin class that implements Iterator requires a workaround, see Issue #4 for easy workarounds. Support for Kotlin Built-in classes These Kotlin classes are supported with the following fields for serialization/deserialization (and other fields are hidden that are not relevant): Pair (first, second) Triple (first, second, third) IntRange (start, end) CharRange (start, end) LongRange (start, end) (others are likely to work, but may not be tuned for Jackson) Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/FasterXML/jackson-module-kotlin"	""	"true"
"JSON"	"fboldog/ext4klaxon"	"https://github.com/fboldog/ext4klaxon"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"0"	"1"	"0"	"GitHub - fboldog/ext4klaxon: Type Extensions for Klaxon (Kotlin JSON library) Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 1 Star 0 Fork 0 fboldog/ext4klaxon Code Issues 0 Pull requests 0 Pulse Graphs Type Extensions for Klaxon (Kotlin JSON library) 37 commits 1 branch 4 releases Fetching contributors Kotlin 100.0% Kotlin Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags master Nothing to show ext4klaxon-0.2.5 ext4klaxon-0.2.4 ext4klaxon-0.2.1 ext4klaxon-0.1.0 Nothing to show New pull request Fetching latest commit… Cannot retrieve the latest commit at this time. Permalink Failed to load latest commit information. gradle/wrapper src .gitignore .travis.yml LICENSE README.md build.gradle gradlew gradlew.bat publish.properties README.md ext4klaxon Type Extensions for Klaxon (Kotlin JSON library) Current extensions: Long Int Enum Date Long Get Long, Double, Float, String as Int, without loosing precision when it is convertable val i = jsonObject.intStrict(""fieldName"") Int Get Int, Double, Float or String as Long, when it is convertable val l = jsonObject.intStrict(""fieldName"") Enum Convert any string to enum: val e = jsonObject.enum<EnumType>(""fieldName"") val e = jsonObject.enumFromValues(""fieldName"", Enum.values()) val e = jsonObject.enumFromFunction(""fieldName"", {f->function(f)}) Date Get any whole Numeric as Date val e = jsonObject.date(""fieldName"") Download ext4klaxon is under development. Gradle: compile 'com.fboldog.ext4klaxon:ext4klaxon:0.2.4' or Maven: <dependency>   <groupId>com.fboldog.ext4klaxon</groupId>   <artifactId>ext4klaxon</artifactId>   <version>0.2.4</version> </dependency> Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/fboldog/ext4klaxon"	""	"true"
"JSON"	"Jire/KTON"	"https://github.com/Jire/KTON"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"7"	"1"	"1"	"GitHub - Jire/KTON: Object notation in pure Kotlin! Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 1 Star 7 Fork 1 Jire/KTON Code Issues 0 Pull requests 0 Pulse Graphs Object notation in pure Kotlin! 21 commits 1 branch 1 release 1 contributor Kotlin 100.0% Kotlin Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags master Nothing to show 0.1 Nothing to show New pull request Latest commit 1d8517d Feb 16, 2016 Jire Removed .idea files Permalink Failed to load latest commit information. src/main/kotlin/org/jire/kton Starting 0.2: Added more convenient and safe array declarations Jan 19, 2016 .travis.yml Updated to Kotlin 4589, added Travis support Jan 19, 2016 LICENSE Changed license to MIT, mapping values is now done with infix ""to"" fu… Jan 2, 2016 README.md Updated to Kotlin 1.0.0, removed project iml Feb 16, 2016 build.gradle Updated to Kotlin 1.0.0, removed project iml Feb 16, 2016 settings.gradle Working on getting Travis to build Jan 19, 2016 README.md KTON Object notation in pure Kotlin! This library is licensed under The MIT License. KTON allows you to notate objects in an easy syntax using pure Kotlin. This is mostly a toy project but it may be useful for certain cases. I'd like to make conversion to JSON and provide more advanced features. The following shows the differences between JSON, XML, and KTON. (Data used from http://json.org/example.html) JSON: {     ""menu"": {         ""id"": ""file"",         ""value"": ""File"",         ""popup"": {             ""menuitem"": [                 { ""value"": ""New"", ""onclick"": ""CreateNewDoc()"" },                 { ""value"": ""Open"", ""onclick"": ""OpenDoc()"" },                 { ""value"": ""Close"", ""onclick"": ""CloseDoc()"" }             ]         }     } } XML: <menu id=""file"" value=""File"">     <popup>         <menuitem value=""New"" onclick=""CreateNewDoc()"" />         <menuitem value=""Open"" onclick=""OpenDoc()"" />         <menuitem value=""Close"" onclick=""CloseDoc()"" />     </popup> </menu> KTON: val menu = kton {     ""id"" to ""file""     ""value"" to ""File""     ""popup"" {         ""menuitem"" [             { ""value"" to ""New""; ""onclick"" to ""CreateNewDoc()"" },             { ""value"" to ""Open""; ""onclick"" to ""OpenDoc()"" },             { ""value"" to ""Close""; ""onclick"" to ""CloseDoc()"" }         ]     } } Accessing data from a KTON is done with concise syntax. Using the above example... // Value access through get operator: val id = menu[""id""] // ""file"" val value = menu[""value""] // ""File""  // Body access through invoke operator: val popup = menu(""popup"") val menuitems = popup(""menuitem"")  // Array access through get operator specifying index: val newValue = menuitems[0][""value""] // ""New"" val open = menuitems[1] val openValue = open[""value""] // ""Open"" val closeOnClick = menuitems[2][""onclick""] // ""CloseDoc()"" Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/Jire/KTON"	""	"true"
"Database"	"JetBrains/Exposed"	"https://github.com/jetbrains/Exposed"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"194"	"28"	"44"	"GitHub - JetBrains/Exposed: Kotlin SQL Framework Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 28 Star 194 Fork 44 JetBrains/Exposed forked from cheptsov/kotlin-nosql Code Issues 5 Pull requests 2 Pulse Graphs Kotlin SQL Framework 570 commits 2 branches 9 releases 13 contributors Kotlin 100.0% Kotlin Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags 0.4.3 master Nothing to show 0.5.0 0.4.2 0.4.1 0.4 0.3.2 0.3.1 0.3 0.2 0.1 Nothing to show New pull request Pull request Compare This branch is 526 commits ahead, 170 commits behind cheptsov:master. Latest commit f134c27 Jul 13, 2016 guredd fix for immutable cache initialization … (cherry picked from commit 389a1a7) Permalink Failed to load latest commit information. gradle/wrapper spring-transaction artifact configuration May 4, 2016 out/test/exposed Platform mapping for mxj + kill.exe for windows Jul 1, 2016 spring-transaction/src @Transaction: fIxed connection already closed exception May 4, 2016 src fix for immutable cache initialization Jul 13, 2016 .gitignore Switch to Gradle Jan 21, 2016 README.md Fixed example compilation issues Jul 6, 2016 build.gradle PgSQLServiceUtils removed due to postgresql-embedded v.1.13 supports … May 4, 2016 gradle.properties Kotlin 1.0.3 dependency updated Jul 1, 2016 gradlew Gradle 2.12 (with compileOnly support) + Kotlin 1.0.1 Apr 30, 2016 gradlew.bat Gradle 2.12 (with compileOnly support) + Kotlin 1.0.1 Apr 30, 2016 settings.gradle Support for Spring @Transactional Apr 15, 2016 README.md Kotlin SQL Library Exposed is a prototype for a lightweight SQL library written over JDBC driver for Kotlin language. It does have two layers of database access: typesafe SQL wrapping DSL and lightweight data access objects Exposed is currently available for maven/gradle builds at https://bintray.com/kotlin/exposed/exposed/view# SQL DSL sample: import org.jetbrains.exposed.sql.* import org.jetbrains.exposed.sql.transactions.transaction import org.jetbrains.exposed.sql.SchemaUtils.create import org.jetbrains.exposed.sql.SchemaUtils.drop  object Users : Table() {     val id = varchar(""id"", 10).primaryKey() // Column<String>     val name = varchar(""name"", length = 50) // Column<String>     val cityId = (integer(""city_id"") references Cities.id).nullable() // Column<Int?> }  object Cities : Table() {     val id = integer(""id"").autoIncrement().primaryKey() // Column<Int>     val name = varchar(""name"", 50) // Column<String> }  fun main(args: Array<String>) {     Database.connect(""jdbc:h2:mem:test"", driver = ""org.h2.Driver"")      transaction {         create (Cities, Users)          val saintPetersburgId = Cities.insert {             it[name] = ""St. Petersburg""         } get Cities.id          val munichId = Cities.insert {             it[name] = ""Munich""         } get Cities.id          Cities.insert {             it[name] = ""Prague""         }          Users.insert {             it[id] = ""andrey""             it[name] = ""Andrey""             it[cityId] = saintPetersburgId         }          Users.insert {             it[id] = ""sergey""             it[name] = ""Sergey""             it[cityId] = munichId         }          Users.insert {             it[id] = ""eugene""             it[name] = ""Eugene""             it[cityId] = munichId         }          Users.insert {             it[id] = ""alex""             it[name] = ""Alex""             it[cityId] = null         }          Users.insert {             it[id] = ""smth""             it[name] = ""Something""             it[cityId] = null         }          Users.update({Users.id eq ""alex""}) {             it[name] = ""Alexey""         }          Users.deleteWhere{Users.name like ""%thing""}          println(""All cities:"")          for (city in Cities.selectAll()) {             println(""${city[Cities.id]}: ${city[Cities.name]}"")         }          println(""Manual join:"")         (Users innerJoin Cities).slice(Users.name, Cities.name).             select {(Users.id.eq(""andrey"") or Users.name.eq(""Sergey"")) and                     Users.id.eq(""sergey"") and Users.cityId.eq(Cities.id)}.forEach {             println(""${it[Users.name]} lives in ${it[Cities.name]}"")         }          println(""Join with foreign key:"")           (Users innerJoin Cities).slice(Users.name, Users.cityId, Cities.name).                 select {Cities.name.eq(""St. Petersburg"") or Users.cityId.isNull()}.forEach {             if (it[Users.cityId] != null) {                 println(""${it[Users.name]} lives in ${it[Cities.name]}"")             }             else {                 println(""${it[Users.name]} lives nowhere"")             }         }          println(""Functions and group by:"")          ((Cities innerJoin Users).slice(Cities.name, Users.id.count()).selectAll().groupBy(Cities.name)).forEach {             val cityName = it[Cities.name]             val userCount = it[Users.id.count()]              if (userCount > 0) {                 println(""$userCount user(s) live(s) in $cityName"")             } else {                 println(""Nobody lives in $cityName"")             }         }          drop (Users, Cities)      } }  Outputs:     SQL: CREATE TABLE IF NOT EXISTS Cities (id INT AUTO_INCREMENT NOT NULL, name VARCHAR(50) NOT NULL, CONSTRAINT pk_Cities PRIMARY KEY (id))     SQL: CREATE TABLE IF NOT EXISTS Users (id VARCHAR(10) NOT NULL, name VARCHAR(50) NOT NULL, city_id INT NULL, CONSTRAINT pk_Users PRIMARY KEY (id))     SQL: ALTER TABLE Users ADD FOREIGN KEY (city_id) REFERENCES Cities(id)     SQL: INSERT INTO Cities (name) VALUES ('St. Petersburg')     SQL: INSERT INTO Cities (name) VALUES ('Munich')     SQL: INSERT INTO Cities (name) VALUES ('Prague')     SQL: INSERT INTO Users (id, name, city_id) VALUES ('andrey', 'Andrey', 1)     SQL: INSERT INTO Users (id, name, city_id) VALUES ('sergey', 'Sergey', 2)     SQL: INSERT INTO Users (id, name, city_id) VALUES ('eugene', 'Eugene', 2)     SQL: INSERT INTO Users (id, name, city_id) VALUES ('alex', 'Alex', NULL)     SQL: INSERT INTO Users (id, name, city_id) VALUES ('smth', 'Something', NULL)     SQL: UPDATE Users SET name='Alexey' WHERE Users.id = 'alex'     SQL: DELETE FROM Users WHERE Users.name LIKE '%thing'     All cities:     SQL: SELECT Cities.id, Cities.name FROM Cities     1: St. Petersburg     2: Munich     3: Prague     Manual join:     SQL: SELECT Users.name, Cities.name FROM Users INNER JOIN Cities ON Cities.id = Users.city_id WHERE ((Users.id = 'andrey') or (Users.name = 'Sergey')) and Users.id = 'sergey' and Users.city_id = Cities.id     Sergey lives in Munich     Join with foreign key:     SQL: SELECT Users.name, Users.city_id, Cities.name FROM Users INNER JOIN Cities ON Cities.id = Users.city_id WHERE (Cities.name = 'St. Petersburg') or (Users.city_id IS NULL)     Andrey lives in St. Petersburg     Functions and group by:     SQL: SELECT Cities.name, COUNT(Users.id) FROM Cities INNER JOIN Users ON Cities.id = Users.city_id GROUP BY Cities.name     1 user(s) live(s) in St. Petersburg     2 user(s) live(s) in Munich     SQL: DROP TABLE Users     SQL: DROP TABLE Cities  DAO sample import org.jetbrains.exposed.sql.* import org.jetbrains.exposed.sql.transactions.transaction import org.jetbrains.exposed.sql.SchemaUtils.create import org.jetbrains.exposed.dao.*  object Users : IntIdTable() {     val name = varchar(""name"", 50).index()     val city = reference(""city"", Cities)     val age = integer(""age"") }  object Cities: IntIdTable() {     val name = varchar(""name"", 50) }  class User(id: EntityID<Int>) : IntEntity(id) {     companion object : IntEntityClass<User>(Users)      var name by Users.name     var city by City referencedOn Users.city     var age by Users.age }  class City(id: EntityID<Int>) : IntEntity(id) {     companion object : IntEntityClass<City>(Cities)      var name by Cities.name     val users by User referrersOn Users.city }  fun main(args: Array<String>) {     Database.connect(""jdbc:h2:mem:test"", driver = ""org.h2.Driver"")      transaction {         logger.addLogger(StdOutSqlLogger())          create (Cities, Users)          val stPete = City.new {             name = ""St. Petersburg""         }          val munich = City.new {             name = ""Munich""         }          User.new {             name = ""a""             city = stPete             age = 5         }          User.new {             name = ""b""             city = stPete             age = 27         }          User.new {             name = ""c""             city = munich             age = 42         }          println(""Cities: ${City.all().joinToString {it.name}}"")         println(""Users in ${stPete.name}: ${stPete.users.joinToString {it.name}}"")         println(""Adults: ${User.find { Users.age greaterEq 18 }.joinToString {it.name}}"")     } } Outputs:     SQL: CREATE TABLE IF NOT EXISTS Cities (id INT AUTO_INCREMENT NOT NULL, name VARCHAR(50) NOT NULL, CONSTRAINT pk_Cities PRIMARY KEY (id))     SQL: CREATE TABLE IF NOT EXISTS Users (id INT AUTO_INCREMENT NOT NULL, name VARCHAR(50) NOT NULL, city INT NOT NULL, age INT NOT NULL, CONSTRAINT pk_Users PRIMARY KEY (id))     SQL: CREATE INDEX Users_name ON Users (name)     SQL: ALTER TABLE Users ADD FOREIGN KEY (city) REFERENCES Cities(id)     SQL: INSERT INTO Cities (name) VALUES ('St. Petersburg'),('Munich')     SQL: SELECT Cities.id, Cities.name FROM Cities     Cities: St. Petersburg, Munich     SQL: INSERT INTO Users (name, city, age) VALUES ('a', 1, 5),('b', 1, 27),('c', 2, 42)     SQL: SELECT Users.id, Users.name, Users.city, Users.age FROM Users WHERE Users.city = 1     Users in St. Petersburg: a, b     SQL: SELECT Users.id, Users.name, Users.city, Users.age FROM Users WHERE Users.age >= 18     Adults: b, c  Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/jetbrains/Exposed"	""	"true"
"Database"	"cheptsov/kotlin-nosql"	"https://github.com/cheptsov/kotlin-nosql"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"100"	"11"	"44"	"GitHub - cheptsov/kotlin-nosql: NoSQL database query and access library for Kotlin Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 11 Star 100 Fork 44 cheptsov/kotlin-nosql Code Issues 6 Pull requests 2 Wiki Pulse Graphs NoSQL database query and access library for Kotlin 214 commits 3 branches 0 releases Fetching contributors Kotlin 100.0% Kotlin Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags ids master redis Nothing to show Nothing to show New pull request Latest commit 58ec5e5 Feb 15, 2016 cheptsov Kotlin 1.0 support Permalink Failed to load latest commit information. .idea Kotlin 1.0 support Feb 15, 2016 gradle/wrapper - Updated to the latest Kotlin and Spek versions Sep 30, 2014 kotlin-nosql-mongodb Kotlin 1.0 support Feb 15, 2016 src/main/kotlin/kotlinx/nosql Kotlin 1.0 support Feb 15, 2016 README.md Migrated to Kotlin M14 (part 2) Oct 11, 2015 build.gradle Kotlin 1.0 support Feb 15, 2016 gradlew - Updated to the latest Kotlin and Spek versions Sep 30, 2014 gradlew.bat - Updated to the latest Kotlin and Spek versions Sep 30, 2014 kotlin-nosql.iml Kotlin 1.0 support Feb 15, 2016 settings.gradle Migrated to Kotlin M14 Oct 11, 2015 README.md Kotlin NoSQL Kotlin NoSQL is a reactive and type-safe DSL for working with NoSQL databases. Status Under development (POC). The following NoSQL databases are supported now: MongoDB Feedback is welcome. Download To use it with Maven insert the following code in your pom.xml file: <dependency>     <groupId>org.jetbrains.kotlin</groupId>     <artifactId>kotlin-nosql-mongodb</artifactId>     <version>0.1-SNAPSHOT</version>  </dependency>   <repositories>      <repository>        <id>kotlin-nosql</id>        <url>http://repository.jetbrains.com/kotlin-nosql</url>      </repository> </repositories> To use it with Gradle insert the following code in your build.gradle: repositories {     maven {         url ""http://repository.jetbrains.com/kotlin-nosql""     } }  dependencies {     compile 'org.jetbrains.kotlin:kotlin-nosql-mongodb:0.1-SNAPSHOT' } Getting Started Demo: http://www.youtube.com/watch?v=80xgl3KThvM Basics Define a schema object Comments: DocumentSchema<Comment>(""comments"", Comment::class) {     val discussionId = id(""discussion_id"", Discussions)     val slug = string(""slug"")     val fullSlug = string(""full_slug"")     val posted = dateTime(""posted"")     val text = string(""text"")      val AuthorInfo = AuthorInfoColumn()      class AuthorInfoColumn() : Column<AuthorInfo, Comments>(""author"", AuthorInfo::class) {         val authorId = id(""id"", Authors)         val name = string(""name"")     } }  class Comment(val discussionId: Id<String, Discussions>, val slug: String,               val fullSlug: String, posted: DateTime, text: String, authorInfo: AuthorInfo) {     val id: Id<String, Comments>? = null }  class AuthorInfo(val authorId: Id<String, Authors>, val name: String) Define a database val db = MongoDB(database = ""test"", schemas = arrayOf(Comments), action = CreateDrop(onCreate = {     // ... }))  db.withSession {     // ... } Insert a document Comments.insert(Comment(DiscussionId, slug, fullSlug, posted, text, AuthorInfo(author.id, author.name))) Get a document by id val comment = Comments.find { id.equal(commentId) }.single() Get a list of documents by a filter expression val comments = Comments.find { authorInfo.id.equal(authorId) }.sortBy { posted }.skip(10).take(5).toList() Get selected fields by document id val authorInfo = Comments.find { id.equal(commentId) }.projection { authorInfo }.single() Get selected fields by a filter expression Comments.find { discussionId.equal(id) }).projection { slug + fullSlug + posted + text + authorInfo }.forEach {     val (slug, fullSlug, posted, text, authorInfo) = it } Update selected fields by document id Comments.find { id.equal(commentId) }.projection { posted }.update(newDate) Comments.find { id.equal(commentId) }.projection { posted + text }.update(newDate, newText) Inheritance Define a base schema open class ProductSchema<D, S : DocumentSchema<D>(javaClass: Class<V>, discriminator: String) : DocumentSchema<V>(""products"",             discriminator = Discriminator(string(""type""), discriminator)) {     val sku = string<S>(""sku"")     val title = string<S>(""title"")     val description = string<S>(""description"")     val asin = string<S>(""asin"")      val Shipping = ShippingColumn<S>()     val Pricing = PricingColumn<S>()      inner class ShippingColumn<S : DocumentSchema<D>>() : Column<Shipping, S>(""shipping"", Shipping::class) {         val weight = integer<S>(""weight"")         val dimensions = DimensionsColumn<S>()     }      inner class DimensionsColumn<S : DocumentSchema<D>>() : Column<Dimensions, S>(""dimensions"", Dimensions::class) {         val width = integer<S>(""width"")         val height = integer<S>(""height"")         val depth = integer<S>(""depth"")     }      inner class PricingColumn<S : DocumentSchema<D>>() : Column<Pricing, S>(""pricing"", Pricing::class) {         val list = integer<S>(""list"")         val retail = integer<S>(""retail"")         val savings = integer<S>(""savings"")         val ptcSavings = integer<S>(""pct_savings"")     } }  object Products : ProductSchema<Product, Products>(Product::class, """")  abstract class Product(val id: Id<String, Products>? = null, val sku: String, val title: String, val description: String,                        val asin: String, val shipping: Shipping, val pricing: Pricing) {     val id: Id<String, Products>? = null }  class Shipping(val weight: Int, val dimensions: Dimensions)  class Dimensions(val width: Int, val height: Int, val depth: Int)  class Pricing(val list: Int, val retail: Int, val savings: Int, val pctSavings: Int) Define an inherited schema object Albums : ProductSchema<Album, Albums>(Album::class, discriminator = ""Audio Album"") {     val details = DetailsColumn()      class DetailsColumn() : Column<Details, Albums>(""details"", Details::class) {         val title = string(""title"")         val artistId = id(""artistId"", Artists)         val genre = setOfString(""genre"")          val tracks = TracksColumn()     }      class TracksColumn() : ListColumn<Track, Albums>(""tracks"", Track::class) {         val title = string(""title"")         val duration = integer(""duration"")     } }  class Album(sku: String, title: String, description: String, asin: String, shipping: Shipping,     pricing: Pricing, val details: Details) : Product(sku, title, description, asin, shipping, pricing)  class Details(val title: String, val artistId: Id<String, Artists>, val genre: Set<String>, val tracks: List<Track>) Insert a document val productId = Products.insert(Album(sku = ""00e8da9b"", title = ""A Love Supreme"", description = ""by John Coltrane"",     asin = ""B0000A118M"", shipping = Shipping(weight = 6, dimensions = Dimensions(10, 10, 1)),     pricing = Pricing(list = 1200, retail = 1100, savings = 100, pctSavings = 8),     details = Details(title = ""A Love Supreme [Original Recording Reissued]"",             artistId = artistId, genre = setOf(""Jazz"", ""General""),             tracks = listOf(Track(""A Love Supreme Part I: Acknowledgement"", 100),                     Track(""A Love Supreme Part II: Resolution"", 200),                     Track(""A Love Supreme, Part III: Pursuance"", 300))))) } Access documents via an abstract schema for (product in Products.find { id.equal(productId) }) {     if (product is Album) {     } } Access documents via an inherited schema val album = Albums.find { details.artistId.equal(artistId) }.single() Examples PetClinic Sample Application (GitHub) Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/cheptsov/kotlin-nosql"	""	"true"
"Database"	"jankotek/mapdb"	"https://github.com/jankotek/mapdb"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"2030"	"251"	"484"	"GitHub - jankotek/mapdb: MapDB provides concurrent Maps, Sets and Queues backed by disk storage or off-heap-memory. It is a fast and easy to use embedded Java database engine. Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 251 Star 2,030 Fork 484 jankotek/mapdb Code Issues 32 Pull requests 0 Pulse Graphs MapDB provides concurrent Maps, Sets and Queues backed by disk storage or off-heap-memory. It is a fast and easy to use embedded Java database engine. http://www.mapdb.org 1,907 commits 6 branches 77 releases 34 contributors Java 71.0% Kotlin 29.0% Java Kotlin Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags mapdb3-port-tests master release-1.0 release-2.0 release-misc store2 Nothing to show mapdb-renamed-2.0-beta12 mapdb-renamed-2.0-beta11 mapdb-renamed-2.0-beta10 mapdb-renamed-2.0-beta8 mapdb-renamed-2.0-beta7 mapdb-renamed-2.0-beta6 mapdb-renamed-2.0-beta5 mapdb-renamed-2.0-beta4 mapdb-renamed-2.0-beta3 mapdb-renamed-2.0-beta2 mapdb-renamed-1.0.8 mapdb-renamed-1.0.6 mapdb-nounsafe-2.0-beta12 mapdb-nounsafe-2.0-beta11 mapdb-nounsafe-2.0-beta10 mapdb-noassert-2.0-beta12 mapdb-noassert-2.0-beta11 mapdb-noassert-2.0-beta10 mapdb-debug-2.0-beta12 mapdb-debug-2.0-beta11 mapdb-debug-2.0-beta10 mapdb-3.0.0 mapdb-3.0.0-beta5 mapdb-3.0.0-beta4 mapdb-3.0.0-beta3 mapdb-3.0.0-beta2 mapdb-3.0.0-beta1 mapdb-3.0.0-RC2 mapdb-3.0.0-RC1 mapdb-3.0.0-M6 mapdb-3.0.0-M5 mapdb-3.0.0-M4 mapdb-3.0.0-M3 mapdb-3.0.0-M2 mapdb-3.0.0-M1 mapdb-2.0-beta13 mapdb-2.0-beta12 mapdb-2.0-beta11 mapdb-2.0-beta10 mapdb-2.0-beta9 mapdb-2.0-beta8 mapdb-2.0-beta7 mapdb-2.0-beta6 mapdb-2.0-beta5 mapdb-2.0-beta4 mapdb-2.0-beta3 mapdb-2.0-beta2 mapdb-2.0-beta1 mapdb-2.0-alpha3 mapdb-2.0-alpha2 mapdb-2.0-alpha1 mapdb-1.0.9 mapdb-1.0.8 mapdb-1.0.7 mapdb-1.0.6 mapdb-1.0.5 mapdb-1.0.4 mapdb-1.0.3 mapdb-1.0.3-b mapdb-1.0.2 mapdb-1.0.1 mapdb-1.0.0 mapdb-0.9.13 mapdb-0.9.12 mapdb-0.9.11 mapdb-0.9.10 mapdb-0.9.9 mapdb-0.9.8 mapdb-0.9.7 mapdb-0.9.6 mapdb-0.9.5 mapdb-0.9.4 mapdb-0.9.3 mapdb-0.9.2 mapdb-0.9.1 mapdb-0.9.0 jdbm-4.001-alpha Nothing to show New pull request Latest commit cb7ae10 Jul 11, 2016 jankotek committed on GitHub Update README.md Permalink Failed to load latest commit information. src Merge pull request #734 from minborg/master Jun 28, 2016 .gitignore .gitignore update Aug 3, 2015 .travis.yml Travis: use Java8 Mar 3, 2016 LICENSE.txt mapdb3 initial commit Mar 3, 2016 README.md Update README.md Jul 11, 2016 logger.properties Update logger.properties. Jul 29, 2015 pom.xml [maven-release-plugin] prepare for next development iteration Jun 29, 2016 README.md MapDB: database engine MapDB combines embedded database engine and Java collections. It is free under Apache 2 license. MapDB is fplexible and can be used in many roles: Drop-in replacement for Maps, Lists, Queues and other collections. Off-heap collections not affected by Garbage Collector Multilevel cache with expiration and disk overflow. RDBMs replacement with transactions, MVCC, incremental backups etc… Local data processing and filtering. MapDB has utilities to process huge quantities of data in reasonable time. Hello world Maven snippet, VERSION is <dependency>     <groupId>org.mapdb</groupId>     <artifactId>mapdb</artifactId>     <version>VERSION</version> </dependency>  Hello world:     //import org.mapdb.*     DB db = DBMaker.memoryDB().make();     ConcurrentMap map = db.hashMap(""map"").make();     map.put(""something"", ""here"");  Continue at Quick Start or at Documentation. Support More details. Development MapDB is written in Kotlin. You will need Intellij Idea 15 Community Edition to edit it. Use Maven to build MapDB: mvn install MapDB comes with extensive unit tests, by default only tiny fraction is executed, so build finishes under 10 minutes. Full test suite has over million test cases and runs several hours/days. To run full test suite set -Dmdbtest=1 property. Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/jankotek/mapdb"	""	"true"
"Database"	"seratch/kotliquery"	"https://github.com/seratch/kotliquery"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"19"	"5"	"5"	"GitHub - seratch/kotliquery: A handy Database access library in Kotlin Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 5 Star 19 Fork 5 seratch/kotliquery Code Issues 1 Pull requests 0 Pulse Graphs A handy Database access library in Kotlin 28 commits 1 branch 5 releases 3 contributors Kotlin 100.0% Kotlin Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags master Nothing to show 1.1.0 1.0.2 1.0.1 1.0.0 0.1.0-rc-1 Nothing to show New pull request Latest commit e7cbc01 Apr 9, 2016 seratch Remove unnecessary repository Permalink Failed to load latest commit information. gradle/wrapper version 1.0.1 Feb 29, 2016 sample version 1.1.0 Apr 9, 2016 src version 1.1.0 Apr 9, 2016 .gitignore Kotlin 1.0.0-beta-4589 Jan 21, 2016 .travis.yml Add QueryAction Nov 28, 2015 LICENSE Update docs Feb 29, 2016 README.md Remove unnecessary repository Apr 9, 2016 build.gradle version 1.1.0 Apr 9, 2016 gradlew Initial version Nov 28, 2015 gradlew.bat Initial version Nov 27, 2015 README.md KotliQuery A handy Database access library in Kotlin. Highly inspired from ScalikeJDBC. Kotlin language is still beta, and this library is also still in beta stage. When Kotlin 1.0 release, we'll consider releasing the first version of KotliQuery. Getting Started You can try this library with Gradle right now. See the sample project: https://github.com/seratch/kotliquery/tree/master/sample build.gradle apply plugin: 'kotlin'  buildscript {     ext.kotlin_version = '1.0.1-2'     repositories {         mavenCentral()     }     dependencies {         classpath ""org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version""     } } repositories {     mavenCentral() } dependencies {     compile ""org.jetbrains.kotlin:kotlin-stdlib:$kotlin_version""     compile 'com.github.seratch:kotliquery:1.1.0'     compile 'com.h2database:h2:1.4.191'     compile 'com.zaxxer:HikariCP:2.4.5' } Example KotliQuery is very easy-to-use. After reading this short documentation, you will have learnt enough. Creating DB Session Session object, thin wrapper of java.sql.Connection instance, runs queries. import kotliquery.*  val session = sessionOf(""jdbc:h2:mem:hello"", ""user"", ""pass"") HikariCP Using connection pool would be better for serious programming. HikariCP is blazingly fast and so handy. HikariCP.default(""jdbc:h2:mem:hello"", ""user"", ""pass"")  using(sessionOf(HikariCP.dataSource())) { session ->    // working with the session } DDL Execution session.run(queryOf(""""""   create table members (     id serial not null primary key,     name varchar(64),     created_at timestamp not null   ) """""").asExecute) // returns Boolean Update Operations val insertQuery: String = ""insert into members (name,  created_at) values (?, ?)""  session.run(queryOf(insertQuery, ""Alice"", Date()).asUpdate) // returns effected row count session.run(queryOf(insertQuery, ""Bob"", Date()).asUpdate) Select Queries Prepare select query execution in the following steps: Create Query object by using queryOf factory Bind extractor function ((Row) -> A) to the Query object via #map method Specify response type (asList/asSingle) at the end val allIdsQuery = queryOf(""select id from members"").map { row -> row.int(""id"") }.asList val ids: List<Int> = session.run(allIdsQuery) Extractor function can return any type of result from ResultSet. data class Member(   val id: Int,   val name: String?,   val createdAt: java.time.ZonedDateTime)  val toMember: (Row) -> Member = { row ->    Member(     row.int(""id""),      row.stringOrNull(""name""),      row.zonedDateTime(""created_at"")   ) }  val allMembersQuery = queryOf(""select id, name, created_at from members"").map(toMember).asList val members: List<Member> = session.run(allMembersQuery) val aliceQuery = queryOf(""select id, name, created_at from members where name = ?"", ""Alice"").map(toMember).asSingle val alice: Member? = session.run(aliceQuery) Working with Large Dataset #forEach allows you to make some side-effect in iterations. This API is useful for handling large ResultSet. session.forEach(queryOf(""select id from members"")) { row ->   // working with large data set }) Transaction Session object provides transaction block. session.transaction { tx ->   // begin   tx.run(queryOf(""insert into members (name,  created_at) values (?, ?)"", ""Alice"", Date()).asUpdate) } // commit  session.transaction { tx ->   // begin   tx.run(queryOf(""update members set name = ? where id = ?"", ""Chris"", 1).asUpdate)   throw RuntimeException() // rollback } License (The MIT License) Copyright (c) 2015 - Kazuhiro Sera Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/seratch/kotliquery"	""	"true"
"Database"	"andrewoma/kwery"	"https://github.com/andrewoma/kwery"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"75"	"13"	"4"	"GitHub - andrewoma/kwery: Kwery is an SQL library for Kotlin Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 13 Star 75 Fork 4 andrewoma/kwery Code Issues 0 Pull requests 0 Pulse Graphs Kwery is an SQL library for Kotlin 254 commits 1 branch 13 releases Fetching contributors Kotlin 97.9% HTML 1.6% Scala 0.5% Kotlin HTML Scala Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags master Nothing to show 0.13 0.12 0.11 0.10 0.9 0.8 0.7 0.6 0.5 0.4 0.3 0.2 0.1 Nothing to show New pull request Latest commit 091644e Jul 10, 2016 andrewoma Add language inspection support for SQL parameters Permalink Failed to load latest commit information. core Add language inspection support for SQL parameters Jul 10, 2016 example-simulations Minor. Fix image name Mar 28, 2015 example Add language inspection support for SQL parameters Jul 9, 2016 fetcher/src Update to Kotlin 1.0.2. Minor inspection cleanup May 14, 2016 gradle Update dependencies Dec 8, 2015 mapper Add language inspection support for SQL parameters Jul 9, 2016 transactional-jersey Fix annotation issue by declaring default `const val` Apr 16, 2016 transactional Add language inspection support for SQL parameters Jul 9, 2016 .gitignore Update to Kotlin 1.0.2. Minor inspection cleanup May 14, 2016 .travis.yml Add mysql support Nov 28, 2015 LICENSE.txt First public commit Feb 21, 2015 README.md Update README for release Jul 8, 2016 build.gradle Add language inspection support for SQL parameters Jul 9, 2016 gradle.properties [Gradle Release Plugin] - new version commit: '0.14-SNAPSHOT'. Jul 8, 2016 gradlew First public commit Feb 21, 2015 gradlew.bat First public commit Feb 21, 2015 publish.gradle Minor: Fix pom description Jul 20, 2015 settings.gradle Remove tomcat-pool module. Replace tomcat-pool with HikariCP. Dec 26, 2015 README.md Kwery Overview Kwery is an SQL library for Kotlin. Kwery consists of three major modules (core, mapper and fetcher) that when combined provide similar functionality to a traditional ORM. Kwery's manifesto: Your domain model is sacred. No annotations or modifications to your model are required. Immutable models are fully supported. No implicit fetching. Joins and graph fetches are explicit for predictable performance. No magic. No proxies, interceptors, reflection or implicit saves. Explicit functions with sensible defaults control everything. Useful logging. Logged statements are valid SQL with inline parameters for your dialect. Core The core module is a fairly thin wrapper over JDBC, providing support for named parameters, logging and transactions. class Actor(val firstName: String, val lastName: String, val lastUpdate: Timestamp)  val session = DefaultSession(connection, HsqlDialect()) // Standard JDBC connection  val sql = ""select * from actor where first_name = :first_name""  val actors = session.select(sql, mapOf(""first_name"" to ""Brad"")) { row ->     Actor(row.string(""first_name""), row.string(""last_name""), row.timestamp(""last_update"")) } Mapper The mapper module module builds on core to provide typical DAO (Data Access Object) functionality. As Kwery believes your domain model shouldn't be tainted by mapping annotations, it uses a Table object to define the mapping between rows and objects. // We'll map to standard immutable classes, grouping name fields into a class class Name(val firstName: String, val lastName: String) class Actor(val id: Int, val name: Name, val lastUpdate: LocalDateTime)  // A table object defines the mapping between columns and models // Conversions default to those defined in the configuration but may be overridden object actorTable : Table<Actor, Int>(""actor""), VersionedWithTimestamp {     val ActorId    by col(Actor::id, id = true)     val FirstName  by col(Name::firstName, Actor::name)     val LastName   by col(Name::lastName, Actor::name)     val LastUpdate by col(Actor::lastUpdate, version = true)      override fun idColumns(id: Int) = setOf(ActorId of id)      override fun create(value: Value<Actor>) = Actor(value of ActorId,             Name(value of FirstName, value of LastName), value of LastUpdate) }  // Given a table object, a generic dao is a one-liner, including standard CRUD operations class ActorDao(session: Session) : AbstractDao<Actor, Int>(session, actorTable, Actor::id)  // Now we can use the DAO val dao = ActorDao(session) val inserted = dao.insert(Actor(1, Name(""Kate"", ""Beckinsale""), LocalDateTime.now()) val actors = dao.findAll() See FilmDao.kt for a more comprehensive example. Graph Fetcher DAOs only fetch data from their linked table by default. To fetch an object graph, using a graph fetcher is the recommended method. Given a graph specification, the fetcher attempts to fetch the graph in the minimum number of queries possible. It does this by batching together requests for the same type into a single query. As it fetches by ids, it also provides an ideal mechanism to insert a cache layer. // Given the following domain model data class Actor(val id: Int, val firstName: String, val lastName: String)  data class Language(val id: Int, val name: String)  data class Film(val id: Int, val language: Language, val actors: Set<Actor>,                 val title: String, val releaseYear: Int)  // Define types with functions describing how to fetch a batch by ids val language = Type(Language::id, { languageDao.findByIds(it) }) val actor = Type(Actor::id, { actorDao.findByIds(it) })  // For types that reference other types describe how to apply fetched values val film = Type(Film::id, { filmDao.findByIds(it) }, listOf(         // 1 to 1         Property(Film::language, language, { it.language.id }, {(f, l) -> f.copy(language = l) }),          // 1 to many requires a function to describe how to fetch the related objects         CollectionProperty(Film::actors, actor, { it.id },                 {(f, a) -> f.copy(actors = a.toSet()) },                 { actorDao.findByFilmIds(it) }) ))  val fetcher = GraphFetcher(setOf(language, actor, film))  // Extension function to fetch the graph for any List using fetcher defined above fun <T> Collection<T>.fetch(node: Node) = graphFetcher.fetch(this, Node(node))  // We can now efficiently fetch various graphs for any list of films // The following fetches the films with actors and languages in 3 queries val filmsWithAll = filmDao.findFilmsReleasedAfter(2010).fetch(Node.all)  // The graph specification can also be built using properties val filmsWithActors = filmDao.findFilmsReleasedAfter(2010).fetch(Film::actors.node()) DAOs and graph fetching aim to cover 95% of a typical application data retrievals. For the remaining performance critical sections, use specialised methods on the DAOs using partial selects and joins as required. Example The example module demonstrates using Kwery to expose a simple model via RESTful web services via Dropwizard. Transactional The transactional module adds general purpose transaction interceptors. e.g. @Transactional open class MyService(val session: Session) {     open fun foo() {} }  val session = ManagedThreadLocalSession(dataSource, HsqlDialect()) val service = transactionalFactory.fromClass(MyService(session), MyService::session) service.foo() // Now calls to service automatically occur within a transaction See the readme for more information. Transactional for Jersey The transactional-jersey module adds transaction annotations for Jersey. Registering TransactionListener as a Jersey provider allows the transactional attribute to declare resource classes or methods as transactional. Path(""/films"") @Transactional class FilmResource() : Resource {     GET fun find(): List<Film> {         ...     } } See the readme for more information. Status Kwery is unstable. It's currently being developed for a side project, so features are added as required. Kwery is available in Maven Central 0.13 Compatible with Kotlin 1.0.3. 0.12 Compatible with Kotlin 1.0.2. Core: QueryBuilder Core: Fix collection binding when not first parameter Mapper: Add Dao.findByIdForUpdate 0.11 Compatible with Kotlin 1.0.2. Core: Fix logging of statements with bound values containing $ Core: Add experimental sqlite support Mapper: Support generated keys for MySQL in DAOs 0.10 Compatible with Kotlin 1.0.2. 0.9 Compatible with Kotlin 1.0.0. Mapper: add Table.optionalCol to construct optional types via paths 0.8 Compatible with Kotlin 1.0.0-rc-1036. Mapper: support PreUpdate and PreInsert events (thanks @davemaple) Remove tomcat pool module as Postgres drivers now support prepared statement caching 0.7 Compatible with Kotlin 1.0.0-beta-3595. Add MySQL dialect 0.6 Compatible with Kotlin 1.0.0-beta-1038. 0.5 Compatible with Kotlin M14. 0.4 Compatible with Kotlin M13: Provide a consistent set of defaults and converters for mapping standard types Add defaults and converters for OffsetDateTime and ZonedDateTime 0.3 Compatible with Kotlin M13: Improved docs Simplified transaction listeners Made transactions re-entrant Renamed ThreadLocalSession to ManagedThreadLocalSession and introduced a new ThreadLocalSession for use without interceptors and annotations. 0.2 Compatible with Kotlin M12, adding transactional interceptors. 0.1 Compatible with Kotlin M11. Building git clone https://github.com/andrewoma/kwery.git cd kwery ./gradlew check install Note: The tests require a local postgres and mysql database named kwery. e.g. On OS X brew install postgres launchctl load ~/Library/LaunchAgents/homebrew.mxcl.postgresql.plist createdb kwery  brew install mysql ln -sfv /usr/local/opt/mysql/*.plist ~/Library/LaunchAgents launchctl load ~/Library/LaunchAgents/homebrew.mxcl.mysql.plist mysql -uroot -e 'create database kwery' mysql -uroot -e ""create user 'kwery'@'localhost' identified by 'kwery'"" mysql -uroot -e ""grant all privileges on *.* to 'kwery'@'localhost'""  To open in IntelliJ, just open the build.gradle file and IntelliJ will generate the project automatically. Roadmap Core: Support direct execution (currently everything is via a PreparedStatement) Add more robust named parameter replacement (ignore patterns inside comments, strings, etc) DAO: Documentation Fetcher: Documentation General review - code seems overly complicated for what it does Modules: Dropwizard metrics integration Generator - Generate initial Table and domain objects from reading JDBC metadata Robustness/Performance: Soak test - check for leaking connections/resources over extended usage Profile array based in clauses on large tables Misc: Better IDE support for highlighting inline SQL. Vote for KT-6610 License This project is licensed under a MIT license. Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/andrewoma/kwery"	""	"true"
"Database"	"square/sqldelight"	"https://github.com/square/sqldelight"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"781"	"54"	"51"	"GitHub - square/sqldelight: Generates Java models from CREATE TABLE statements. Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 54 Star 781 Fork 51 square/sqldelight Code Issues 26 Pull requests 0 Pulse Graphs Generates Java models from CREATE TABLE statements. 567 commits 5 branches 13 releases 10 contributors Kotlin 52.2% Java 44.4% ANTLR 3.2% Shell 0.2% Kotlin Java ANTLR Shell Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags alec/autocomplete_foreign_keys alec/function_nullability_fixes alec/relax_getpsi_constraint alec/0.4.3-notes master Nothing to show 0.4.3 0.4.2 0.4.1 0.4.0 0.3.2 0.3.1 0.3.0 0.2.2 0.2.1 0.2.0 0.1.2 0.1.1 0.1.0 Nothing to show New pull request Latest commit bb944a4 Jul 13, 2016 JakeWharton committed on GitHub Merge pull request #413 from square/jw/short … Add Short as a support datatype for INTEGER columns. Permalink Failed to load latest commit information. .buildscript Prepare some of the things required for release. Feb 12, 2016 gradle Gradle 2.14. (#337) Jun 15, 2016 sqldelight-compiler Add Short as a support datatype for INTEGER columns. Jul 13, 2016 sqldelight-gradle-plugin Add Short as a support datatype for INTEGER columns. Jul 13, 2016 sqldelight-jps-plugin Make IDE errors deep link to the error Jul 4, 2016 sqldelight-runtime Remove targetSdkVersion from runtime, specify minSdkVersion. (#381) Jul 1, 2016 sqldelight-sample Update to Android API 24. (#380) Jul 1, 2016 sqldelight-studio-plugin Dont assume we have a SqliteFile for a parse context Jul 11, 2016 .gitignore Add error handling Mar 10, 2016 .travis.yml Update to Android API 24. (#380) Jul 1, 2016 CHANGELOG.md Prepare version 0.4.3. Jul 7, 2016 CONTRIBUTING.md Add some open source ceremony. Feb 9, 2016 LICENSE.txt Add some open source ceremony. Feb 9, 2016 README.md Prepare version 0.4.3. Jul 7, 2016 RELEASING.md Add error handling Mar 10, 2016 build.gradle Make IDE errors deep link to the error Jul 4, 2016 gradle.properties Prepare next development version. Jul 7, 2016 gradlew Gradle 2.14. (#337) Jun 15, 2016 gradlew.bat Gradle 2.14. (#337) Jun 15, 2016 settings.gradle Make IDE errors deep link to the error Jul 4, 2016 update-expected.sh Script to generate expected files. Mar 7, 2016 README.md SQLDelight SQLDelight generates Java models from your SQL CREATE TABLE statements. These models give you a typesafe API to read & write the rows of your tables. It helps you to keep your SQL statements together, organized, and easy to access from Java. Example To use SQLDelight, put your SQL statements in a .sq file, like src/main/sqldelight/com/example/HockeyPlayer.sq. Typically the first statement creates a table. CREATE TABLE hockey_player (   _id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,   number INTEGER NOT NULL,   name TEXT NOT NULL );  -- Further SQL statements are proceeded by an identifier. This will be used to name the constant -- in the generated Java code. select_by_name: SELECT * FROM hockey_player WHERE name = ?; From this SQLDelight will generate a HockeyPlayerModel Java interface with nested classes for reading (the Mapper) and writing (the Marshal) the table. package com.example;  import android.content.ContentValues; import android.database.Cursor; import android.support.annotation.NonNull; import com.squareup.sqldelight.RowMapper; import java.lang.Override; import java.lang.String;  public interface HockeyPlayerModel {   String TABLE_NAME = ""hockey_player"";    String _ID = ""_id"";    String NUMBER = ""number"";    String NAME = ""name"";    String CREATE_TABLE = """"       + ""CREATE TABLE hockey_player (\n""       + ""  _id INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,\n""       + ""  number INTEGER NOT NULL,\n""       + ""  name TEXT NOT NULL\n""       + "")"";    String SELECT_BY_NAME = """"       + ""SELECT *\n""       + ""FROM hockey_player\n""       + ""WHERE name = ?"";    long _id();    long number();    @NonNull   String name();    interface Creator<T extends HockeyPlayerModel> {     T create(long _id, long number, String name);   }    final class Mapper<T extends HockeyPlayerModel> implements RowMapper<T> {     private final Factory<T> hockeyPlayerModelFactory;      public Mapper(Factory<T> hockeyPlayerModelFactory) {       this.hockeyPlayerModelFactory = hockeyPlayerModelFactory;     }      @Override     public T map(@NonNull Cursor cursor) {       return hockeyPlayerModelFactory.creator.create(           cursor.getLong(0),           cursor.getLong(1),           cursor.getString(2)       );     }   }    class Marshal<T extends Marshal<T>> {     protected ContentValues contentValues = new ContentValues();      Marshal(@Nullable HockeyPlayerModel copy) {       if (copy != null) {         this._id(copy._id());         this.number(copy.number());         this.name(copy.name());       }     }      public final ContentValues asContentValues() {       return contentValues;     }      public T _id(long _id) {       contentValues.put(_ID, _id);       return (T) this;     }      public T number(long number) {       contentValues.put(NUMBER, number);       return (T) this;     }      public T name(String name) {       contentValues.put(NAME, name);       return (T) this;     }   }    final class Factory<T extends HockeyPlayerModel> {     public final Creator<T> creator;      public Factory(Creator<T> creator) {       this.creator = creator;     }      public Mapper<T> select_by_nameMapper() {       return new Mapper<T>(this);     }      public Marshal marshal() {       return new Marshal(null);     }      public Marshal marshal(HockeyPlayerModel copy) {       return new Marshal(copy);     }   } } AutoValue Using Google's AutoValue you can minimally make implementations of the model/marshal/mapper: @AutoValue public abstract class HockeyPlayer implements HockeyPlayerModel {   public static final Factory<HockeyPlayer> FACTORY = new Factory<>(new Creator<HockeyPlayer>() {     @Override public HockeyPlayer create(long _id, long number, String name) {       return new AutoValue_HockeyPlayer(_id, age, number, gender);     }   });    public static final RowMapper<HockeyPlayer> MAPPER = FACTORY.select_by_nameMapper(); } If you are also using Retrolambda the anonymous class can be replaced by a method reference: @AutoValue public abstract class HockeyPlayer implements HockeyPlayerModel {   public static final Factory<HockeyPlayer> FACTORY = new Factory<>(AutoValue_HockeyPlayer::new);    public static final RowMapper<HockeyPlayer> MAPPER = FACTORY.select_by_nameMapper(); } Consuming Code Use the generated constants to reference table names and SQL statements. public void insert(SqliteDatabase db, long _id, long number, String name) {   db.insert(HockeyPlayer.TABLE_NAME, null, HockeyPlayer.FACTORY.marshal()     ._id(_id)     .number(number)     .name(name)     .asContentValues()); }  public List<HockeyPlayer> alecs(SQLiteDatabase db) {   List<HockeyPlayer> result = new ArrayList<>();   try (Cursor cursor = db.rawQuery(HockeyPlayer.SELECT_BY_NAME, new String[] { ""Alec"" })) {     while (cursor.moveToNext()) {       result.add(HockeyPlayer.MAPPER.map(cursor));     }   }   return result; } Projections Each select statement will have an interface and mapper generated for it, as well as a method on the factory to create a new instance of the mapper. player_names: SELECT name FROM hockey_player; Selects that only return a single value do not require a custom type to be mapped. The generated file will only contain a new method on the factory. interface HockeyPlayerModel {    ...    final class Factory<T extends HockeyPlayerModel> {      ...      public RowMapper<String> player_namesMapper();   } } Referencing the mapper is done the same as when you select an entire table. @AutoValue public abstract class HockeyPlayer implements HockeyPlayerModel {   public static final Factory<HockeyPlayer> FACTORY = new Factory<>(AutoValue_HockeyPlayer::new);    public static final RowMapper<String> PLAYER_NAMES_MAPPER = FACTORY.player_namesMapper():    public List<String> playerNames(SQLiteDatabase db) {     List<String> names = new ArrayList<>();     try (Cursor cursor = db.rawQuery(PLAYER_NAMES)) {       while (cursor.moveToNext()) {         names.add(PLAYER_NAMES_MAPPER.map(cursor));       }     }     return names;   } } Selects that return multiple result columns generate a custom model, mapper, and factory method for the query. names_for_number: SELECT number, group_concat(name) FROM hockey_player GROUP BY number; generates: interface HockeyPlayerModel {    ...    interface Names_for_numberModel {     long number();      String group_concat_name();   }    interface Names_for_numberCreator<T extends Names_for_numberModel> {     T create(long number, String group_concat_name);   }    final class Names_for_numberMapper<T extends Names_for_numberModel> implements RowMapper<T> {     ...   }    final class Factory<T extends HockeyPlayerModel> {      ...      public <R extends Names_for_numberModel> Names_for_numberMapper<R> names_for_numberMapper(       Names_for_numberCreator<R> creator     ) {       return new Names_for_numberMapper<R>(creator);     }   } } Referencing the mapper requires an implementation of the result set type. @AutoValue public abstract class HockeyPlayer implements HockeyPlayerModel {   public static final Factory<HockeyPlayer> FACTORY = new Factory<>(AutoValue_HockeyPlayer::new);    public static final RowMapper<NamesForNumber> NAMES_FOR_NUMBER_MAPPER =       FACTORY.names_for_numberMapper(AutoValue_HockeyPlayer_NamesForNumber::new);    public Map<Integer, String[]> namesForNumber(SQLiteDatabase db) {     Map<Integer, String[]> namesForNumberMap = new LinkedHashMap<>();     try (Cursor cursor = db.rawQuery(NAMES_FOR_NUMBER)) {       while (cursor.moveToNext()) {         NamesForNumber namesForNumber = NAMES_FOR_NUMBER_MAPPER.map(cursor);         namesForNumberMap.put(namesForNumber.number(), namesForNumber.names());       }     }     return namesForNumberMap;   }    @AutoValue   public abstract class NamesForNumber implements Names_for_numberModel<NamesForNumber> {     public String[] names() {       return group_concat_names().split("","");     }   } } Types SQLDelight column definition are identical to regular SQLite column definitions but support an extra column constraint which specifies the java type of the column in the generated interface. SQLDelight natively supports the same types that Cursor and ContentValues expect: CREATE TABLE some_types {   some_long INTEGER,           -- Stored as INTEGER in db, retrieved as Long   some_double REAL,            -- Stored as REAL in db, retrieved as Double   some_string TEXT,            -- Stored as TEXT in db, retrieved as String   some_blob BLOB,              -- Stored as BLOB in db, retrieved as byte[]   some_int INTEGER AS Integer, -- Stored as INTEGER in db, retrieved as Integer   some_short INTEGER AS Short, -- Stored as INTEGER in db, retrieved as Short   some_float REAL AS Float     -- Stored as REAL in db, retrieved as Float } Booleans SQLDelight supports boolean columns and stores them in the db as ints. Since they are implemented as ints they can be given int column constraints: CREATE TABLE hockey_player (   injured INTEGER AS Boolean DEFAULT 0 ) Custom Classes If you'd like to retrieve columns as custom types you can specify the java type as a sqlite string: import java.util.Calendar;  CREATE TABLE hockey_player (   birth_date INTEGER AS Calendar NOT NULL ) However, creating a Marshal or Factory will require you to provide a ColumnAdapter which knows how to map a Cursor to your type and marshal your type into a ContentValues: public class HockeyPlayer implements HockeyPlayerModel {   private static final ColumnAdapter<Calendar> CALENDAR_ADAPTER = new ColumnAdapter<>() {     @Override public Calendar map(Cursor cursor, int columnIndex) {       Calendar calendar = Calendar.getInstance();       calendar.setTimeInMillis(cursor.getLong(columnIndex));       return calendar;     }      @Override public void marshal(ContentValues contentValues, String key, Calendar value) {       contentValues.put(key, value.getTimeInMillis());     }   }    public static final Factory<HockeyPlayer> FACTORY = new Factory<>(new Creator<>() { },       CALENDAR_ADAPTER); } Enums As a convenience the SQLDelight runtime includes a ColumnAdapter for storing an enum as TEXT. import com.example.hockey.HockeyPlayer;  CREATE TABLE hockey_player (   position TEXT AS HockeyPlayer.Position ) public class HockeyPlayer implements HockeyPlayerModel {   public enum Position {     CENTER, LEFT_WING, RIGHT_WING, DEFENSE, GOALIE   }    private static final ColumnAdapter<Position> POSITION_ADAPTER = EnumColumnAdapter.create(Position.class);    public static final Factory<HockeyPlayer> FACTORY = new Factory<>(new Creator<>() { },       POSITION_ADAPTER); } SQL Statement Arguments SQL queries can also contain arguments the same way SqliteDatabase does: select_by_position: SELECT * FROM hockey_player WHERE position = ?; Cursor centers = db.rawQuery(HockeyPlayer.SELECT_BY_POSITION, new String[] { Center.name() }); Views Views receive the same treatment in generated code as tables with their own model interface. names_view: CREATE VIEW names AS SELECT substr(name, 0, instr(name, ' ')) AS first_name,        substr(name, instr(name, ' ') + 1) AS last_name,        _id FROM hockey_player;  select_names: SELECT * FROM names; generates: interface HockeyPlayerModel {    ...    interface NamesModel {     String first_name();      String last_name();      long _id();   }    interface NamesCreator<T extends NamesModel> {     T create(String first_name, String last_name, long _id);   }    final class NamesMapper<T extends NamesModel> implements RowMapper<T> {     ...   }    final class Factory<T extends HockeyPlayerModel> {      ...      public <R extends NamesModel> NamesMapper<R> select_namesMapper(NamesCreator<R> creator) {       return new NamesMapper<R>(creator);     }   } } Referencing the mapper requires an implementation of the view model. @AutoValue public abstract class HockeyPlayer implements HockeyPlayerModel {   public static final Factory<HockeyPlayer> FACTORY = new Factory<>(AutoValue_HockeyPlayer::new);    public static final RowMapper<NamesForNumber> SELECT_NAMES_MAPPER =       FACTORY.select_namesMapper(AutoValue_HockeyPlayer_Names::new);    public List<Names> names(SQLiteDatabase) {     List<Names> names = new ArrayList<>();     try (Cursor cursor = db.rawQuery(SELECT_NAMES)) {       while (cursor.moveToNext()) {         names.add(SELECT_NAMES_MAPPER.map(cursor));       }     }     return names;   }    @AutoValue   public abstract class Names implements NamesModel { } } Join Projections Selecting from multiple tables via joins also requires an implementation class. select_all_info: SELECT * FROM hockey_player JOIN names USING (_id); generates: interface HockeyPlayerModel {    ...    interface Select_all_infoModel<T1 extends HockeyPlayerModel, V4 extends NamesModel> {     T1 hockey_player();      V4 names();   }    interface Select_all_infoCreator<T1 extends HockeyPlayerModel, V4 extends NamesModel, T extends Select_all_infoModel<T1, V4>> {     T create(T1 hockey_player, V4 names);   }    final class Select_all_infoMapper<T1 extends HockeyPlayerModel, V4 extends NamesModel, T extends Select_all_infoModel<T1, V4>> implements RowMapper<T> {     ...   }    final class Factory<T extends HockeyPlayerModel> {     public <V4 extends NamesModel, R extends Select_all_infoModel<T, V4>> Select_all_infoMapper<T, V4, R> select_all_infoMapper(Select_all_infoCreator<T, V4, R> creator, NamesCreator<V4> namesCreator) {       return new Select_all_infoMapper<T, V4, R>(creator, this, namesCreator);     }   } } implementation: @AutoValue public abstract class HockeyPlayer implements HockeyPlayerModel {   public static final Factory<HockeyPlayer> FACTORY = new Factory<>(AutoValue_HockeyPlayer::new);    public static final RowMapper<AllInfo> SELECT_ALL_INFO_MAPPER =       FACTORY.select_all_infoMapper(AutoValue_HockeyPlayer_AllInfo::new,         AutoValue_HockeyPlayer_Names::new);    public List<AllInfo> allInfo(SQLiteDatabase db) {     List<AllInfo> allInfoList = new ArrayList<>();     try (Cursor cursor = db.rawQuery(SELECT_ALL_INFO)) {       while (cursor.moveToNext()) {         allInfoList.add(SELECT_ALL_INFO_MAPPER.map(cursor));       }     }     return allInfoList;   }    @AutoValue   public abstract class Names implements NamesModel { }    @AutoValue   public abstract class AllInfo implements Select_all_infoModel<HockeyPlayer, Names> { } } Intellij Plugin The Intellij plugin provides language-level features for .sq files, including: Syntax highlighting Refactoring/Find usages Code autocompletion Generate Model files after edits Right click to copy as valid SQLite Compiler errors in IDE click through to file Download For the Gradle plugin: buildscript {   repositories {     mavenCentral()   }   dependencies {     classpath 'com.squareup.sqldelight:gradle-plugin:0.4.3'   } }  apply plugin: 'com.squareup.sqldelight' The Intellij plugin can be installed from Android Studio by navigating Android Studio -> Preferences -> Plugins -> Browse repositories -> Search for SQLDelight Snapshots of the development version (including the IDE plugin zip) are available in Sonatype's snapshots repository. License Copyright 2016 Square, Inc.  Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at     http://www.apache.org/licenses/LICENSE-2.0  Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.  Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/square/sqldelight"	""	"true"
"Tools"	"Kotlin/dokka"	"https://github.com/Kotlin/dokka"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"125"	"17"	"14"	"GitHub - Kotlin/dokka: Documentation Engine for Kotlin Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 17 Star 125 Fork 14 Kotlin/dokka Code Issues 15 Pull requests 1 Pulse Graphs Documentation Engine for Kotlin 675 commits 8 branches 10 releases 10 contributors Kotlin 91.2% HTML 6.3% CSS 1.2% Other 1.3% Kotlin HTML CSS Other Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags api-layout benchmark cy6erGn0m-javadoc gh-pages location-anchors master readme register-refactoring Nothing to show v0.11 forPerf 0.9.9 0.9.8 0.9.7 0.9.6 0.9.4 0.9.3 0.9.1 0.9 Nothing to show New pull request Latest commit 08bcaa2 Jul 12, 2016 yole mention GFM format in README Permalink Failed to load latest commit information. .idea update markdown.jar to a version compiled with Kotlin 1.0.1 Apr 29, 2016 core fix tests on Windows Jul 9, 2016 dokka-android-gradle-plugin update Android plugin dependency to non-beta version Jul 8, 2016 dokka-gradle-plugin update Kotlin compiler and kotlin-ide-common to 1.0.4-dev-13, fixing … Jul 8, 2016 gradle/wrapper update Gradle to 2.13 May 12, 2016 lib update Kotlin compiler and kotlin-ide-common to 1.0.4-dev-13, fixing … Jul 8, 2016 maven-plugin Dokka 0.9.9 Jul 12, 2016 test restructure Dokka build to use Gradle for everything except for the M… Dec 3, 2015 .gitignore Gradle initial plugin implementation Jul 13, 2015 LICENSE Add LICENSE. Closes #51 Feb 15, 2016 README.md mention GFM format in README Jul 12, 2016 build-docs.xml Ant task initialized paths before a project was set for it. Resolves #59 Mar 31, 2016 build.gradle Dokka 0.9.9 Jul 12, 2016 build.xml restructure Dokka build to use Gradle for everything except for the M… Dec 3, 2015 dokka.pro restructure Dokka build to use Gradle for everything except for the M… Dec 3, 2015 gradle.properties Dokka 0.9.9 Jul 12, 2016 gradlew setup multi-project build; specify version in one place for all Gradl… Nov 5, 2015 gradlew.bat setup multi-project build; specify version in one place for all Gradl… Nov 5, 2015 settings.gradle Provide basic support for Android library projects and make the sourc… Mar 20, 2016 README.md dokka Dokka is a documentation engine for Kotlin, performing the same function as javadoc for Java. Just like Kotlin itself, Dokka fully supports mixed-language Java/Kotlin projects. It understands standard Javadoc comments in Java files and KDoc comments in Kotlin files, and can generate documentation in multiple formats including standard Javadoc, HTML and Markdown. Using Dokka Using the Command Line To run Dokka from the command line, download the Dokka jar. To generate documentation, run the following command: java -jar dokka-fatjar.jar <source directories> <arguments>  Dokka supports the following command line arguments: -output - the output directory where the documentation is generated -format - the output format: html - HTML (default) markdown - Markdown gfm - GitHub-Flavored Markdown jekyll - Markdown adapted for Jekyll sites javadoc - Javadoc (showing how the project can be accessed from Java) -classpath - list of directories or .jar files to include in the classpath (used for resolving references) -samples - list of directories containing sample code (documentation for those directories is not generated but declarations from them can be referenced using the @sample tag) -module - the name of the module being documented (used as the root directory of the generated documentation) -include - names of files containing the documentation for the module and individual packages -nodeprecated - if set, deprecated elements are not included in the generated documentation Using the Ant task The Ant task definition is also contained in the dokka-fatjar.jar referenced above. Here's an example of using it: <project name=""Dokka"" default=""document"">     <typedef resource=""dokka-antlib.xml"" classpath=""dokka-fatjar.jar""/>      <target name=""document"">         <dokka src=""src"" outputdir=""doc"" modulename=""myproject""/>     </target> </project> The Ant task supports the following attributes: outputdir - the output directory where the documentation is generated outputformat - the output format (see the list of supported formats above) classpath - list of directories or .jar files to include in the classpath (used for resolving references) samples - list of directories containing sample code (documentation for those directories is not generated but declarations from them can be referenced using the @sample tag) modulename - the name of the module being documented (used as the root directory of the generated documentation) include - names of files containing the documentation for the module and individual packages skipdeprecated - if set, deprecated elements are not included in the generated documentation Using the Maven plugin The Maven plugin is available in JCenter. You need to add the JCenter repository to the list of plugin repositories if it's not there: <pluginRepositories>     <pluginRepository>         <id>jcenter</id>         <name>JCenter</name>         <url>https://jcenter.bintray.com/</url>     </pluginRepository> </pluginRepositories> Minimal maven configuration is <plugin>     <groupId>org.jetbrains.dokka</groupId>     <artifactId>dokka-maven-plugin</artifactId>     <version>${dokka.version}</version>     <executions>         <execution>             <phase>pre-site</phase>             <goals>                 <goal>dokka</goal>             </goals>         </execution>     </executions> </plugin> By default files will be generated in target/dokka. The following goals are provided by the plugin: dokka:dokka - generate HTML documentation in Dokka format (showing declarations in Kotlin syntax); dokka:javadoc - generate HTML documentation in JavaDoc format (showing declarations in Java syntax); dokka:javadocJar - generate a .jar file with JavaDoc format documentation. Configuring source links mapping: <plugin>     <groupId>org.jetbrains.dokka</groupId>     <artifactId>dokka-maven-plugin</artifactId>     <version>${dokka.version}</version>     <executions>         <execution>             <phase>pre-site</phase>             <goals>                 <goal>dokka</goal>             </goals>         </execution>     </executions>     <configuration>         <sourceLinks>             <link>                 <dir>${project.basedir}/src/main/kotlin</dir>                 <url>http://github.com/me/myrepo</url>             </link>         </sourceLinks>     </configuration> </plugin> Please see the Dokka Maven example project for an example. Using the Gradle plugin buildscript {     repositories {         jcenter()     }      dependencies {         classpath ""org.jetbrains.dokka:dokka-gradle-plugin:${dokka_version}""     } }  apply plugin: 'org.jetbrains.dokka' The plugin adds a task named ""dokka"" to the project. The available configuration options are shown below: dokka {     moduleName = 'data'     outputFormat = 'javadoc'     outputDirectory = ""$buildDir/javadoc""     processConfigurations = ['compile', 'extra']     includes = ['packages.md', 'extra.md']     samples = ['samples/basic.kt', 'samples/advanced.kt']     linkMapping {         dir = ""src/main/kotlin""         url = ""https://github.com/cy6erGn0m/vertx3-lang-kotlin/blob/master/src/main/kotlin""         suffix = ""#L""     }     sourceDirs = files('src/main/kotlin') } To get it generated use gradle dokka task ./gradlew dokka More dokka tasks can be added to a project like this: task dokkaJavadoc(type: org.jetbrains.dokka.gradle.DokkaTask) {     outputFormat = 'javadoc'     outputDirectory = ""$buildDir/javadoc"" } Please see the Dokka Gradle example project for an example. Android If you are using Android there is a separate gradle plugin. Just make sure you apply the plugin after com.android.library and kotlin-android. buildscript {     repositories {         jcenter()     }      dependencies {         classpath ""org.jetbrains.dokka:dokka-android-gradle-plugin:${dokka_version}""     } }  apply plugin: 'com.android.library' apply plugin: 'kotlin-android' apply plugin: 'org.jetbrains.dokka-android' Dokka Internals Documentation Model Dokka uses Kotlin-as-a-service technology to build code model, then processes it into documentation model. Documentation model is graph of items describing code elements such as classes, packages, functions, etc. Each node has semantic attached, e.g. Value:name -> Type:String means that some value name is of type String. Each reference between nodes also has semantic attached, and there are three of them: Member - reference means that target is member of the source, form tree. Detail - reference means that target describes source in more details, form tree. Link - any link to any other node, free form. Member & Detail has reverse Owner reference, while Link's back reference is also Link. Nodes that are Details of other nodes cannot have Members. Rendering Docs When we have documentation model, we can render docs in various formats, languages and layouts. We have some core services: FormatService -- represents output format LocationService -- represents folder and file layout SignatureGenerator -- represents target language by generating class/function/package signatures from model Basically, given the documentation as a model, we do this:     val signatureGenerator = KotlinSignatureGenerator()     val locationService = FoldersLocationService(arguments.outputDir)     val markdown = JekyllFormatService(locationService, signatureGenerator)     val generator = FileGenerator(signatureGenerator, locationService, markdown)     generator.generate(documentation) Building Dokka Dokka is built with Gradle. To build it, use ./gradlew build. Alternatively, open the project directory in IntelliJ IDEA and use the IDE to build and run Dokka. Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/Kotlin/dokka"	""	"true"
"Tools"	"Levelmoney/kbuilders"	"https://github.com/Levelmoney/kbuilders"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"47"	"19"	"1"	"GitHub - Levelmoney/kbuilders: Apply Kotlin type-safe builders to all the Builders. Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 19 Star 47 Fork 1 Levelmoney/kbuilders Code Issues 1 Pull requests 0 Pulse Graphs Apply Kotlin type-safe builders to all the Builders. 62 commits 3 branches 3 releases Fetching contributors Kotlin 73.3% Java 24.5% Shell 2.2% Kotlin Java Shell Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags gh-pages master migrate/1.0.0 Nothing to show 1.0 0.9 0.1.0 Nothing to show New pull request Fetching latest commit… Cannot retrieve the latest commit at this time. Permalink Failed to load latest commit information. allTests Always inline May 22, 2015 compiler gradle Refactor into java dir, add license May 9, 2015 raw .gitignore LICENSE README.md build.gradle build_all.sh gen_tests gradlew gradlew.bat kbuild.sh settings.gradle README.md KBuilders for Kotlin KBuilders turns your Java builders into beautiful Type-Safe Builders. For more information please see the website. Download Download the latest standalone JAR or build from source. We recommend integrating the jar into your existing protoc scripts. License Copyright 2015 Level Money, Inc.  Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at     http://www.apache.org/licenses/LICENSE-2.0  Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.  Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/Levelmoney/kbuilders"	""	"true"
"Tools"	"holgerbrandl/kscript"	"https://github.com/holgerbrandl/kscript"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"18"	"4"	"0"	"GitHub - holgerbrandl/kscript: Scripting enhancements for Kotlin Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 4 Star 18 Fork 0 holgerbrandl/kscript Code Issues 7 Pull requests 0 Pulse Graphs Scripting enhancements for Kotlin 50 commits 1 branch 0 releases Fetching contributors Shell 59.2% Kotlin 40.8% Shell Kotlin Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags master Nothing to show Nothing to show New pull request Fetching latest commit… Cannot retrieve the latest commit at this time. Permalink Failed to load latest commit information. examples .gitignore LICENSE.txt NEWS.md README.md expandcp.kts kscript don't fail if jar cache is empty Jun 9, 2016 notes.md pom.xml README.md kscript - Having fun with Kotlin scripting Easy-to-use scripting support for Kotlin on *nix-based systems. Kotlin has a limited support for scripting already but it's not (yet) feature-rich enough to be fun. In particular this wrapper around kotlinc-jvm -script adds Compiled script caching (using md5 checksums) Automatic dependency resolution via gradle-style resource locators Installation Simply download kscript to your ~/bin with: curl -L -o ~/bin/kscript https://git.io/vaoNi && chmod u+x ~/bin/kscript Just kotlinc-jvm is required to be in your PATH. It will be once you have installed Kotlin. Usage To use kscript just specify it in the shebang line of your Kotlin scripts: #!/usr/bin/env kscript  println(""Hello from Kotlin!"") for (arg in args) {     println(""arg: $arg"") } To specify dependencies simply use gradle-style locators. Here's an example using docopt and log4j #!/usr/bin/env kscript //DEPS com.offbytwo:docopt:0.6.0.20150202,log4j:log4j:1.2.14  import org.docopt.Docopt import java.util.*   val usage = """""" Use this cool tool to do cool stuff Usage: cooltool.kts [options] <igenome> <fastq_files>...  Options:  --gtf <gtfFile>     Custom gtf file instead of igenome bundled copy  --pc-only           Use protein coding genes only for mapping and quantification """"""  val doArgs = Docopt(usage).parse(args.toList())  println(""Hello from Kotlin!"") println(""Parsed script arguments are: \n"" + doArgs.joinToString()) kscript will read dependencies from the first line in a script starting with //DEPS (if any). Multiple dependencies can be split by comma, space or semicolon. Note: It might feel more intuitive to provide dependencies as an argument to kscript, however because of the way the shebang line works on Linux this is not possible. Inline Usage You can even inline kscript solutions into larger scripts, because kscript can read from stdin as well. So, depending on your preference you could simply pipe a kotlin snippet into kscript echo ' println(""hello kotlin"") ' |  kscript - or do the same using heredoc (preferred solution) which gives you some more flexibility to also use single quotes in your script: kscript - <<""EOF"" println(""hello kotlin and heredoc"") EOF Since the piped content is considered as a regular script it can also have dependencies kscript - <<""EOF"" //DEPS com.offbytwo:docopt:0.6.0.20150202 log4j:log4j:1.2.14  import org.docopt.Docopt val docopt = Docopt(""Usage: jl <command> [options] [<joblist_file>]"")  println(""hello again"") EOF Finally (for sake of completeness) it also works with process substitution and for sure you can always provide additional arguments (exposed as args : Array<String> within the script) kscript - arg1 arg2 arg3 <(echo 'println(""k-onliner"")') Inlined kscripts are also cached based on md5 checksum, so running the same snippet again will use a cached jar (sitting in $TMPDIR). References The initial version of kscript was kindly contributed by Oscar Gonzalez. kscript is inspired by kotlin-script which is another great way to do scripting in Kotlin. kotlin-script has more options compared to kscript, but the latter is conceptually cleaner (no code wrapping) and more simplistic. kscript works better with Intellij, since extended multi-line shebang-headers are not (yet?) supported by Intellij's' Kotlin plugin (even if the kotlin-script parser seems to be able to handle them). However, for dependency resolution, kotlin script relies on such mutli-line shebang headers (see here). In contrast, since kscript just works with just a standard shebang line, code parsing works very well in Intellij. Issues Feel welcome to submit ideas and suggestions. Related Projects coursier - Pure Scala Artifact Fetching. Potential more powerful replacement for expandcp.kts kotlin-script - Support for using Kotlin as a scripting language Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/holgerbrandl/kscript"	""	"true"
"Desktop"	"edvin/tornadofx"	"https://github.com/edvin/tornadofx"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"175"	"28"	"16"	"GitHub - edvin/tornadofx: Lightweight JavaFX Framework for Kotlin Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 28 Star 175 Fork 16 edvin/tornadofx Code Issues 6 Pull requests 1 Wiki Pulse Graphs Lightweight JavaFX Framework for Kotlin 747 commits 1 branch 16 releases 8 contributors Kotlin 99.5% Other 0.5% Kotlin Other Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags master Nothing to show v1.5.1 v1.5.0 v1.4.10 v1.4.9 v1.4.8 v1.4.7 v1.4.6 v1.4.5 v1.4.4 v1.4.3 v1.4.2 v1.4.1 v1.4.0 v1.3.2 v1.3.1 v1.3.0 Nothing to show New pull request Latest commit c3809dc Jul 15, 2016 edvin Added json.jsonModel(""key"") Permalink Failed to load latest commit information. graphics SVG Jan 20, 2016 src Added json.jsonModel(""key"") Jul 15, 2016 .gitignore Don't add picture again Jun 13, 2016 .travis.yml Travis: Configure Xvfb (X virtual framebuffer) as display. Feb 21, 2016 CHANGELOG.md Added json.jsonModel(""key"") Jul 15, 2016 LICENSE Added license Jan 26, 2016 README.md Updated CSS in readme to new standard Jul 12, 2016 pom.xml kotlin-reflect.jar is now included by default, ReflectionHelper is re… Jul 13, 2016 README.md TornadoFX Lightweight JavaFX Framework for Kotlin Features Supports both MVC, MVP and their derivatives Dependency injection Type safe GUI builders First class FXML support Type safe CSS builders Async task execution Hot reload of Views and Stylesheets REST client with automatic JSON conversion Zero config, no XML, no annotations Getting started Screencast introduction Book (EAP) Wiki Slack User Forum Dev Forum Stack Overflow Documentation IntelliJ IDEA Plugin Example Application Maven QuickStart Archetype Changelog Generate a quickstart application with Maven mvn archetype:generate -DarchetypeGroupId=no.tornado \   -DarchetypeArtifactId=tornadofx-quickstart-archetype \   -DarchetypeVersion=1.5.0 Add TornadoFX to your project Maven <dependency>     <groupId>no.tornado</groupId>     <artifactId>tornadofx</artifactId>     <version>1.5.1</version> </dependency> Gradle compile 'no.tornado:tornadofx:1.5.1' What does it look like? (Code snippets) Create a View class HelloWorld : View() {     override val root = HBox(Label(""Hello world""))  } Load the root node from HelloWorld.fxml and inject controls by fx:id class HelloWorld : View() {     override val root: HBox by fxml()     val myLabel: Label by fxid()      init {         myLabel.text = ""Hello world""     } } Start your application and show the primary View and add a type safe stylesheet class HelloWorldApp : App() {     override val primaryView = HelloWorld::class      init {         importStylesheet(Styles::class)     } }  class Styles : Stylesheet() {     init {         label {             fontSize = 20.px             fontWeight = FontWeight.BOLD             backgroundColor += c(""#cecece"")         }         }     } Start app and load a type safe stylesheet Use Type Safe Builders to quickly create complex user interfaces class MyView : View() {      override val root = VBox()      private val persons = FXCollections.observableArrayList<Person>(             Person(1, ""Samantha Stuart"", LocalDate.of(1981,12,4)),             Person(2, ""Tom Marks"", LocalDate.of(2001,1,23)),             Person(3, ""Stuart Gills"", LocalDate.of(1989,5,23)),             Person(3, ""Nicole Williams"", LocalDate.of(1998,8,11))     )      init {         with(root) {             tableview(persons) {                 column(""ID"", Person::id)                 column(""Name"", Person::name)                 column(""Birthday"", Person::birthday)                 column(""Age"", Person::age)             }         }     } } RENDERED UI Create a Customer model object that can be converted to and from JSON and complies with JavaFX Property guidelines: class Customer : JsonModel {     var id by property<Int>()     fun idProperty() = getProperty(Customer::id)      var name by property<String>()     fun nameProperty() = getProperty(Customer::name)      override fun updateModel(json: JsonObject) {         with(json) {             id = int(""id"")             name = string(""name"")         }     }      override fun toJSON(json: JsonBuilder) {         with(json) {             add(""id"", id)             add(""name"", name)         }     } } Create a controller which downloads a JSON list of customers with the REST api: class HelloWorldController : Controller() {     val api : Rest by inject()      fun loadCustomers(): ObservableList<Customer> =          api.get(""customers"").list().toModel()  } Configure the REST API with a base URI and Basic Authentication: with (api) {     baseURI = ""http://contoso.com/api""     setBasicAuth(""user"", ""secret"") } Load customers in the background and update a TableView on the UI thread: runAsync {     controller.loadCustomers() } ui {     customerTable.items = it } Load customers and apply to table declaratively: customerTable.asyncItems { controller.loadCustomers() } Define a type safe CSS stylesheet: class Styles : Stylesheet() {     companion object {         // Define css classes         val heading by cssclass()          // Define colors         val mainColor = c(""#bdbd22"")     }      init {         heading {             textFill = mainColor             fontSize = 20.px             fontWeight = BOLD         }          val flat = mixin {             backgroundInsets += box(0.px)             borderColor += box(Color.DARKGRAY)         }          button {             padding = box(10.px, 20.px)             fontWeight = BOLD         }          s(button, textInput) {             +flat         }     } } Create an HBox with a Label and a TextField with type safe builders: hbox {     label(""Hello world"") {         addClass(heading)     }      textfield {         promptText = ""Enter your name""     } } Get and set per component configuration settings: // set prefWidth from setting or default to 200.0 node.prefWidth(config.double(""width"", 200.0))  // set username and age, then save with (config) {     set(""username"", ""john"")     set(""age"", 30)     save() } Create a Fragment instead of a View. A Fragment is not a Singleton like Viewis, so you will create a new instance and you can reuse the Fragment in multiple ui locations simultaneously. class MyFragment : Fragment() {     override val root = Hbox(..) } Open it in a Modal Window: MyFragment().openModal() Lookup and embed a View inside another Pane in one go root += MyFragment::class Inject a View and embed inside another Pane val myView: MyView by inject()  init {     root += myFragment } Swap a View for another (change Scene root or parent/pos) val pageTwo: PageTwo by inject()  button(""Go to next page"") {     setOnAction {         replaceWith(pageTwo)     } } Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/edvin/tornadofx"	""	"true"
"Desktop"	"griffon/griffon-kotlin-plugin"	"https://github.com/griffon/griffon-kotlin-plugin"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"8"	"0"	"1"	"GitHub - griffon/griffon-kotlin-plugin: Kotlin for Griffon Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 0 Star 8 Fork 1 griffon/griffon-kotlin-plugin Code Issues 0 Pull requests 0 Pulse Graphs Kotlin for Griffon http://griffon.codehaus.org 8 commits 1 branch 2 releases Fetching contributors Groovy 50.9% Java 49.1% Groovy Java Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags master Nothing to show RELEASE_0_2 RELEASE_0_1 Nothing to show New pull request Latest commit ebc8273 Jun 17, 2013 aalmiray Added readme mirroring plugin documentation Permalink Failed to load latest commit information. griffon-app/conf Upgrade to Kotlin M2 Jul 2, 2012 kotlin-ant-griffon Upgrade to Kotlin M2 Jul 2, 2012 lib/kotlin/lib Upgrade to Kotlin M2 Jul 2, 2012 scripts Upgrade to Kotlin M2 Jul 2, 2012 .gitignore Upgrade to Kotlin M2 Jul 2, 2012 KotlinGriffonPlugin.groovy Upgrade to Kotlin M2 Jul 2, 2012 LICENSE.txt Added missing license file Mar 9, 2012 README.md Added readme mirroring plugin documentation Jun 17, 2013 application.properties Upgrade to Kotlin M2 Jul 2, 2012 README.md Brings the Kotlin language compiler and libraries Plugin page: http://artifacts.griffon-framework.org/plugin/kotlin The Kotlin plugin enables compiling and running [Kotlin]]1 code on your Griffon application. Kotlin is a statically typed language for the JVM that has a great level of interoperability with Java, and so with Groovy too. Usage You must place all Kotlin code under $appdir/src/kotlin, it will be compiled first before any sources available on griffon-app or src/main which means you can't reference any of those sources from your Kotlin code, while the Groovy sources can. Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/griffon/griffon-kotlin-plugin"	""	"true"
"Desktop"	"AlmasB/FXGL"	"https://github.com/AlmasB/FXGL"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"76"	"18"	"13"	"GitHub - AlmasB/FXGL: JavaFX 8 / Kotlin Game Library Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 18 Star 76 Fork 13 AlmasB/FXGL Code Issues 28 Pull requests 0 Wiki Pulse Graphs JavaFX 8 / Kotlin Game Library http://almasb.github.io/FXGL/ 722 commits 3 branches 10 releases Fetching contributors Java 89.3% Kotlin 10.1% Other 0.6% Java Kotlin Other Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags 0.2.5 gh-pages master Nothing to show 0.2.4 0.2.3 0.2.2 0.2.1 0.2.0 0.1.9 0.1.8 0.1.7 0.1.6 0.1.6-beta Nothing to show New pull request Latest commit 7e2f12e Jul 7, 2016 AlmasB optimize imports Permalink Failed to load latest commit information. deployment added usage comment Jun 8, 2016 jar made a note of old releases stand out Mar 2, 2016 samples optimize imports Jul 7, 2016 src explicit cast needed since kotlinc cannot properly infer for some reason Jul 7, 2016 .gitignore ignore deployed artifacts Dec 29, 2015 LICENSE updated year Jan 10, 2016 README.md add example in kotlin Jul 7, 2016 pom.xml use latest ents Jul 7, 2016 README.md FXGL JavaFX 8 Game Library written in Java + Kotlin Good for ... 2D or casual UI based games Hobby & academic projects Learning & practising game development Fast prototyping Not so good for ... 3D, mobile or web (until JavaFX can painlessly support these) Commercial projects Latest Release Features Full JavaFX Integration (FXGL is built on top of JavaFX 8) Top level Java interfaces with lower level Kotlin implementation JBox2D Physics Engine Integration (fork based on v.2.3.0) Ents Entity Component/Control System Integration FXEventBus Event System Integration AStar AI Pathfinding Integration (A* Search) Game Loop Input Bindings (Keys + Mouse) Automated Asset Management ("".png"", "".jpg"", "".wav"", "".mp3"", "".txt"", "".ttf/.otf"", custom binary formats) Text/Script Parsers Automated Collision Handling (physics collisions are hooked into FXGL) Automated Target Screen Resolution (+Fullscreen) Particle System with Canvas Rendering Multi-Layer Rendering Dynamic Texture Manipulation (Texture Processing + Sprite Sheet Animations) Time Management System Audio System Multithreading Networking (both TCP and UDP) Quick Time Events (QTE) (API INCOMPLETE) Customizable Intro Video / Animation Customizable Main Menu / Game Menu Customizable UI elements (Dialogs, Bars, Buttons, etc) Customizable Global CSS for menus / UI elements Saving / Loading System User Profiles (Save/Load/Restore Game Settings) Achievement System In-game Notification System Log4j2 Logging Framework EasyIO IO Framework Performance Monitor Global Services Framework Other minor game dev features If you have a use case (feature) that FXGL doesn't cover, raise an issue, carefully describing the use case. Extra Info For more information check out the project Wiki. Basic Usage Java Example public class BasicGameApp extends GameApplication {      @Override     protected void initSettings(GameSettings settings) {         settings.setWidth(800);         settings.setHeight(600);         settings.setTitle(""Basic Game App"");         settings.setVersion(""0.1"");         // other settings     }      @Override     protected void initInput() {}      @Override     protected void initAssets() {}      @Override     protected void initGame() {}      @Override     protected void initPhysics() {}      @Override     protected void initUI() {}      @Override     protected void onUpdate(double tpf) {}      public static void main(String[] args) {         launch(args);     } } Kotlin Example class BasicGameApp : GameApplication() {      override fun initSettings(settings: GameSettings) {         with(settings) {             width = 800             height = 600             title = ""Basic Game App""             version = ""0.1""             // other settings         }     }      override fun initInput() { }      override fun initAssets() { }      override fun initGame() { }      override fun initPhysics() { }      override fun initUI() { }      override fun onUpdate(tpf: Double) { } }  fun main(args: Array<String>) {     Application.launch(BasicGameApp::class.java, *args) } The Samples folder will be constantly updated to include demonstrations of various features. The YouTube videos will walk you through the basics. For advanced examples please see FXGLGames. Setup Tutorials Eclipse IntelliJ Maven <repository>     <id>jitpack.io</id>     <url>https://jitpack.io</url> </repository>  <dependency>     <groupId>com.github.AlmasB</groupId>     <artifactId>FXGL</artifactId>     <version>0.2.4</version> </dependency>  Gradle repositories {     maven { url ""https://jitpack.io"" } }  dependencies {     compile 'com.github.AlmasB:FXGL:0.2.4' } Contact Email: almaslvl@gmail.com Google+ Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/AlmasB/FXGL"	""	"true"
"Http Clients"	"kittinunf/Fuel"	"https://github.com/kittinunf/Fuel"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"350"	"16"	"31"	"GitHub - kittinunf/Fuel: The easiest HTTP networking library for Kotlin/Android Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 16 Star 350 Fork 31 kittinunf/Fuel Code Issues 6 Pull requests 0 Wiki Pulse Graphs The easiest HTTP networking library for Kotlin/Android 274 commits 2 branches 24 releases 8 contributors Kotlin 80.6% Java 19.4% Kotlin Java Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags feature/fix-interceptor master Nothing to show 1.3.1 1.3.0 1.2.1 1.2.0 1.1.3 1.1.2 1.1.1 1.1.0 1.0.0 1.0.0-rc-1036 0.71 0.67 0.66 0.62 0.61 0.57 0.56 0.55 0.54 0.53 0.52 0.51 0.7 0.6 Nothing to show New pull request Latest commit 859d0b1 May 27, 2016 ismail-s committed with kittinunf Use consumerProguardFiles instead of proguardFiles (#97) … See http://stackoverflow.com/a/27052696/2419193 for more info. Permalink Failed to load latest commit information. fuel-android Use consumerProguardFiles instead of proguardFiles (#97) May 27, 2016 fuel-rxjava Rename to FuelManager Apr 19, 2016 fuel Merge pull request #89 from kittinunf/head_support May 12, 2016 gradle/wrapper Bump to 2.10 gradle Feb 28, 2016 sample-java Refactor so that we can add feature on top more easily Apr 9, 2016 sample Support json array (#93) May 24, 2016 .gitignore Remove gradle.properties, push to jcenter again Nov 16, 2015 .travis.yml Refactor so that we can add feature on top more easily Apr 9, 2016 README.md Update README.md May 25, 2016 build.gradle Bump version to 1.3.1 May 25, 2016 gradlew inception of Fuel May 13, 2015 gradlew.bat inception of Fuel May 13, 2015 settings.gradle Add sample to show client how to use rx-java module Feb 25, 2016 README.md Fuel The easiest HTTP networking library for Kotlin/Android. Features Support basic HTTP GET/POST/PUT/DELETE/HEAD in a fluent style interface Support both asynchronous and blocking requests Download file Upload file (multipart/form-data) Cancel in-flight request Request timeout Configuration manager by using FuelManager Debug log / cUrl log Support response deserialization into plain old object (both Kotlin & Java) Automatically invoke handler on Android Main Thread when using Android Module Special test mode for easier testing RxJava support out of the box Installation Dependency - fuel Result - The modelling for success/failure of operations in Kotlin Dependency - fuel-rxjava RxJava - RxJava – Reactive Extensions for the JVM Gradle repositories {     jcenter() }  dependencies {     compile 'com.github.kittinunf.fuel:fuel:1.3.1' //for JVM     compile 'com.github.kittinunf.fuel:fuel-android:1.3.1' //for Android     compile 'com.github.kittinunf.fuel:fuel-rxjava:1.3.1' //for RxJava support } Sample There are two samples, one is in Kotlin and another one in Java. Quick Glance Usage Async mode Kotlin //an extension over string (support GET, PUT, POST, DELETE with httpGet(), httpPut(), httpPost(), httpDelete()) ""http://httpbin.org/get"".httpGet().responseString { request, response, result ->     //do something with response     when (result) {         is Result.Failure -> {             error = result.getAs()         }         is Result.Success -> {             data = result.getAs()         }     } }  //if we set baseURL beforehand, simply use relativePath FuelManager.instance.basePath = ""http://httpbin.org"" ""/get"".httpGet().responseString { request, response, result ->         //make a GET to http://httpbin.org/get and do something with response     val (data, error) = result     if (error != null) {         //do something when success     } else {         //error handling     } }  //if you prefer this a little longer way, you can always do //get Fuel.get(""http://httpbin.org/get"").responseString { request, response, result ->     //do something with response     result.fold({ d ->         //do something with data     }, { err ->         //do something with error     }) }  Java //get Fuel.get(""http://httpbin.org/get"", params).responseString(new Handler<String>() {     @Override     public void failure(Request request, Response response, FuelError error) {         //do something when it is failure     }      @Override     public void success(Request request, Response response, String data) {         //do something when it is successful     } }); Blocking mode You can also wait for the response. It returns the same parameters as the async version, but it blocks the thread. It supports all the features of the async version. Kotlin val (request, response, result) = ""http://httpbin.org/get"".httpGet().responseString() // result is Result<String, FuelError> Java try {     Triple<Request, Response, String> data = Fuel.get(""http://www.google.com"").responseString();     Request request = data.getFirst();     Response response = data.getSecond();     Result<String,FuelError> text = data.getThird(); } catch (Exception networkError) {  }  Detail Usage GET Fuel.get(""http://httpbin.org/get"").response { request, response, result ->     println(request)     println(response)     val (bytes, error) = result     if (bytes != null) {         println(bytes)     } } Response Handling Result Result is a functional style data structure that represents data that contains result of Success or Failure but not both. It represents the result of an action that can be success (with result) or error. Working with result is easy. You could fold, destructure as because it is just a data class or do a simple when checking whether it is Success or Failure. Response fun response(handler: (Request, Response, Result<ByteArray, FuelError>) -> Unit) Response in String fun responseString(handler: (Request, Response, Result<String, FuelError>) -> Unit) Response in Json fun responseJson(handler: (Request, Response, Result<Json, FuelError>) -> Unit)  val jsonObject = json.obj() //JSONObject val jsonArray = json.array() //JSONArray Response in T (object) fun <T> responseObject(deserializer: ResponseDeserializable<T>, handler: (Request, Response, Result<T, FuelError>) -> Unit) POST Fuel.post(""http://httpbin.org/post"").response { request, response, result -> }  //if you have body to post it manually Fuel.post(""http://httpbin.org/post"").body(""{ \""foo\"" : \""bar\"" }"").response { request, response, result -> } PUT Fuel.put(""http://httpbin.org/put"").response { request, response, result -> } DELETE Fuel.delete(""http://httpbin.org/delete"").response { request, response, result -> } HEAD Fuel.head(""http://httpbin.org/get"").response { request, response, result ->    // request body should be empty. } Debug Logging Use toString() method to Log (request|response) Log.d(""log"", request.toString()) //print and header detail //request --> GET (http://httpbin.org/get?key=value)     Body : (empty)     Headers : (2)     Accept-Encoding : compress;q=0.5, gzip;q=1.0     Device : Android  //response <-- 200 (http://httpbin.org/get?key=value)  Also support cUrl string to Log request, make it very easy to cUrl on command line Log.d(""cUrl log"", request.cUrlString()) //print curl -i -X POST -d ""foo=foo&bar=bar&key=value"" -H ""Accept-Encoding:compress;q=0.5, gzip;q=1.0"" -H ""Device:Android"" -H ""Content-Type:application/x-www-form-urlencoded"" ""http://httpbin.org/post"" Parameter Support URL encoded style for GET & DELETE request Fuel.get(""http://httpbin.org/get"", listOf(""foo"" to ""foo"", ""bar"" to ""bar"")).response { request, response, result -> {     //resolve to http://httpbin.org/get?foo=foo&bar=bar }  Fuel.delete(""http://httpbin.org/delete"", listOf(""foo"" to ""foo"", ""bar"" to ""bar"")).response { request, response, result ->     //resolve to http://httpbin.org/get?foo=foo&bar=bar } Support x-www-form-urlencoded for PUT & POST Fuel.post(""http://httpbin.org/post"", listOf(""foo"" to ""foo"", ""bar"" to ""bar"")).response { request, response, result ->     //http body includes foo=foo&bar=bar }  Fuel.put(""http://httpbin.org/put"", listOf(""foo"" to ""foo"", ""bar"" to ""bar"")).response { request, response, result ->     //http body includes foo=foo&bar=bar } Set request's timeout and read timeout Default timeout for a request is 15000 milliseconds. Default read timeout for a request is 15000 milliseconds. Kotlin val timeout = 5000 // 5000 milliseconds = 5 seconds. val readTimeout = 60000 // 60000 milliseconds = 1 minute.  ""http://httpbin.org/get"".httpGet().timeout(timeout).readTimeout(readTimeout).responseString { request, response, result -> } Java int timeout = 5000 // 5000 milliseconds = 5 seconds. int readTimeout = 60000 // 60000 milliseconds = 1 minute. Fuel.get(""http://httpbin.org/get"", params).timeout(timeout).readTimeout(readTimeout).responseString(new Handler<String>() {     @Override     public void failure(Request request, Response response, FuelError error) {         //do something when it is failure     }      @Override     public void success(Request request, Response response, String data) {         //do something when it is successful     } }); Download with or without progress handler Fuel.download(""http://httpbin.org/bytes/32768"").destination { response, url ->     File.createTempFile(""temp"", "".tmp"") }.response { req, res, result -> {  }  Fuel.download(""http://httpbin.org/bytes/32768"").destination { response, url ->     File.createTempFile(""temp"", "".tmp"") }.progress { readBytes, totalBytes ->     val progress = readBytes.toFloat() / totalBytes.toFloat() }.response { req, res, result -> {  } Upload with or without progress handler Fuel.upload(""/post"").source { request, url ->     File.createTempFile(""temp"", "".tmp""); }.responseString { request, response, result ->  }  //by default upload use Method.POST, unless it is specified as something else Fuel.upload(""/put"", Method.PUT).source { request, url ->     File.createTempFile(""temp"", "".tmp""); }.responseString { request, response, result ->     // calls to http://example.com/api/put with PUT  } Authentication Support Basic Authentication right off the box val username = ""username"" val password = ""abcd1234""  Fuel.get(""http://httpbin.org/basic-auth/$user/$password"").authenticate(username, password).response { request, response, result -> } Validation By default, the valid range for HTTP status code will be (200..299). Cancel If one wants to cancel on-going request, one could call cancel on the request object val request = Fuel.get(""http://httpbin.org/get"").response { request, response, result ->     // if request is cancelled successfully, response callback will not be called. Interrupt callback (if provided) will be called instead }  //later request.cancel() //this will cancel on-going request Also, interrupt request can be further processed with interrupt callback val request = Fuel.get(""http://httpbin.org/get"").interrupt { request ->     println(""${request.url} was interrupted and cancelled"") }.response { request, response, result ->     // if request is cancelled successfully, response callback will not be called. Interrupt callback (if provided) will be called instead }  request.cancel() Advanced Configuration Response Deserialization Fuel provides built-in support for response deserialization. Here is how one might want to use Fuel together with Gson //User Model data class User(val firstName: String = """",                 val lastName: String = """") {      //User Deserializer     class Deserializer : ResponseDeserializable<User> {         override fun deserialize(content: String) = Gson().fromJson(content, User::class.java)     }  }  //Use httpGet extension ""http://www.example.com/user/1"".httpGet().responseObject(User.Deserializer()) { req, res, result     //result is of type Result<User, Exception>     val (user, err) = result      println(user.firstName)     println(user.lastName) }  There are 4 methods to support response deserialization depending on your needs (also depending on JSON parsing library of your choice), and you are required to implement only one of them. public fun deserialize(bytes: ByteArray): T?  public fun deserialize(inputStream: InputStream): T?  public fun deserialize(reader: Reader): T?  public fun deserialize(content: String): T? Another example may be parsing a website that is not UTF-8. By default, Fuel serializes text as UTF-8, we need to define our deserializer as such object Windows1255StringDeserializer : ResponseDeserializable<String> {         override fun deserialize(bytes: ByteArray): String {             return String(bytes, ""windows-1255"")         }     } Configuration Use singleton FuelManager.instance to manage global configurations. basePath is used to manage common root path. Great usage is for your static API endpoint. FuelManager.instance.basePath = ""https://httpbin.org"" Fuel.get(""/get"").response { request, response, result ->     //make request to https://httpbin.org/get because Fuel.{get|post|put|delete} use FuelManager.instance to make HTTP request } baseHeaders is to manage common HTTP header pairs in format of Map<String, String>>. FuelManager.instance.baseHeaders = mapOf(""Device"" to ""Android"") Fuel.get(""/get"").response { request, response, result ->     //make request to https://httpbin.org/get with global device header (Device : Android) } baseParams is used to manage common key=value query param, which will be automatically included in all of your subsequent requests in format of List<Pair<String, Any?>> (Any is converted to String by toString() method) FuelManager.instance.baseParams = listOf(""api_key"" to ""1234567890"") Fuel.get(""/get"").response { request, response, result ->     //make request to https://httpbin.org/get?api_key=1234567890 } client is a raw HTTP client driver. Generally, it is responsible to make Request into Response. Default is HttpClient which is a thin wrapper over java.net.HttpUrlConnnection. You could use any httpClient of your choice by conforming to client protocol, and set back to FuelManager.instance to kick off the effect. keyStore is configurable by user. By default it is null. socketFactory can be supplied by user. If keyStore is not null, socketFactory will be derived from it. hostnameVerifier is configurable by user. By default, it uses HttpsURLConnection.getDefaultHostnameVerifier(). requestInterceptors responseInterceptors is a side-effect to add to Request and/or Response objects. For example, one might wanna print cUrlString style for every request that hits server in DEBUG mode. val manager = FuelManager() if (BUILD_DEBUG) {     manager.addRequestInterceptor(cUrlLoggingRequestInterceptor()) } val (request, response, result) = manager.request(Method.GET, ""https://httpbin.org/get"").response() //it will print curl -i -H ""Accept-Encoding:compress;q=0.5, gzip;q=1.0"" ""https://httpbin.org/get"" Another example is that you might wanna add data into your Database, you can achieve that with providing responseInterceptors such as inline fun <reified T> DbResponseInterceptor() =         { next: (Request, Response) -> Response ->             { req: Request, res: Response ->                 val db = DB.getInstance()                 val instance = Parser.getInstance().parse(res.data, T::class)                 db.transaction {                     it.copyToDB(instance)                 }                 next(req, res)             }         }  manager.addResponseInterceptor(DBResponseInterceptor<Dog>) manager.request(Method.GET, ""http://www.example.com/api/dog/1"").response() // Db interceptor will be called to intercept data and save into Database of your choice Test mode Testing asynchronized calls can be somehow hard without special care. That's why Fuel has a special test mode with make all the requests blocking, for tests. Fuel.testMode {     timeout = 15000 // Optional feature, set all requests' timeout to this value. } In order to disable test mode, just call Fuel.regularMode() RxJava Support Fuel supports RxJava right off the box. ""http://www.example.com/photos/1"".httpGet().rx_object(Photo.Deserializer()).subscribe {     //do something } There are 6 extensions over Request that provide RxJava Observable<T> as return type. fun Request.rx_response(): Observable<Pair<Response, ByteArray>> fun Request.rx_responseString(charset: Charset): Observable<Pair<Response, String>> fun <T : Any> Request.rx_responseObject(deserializable: Deserializable<T>): Observable<Pair<Response, T>>  fun Request.rx_data(): Observable<ByteArray> fun Request.rx_string(charset: Charset): Observable<String> fun <T : Any> Request.rx_object(deserializable: Deserializable<T>): Observable<T> Other libraries If you like Fuel, you might also like other libraries; Result - The modelling for success/failure of operations in Kotlin Kovenant - Kovenant. Promises for Kotlin. Fuse - A simple generic LRU memory/disk cache for Android written in Kotlin Credits Fuel is brought to you by contributors. Licenses Fuel is released under the MIT license. Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/kittinunf/Fuel"	""	"true"
"Http Clients"	"jkcclemens/khttp"	"https://github.com/jkcclemens/khttp"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"36"	"1"	"4"	"GitHub - jkcclemens/khttp: Kotlin HTTP requests library. Similar to Python requests. Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 1 Star 36 Fork 4 jkcclemens/khttp Code Issues 0 Pull requests 0 Pulse Graphs Kotlin HTTP requests library. Similar to Python requests. http://khttp.readthedocs.org/en/latest/ 130 commits 2 branches 1 release Fetching contributors Kotlin 100.0% Kotlin Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags docs master Nothing to show 0.1.0 Nothing to show New pull request Latest commit 485ec42 Jun 5, 2016 jkcclemens Updated: New dependency info Permalink Failed to load latest commit information. src Updated: Constants and whatnot Jun 4, 2016 .gitattributes Updated: First commit Oct 18, 2015 .gitignore Updated: First commit Oct 19, 2015 .travis.yml Updated: First commit Oct 19, 2015 LICENSE Updated: First commit Oct 19, 2015 README.md Updated: New dependency info Jun 5, 2016 pom.xml Updated: 0.1.1-SNAPSHOT for further development Jun 4, 2016 README.md khttp khttp is a simple library for HTTP requests in Kotlin. It functions similarly to Python's requests module. import khttp.get  fun main(args: Array<out String>) {     // Get our IP     println(get(""http://httpbin.org/ip"").jsonObject.getString(""origin""))     // Get our IP in a simpler way     println(get(""http://icanhazip.com"").text) } Dependency Stable Stable releases are hosted on JCenter. <repository>   <id>jcenter</id>   <url>http://jcenter.bintray.com/</url> </repository> <!-- ... --> <dependency>   <groupId>khttp</groupId>   <artifactId>khttp</artifactId>   <version>0.1.0</version> </dependency> Development Development builds are currently available through JitPack. Snapshot builds may eventually be hosted on OJO, but are not currently available there. Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/jkcclemens/khttp"	""	"true"
"Editors"	"JetBrains/intellij-community"	"https://github.com/JetBrains/intellij-community"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"3203"	"289"	"1380"	"GitHub - JetBrains/intellij-community: IntelliJ IDEA Community Edition Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 289 Star 3,203 Fork 1,380 JetBrains/intellij-community Code Pull requests 86 Pulse Graphs IntelliJ IDEA Community Edition http://www.jetbrains.com/idea/ 175,645 commits 33 branches 37,590 releases 189 contributors Java 83.2% Python 12.7% Groovy 1.4% HTML 1.0% Kotlin 0.9% JavaScript 0.3% Other 0.5% Java Python Groovy HTML Kotlin JavaScript Other Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags 115 117 119 121 123 125 127 129 131 133 135 137 139 141 143 145 145.1812 162 162.646 162.844 162.889 162.917 162.1024 162.1120 162.1236 162.1346 customDfaAssert idea10 maia master nika x0x xena Nothing to show webstorm/163.1530 webstorm/163.1479 webstorm/163.1437 webstorm/163.1375 webstorm/163.1374 webstorm/163.1279 webstorm/163.1261 webstorm/163.1260 webstorm/163.1194 webstorm/163.1193 webstorm/163.1105 webstorm/163.1104 webstorm/163.1060 webstorm/163.1059 webstorm/163.1018 webstorm/163.1017 webstorm/163.955 webstorm/163.954 webstorm/163.913 webstorm/163.912 webstorm/163.899 webstorm/163.898 webstorm/163.875 webstorm/163.874 webstorm/163.828 webstorm/163.827 webstorm/163.748 webstorm/163.747 webstorm/163.690 webstorm/163.689 webstorm/163.666 webstorm/163.651 webstorm/163.650 webstorm/163.608 webstorm/163.607 webstorm/163.584 webstorm/163.583 webstorm/163.516 webstorm/163.483 webstorm/163.482 webstorm/163.369 webstorm/163.345 webstorm/163.344 webstorm/163.324 webstorm/163.323 webstorm/163.311 webstorm/163.305 webstorm/163.304 webstorm/163.283 webstorm/163.282 webstorm/163.270 webstorm/163.262 webstorm/163.255 webstorm/163.252 webstorm/163.251 webstorm/163.227 webstorm/163.226 webstorm/163.198 webstorm/163.197 webstorm/163.181 webstorm/163.164 webstorm/163.163 webstorm/163.153 webstorm/163.146 webstorm/163.145 webstorm/163.122 webstorm/163.121 webstorm/163.96 webstorm/163.95 webstorm/163.76 webstorm/163.70 webstorm/163.69 webstorm/163.58 webstorm/163.57 webstorm/163.56 webstorm/163.43 webstorm/163.14 webstorm/162.1386 webstorm/162.1371 webstorm/162.1360 webstorm/162.1348 webstorm/162.1334 webstorm/162.1332 webstorm/162.1320 webstorm/162.1306 webstorm/162.1289 webstorm/162.1277 webstorm/162.1272 webstorm/162.1262 webstorm/162.1257 webstorm/162.1243 webstorm/162.1242 webstorm/162.1225 webstorm/162.1211 webstorm/162.1195 webstorm/162.1194 webstorm/162.1180 webstorm/162.1167 webstorm/162.1166 webstorm/162.1149 Nothing to show New pull request Latest commit b29c18c Jul 15, 2016 IlyaKazakevich PY-17107: Removing outdated deprecated code … * This workaround is not needed anymore at least since Django 1.7. Permalink Failed to load latest commit information. .idea remove junit 5 api jar Jul 8, 2016 RegExpSupport regexp: adjust test data Jul 6, 2016 bin IDEA-158516 idea.bat is using %BITS% for USER_JDK_FILE before it's in… Jul 15, 2016 build build scripts: interface from scrambling task extracted to allow its … Jul 15, 2016 colorSchemes fix ctrl click color for vibrant_ink color schema Apr 11, 2016 community-resources reverted: IDEA-CR-12179IDEA-150633 IntelliJ IDEA CE 15.0.3 doesn't ha… Jul 11, 2016 community-tests add maven indices tests to the MAVEN_INTEGRATION_TESTS group May 5, 2016 images cleanup. Convert empty arrays to constants (new T[0] -> T.EMPTY) Jul 7, 2016 java IDEA-158599 Semicolon not inserted in string literals and comments Jul 15, 2016 jps Cleanup (ASM library name) Jul 7, 2016 json json schema, rename resource file .babelrc and .eslintrc back, they d… Jul 11, 2016 lib [platform] temporarily reverts ASM #317621 fix (IDEA-158326) Jul 8, 2016 license xslt-debugger: license file moved from plugin to common place Sep 11, 2015 native IDEA-140566 cleanup Jul 11, 2016 platform Fixed files nesting in project root Jul 15, 2016 plugins Java inspection: In ""Add Braces"" and ""Remove Braces"" inspections don'… Jul 15, 2016 python PY-17107: Removing outdated deprecated code Jul 15, 2016 resources-en Merge branch 'master' of https://github.com/Kendos-Kenlen/intellij-co… Jul 13, 2016 resources IDEA-70251 smart step into displays in popup methods that have alread… Jul 14, 2016 samples removed bad obsolete plugin samples (IDEA-117108) Nov 25, 2014 spellchecker dictionary: toolchains Jun 22, 2016 tools jflex-1.7.0-SNAPSHOT.jar: supply changes.patch May 28, 2016 updater Bootstrap should pass apply command to Runner Jul 12, 2016 xml IDEA-158282 Correct breadcrumbs appearance Jul 13, 2016 .gitattributes auto cr/lf Dec 8, 2012 .gitignore Create standalone IDEA project inside community/python/helpers Nov 13, 2015 CONTRIBUTING.md CONTRIBUTING.md: fix typos Mar 11, 2015 LICENSE.txt license should show copyright owner (IDEA-152352) Mar 1, 2016 NOTICE.txt use https Dec 19, 2014 README.md readme updated: IDEA 15.0 is now required to develop IDEA project Nov 9, 2015 build.txt trunk's version is 163 Jun 7, 2016 build.xml Allow passing productPropertiesPath to build. Dec 8, 2015 community-main.iml add terminal plugin to community-main.iml Feb 12, 2016 getPlugins.bat android plugin included into community project Sep 10, 2014 getPlugins.sh android plugin included into community project Sep 10, 2014 test-log.xml [tests] watcher logging enabled Feb 29, 2016 README.md IntelliJ IDEA Community Edition Building and Running from the IDE To develop IntelliJ IDEA, you can use either IntelliJ IDEA Community Edition or IntelliJ IDEA Ultimate not older than 15.0. To build and run the code: Run getPlugins.sh / getPlugins.bat from the project root directory to check out additional modules. If this git repository is not on 'master' branch you need to checkout the same branches/tags in android and android/tools-base git repositories. Open the project. If an error notification about a missing required plugin (e.g. Kotlin) is shown enable or install that plugin. Configure a JSDK named ""IDEA jdk"" (case sensitive), pointing to an installation of JDK 1.6. Unless you're running on a Mac with an Apple JDK, add /lib/tools.jar to the set of ""IDEA jdk"" jars. Configure a JSDK named ""1.8"", pointing to an installation of JDK 1.8. Add /lib/tools.jar to the set of ""1.8"" jars. Use Build | Make Project to build the code. To run the code, use the provided shared run configuration ""IDEA"". You can find other useful information at http://www.jetbrains.org. Contribute section of that site describes how you can contribute to IntelliJ IDEA. Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/JetBrains/intellij-community"	""	"true"
"Editors"	"alexmt/atom-kotlin-language"	"https://github.com/alexmt/atom-kotlin-language"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"10"	"1"	"3"	"GitHub - alexmt/atom-kotlin-language: Adds syntax highlighting to Kotlin files in Atom Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 1 Star 10 Fork 3 alexmt/atom-kotlin-language Code Issues 0 Pull requests 0 Pulse Graphs Adds syntax highlighting to Kotlin files in Atom https://atom.io/packages/language-kotlin 15 commits 1 branch 4 releases Fetching contributors CoffeeScript 100.0% CoffeeScript Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags master Nothing to show v0.4.0 v0.3.0 v0.2.0 v0.1.0 Nothing to show New pull request Fetching latest commit… Cannot retrieve the latest commit at this time. Permalink Failed to load latest commit information. grammars .gitignore CHANGELOG.md LICENSE.md README.md package.json sample.png README.md Kotlin language support in Atom Adds syntax highlighting to Kotlin files in Atom. Converted from Sublime Text package which has been implemented by Vladimir Kostyukov. Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/alexmt/atom-kotlin-language"	""	"true"
"Editors"	"vkostyukov/kotlin-sublime-package"	"https://github.com/vkostyukov/kotlin-sublime-package"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"20"	"2"	"7"	"GitHub - vkostyukov/kotlin-sublime-package: Sublime Text 2 Package for Kotlin Programming Language Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 2 Star 20 Fork 7 vkostyukov/kotlin-sublime-package Code Issues 2 Pull requests 0 Pulse Graphs Sublime Text 2 Package for Kotlin Programming Language 97 commits 1 branch 1 release Fetching contributors Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags master Nothing to show kotlin-sublime-package-1.0 Nothing to show New pull request Latest commit 535967f Mar 14, 2016 vkostyukov Merge pull request #5 from cy6erGn0m/1.0.0 … 1.0.0 Permalink Failed to load latest commit information. .gitignore added .gitignore Dec 12, 2012 Kotlin.JSON-tmLanguage Kotlin file extensions Mar 14, 2016 Kotlin.tmLanguage Kotlin file extensions Mar 14, 2016 LICENSE Add a license Nov 13, 2014 README.md fixed link Dec 3, 2012 scrot.png changed scrot Dec 3, 2012 README.md Kotlin Sublime Text 2 Package This is Sumblime Text 2 package for Kotlin programming language. Overview The following modules already implemented: Kotlin Syntax Defenition Kotlin.tmLanguage Download The latest avaliable archived package: Kotlin.sublime-package Tagged zip: kotlin-sublime-package-1.0.zip Current zipball: kotlin-sublime-package-master.zip Instalation There are three ways to install Kotlin Sublime Package: Using archived package (kotlin.sublime-package) Using version control system (GitHub) Using raw files (Kotlin.tmLanguage) from repository tree There is an instruction with detailed steps for any type of instalation. Contribution If you want to contribute to this project, first of all you need to download the latest version of AAAPackageDev - useful tool for Sublime Text Packages developing. Then you can follow the tutorials: Syntax Defenitions for changing the syntax defenition file Snippets for changing the snippet files There is also a full documentation of Sublime Text extending. The best way to contribute is to send pull-requests though GitHub interface. Links https://github.com/vkostyukov/kotlin-sublime-package http://www.sublimetext.com/ http://kotlin.jetbrains.org/ by Vladimir Kostyukov, 2012 Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/vkostyukov/kotlin-sublime-package"	""	"true"
"Editors"	"udalov/kotlin-vim"	"https://github.com/udalov/kotlin-vim"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"50"	"3"	"1"	"GitHub - udalov/kotlin-vim: Kotlin plugin for Vim. Featuring syntax highlighting and basic indentation Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 3 Star 50 Fork 1 udalov/kotlin-vim Code Issues 0 Pull requests 0 Pulse Graphs Kotlin plugin for Vim. Featuring syntax highlighting and basic indentation 46 commits 1 branch 0 releases Fetching contributors VimL 100.0% VimL Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags master Nothing to show Nothing to show New pull request Latest commit 9bb133b Jul 4, 2016 udalov Update to development builds of 1.1: add 'typealias', 'coroutine', 's… … …uspend', remove 'yield', 'async' Permalink Failed to load latest commit information. ftdetect indent syntax README.md README.md kotlin-vim Installation Vundle Add Plugin 'udalov/kotlin-vim' to your ~/.vimrc and run PluginInstall. Pathogen $ git clone https://github.com/udalov/kotlin-vim ~/.vim/bundle/kotlin-vim  Manual mkdir -p ~/.vim/{syntax,indent,ftdetect} cp syntax/kotlin.vim ~/.vim/syntax/kotlin.vim cp indent/kotlin.vim ~/.vim/indent/kotlin.vim cp ftdetect/kotlin.vim ~/.vim/ftdetect/kotlin.vim Restart Vim Enjoy! Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/udalov/kotlin-vim"	""	"true"
"Editors"	"sargunster/kotlin-textmate-bundle"	"https://github.com/sargunster/kotlin-textmate-bundle"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"0"	"1"	"7"	"GitHub - sargunster/kotlin-textmate-bundle: Textmate bundle for the Kotlin programming language Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 1 Star 0 Fork 7 sargunster/kotlin-textmate-bundle forked from vkostyukov/kotlin-sublime-package Code Pull requests 0 Pulse Graphs Textmate bundle for the Kotlin programming language 101 commits 1 branch 1 release Fetching contributors Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags master Nothing to show kotlin-sublime-package-1.0 Nothing to show New pull request Pull request Compare This branch is 4 commits ahead of vkostyukov:master. Fetching latest commit… Cannot retrieve the latest commit at this time. Permalink Failed to load latest commit information. Kotlin.tmbundle LICENSE README.md README.md Kotlin TextMate Bundle This is a TextMate bundle for the Kotlin programming language. The grammar definition is from the vkostyukov/kotlin-sublime-package repo. The original repo has been repackaged to fit the format of a TextMate bundle. Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/sargunster/kotlin-textmate-bundle"	""	"true"
"JavaScript"	"danfma/kotlinjs-react"	"https://github.com/danfma/kotlinjs-react"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"2"	"1"	"0"	"GitHub - danfma/kotlinjs-react: Kotlin JS bindings for the react library Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 1 Star 2 Fork 0 danfma/kotlinjs-react Code Issues 2 Pull requests 0 Pulse Graphs Kotlin JS bindings for the react library 33 commits 3 branches 3 releases Fetching contributors Kotlin 100.0% Kotlin Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags develop master release/v0.3.1 Nothing to show v0.3.1 0.3.2 0.3 Nothing to show New pull request Latest commit 61da1a4 Jun 28, 2016 danfma Removing .iml file Permalink Failed to load latest commit information. .idea src/main/kotlin/react Fix in react button attributes Jun 5, 2016 .gitignore Maven and project configuration... Jun 3, 2016 LICENSE Initial commit May 11, 2016 README.md Typo... Jun 2, 2016 pom.xml README.md kotlinjs-react Kotlin JS bindings for the React library. TODO ( ) Setup a project to publish artifacts so users can use this ( ) Generate types for all the dom nodes that are supported by React ( ) Create tests ( ) Create samples ( ) Create documentation ( ) Limitations compared to the pure JS, ES6, Typescript usage Current status Work in progress By now, I'm too busy working on a little software that uses this library, which led me to make it better as possible. I have created a lot of additional libraries, like bindings and elements for Semantic UI, React-Router, etc. I will like then and publish more information as soon as possible too. Nice things inside of some of those support libraries (all in my repository on github). Simple Typed Dependency Injection Container (kotlin-runtime-extensions) package sisimob  import kotlinjs.runtime.container.Container import kotlinjs.runtime.extension.Type import kotlinjs.runtime.extension.typeOf //... others  object ServiceLocator {     private val container = Container()      val actionDispatcher by lazy {         container.resolveByType<ActionDispatcher>()     }      val messageService by lazy {         container.resolveByType<MessageService>()     }      val validationService by lazy {         container.resolveByType<ValidationService>()     }      init {         container.apply {             val config = singleton(""Config"") {                 BackendConfig()             }              val validationService = singleton(""ValidationService"") {                 ValidationService()             }              val messageService = singleton(ServiceName.MessageService.name) {                 MessageService()             }         }          container.makeGlobal()     }      fun <T : Any> resolveByName(name: String): T {         return container.resolveByName(name)     }      fun <T : Any> resolveByType(serviceType: Type<T>): T {         return container.resolveByType(serviceType)     }      inline fun <reified T : Any> resolveByType(): T {         return resolveByType(typeOf<T>())     }   }  RXJS Bindings (kotlinjs-rxjs - incomplete) REDIRECT Rx Redux Implementation (not published yet) REDIRECT AND COMMENT Knockout Bindings Use as one alternative to mbox (because I can't use computed observables with that) to allow you to write MVVM code with React. You code write ViewModels like this: class CityManager(val locationService: LocationService,                   val messageService: MessageService) : ViewModel() {      // delegated observable     var selectedState: StateModel? by observable(null)     var loadingCities: Boolean by observable(false)     var selectedCity: CityModel? by observable(null)      // delegated observable array     var cities: Array<CityModel> by observableArray()         get         private set       // computed properties     val hasSelectedState by pureComputed { this.selectedState != null }      init {         // watch for property changes          watch { selectedState } thenExecute { state ->             clearAndReload()         }     }      fun clearSelection() {         // thanks to kotlin's property delegation you can          // work like if it is any normal property here         selectedCity = null     }      fun loadCities() {         loadingCities = true          locationService.loadCities(selectedState?.id).then { cities ->             this.cities = cities             loadingCities = false         }     }      private fun clearAndReload() {         clear()         loadCities()     }      // ... } And then combine with some view like bellow to allow a component to update as soon as the viewmodel changes (ok, I'm cheating here because my viewmodel is a combination of knockout and rxjs, but you could use only one, if you wanted to). // just a base class to help abstract class UiComponent<TProps : ReactProps, TState> : Component<TProps, TState>(), WillUnmount {     protected val subscriptions = SubscriptionList()      override fun componentWillUnmount() {         subscriptions.dispose()     }      protected fun updateOnChanged(vararg sources: NotifyPropertyChanged) {         val propertyChangedInSources =                 sources.map { it.propertyChanged }.toTypedArray()          subscriptions.add(                 Observable.mergeWithArray(propertyChangedInSources)                         .throttle(1)                         .subscribe { forceUpdate() }         )     }  }  class MyComponent : UiComponent<ReactProps, Unit>(), WillMount {     val rootState = ServiceLocator.rootState     val locationManager = rootState.location      override fun componentWillMount() {         rootState.title = ""Estados, Cidades e Bairros""         updateOnChanged(locationManager) // <-- this is a viewmodel     }      override fun render(): ReactElement? = ksx {         val stateManager = locationManager.states         val cityManager = locationManager.cities         val neighborhoodManager = locationManager.neighborhoods          grid {             columns = ColumnWide.Two              gridColumn {                 statesPanel {                     manager = stateManager                 }                  cityPanel {                     manager = cityManager                 }                  neighborhoodPanel {                     manager = neighborhoodManager                 }             }         }     }     // ... Well I will post more later!! Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/danfma/kotlinjs-react"	""	"true"
"JavaScript"	"andrewoma/reakt"	"https://github.com/andrewoma/reakt"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"82"	"9"	"7"	"GitHub - andrewoma/reakt: Reakt is a Kotlin wrapper for facebook's React library Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 9 Star 82 Fork 7 andrewoma/reakt Code Issues 0 Pull requests 0 Pulse Graphs Reakt is a Kotlin wrapper for facebook's React library 34 commits 1 branch 0 releases 5 contributors JavaScript 73.6% Kotlin 24.1% CSS 2.1% HTML 0.2% JavaScript Kotlin CSS HTML Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags master Nothing to show Nothing to show New pull request Latest commit 388b2d6 Jul 5, 2016 andrewoma committed on GitHub Merge pull request #10 from serssp/mrg … Support customs html attributes Permalink Failed to load latest commit information. generator/src/generator Switched to gradle, separated todo example from reakt library Mar 31, 2016 gradle/wrapper Switched to gradle, separated todo example from reakt library Mar 31, 2016 reakt Support customs html attributes Jul 2, 2016 script Update to Kotlin build 0.8.1615 (which includes the standard library) Oct 8, 2014 todo Update App.kt Mar 31, 2016 .gitignore Kotlin 1.0.2 support Jun 10, 2016 LICENSE.txt Initial commit Oct 6, 2014 README.md Update README Apr 1, 2016 build.gradle Kotlin 1.0.2 support Jun 10, 2016 build.xml Initial commit Oct 5, 2014 gradle.properties Switched to gradle, separated todo example from reakt library Mar 31, 2016 gradlew Switched to gradle, separated todo example from reakt library Mar 31, 2016 gradlew.bat Switched to gradle, separated todo example from reakt library Mar 31, 2016 settings.gradle Switched to gradle, separated todo example from reakt library Mar 31, 2016 README.md Reakt Reakt is a Kotlin wrapper for facebook's React library. It includes a working port of the Flux TodoMVC Example. To run the example, clone the repository, build the project and open index.html from the todo/build/web directory. Features A completely typesafe wrapper over React. A Kotlin-based HTML builder api (no JSX equivalent is required). Comparison Component: Kotlin vs JavaScript Actions: Kotlin vs JavaScript Store: Kotlin vs JavaScript Building Clone repository ./gradlew buildWeb  That's it. Now you can open todo/build/classes/main/index.html to see the example Todo application. Open build.gradle in IntelliJ, make project will overwrite generated js, so just refresh in browser Using in your project as a library Build reakt.jar (reakt/build/libs) ./gradlew reakt:jar  In IntelliJ, you can add this jar as a dependency to your Kotlin(Javascript) project or from command line kotlinc-js -output my-awesome-app.js src -library-files reakt.jar  See Todo sample for how to use gradle build Credits wizzard0's React TypeScript Definitions. Flux TodoMVC Example Kara web framework for Kotlin builder examples Status Proof of concept Roadmap Clean up copyrights and licenses for derivative work Review naming conventions (Actions/Events) Add properties to the CSS Sytle class Support the full React API (refs, renderToString, renderToDocument et al) Wrap the test API and support DOM-based tests (probably via Karma) Review the visibility of the react.* package License This project is licensed under a MIT license. Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/andrewoma/reakt"	""	"true"
"Misc"	"Kotlin/kotlinx.reflect.lite"	"https://github.com/Kotlin/kotlinx.reflect.lite"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"12"	"11"	"2"	"GitHub - Kotlin/kotlinx.reflect.lite: Lightweight library allowing to introspect basic stuff about Kotlin symbols Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 11 Star 12 Fork 2 Kotlin/kotlinx.reflect.lite Code Issues 0 Pull requests 0 Pulse Graphs Lightweight library allowing to introspect basic stuff about Kotlin symbols 31 commits 1 branch 0 releases Fetching contributors Kotlin 55.2% Java 22.3% Protocol Buffer 21.2% Shell 1.1% IDL 0.2% Kotlin Java Protocol Buffer Shell IDL Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags master Nothing to show Nothing to show New pull request Latest commit d08eb15 Jul 10, 2016 amaranth committed with udalov Add FunctionMetadata.returnType Permalink Failed to load latest commit information. .idea Add FunctionMetadata.returnType Jul 11, 2016 src Add FunctionMetadata.returnType Jul 11, 2016 .gitignore Update to Kotlin 1.0.3 Jul 11, 2016 ReadMe.md jcenter in readme Feb 16, 2016 copy.sh pom.xml Add FunctionMetadata.returnType Jul 11, 2016 reflect-lite.iml Add FunctionMetadata.returnType Jul 11, 2016 reflect-lite.pro ReadMe.md kotlinx.reflect.lite This library provides an API to introspect Kotlin symbols at runtime. Its main feature is the small size which makes it possible to use it on memory-constrained devices. Maven Add jcenter repository (if you don't have it yet) <repository>     <snapshots>         <enabled>false</enabled>     </snapshots>     <id>central</id>     <name>bintray</name>     <url>http://jcenter.bintray.com</url> </repository> Add a dependency: <dependency>     <groupId>org.jetbrains.kotlinx</groupId>     <artifactId>kotlinx.reflect.lite</artifactId>     <version>1.0.0</version> </dependency> Gradle jcenter is configured by default in gradle however you may need to include it in some cases repositories {     jcenter() } Add a dependency: compile 'org.jetbrains.kotlinx:kotlinx.reflect.lite:1.0.0' FAQ Why not just use Java reflection instead? Java reflection cannot figure out Kotlin-specific features of the introspected program. For example, nullability of Kotlin types is erased in JVM bytecode. Also parameter names were not supported in Java reflection until Java 8. Why not just use Kotlin reflection instead? While Kotlin has its own reflection library, its size is currently above 2Mb which may be unacceptable in some circumstances, for example on Android. The size of the minimized version of this library is about 100Kb plus the dependency on protobuf-java. What is supported? Currently the only supported features are names of parameters and nullability of their types. Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/Kotlin/kotlinx.reflect.lite"	""	"true"
"Misc"	"puniverse/quasar"	"https://github.com/puniverse/quasar/tree/master/quasar-kotlin"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"1975"	"181"	"212"	"quasar/quasar-kotlin at master · puniverse/quasar · GitHub Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 181 Star 1,975 Fork 212 puniverse/quasar Code Issues 37 Pull requests 3 Pulse Graphs Branch: master Switch branches/tags Branches Tags 0.6.2 0.7.0 better-troubleshoot cont-alt cont cont2 fiberasync-lambda fiberio-select-park fiberio-select fluent-transform gh-pages jdk9 kotlin-api master Nothing to show v0.7.5 v0.7.4 v0.7.3 v0.7.2 v0.7.0 v0.6.2 v0.6.1 v0.6.0 v0.5.0 v0.4.0 v0.3.0 v0.2.0 v0.1.1 v0.1.0 Nothing to show Create new file Find file History quasar/quasar-kotlin/ Latest commit 8f68f03 Jun 14, 2016 circlespainter 📝 Remove stale comments in Kotlin tests [ci skip] Permalink .. Failed to load latest commit information. src 📝 Remove stale comments in Kotlin tests [ci skip] Jun 14, 2016 build.gradle ⬆️ Kotlin `1.0.0-beta-1103` Nov 2, 2015 Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/puniverse/quasar/tree/master/quasar-kotlin"	""	"true"
"Misc"	"MehdiK/Humanizer.jvm"	"https://github.com/MehdiK/Humanizer.jvm"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"63"	"8"	"7"	"GitHub - MehdiK/Humanizer.jvm Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 8 Star 63 Fork 7 MehdiK/Humanizer.jvm Code Issues 0 Pull requests 1 Pulse Graphs No description or website provided. 83 commits 1 branch 0 releases Fetching contributors Kotlin 100.0% Kotlin Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags master Nothing to show Nothing to show New pull request Latest commit e58b304 Mar 27, 2015 hhariri Merge pull request #19 from cy6erGn0m/M11 … Migrate to M11 Permalink Failed to load latest commit information. .idea Migrate to M11 Mar 25, 2015 gradle/wrapper Added missing files Apr 16, 2014 src/main/kotlin/org/humanizer/jvm Migrate to M11 Mar 25, 2015 test/main/kotlin/org/humanizer/jvm/tests Migrate to M11 Mar 25, 2015 .gitignore GitIgnore Apr 16, 2014 Humanizer.jvm.iml Moved to Spek with row support (givenData) Apr 20, 2014 Humanizer.jvm.tests.iml Migrate to M11 Mar 25, 2015 License.txt added apache 2.0 license file May 8, 2014 README.md Remove extra quote in readme Dec 16, 2014 build.gradle Migrate to M11 Mar 25, 2015 gradlew Added missing files Apr 16, 2014 gradlew.bat Added missing files Apr 16, 2014 settings.gradle Moved to Spek with row support (givenData) Apr 20, 2014 README.md Humanizer.jvm is an adaptation of the humanizer framework for .Net which is made for the jvm and is written in Kotlin. Humanizer.jvm meets all your jvm needs for manipulating and displaying strings, enums, dates, times, timespans, numbers and quantities. The current build status on the CI server is Table of contents Features Humanize date Ordinalize Truncate Inflector Number to words To quantity Humanize DeHumanize Roman numerals Features Humanize date Extension methods Humanize for Java.Util.Date objects You can Humanize an instance of Java.Util.Date and get back a string telling how far back or forward in time that is compared to a given date: val cal = GregorianCalendar() val dateToUse = GregorianCalendar(2014,Calendar.JANUARY, 5).getTime() cal.setTime(dateToUse) cal.add(Calendar.DATE, -1) cal.getTime().Humanize(dateToUse) => ""yesterday"" cal.add(Calendar.HOURS, -2) cal.getTime.Humanize(dateToUse) => ""2 hours ago""  cal.add(Calendar.HOURS, 30) cal.Humanize(dateToUse) => ""tomorrow"" cal.getTime.add(Calendar.HOURS, 2) cal.getTime().Humanize(dateToUse) => ""2 hours from now"" Or you can Humanize an instance of Java.Util.Date and get back a string telling how far back or forward in time that is compared to the current date: val cal = GregorianCalendar() cal.add(Calendar.DATE, -1) cal.getTime().Humanize() => ""yesterday"" cal.add(Calendar.HOURS, -2) cal.getTime.Humanize() => ""2 hours ago""  cal.add(Calendar.HOURS, 30) cal.Humanize() => ""tomorrow"" cal.getTime.add(Calendar.HOURS, 2) cal.getTime().Humanize() => ""2 hours from now"" Milliseconds to timespan Extension method millisecondsToTimespan for Int and Long objects Since difference between dates are returned as milliseconds this method turns them into a readable form/ This is a naive implementation and does not account for leapseconds, this is the nature of this method. By default the milliseconds precision is turned off but you can add it by passing true. 1.milliSecondsToTimespan() => ""0 seconds"" 1.milliSecondsToTimespan(true) => ""0 seconds and 1 millisecond""  99999999.milliSecondsToTimespan() => ""1 day and 3 hours and 46 minutes and 39 seconds"" 99999999.milliSecondsToTimespan(true) => ""1 day and 3 hours and 46 minutes and 39 seconds and 999 milliseconds"" Ordinalize Extension method Ordinalize for Int objects You can Ordinalize an instance of Int and get back a string with the ordinalized number: var num = 1 num.ordinalize() => ""1st"" num = 100 num.ordinalize() => ""100th"" Extension method Ordinalize for String objects You can Ordinalize an instance of String and get back a string with the ordinalized number: var num = ""1"" num.ordinalize() => ""1st"" num = ""100"" num.ordinalize() => ""100th"" Truncate Extension method truncate for String objects You can Truncate an instance of String and get back a string truncated with … at the end if needed: var t = ""a"" t.truncate(10) => ""a"" t = ""longer text then the length"" t.truncate(4) => ""long…"" Extension method truncate for String objects with Truncator option You can Truncate an instance of String and get back a string truncated with … at the end if needed: Truncator Enum * FixedLength = counts all characters * FixedNumberOfCharacters = counts only letters and digits * FixedNumberOfWords = counts the words by splitting on whitespace. FixedLength var t = ""a"" t.truncate(10, truncator = Truncator.FixedLength) => ""a"" t = ""longer text then the length"" t.truncate(4, truncator = Truncator.FixedLength) => ""long…"" FixedNumberOfCharacters var t = ""a"" t.truncate(10, truncator = Truncator.FixedNumberOfCharacters) => ""a"" t = ""Text with more characters than truncate length"" t.truncate(10, truncator = Truncator.FixedNumberOfCharacters) => ""Text with m…"" FixedNumberOfWords var t = ""a"" t.truncate(10, truncator = Truncator.FixedNumberOfWords) => ""a"" t = ""Text with more words than truncate length"" t.truncate(4, truncator = Truncator.FixedNumberOfWords) => ""Text with more words…"" Extension method truncate for String objects with TruncatorString option You can Truncate an instance of String and get back a string truncated with a custom string at the end if needed: var t = ""a"" t.truncate(10, truncationString = ""..."") => ""a"" t = ""Text with more words than truncate length"" t.truncate(10, truncationsString = ""..."") => ""Text wi..."" Extension method truncate for String objects with TruncatorString option You can Truncate an instance of String and get back a string truncated from the left: var t = ""a"" t.truncate(10, truncateFrom = TruncateFrom.Left) => ""a"" t = ""Text with more words than truncate length"" t.truncate(10, truncateFrom = TruncateFrom.Left) => ""…te length"" Or you can use a combination of the above parameters length, truncationString, truncator, truncateFrom. Inflector Extension method camelize for String objects Replaces underscores with hyphens in as String Decapitalizes first word and removes underscores while capitalizing the next letter in a String ""customer_first_name"".camelize() => ""customerFirstName"" Extension method pascalize for String objects Capitalizes first word and removes underscores while capitalizing the next letter in a String ""customer_first_name"".pascalize() => ""CustomerFirstName"" Extension method underscore for String objects Replaces spaces with underscores and makes everything lowercase or looks for capitalized words and replaces them with underscore and lowercase in a String ""SomeTitleThatWillBeUnderscored"".underscore() => ""some_title_that_will_be_underscored"" Extension method titleize for String objects Replaces underscores and dashes with spaces and capitalizes each word in a String ""some-title: The begining"".titleize() => ""Some Title: The Begining"" Extension method dasherize for String objects Replaces underscores with dashes in a String. ""some_title"".dasherize() => ""some-title"" Extension method hyphenate for String objects Replaces underscores with hyphens in a String. ""some_title"".hyphenate() => ""some-title"" Extension method pluralize for String objects Gives the plural of a certain word. ""test"".pluralize() => ""tests""  ""test"".pluralize(Plurality.CouldBeEither) => ""tests"" ""tests"".pluralize(Plurality.CouldBeEither) => ""tests"" Extension method singularize for String objects gives the singular of a certain word. ""tests"".singularize() => ""test""  ""test"".singularize(Plurality.CouldBeEither) => ""test"" ""tests"".singularize(Plurality.CouldBeEither) => ""test"" Number to words Extension method toWords for String objects Gives the value in words. 1.toWords() => ""one"" 10.toWords() => ""ten"" Extension method toOrdinalWords for String objects Gives the value in ordinal words. 1.toOrdinalWords() => ""first"" 10.toOrdinalWords() => ""tenth"" To quantity Extension method toQuantity for String objects ""case"".toQuantity(1) => ""1 case"" ""cases"".toQuantity(1) => ""1 case"" ""case"".toQuantity(10) => ""10 cases""  ""cases"".toQuantity(1, showAsQuantity = ShowQuantityAs.None) => ""case"" ""cases"".toQuantity(2, showAsQuantity = ShowQuantityAs.None) => ""cases""  ""cases"".toQuantity(1, showAsQuantity = ShowQuantityAs.Numeric) => ""1 case"" ""cases"".toQuantity(2, showAsQuantity = ShowQuantityAs.Numeric) => ""1 case""  ""cases"".toQuantity(1, showAsQuantity = ShowQuantityAs.Words) => ""one case"" ""cases"".toQuantity(2, showAsQuantity = ShowQuantityAs.Words) => ""two cases"" Extension method toQuantity for Int objects 1.toQuantity(""case"") => ""1 case"" 1.toQuantity(""cases"") => ""1 case"" 10.toQuantity(""case"") => ""10 cases""  1.toQuantity(""cases"", showAsQuantity = ShowQuantityAs.None) => ""case"" 2.toQuantity(""cases"", showAsQuantity = ShowQuantityAs.None) => ""cases""  1.toQuantity(""cases"", showAsQuantity = ShowQuantityAs.Numeric) => ""1 case"" 2.toQuantity(""cases"", showAsQuantity = ShowQuantityAs.Numeric) => ""1 case""  1.toQuantity(""cases"", showAsQuantity = ShowQuantityAs.Words) => ""one case"" 2.toQuantity(""cases"", showAsQuantity = ShowQuantityAs.Words) => ""two cases"" Humanize Extension method humanize for String objects Turns pascalcased strings into sentences. ""PascalCaseInputStringIsTurnedIntoSentence"".humanize() => ""Pascal case input string is turned into sentence"" ""Underscored_input_String_is_turned_INTO_sentence"".humanize() => ""Underscored input String is turned INTO sentence"" ""HTMLIsTheLanguage"".humanize() => ""HTML is the language""  ""CanReturnTitleCase"".humanize(LetterCasing.Title) => ""Can Return Title Case""  ""CanReturnLowerCase"".humanize(LetterCasing.LowerCase) => ""can return lower case""  ""CanReturnSentenceCase"".humanize(LetterCasing.Sentence) => ""Can return sentence case""  ""CanHumanizeIntoUpperCase"".humanize(LetterCasing.AllCaps) => ""CAN HUMANIZE INTO UPPER CASE"" Dehumanize Extension method dehumanize for String objects Turns sentences into pascalcased strings. ""Pascal case input string is turned into sentence"".dehumanize() => ""PascalCaseInputStringIsTurnedIntoSentencePascal case input string is turned into sentence"" RomanNumerals Extension method toRoman for Int objects Turns an Int into Roman numeral. Limit from 1 to 3999. 1.toRoman() => ""I"" 2.toRoman() => ""II"" 4.toRoman() => ""IV"" Extension method fromRoman for String objects Turns a Roman numeral into an Int. Limit from 1 to 3999. ""I"".toRoman() => 1 ""II"".toRoman() => 2 ""IV"".toRoman() => 4 Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/MehdiK/Humanizer.jvm"	""	"true"
"Misc"	"mplatvoet/kovenant"	"https://github.com/mplatvoet/kovenant"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"269"	"19"	"14"	"GitHub - mplatvoet/kovenant: Kovenant. Promises for Kotlin. Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 19 Star 269 Fork 14 mplatvoet/kovenant Code Pull requests 0 Pulse Graphs Kovenant. Promises for Kotlin. http://kovenant.komponents.nl 679 commits 6 branches 30 releases 2 contributors Kotlin 99.5% Other 0.5% Kotlin Other Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: develop Switch branches/tags Branches Tags develop feature/KOV-58_weak_ref feature/cancelable_deferred feature/quasar feature/sticky_thread master Nothing to show v3.3.0 v3.2.2 v3.2.1 v3.2.0 v3.1.0 v3.0.0 v3.0.0-rc.1036.1 v3.0.0-rc.1036 v3.0.0-beta.4 v3.0.0-beta.3 v2.9.0 v2.8.0 v2.7.0 v2.6.0 v2.5.0 v2.4.0 v2.3.3 v2.3.2 v2.3.1 v2.3.0 v2.2.1 v2.2.0 v2.1.1 v2.1.0 v2.0.0 v1.1.0 v1.0.0 v0.1.2 v0.1.1 v0.1.0 Nothing to show New pull request Latest commit b112c78 Jul 15, 2016 mplatvoet rx version updated to 1.1.7 Permalink Failed to load latest commit information. docs Version bump to 3.3.0, changelog updated, updated roadmap Jun 30, 2016 gradle/wrapper Updated gradle to version 2.11 Feb 10, 2016 projects rx version updated to 1.1.7 Jul 15, 2016 .gitignore Updated progress Aug 12, 2015 LICENSE.txt added extension to license file Dec 6, 2015 README.md Version bump to 3.3.0, changelog updated Jun 30, 2016 build.gradle Version bump to 3.3.0, changelog updated, updated roadmap Jun 30, 2016 circle.yml Updated mkdocs Feb 17, 2016 gradlew Updated gradle to version 2.11 Feb 10, 2016 gradlew.bat Updated gradle to version 2.11 Feb 10, 2016 publish.sh changed urls, referring to komponents.nl now May 23, 2015 settings.gradle Renamed root project (not affecting package naming) Mar 1, 2016 README.md develop: master: Kovenant Promises for Kotlin. The easy asynchronous library for Kotlin. With extensions for Android, RxJava, JavaFX and much more. task { ""world"" } and task { ""Hello"" } success {     println(""${it.second} ${it.first}!"") } Please refer to the Kovenant site for API usage and more. Getting started Build against Kotlin: 1.0.3. Source and target compatibility is 1.6 Gradle dependencies {     compile 'nl.komponents.kovenant:kovenant:3.3.0' } Maven <dependency>     <groupId>nl.komponents.kovenant</groupId>     <artifactId>kovenant</artifactId>     <version>3.3.0</version> </dependency> Android Demo app Checkout the Android Demo App on Github. Artifacts Kovenant has been structured in sub projects so you can cherry pick what you need. artifact description kovenant Container artifact that consists of kovenant-core, kovenant-combine, kovenant-jvm and kovenant-functional kovenant-core The core of kovenant. Provides the API and default implementations kovenant-combine Adds combine functionality that keep everything strongly typed kovenant-jvm Support for converting between Executors and Dispatchers kovenant-ui Support for UI frameworks that need UI work to operate on a specific process kovenant-rx Add promise support to Rx kovenant-android Extensions for Android specific needs kovenant-jfx Extensions for JavaFX specific needs kovenant-disruptor LMAX Disruptor work queues kovenant-progress Progress configuration helper kovenant-functional Functional Programming idiomatic additions Issues Issues are tracked in Youtrack Release notes See Changelog for release notes Slack Join the #kovenant channel on Kotlin Slack. More Kotlin libraries Check out Awesome Kotlin Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/mplatvoet/kovenant"	""	"true"
"Misc"	"kohesive/klutter"	"https://github.com/kohesive/klutter"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"54"	"3"	"2"	"GitHub - kohesive/klutter: A mix of random small libraries for Kotlin, the smallest reside here until big enough for their own repository. Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 3 Star 54 Fork 2 kohesive/klutter Code Issues 2 Pull requests 0 Pulse Graphs A mix of random small libraries for Kotlin, the smallest reside here until big enough for their own repository. 240 commits 3 branches 2 releases Fetching contributors Kotlin 100.0% Kotlin Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags develop master v2 Nothing to show v0.5.0 v0.2.0 Nothing to show New pull request Latest commit 1bf0406 Jun 25, 2016 apatrida regenerate KDOC given updated DOKKA with markdown fixes Permalink Failed to load latest commit information. aws-core-jdk6 Create README.md Aug 21, 2015 aws-core * Added more Kovenant Promise versions of vert.x SharedData and Async… May 18, 2016 aws-s3-jdk6 drop prezi pride from project, slows builds, not used. Oct 12, 2015 aws-s3 Get rid of internal use of URI for generating a string from UriBuilder. Dec 30, 2015 config-typesafe-jdk6 * Added more Kovenant Promise versions of vert.x SharedData and Async… May 18, 2016 config-typesafe-jdk7 drop prezi pride from project, slows builds, not used. Oct 12, 2015 config-typesafe-jdk8 drop prezi pride from project, slows builds, not used. Oct 12, 2015 config-typesafe Get rid of internal use of URI for generating a string from UriBuilder. Dec 30, 2015 core-jdk6 toImmutable makes best copy for Random access while retaining the ran… Jun 24, 2016 core-jdk7 drop prezi pride from project, slows builds, not used. Oct 12, 2015 core-jdk8 drop prezi pride from project, slows builds, not used. Oct 12, 2015 core-jodatime-jdk6 drop prezi pride from project, slows builds, not used. Oct 12, 2015 core-jodatime Get rid of internal use of URI for generating a string from UriBuilder. Dec 30, 2015 core regenerate KDOC given updated DOKKA with markdown fixes Jun 25, 2016 db-jdbi-v2-jdk6 release v1.16.0 Feb 29, 2016 db-jdbi-v2 release v1.16.0 Feb 29, 2016 db-jdbi-v3-jdk8 release v1.16.0 Feb 29, 2016 db-jdbi-v3 release v1.16.0 Feb 29, 2016 docs/markdown regenerate KDOC given updated DOKKA with markdown fixes Jun 25, 2016 elasticsearch-jdk7 Mainly for the Kotlin 1.0 release candidate binary compatibility Feb 2, 2016 elasticsearch Get rid of internal use of URI for generating a string from UriBuilder. Dec 30, 2015 gradle/wrapper * Added more Kovenant Promise versions of vert.x SharedData and Async… May 18, 2016 json-jackson-jdk6 * Kotlin to 1.0.0-beta-1038 Oct 21, 2015 json-jackson-jdk8 * Kotlin to 1.0.0-beta-1038 Oct 21, 2015 json-jackson Get rid of internal use of URI for generating a string from UriBuilder. Dec 30, 2015 netflix-graph-jdk6 Mainly for the Kotlin 1.0 release candidate binary compatibility Feb 2, 2016 netflix-graph Get rid of internal use of URI for generating a string from UriBuilder. Dec 30, 2015 reflect-core-jdk6 * Added more Kovenant Promise versions of vert.x SharedData and Async… May 18, 2016 reflect-core-jdk7 drop prezi pride from project, slows builds, not used. Oct 12, 2015 reflect-core-jdk8 * Kotlin to BETA 3 1.0.0-beta-3595 Dec 8, 2015 reflect-full-jdk6 * Added more Kovenant Promise versions of vert.x SharedData and Async… May 18, 2016 reflect-lite-jdk6 Mainly for the Kotlin 1.0 release candidate binary compatibility Feb 2, 2016 reflect Get rid of internal use of URI for generating a string from UriBuilder. Dec 30, 2015 vertx3-jdk8 * Added more Kovenant Promise versions of vert.x SharedData and Async… May 18, 2016 vertx3 * Added more Kovenant Promise versions of vert.x SharedData and Async… May 18, 2016 .gitignore Collecting everything together into Klutter for ramping up towards a … Aug 19, 2015 CHANGELOG.md * BREAKING CHANGE: from 1.19.x renamed `asImmutable()` to `asReadOnly()` Jun 24, 2016 LICENSE Collecting everything together into Klutter for ramping up towards a … Aug 20, 2015 README.md changes to unit tests for immutable / readonly collections Jun 24, 2016 build.gradle regenerate KDOC given updated DOKKA with markdown fixes Jun 25, 2016 circle.yml setup develop branch for future snapshot development Oct 21, 2015 gradle.properties regenerate KDOC given updated DOKKA with markdown fixes Jun 25, 2016 gradlew * Added more Kovenant Promise versions of vert.x SharedData and Async… May 18, 2016 gradlew.bat * Injekt to 1.11 Jan 20, 2016 settings.gradle release v1.16.0 Feb 29, 2016 README.md klutter Random small libraries, usually extensions making other libraries happier. Please send contributions, fork the repo, issue a pull request and write a comment in the pull request granting the rights for the code to be used in Klutter. Maven Dependency Each module has its own set of dependencies. There is a main dependency which is always the most current JDK version of the module, and also a version suffixed by the JDK version for which it is compatible (that version or newer). Include the dependency in your Gradle / Maven projects, ones that already have Kotlin configured. Gradle: compile ""uy.klutter:klutter-all:1.20.+""  Maven: <dependency>     <groupId>uy.klutter</groupId>     <artifactId>klutter-all</artifactId>     <version>[1.20.0,1.21.0)</version> </dependency>  See all modules and current versions on Maven Central search (or the raw repo) Modules      Maven‑Artifact      Size Topic Injekt aws-s3 tiny Amazon AWS SDK S3 helper extensions Yes aws-core tiny Amazon AWS SDK helper extensions No config-typesafe medium Typesafe Config easier loader and access to configuration No core small Core extension methods on strings, numbers, dates, URI Builder, better URL Encoding/Decoding No db-jdbi-v2 small Adds Kotlin parameter binding and RestulSet mapping to JDBI versions 2.x No db-jdbi-v3 small Adds Kotlin parameter binding and RestulSet mapping to JDBI versions 3.x No elasticsearch medium Extensions to ElasticSearch client library No json-jackson tiny Jackson JSON Data Binding extensions + loading of Kotlin module Yes netflix-graph medium In memory graph building and compression/serialization. A wrapper adding schema, ordinal tracking, serialization with ordinals, and is much easier to use API No reflect small Helpers for Kotlin reflection No vertx3 medium Vert.x-3 helpers and integration with Kovenant Promises Yes Modules marked with ""yes"" for Injekt, are modules that have intergration with Kohesive/Injekt and provide prebuild injectable modules that you can easily import providing factories or singletons for dependency injection. Using an Injekt module looks something like: class MyApp {     companion object : InjektMain() {         // my app starts here with a static main()         platformStatic public fun main(args: Array<String>) {             MyApp().run()         }          // the Injekt system will call me back here on a method I override.  And all my functions for registration are         // easy to find on the receiver class         override fun InjektRegistrar.registerInjectables() {             // add my singletons, factories, keyed factories, per-thread factories, ...             ...              // import prebuilt Injekt modules             importModule(AmazonS3Injektables)               importModule(JacksonWithKotlinAndJdk8Injektables)         }     }      ...     // later, use them in properties in any class     val s3: AmazonS3Client by Delegates.injectLazy()     // or use them anywhere in code     val myObject: CoolObject = Inject.get<ObjectMapper>().readValue(jsonString)     // or another form of the same     val mapper: ObjectMapper = Inject.get()     // or within constructor or method definitions as default values     public fun doSomethingWithS3(s3: AmazonS3Client = Inject.get()) { ... } } Some of these modules are ""tiny"" and may not be overly useful yet, but they carry no extra weight, only have required dependencies and can be expanded over time by anyone that wants to send pull requests. Submitted modules or changes to existing module consist of things not conflicting with Kotlin runtime libraries, and things useful to most Kotlin developers. Recommended libraries: Other libraries that we recommend a building blocks for Kotlin applications: Injekt - Injekt is a crazyily easy Dependency Injection for Kotlin. Kovenant - promises for Kotlin, easy, fun, and async! (JVM / Android) Kovert - invisible REST framework for Kotlin + Vert.x With help from... Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/kohesive/klutter"	""	"true"
"Misc"	"kohesive/solr-undertow"	"https://github.com/kohesive/solr-undertow"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"68"	"14"	"13"	"GitHub - kohesive/solr-undertow: Solr / SolrCloud running in high performance server - tiny, fast startup, simple to configure, easy deployment without an application server. Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 14 Star 68 Fork 13 kohesive/solr-undertow Code Issues 8 Pull requests 0 Pulse Graphs Solr / SolrCloud running in high performance server - tiny, fast startup, simple to configure, easy deployment without an application server. 164 commits 2 branches 31 releases 4 contributors Kotlin 58.4% XSLT 19.6% JavaScript 16.8% CSS 2.9% HTML 2.3% Kotlin XSLT JavaScript CSS HTML Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags 1.3.1-patch master Nothing to show v1.6.1 v1.6.1-RC-1 v1.6.0 v1.6.0-release v1.6.0-RC-1 v1.6.0-BETA-4 v1.6.0-BETA-1 v1.6.0-ALPHA-1 v1.5.0 v1.5.0-RC1 v1.4.0 v1.4.0-RC1 v1.3.1 v1.3.0 v1.2.0 v1.1.0 v1.1.0-RC4 v1.1.0-RC3 v1.1.0-RC2 v1.1.0-RC2-B v1.1.0-RC1 v1.0.16 v1.0.15 v1.0.14 v1.0.13 v1.0.12 v1.0.11 v1.0.10 v1.0.9 v1.0.8 v1.0.7 Nothing to show New pull request Latest commit 5ff19ab Jul 5, 2016 apatrida change circleci to build on Java 8, targeting Java 7 … fixes #33 Permalink Failed to load latest commit information. example undertow to 1.3.18.Final Mar 9, 2016 gradle/wrapper Update to Kotlin M12 (0.12.1230) Aug 5, 2015 src fixes for final release of Solr 1.6.0 Apr 24, 2016 test-data fixes for final release of Solr 1.6.0 Apr 24, 2016 .gitignore update ignore list for .DS_Store files Sep 14, 2014 LICENSE.txt Update LICENSE.txt Aug 6, 2015 README.md Fix typo Jul 4, 2016 TUNING.MD Update TUNING.MD Aug 6, 2015 build.gradle release 1.6.0-RC-1 Feb 22, 2016 circle.yml change circleci to build on Java 8, targeting Java 7 Jul 5, 2016 gradle.properties change circleci to build on Java 8, targeting Java 7 Jul 5, 2016 gradlew Initial version Sep 12, 2014 gradlew.bat update to Kotlin 1.0.0-beta-1038 Oct 21, 2015 README.md solr-undertow Solr and SolrCloud running in high performance server - Tiny, fast, easy, standalone deployment, simple to configure, and without an application server. Requires JDK 1.7 or newer, Solr 4.x or 5.x. Less than 7MB download, starts instantly, performs inline or better than all application servers. Written in the Kotlin language for the JVM (a better Java, not as complex as Scala). This application launches a Solr distribution as a standalone server running a high performance HTTP front-end based on undertow.io (the engine behind WildFly, the new JBoss). It has no features of an application server, does nothing more than load Solr servlets and also service the Admin UI. It is production-quality for a stand-alone Solr server. Releases are available on GitHub. NOTE: Be sure to read the Tuning Solr-Undertow guide. Usage Usage is simple, you only need a configuration file and a Solr distribution: bin/solr-undertow <configurationFile> You can run the included example configuration + Solr (from the release that includes each Solr version) using: bin/solr-undertow example/example.conf Then navigate your browser to http://localhost:8983/solr Configuration The configuration file is on the JSON like HOCON format and loaded using TypeSafe Config. So any features it supports are supported here. A configuration file must minimally contain these settings (paths are relative to the configuration file): solr.undertow: {   solrHome: ""./solr-home""   solrLogs: ""./solr-logs""   tempDir: ""./solr-temp""   solrVersion: ""5.4.1""   solrWarFile: ./solr-wars/solr-${solr.undertow.solrVersion}.zip }  In this configuration solrHome must contain at minimum solr.xml (and zoo.cfg if SolrCloud) and any pre-configured cores. The defaults, and all configuration options can be seen in the configuration defaults file. Which include httpClusterPort: 8983, the default server port. Configured directories are validated at startup to give clear error messages, they are checked for existance and readable/writeable attributes (depending on the directory). Example Configuration / Directory Tree Two example configurations are provided in the example directory: Basic configuration Configuration with request limitting (max concurrent requests + max queued requests) System and Environment Properties When System or Environment variables are used, an order of precedence is used favoring the Solr-Undertow properties over legacy property names from Solr. Note, not all variables are legal environment variables, and the use of env variables is not recommended, configuration or system properties is best. Here is the exact order of configuration overriding: Solr-Undertow fully qualified System property Solr legacy System property Configuration File Solr-Undertow property Solr-Undertow full qualified Environment variable (impossible on systems that do not allow ""."" in environment variable names) Solr legacy Environment variable (only for variables legal on the system) It is recommended only to use the Solr-Undertow configuration file, with occasional overrides using Solr-Undertow fully qualified property names in SOLR_UNDERTOW_OPTS environment variable. The following are the properties, Solr legacy and Solr-Undertow fully qualified: Solr typical (legacy) Solr-Undertow Fully Qualified jetty.port solr.undertow.httpClusterPort zkRun solr.undertow.zkRun zkHost solr.undertow.zkHost solr.log solr.undertow.solrLogs hostContext solr.undertow.solrContextPath solr.solr.home solrHome solr.data.dir (no equivalent, not checked, passes through to Solr) After configuration loading, the Solr legacy system properties are reset to match the resulting configuration so that Solr configuration files with variables, and the Solr process will see them as expected. An example using SOLR_UNDERTOW_OPTS environment variable to override configuration is below... Other Notes Tuning Read about tuning in the TUNNING.md file JDK 1.7 Solr-undertow requires JDK 1.7 or newer. Do not run Solr on anything older, it isn't worth the pain of inferior garbage collectors. Oracle JDK is also prefered, Open JDK does not perform as well and at times has been incompatible. Solr Distributions Solr-Undertow uses one of the following as a supported Solr distrubtion: A WAR file from 5.2.1 or earlier A Zip full Solr distribution pre 5.2.1 that contains a WAR file in server/webapps/solr.war or example/webapps/solr.war A Zip full Solr distribution post 5.2.1 that contains server/solr-webapp/webapp which is really an extracted WAR file A WAR file you create by rezipping the contents of a distribution server/solr-webapp/webapp directory and naming it with .war extension. The smallest distribution is the WAR file, which you can create, or you can remove everything else from a distribution Zip file keeping only the contents of the server/solr-webapp/webapp directory (including the path names). For Solr 4.x you can download Solr WAR files from the Maven repository. For example Solr 4.10.4 WAR and find older versions here. For Solr 5.x you download full distributions from the main Solr website or from the past version archives. Some earlier 5.x versions have WAR files available as well. For Solr 6.x you download a nightly build from Solr Build System Custom JVM Parameters To set additional Java startup parameters for the VM, you can set the SOLR_UNDERTOW_OPTS environment variable before running, for example: export SOLR_UNDERTOW_OPTS=""-Xms15G -Xmx15G -XX:MaxPermSize=512m -XX:PermSize=256m"" And an example adding support for JMX: export SOLR_UNDERTOW_OPTS=""-Xms15G -Xmx15G -XX:MaxPermSize=512m -XX:PermSize=256m -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=9901 -Dcom.sun.management.jmxremote.ssl=false -Dcom.sun.management.jmxremote.authenticate=false"" And and example of overriding settings in the configuration file from system properties, and then running: export SOLR_UNDERTOW_OPTS=""-Dsolr.undertow.httpClusterPort=8080 -Dsolr.undertow.solrHome=./solr-alt-home"" ../bin/solr-undertow example.conf Logging Logging is via Slf4j routing to LogBack and can be configured differently than the default by providing a custom configuration file pointed to by the system property logback.configurationFile. Solr-Undertow writes the following log files: filename description solr*.log Java logging, including Solr internal logging error*.log Java logging, only log messages with level ERROR or above access*.log HTTP access logging, see configuration defaults for more information on format The default access log format is: %t %a %p \""%r\"" %q %s %b %Dms %{o,X-Solr-QTime} ${o,X-Solr-Hits} In order, these are described as: macro description %t Date and time, in Common Log Format format %a Remote IP address %p Local port %U Requested URL path %q Query string, otherwise empty string %r First line of the request %s HTTP status code of the response %b Bytes sent, excluding HTTP headers, or '-' or '-1' if no bytes were sent or unknown %D Time taken to process the request, in millis %{o,X-Solr-QTime} Solr QTime if present in headers, Solr 4.9 and newer see https://issues.apache.org/jira/browse/SOLR-4018 %{o,X-Solr-Hits} Solr Hits if present in headers, Solr 4.9 and newer see https://issues.apache.org/jira/browse/SOLR-4018 Other available formats: macro description %A Local IP Address %B Bytes sent, excluding HTTP headers %h Remote host name %h Request protocol (also included in %r) %l Remote logical username from identd (always returns '-') %m Request method (also included in %r) %u Remote user that was authenticated %v Local server name %T Time taken to process the request, in seconds %I current Request thread name (can compare later with stacktraces) %{i,xxx} xxx is incoming headers %{o,xxx} xxx is outgoing response headers %{c,xxx} xxx is a specific cookie %{r,xxx} xxx is an attribute in the ServletRequest %{s,xxx} xxx is an attribute in the HttpSession You can also specify either of these prebuilt formats instead of using macros, although in Solr they may not provide as much useful information as the default format: format string equivalent common %h %l %u %t ""%r"" %s %b combined %h %l %u %t ""%r"" %s %b ""%{i,Referer}"" ""%{i,User-Agent}"" HTTP IO and Worker threads see also: Tuning Solr-Undertow Scripting Startup / Shutdown Solr-Undertow listens on the configured shutdown HTTP port (defaults to 9983) for a GET request, single parameter of password which must be set to a value matching the configured password. If the a shutdown password is not configured then a 403 forbidden error will be returned. If the password does not match, a 401 unauthorized error will be return. Otherwise on success a 200 HTTP response, and on timeout or other error a 500 HTTP response (although the VM will still exit). See the configuration defaults file for the shutdown section. An example of sending a shutdown command when port is configured as 9983 and password is diediedie (please use a better password than that!) curl -X GET http://localhost:9983?password=diediedie  A user created example of scripting can be seen in a GIST from @magicdude4eva where the stop script properly checks exit codes, and does a kill command against the PID if the graceful shutdown request fails. Usage as an embedded library Solr-Undertow can be embedded in any JVM app. Include the dependency: uy.kohesive.solr:solr-undertow:1.6.0-RC-1  Then use the App (has main() static method) or Server class (more control of configuration) to start the process. Building Your Own Binary You may download a release under the releases here, or you can build your own binary. ./gradlew build distAll and the resulting binaries will be under ./build/distributions as .tgz and .zip files. Building with IntelliJ Open the build.gradle file as a project, accept the default Gradle wrapper, and then fixup JDK to be 1.7 or newer. Be sure you have Kotlin plugin installed and that it matches the version in the Gradle build or newer, check the gradle.properties file for Kotlin version number. Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/kohesive/solr-undertow"	""	"true"
"Misc"	"leprosus/kotlin-hashids"	"https://github.com/leprosus/kotlin-hashids"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"9"	"1"	"2"	"GitHub - leprosus/kotlin-hashids: Kotlin hashids hash function Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 1 Star 9 Fork 2 leprosus/kotlin-hashids Code Issues 0 Pull requests 0 Pulse Graphs Kotlin hashids hash function 7 commits 1 branch 0 releases Fetching contributors Kotlin 100.0% Kotlin Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags master Nothing to show Nothing to show New pull request Latest commit bd5dbea May 5, 2015 leprosus Typos are fixed … New kotlin API is applied Permalink Failed to load latest commit information. src/org/hashids .gitignore LICENSE License is added. Readme is extended Jan 19, 2015 README.md Readme is updated Jan 19, 2015 README.md Hashids.kt A Kotlin class to generate YouTube-like hashes from one or many numbers. Ported from Java Hashids.java by fanweixiao (is port of javascript hashids.js by Ivan Akimov) What is it? Hashids (Hash ID's) creates short, unique, decryptable hashes from unsigned (long) integers. This algorithm tries to satisfy the following requirements: Hashes must be unique and decryptable. They should be able to contain more than one integer (so you can use them in complex or clustered systems). You should be able to specify minimum hash length. Hashes should not contain basic English curse words (since they are meant to appear in public places - like the URL). Instead of showing items as 1, 2, or 3, you could show them as U6dc, u87U, and HMou. You don't have to store these hashes in the database, but can encrypt + decrypt on the fly. All (long) integers need to be greater than or equal to zero. Usage Import the package import org.hashids; Encrypting one number You must pass a unique salt string so your hashes differ from everyone. I use ""this is my salt"" as an example. val hashids = Hashids(""this is my salt"") val hash: String = hashids.encode(12345) hash is now going to be: NkK9 Decrypting Notice: during decryption, the same salt value has to be used: val hashids = Hashids(""this is my salt"") val numbers: LongArray = hashids.decode(""NkK9"") val numver: Int = numbers[0] numbers is now going to be: [12345] number is: 12345 Decrypting with different salt Decryption will not work if salt is changed: val hashids = Hashids(""this is my pepper"") val numbers: LongArray = hashids.decode(""NkK9"") numbers is now going to be: [] Encrypting several numbers val hashids = Hashids(""this is my salt"") val hash: String = hashids.encode(683L, 94108L, 123L, 5L) hash is now going to be: aBMswoO2UB3Sj Decrypting is done the same way val hashids = Hashids(""this is my salt"") val numbers: String = hashids.decode(""aBMswoO2UB3Sj"") numbers is now going to be: [683, 94108, 123, 5] Encrypting and specifying minimum hash length Here we encode integer 1, and set the minimum hash length to 8 (by default it's 0 -- meaning hashes will be the shortest possible length). val hashids = Hashids(""this is my salt"", 8) val hash: String = hashids.encode(1) hash is now going to be: gB0NV05e Decrypting val hashids = Hashids(""this is my salt"", 8) val numbers: String = hashids.decode(""gB0NV05e"") numbers is now going to be: [1] Specifying custom hash alphabet Let's set the alphabet that consist of only four letters: ""0123456789abcdef"" val hashids = Hashids(""this is my salt"", 0, ""0123456789abcdef"") val hash: String = hashids.encode(1234567) hash is now going to be: b332db5 Repeating numbers val hashids = Hashids(""this is my salt"") val hash: String = hashids.encode(5, 5, 5, 5); You don't see any repeating patterns that might show there's 4 identical numbers in the hash: 1Wc8cwcE Same with incremented numbers: val hashids = Hashids(""this is my salt"") val hash: String = hashids.encode(1, 2, 3, 4, 5, 6, 7, 8, 9, 10); hash will be: kRHnurhptKcjIDTWC3sx Incrementing number hashes: val hashids = Hashids(""this is my salt"") val hash1: String = hashids.encode(1) /* NV */ val hash2: String = hashids.encode(2) /* 6m */ val hash3: String = hashids.encode(3) /* yD */ val hash4: String = hashids.encode(4) /* 2l */ val hash5: String = hashids.encode(5) /* rD */ Contact Follow me @leprosus, @IvanAkimov, @fanweixiao License MIT License. See the LICENSE file. Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/leprosus/kotlin-hashids"	""	"true"
"Misc"	"mplatvoet/progress"	"https://github.com/mplatvoet/progress"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"4"	"1"	"0"	"GitHub - mplatvoet/progress: Progress for Kotlin Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 1 Star 4 Fork 0 mplatvoet/progress Code Pull requests 0 Pulse Graphs Progress for Kotlin 80 commits 3 branches 14 releases Fetching contributors Kotlin 98.6% Shell 1.4% Kotlin Shell Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: develop Switch branches/tags Branches Tags develop feature/snapshot master Nothing to show v1.0.3 v1.0.1 v1.0.0 v1.0.0-rc.1036 v1.0.0-beta.4 v1.0.0-beta.3 v0.5.1 v0.4.0 v0.3.0 v0.2.1 v0.2.0 v0.1.1 v0.1.0 kotlin0.12.412 Nothing to show New pull request Latest commit f57d088 Jun 30, 2016 mplatvoet Updated to kotlin 1.0.3 Permalink Failed to load latest commit information. docs Updated to kotlin 1.0.3 Jun 30, 2016 gradle/wrapper Updated to kotlin 1.0.3 Jun 30, 2016 projects Updated to latest ABI version Oct 19, 2015 .gitignore initial commit Apr 25, 2015 LICENSE initial commit Apr 25, 2015 README.md Updated to kotlin 1.0.3 Jun 30, 2016 build.gradle Updated to kotlin 1.0.3 Jun 30, 2016 circle.yml updated to latest snapshot Sep 29, 2015 gradlew Updated to kotlin 1.0.3 Jun 30, 2016 gradlew.bat Updated to kotlin 1.0.3 Jun 30, 2016 publish.sh removed redundant folders May 23, 2015 settings.gradle - moved to nl.komponents May 31, 2015 README.md Progress Track progress for Kotlin Please refer to progress.komponents.nl for more information //private part val control = Progress.control()  //public part val progress = control.progress  //get notified on updates progress.update {     println(""${value}"") }  //set value control.value = 0.25 control.value = 0.50 control.value = 0.75 control.value = 1.0 Getting started This version is build against Kotlin: 1.0.3. Gradle dependencies {     compile 'nl.komponents.progress:progress:1.0.3' } Maven <dependency>     <groupId>nl.komponents.progress</groupId>     <artifactId>progress</artifactId>     <version>1.0.3</version> </dependency> Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/mplatvoet/progress"	""	"true"
"Misc"	"leprosus/kotlin-cli"	"https://github.com/leprosus/kotlin-cli"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"7"	"1"	"3"	"GitHub - leprosus/kotlin-cli: Kotlin-CLI - command line interface options parser for Kotlin Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 1 Star 7 Fork 3 leprosus/kotlin-cli Code Issues 1 Pull requests 0 Pulse Graphs Kotlin-CLI - command line interface options parser for Kotlin 32 commits 1 branch 0 releases Fetching contributors Kotlin 100.0% Kotlin Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags master Nothing to show Nothing to show New pull request Latest commit d73ead5 Jun 26, 2016 leprosus committed on GitHub Merge pull request #3 from pabl0rg/patch-1 … update kotlin version to 1.0.2 Permalink Failed to load latest commit information. examples gradle/wrapper src/com/evalab/core/cli .gitignore Add: .gitignore is extended Apr 24, 2016 LICENSE README.md build.gradle README.md kotlin-cli Kotlin-CLI - command line option parsing suite for Kotlin Usage import com.evalab.core.cli.Command import com.evalab.core.cli.exception.OptionException  fun main(args: Array<String>) {     val command = Command(""command"", ""Command just for testing"")      command.addBooleanOption(""debug"", false, 'd', ""Flag of debug mode"")     command.addBooleanOption(""verbose"", false, 'v', ""Returns detailed information"")     command.addIntegerOption(""size"", false, 's', ""Sets size"")     command.addDoubleOption(""fraction"", false, 'f', ""Sets fraction"")     command.addStringOption(""name"", true, 'n', ""Sets name"")      try {         command.parse(args)     } catch (e: OptionException) {         println(e.getMessage())         println(command.getHelp())         System.exit(2)     }      val debug = command.getBooleanValue(""debug"", false)     val verbose = command.getBooleanValue(""verbose"", false)     val size = command.getIntegerValue(""size"", 0)     val fraction = command.getDoubleValue(""fraction"", 0.0)     val name = command.getStringValue(""name"")      println(""debug: "" + debug)     println(""verbose: "" + verbose)     println(""size: "" + size)     println(""fraction: "" + fraction)     println(""name: "" + name) } Contact Follow me @leprosus License MIT License. See the LICENSE file. Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/leprosus/kotlin-cli"	""	"true"
"Misc"	"sargunster/CakeParse"	"https://github.com/sargunster/CakeParse"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"2"	"1"	"0"	"GitHub - sargunster/cakeparse: Simple parser combinator library for Kotlin Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 1 Star 2 Fork 0 sargunster/cakeparse Code Issues 1 Pull requests 0 Pulse Graphs Simple parser combinator library for Kotlin 104 commits 2 branches 0 releases Fetching contributors Kotlin 99.7% Shell 0.3% Kotlin Shell Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags gh-pages master Nothing to show Nothing to show New pull request Latest commit 80560f5 Jun 30, 2016 sargunster committed on GitHub Update dependencies Permalink Failed to load latest commit information. kobalt Update dependencies Jun 30, 2016 src Rewrite `atLeast` to not use recursion (fix #12) Jun 27, 2016 .gitignore switch to Kobalt Mar 19, 2016 .travis.yml switch to Kobalt Mar 19, 2016 LICENSE Create LICENSE Jan 27, 2016 README.md Update README.md May 30, 2016 kobaltw switch to Kobalt Mar 19, 2016 README.md CakeParse CakeParse is a simple parser combinator library for Kotlin. Documentation Documentation is available at the project's GitHub Page. Build This project uses Kobalt for its build system. Simply clone the repository and run ./kobaltw compile. Contribute Pull requests are welcome. Check the issue tracker to find things to work on. Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/sargunster/CakeParse"	""	"true"
"Misc"	"sargunster/KtUnits"	"https://github.com/sargunster/KtUnits"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"6"	"1"	"1"	"GitHub - sargunster/ktunits: Simple unit conversion library for Kotlin Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 1 Star 6 Fork 1 sargunster/ktunits Code Issues 2 Pull requests 0 Pulse Graphs Simple unit conversion library for Kotlin 29 commits 1 branch 0 releases Fetching contributors Kotlin 98.4% Shell 1.6% Kotlin Shell Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags master Nothing to show Nothing to show New pull request Latest commit 9e45570 Jul 12, 2016 sargunster committed on GitHub Fix it Permalink Failed to load latest commit information. kobalt Update dependencies Jun 30, 2016 src whitespace Jul 9, 2016 .gitignore initial commit Mar 7, 2016 .travis.yml travis Mar 7, 2016 LICENSE license Mar 7, 2016 README.md 1.1.1 May 30, 2016 kobaltw Fix it Jul 12, 2016 README.md KtUnits Simple unit conversion library for Kotlin. Usage Conversion You can convert units easily: fun foo() {   val m = 100.minutes.toMilliseconds // magic   println(""100 minutes equal $m milliseconds"") } Parameters You can take a value as an argument without worrying about the units, and convert to the units you want when you use it. fun wait(time: TimeValue) {   Thread.sleep(time.toMilliseconds) }  fun bar() {   wait(5.seconds)   wait(10.days) } Supported units The library currently supports time (from nanoseconds to days) and memory (from bits to pebibytes). Download Just put this in your build.gradle or Build.kt. Replace <version> with the version shown in the badge at the top of this README.md. dependencies {   compile(""me.sargunvohra.lib:ktunits:1.1.1"") } Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/sargunster/KtUnits"	""	"true"
"Misc"	"hotchemi/khronos"	"https://github.com/hotchemi/khronos"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"60"	"3"	"3"	"GitHub - hotchemi/khronos: An intuitive Date extensions in Kotlin. Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 3 Star 60 Fork 3 hotchemi/khronos Code Issues 5 Pull requests 1 Pulse Graphs An intuitive Date extensions in Kotlin. http://hotchemi.github.io/khronos 19 commits 2 branches 2 releases Fetching contributors Kotlin 100.0% Kotlin Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags gh-pages master Nothing to show 0.1.0 0.0.1 Nothing to show New pull request Latest commit 0720b1e Mar 24, 2016 hotchemi Delete unused import. Permalink Failed to load latest commit information. gradle/wrapper src .gitignore .travis.yml LICENSE README.md Delete unused import. Mar 24, 2016 build.gradle gradle.properties gradlew gradlew.bat settings.gradle First commit. Mar 23, 2016 README.md khronos An intuitive Date extensions in Kotlin. Usage Add durations to date val now = Dates.now val nextWeek = now + 1.week val dayBeforeYesterday = now - 2.days  // shortcuts #1 val today = Dates.today val tomorrow = Dates.tomorrow val yesterday = Dates.yesterday  // shortcuts #2 val yesterday = 1.days.ago val fiveYearsSince = 5.years.since Initialize by specifying date components val birthday = Dates.of(year = 1990, month = 1, day = 21) val firstCommitDate = Dates.of(year = 2016, month = 2, day = 26, hour = 18, minute = 58, second = 31) Initialize by changing date components val now = Dates.now val christmas = now.with(month = 12, day = 25) val thisSunday = now.with(weekday = 1)  // shortcuts val newYearDay = now.beginningOfYear val newYearsEve = now.endOfYear Check day of the week Dates.now.isFriday() // false Format and parse 5.minutes.since.toString(""yyyy-MM-dd HH:mm:SS"") //=> ""2015-03-01 12:05:00""  ""1987-06-02"".toDate(""yyyy-MM-dd"") //=> Dates.of(year = 1987, month = 6, day = 2) Compare dates 1.day.ago > 2.days.ago // true 1.day.ago in 2.days.ago..Dates.now // true Install ${latest.version} = dependencies {   compile 'com.github.hotchemi:khronos:${latest.version}' } Notice khronos doesn't support timezone yet so please don't use it in production. I'll fix it ASAP. khronos is definitely inspired by naoty/Timepiece(Swift). Licence Copyright 2016 Shintaro Katafuchi  Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at     http://www.apache.org/licenses/LICENSE-2.0  Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.  Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/hotchemi/khronos"	""	"true"
"Misc"	"npryce/konfig"	"https://github.com/npryce/konfig"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"19"	"1"	"1"	"GitHub - npryce/konfig: Simple config properties API for Kotlin Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 1 Star 19 Fork 1 npryce/konfig Code Issues 1 Pull requests 0 Wiki Pulse Graphs Simple config properties API for Kotlin 70 commits 1 branch 23 releases 2 contributors Kotlin 98.9% Shell 1.1% Kotlin Shell Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags master Nothing to show 1.4.1.0 1.4.0.0 1.3.0.0 1.2.0.0 1.1.0.0 0.0.18.0 0.0.17.0 0.0.16.0 0.0.15.0 0.0.14.0 0.0.13.0 0.0.12.0 0.0.11.0 0.0.10.0 0.0.9.0 0.0.8.0 0.0.7.0 0.0.6.0 0.0.5.0 0.0.4.0 0.0.3.0 0.0.2.0 0.0.1.0 Nothing to show New pull request Latest commit b289d5d Jul 5, 2016 npryce-springer Upgrade to 1.0.3 Permalink Failed to load latest commit information. .idea idea config fixed after idea upgrade May 19, 2016 gradle/wrapper upgrade to gradle 2.10 Feb 8, 2016 src Add `periodType` Jul 5, 2016 .gitignore initial commit Dec 1, 2015 .travis.yml initial commit Dec 1, 2015 README.md Merge branch 'master' of github.com:npryce/konfig Mar 2, 2016 b initial commit Dec 1, 2015 build.gradle Upgrade to 1.0.3 Jul 5, 2016 gradlew Upgrade Gradle, Kotlin, Dokka and HamKrest. Dec 28, 2015 gradlew.bat initial commit Dec 1, 2015 publish-release initial commit Dec 1, 2015 settings.gradle initial commit Dec 1, 2015 tag-release fix reporting of latest tag - sort tags by semver not rely on Git's a… Jan 5, 2016 README.md Konfig - A Type Safe Configuration API for Kotlin Konfig provides an extensible, type-safe API for configuration properties gathered from multiple sources — built in resources, system properties, property files, environment variables, command-line arguments, etc. A secondary goal of Konfig is to make configuration ""self explanatory”. Misconfiguration errors are reported with the location and “true name” of the badly configured property. E.g. a program may look up a key defined as Key(""http.port"", intType). At runtime, it will be parsed from an environment variable named HTTP_PORT. So the error message reports the name of the environment variable, so that the user can easily find and fix the error. Configuration can be inspected and listed. For example, it can be exposed by HTTP to a network management system to help site reliability engineers understand the current configuration of a running application. Getting Started To get started, add com.natpryce:konfig:<version> as a dependency, import com.natpryce.konfig.* and then: Define typed property keys object server : PropertyGroup() {     val port by intType     val host by stringType } Build a Configuration object that loads properties: val config = systemProperties() overriding              EnvironmentVariables() overriding              ConfigurationProperties.fromFile(File(""/etc/myservice.properties"")) overriding              ConfigurationProperties.fromResource(""defaults.properties"") Define some properties. For example, in defaults.properties: server.port=8080 server.host=0.0.0.0 Look up properties by key. They are returned as typed values, not strings, and so can be used directly: val server = Server(config[server.port], config[server.host]) server.start() Konfig can load properties from: Java property files and resources Java system properties Environment variables Hard-coded maps (with convenient syntax) Command-line parameters (with long and short option syntax) Konfig can easily be extended with new property types and sources of configuration data. Konfig can report where configuration properties are searched for and where they were found. Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/npryce/konfig"	""	"true"
"Misc"	"ingokegel/jclasslib"	"https://github.com/ingokegel/jclasslib"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"164"	"22"	"71"	"GitHub - ingokegel/jclasslib: jclasslib bytecode viewer is a tool that visualizes all aspects of compiled Java class files and the contained bytecode. Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 22 Star 164 Fork 71 ingokegel/jclasslib Code Issues 0 Pull requests 0 Pulse Graphs jclasslib bytecode viewer is a tool that visualizes all aspects of compiled Java class files and the contained bytecode. 778 commits 3 branches 7 releases Fetching contributors Kotlin 99.5% Java 0.5% Kotlin Java Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags TypeAnnotations kotlin master Nothing to show 5.0 4.3.1 4.3 4.2 4.1 4.0 3.1 Nothing to show New pull request Latest commit 806727e Jul 13, 2016 ingokegel dokka 0.9.9 Permalink Failed to load latest commit information. .idea Fixed warnings shown by Kotlin 1.0.3 inspections Jul 5, 2016 gradle/wrapper gradle config in IntelliJ with sources Jul 2, 2016 lib-compile installer for 4.0, new application icon, fetch install4j dependencies… May 27, 2016 modules dokka 0.9.9 Jul 13, 2016 web/screenshots screen shot in README Jun 13, 2016 .gitignore ignore Feb 14, 2016 README.md screen shot in README Jun 13, 2016 build.gradle dokka 0.9.9 Jul 13, 2016 gradlew gradle 2.13 May 1, 2016 gradlew.bat gradle 2.13 May 1, 2016 license removed top-level directory from cvs2svn conversion Oct 18, 2010 settings.gradle multi-module build May 20, 2014 README.md jclasslib bytecode viewer Purpose jclasslib bytecode viewer is a tool that visualizes all aspects of compiled Java class files and the contained bytecode. In addition, it contains a library that enables developers to read and write Java class files and bytecode. License jclasslib bytecode viewer is released under the GPL, Version 2.0. Download Installers can be downloaded from the releases section. Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/ingokegel/jclasslib"	""	"true"
"Web"	"ssoudan/ktSpringTest"	"https://github.com/ssoudan/ktSpringTest"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"0"	"1"	"0"	"GitHub - ssoudan/ktSpringTest: Basic Spring Boot app in Kotlin Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 1 Star 0 Fork 0 ssoudan/ktSpringTest Code Issues 0 Pull requests 0 Pulse Graphs Basic Spring Boot app in Kotlin 13 commits 1 branch 0 releases Fetching contributors Kotlin 97.0% Java 3.0% Kotlin Java Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags master Nothing to show Nothing to show New pull request Latest commit 3469b92 Dec 8, 2014 ssoudan [enhancement] updated README.md Permalink Failed to load latest commit information. src [enhancement] added a custom metric Dec 7, 2014 .gitignore [...] cleanup Oct 21, 2014 LICENSE [...] cleanup Oct 21, 2014 README.md [enhancement] updated README.md Dec 8, 2014 pom.xml [enhancement] few modification to serve as example in a post Dec 6, 2014 README.md ktSpringTest Basic Spring Boot app in Kotlin You can read more about it here on my blog. Notes We are using a trampoline class in Java to help spring find the main method. Because of that, the pom is set to compile Kotlin code before Java code by running the Kotlin compilation in the process-sources phase. Build $ mvn clean package  Run $ mvn spring-boot:run  or $ java -jar target/SpringApp.jar  Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/ssoudan/ktSpringTest"	""	"true"
"Web"	"IRus/kotlin-dev-proxy"	"https://github.com/IRus/kotlin-dev-proxy"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"3"	"1"	"1"	"GitHub - IRus/kotlin-dev-proxy: Simple server for proxy requests and host static files written in Kotlin, Spark Java and Apache HttpClient Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 1 Star 3 Fork 1 IRus/kotlin-dev-proxy Code Issues 1 Pull requests 0 Pulse Graphs Simple server for proxy requests and host static files written in Kotlin, Spark Java and Apache HttpClient 18 commits 1 branch 0 releases Fetching contributors Kotlin 97.4% Shell 2.6% Kotlin Shell Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags master Nothing to show Nothing to show New pull request Latest commit dfc9a33 Feb 18, 2016 IRus Update kotlin, update gradle. Permalink Failed to load latest commit information. gradle/wrapper Update kotlin, update gradle. Feb 18, 2016 src/main Bump versions(kotlin, gradle, spark, apache hc). Nov 4, 2015 .gitignore Add support for OPTIONS and HEAD requests. Bump kotlin version. Sep 20, 2015 LICENSE Initial commit Jun 28, 2015 README.adoc Add support for OPTIONS and HEAD requests. Bump kotlin version. Sep 20, 2015 build.gradle Update kotlin, update gradle. Feb 18, 2016 gradlew Bump versions(kotlin, gradle, spark, apache hc). Nov 4, 2015 gradlew.bat First verions, implementation using Spark Java Jun 28, 2015 run.sh Update Kotlin and Gradle. Fix Kotlin default package. Dec 17, 2015 README.adoc Simple HTTP Proxy for local development Proxying static files and request: all what you need in moder SPA development. Simple install: git clone https://github.com/IRus/kotlin-dev-proxy.git And use: cd kotlin-dev-proxy ./gradlew run Setup Default settings defined in application.properties. Best way to change default setting - add your application-custom.properties properties and overwrite default properties. Available properties server.port - port on with proxy will be started (default: 8808) server.proxy - prefix for API requests, for example: http://localhost:8808/proxy/http://my-backend-server.com/resource (default: /proxy/) static.files.location - location of static files on disk, for example: C:\\dev\\projects\\frontend (default: /home/user/dev/frontend) Contribution Please leave feedback, create issues and make pull request! Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/IRus/kotlin-dev-proxy"	""	"true"
"Web"	"ratpack/example-ratpack-gradle-kotlin-app"	"https://github.com/ratpack/example-ratpack-gradle-kotlin-app"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"12"	"11"	"7"	"GitHub - ratpack/example-ratpack-gradle-kotlin-app: An example of a Kotlin Ratpack app built with Gradle. Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 11 Star 12 Fork 7 ratpack/example-ratpack-gradle-kotlin-app Code Issues 0 Pull requests 0 Pulse Graphs An example of a Kotlin Ratpack app built with Gradle. 46 commits 1 branch 0 releases Fetching contributors Kotlin 100.0% Kotlin Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags master Nothing to show Nothing to show New pull request Latest commit 936462d Jun 30, 2016 robfletcher latest kotlin Permalink Failed to load latest commit information. annotations/ratpack/ratpack Update to latest Ratpack and Kotlin Feb 19, 2015 gradle Ratpack 1.3.3, Gradle 2.14, Kotlin 1.0.2-1 and async log4j logging Jun 22, 2016 src Merge pull request #4 from geoand/idiomatic_tests Jun 22, 2016 .gitignore README.md Update README regarding Hot Reloading Jun 22, 2016 build.gradle latest kotlin Jun 30, 2016 gradlew Ratpack 1.3.3, Gradle 2.14, Kotlin 1.0.2-1 and async log4j logging Jun 22, 2016 gradlew.bat Ratpack 1.3.3, Gradle 2.14, Kotlin 1.0.2-1 and async log4j logging Jun 22, 2016 README.md This is an example Ratpack app that: Is implemented in Kotlin Use Guice for dependency injection Uses the ratpack Gradle plugin Uses SpringSource's SpringLoaded for runtime reloading of classes during development Adds helper functions to make Ratpack more Kotlin like (see helpers.kt) Getting Started Check this project out, cd into the directory and run: ./gradlew run  This will start the ratpack app in a development mode. In your browser go to http://localhost:5050. The Gradle Ratpack plugin builds on the Gradle Application plugin. This means it's easy to create a standalone distribution for your app. Run: ./gradlew installApp cd build/install/example-ratpack-gradle-java-app bin/example-ratpack-gradle-java-app  Your app should now be running (see http://gradle.org/docs/current/userguide/application_plugin.html) for more on what the Gradle application plugin can do for you. Development time reloading Most application classes can be changed at runtime without needing to restart the application. This is made possible by Gradle's Continuous Mode via Ratpack's Gradle plugin. If running the application via ./gradlew run --continuous or ./gradlew run -t for short, you will see your changes to source code be detected and applied. IDEA integration The Ratpack Gradle plugin has special support for IntelliJ IDEA. To open the project in IDEA, run: ./gradlew idea  This will generate a .ipr file that you can use to open the project in IDEA. In the “Run” menu, you will find a run configuration for launching the Ratpack app from within your IDE. Hot reloading is not supported in this mode. More on Ratpack To learn more about Ratpack, visit http://www.ratpack.io and join our slack channel https://slack-signup.ratpack.io/ Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/ratpack/example-ratpack-gradle-kotlin-app"	""	"true"
"Build tools"	"cbeust/kobalt"	"https://github.com/cbeust/kobalt"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"161"	"16"	"31"	"GitHub - cbeust/kobalt: Kobalt is a Kotlin-based build system for the JVM. Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 16 Star 161 Fork 31 cbeust/kobalt Code Issues 41 Pull requests 4 Wiki Pulse Graphs Kobalt is a Kotlin-based build system for the JVM. 2,306 commits 8 branches 495 releases Fetching contributors Kotlin 96.4% Java 3.2% Other 0.4% Kotlin Java Other Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags aether android master retrofitBintray runCommand tasks tasks2 wrap Nothing to show TestRelease 0.853 0.852 0.851 0.850 0.849 0.848 0.847 0.846 0.845 0.844 0.843 0.842 0.841 0.840 0.839 0.838 0.837 0.836 0.835 0.834 0.833 0.832 0.831 0.830 0.829 0.828 0.826 0.825 0.823 0.822 0.820 0.819 0.818 0.817 0.816 0.815 0.814 0.813 0.812 0.811 0.810 0.809 0.808 0.807 0.806 0.805 0.804 0.803 0.802 0.801 0.800 0.799 0.798 0.797 0.796 0.795 0.794 0.793 0.792 0.791 0.790 0.789 0.788 0.786 0.785 0.784 0.783 0.782 0.781 0.780 0.779 0.778 0.777 0.776 0.775 0.774 0.773 0.772 0.771 0.770 0.768 0.767 0.766 0.764 0.763 0.762 0.761 0.760 0.758 0.756 0.755 0.754 0.753 0.752 0.751 0.750 0.749 0.748 0.747 Nothing to show New pull request Latest commit 6454ff2 Jul 15, 2016 cbeust committed on GitHub Merge pull request #281 from ethauvin/master … Validate current directory. Permalink Failed to load latest commit information. .idea IDEA file. Jun 24, 2016 dist fixed wrapper path in dist/kobaltw.bat Jun 2, 2016 kobalt 0.853. Jul 13, 2016 lib Update Kotlin jar files. Jun 29, 2016 modules Fix for --log -2 undocumented feature. Jul 13, 2016 src Reformat. Jul 13, 2016 .gitignore .idea. Feb 23, 2016 .travis.yml Restore caches Jun 8, 2016 LICENSE.txt License. Oct 3, 2015 README.md Add Travis CI build status to readme Mar 6, 2016 TODO.md TODO. Mar 9, 2016 build-travis.sh Build travis in two phases Jun 8, 2016 kobalt-incremental-tasks.md Fix timings. Dec 24, 2015 kobalt.iml IDEA files. Jul 12, 2016 kobaltw Reverse the readlink change (doesn't work on cygwin). Jan 4, 2016 kobaltw.bat Validate current directory. Jul 15, 2016 README.md Kobalt Kobalt is a universal build system. To build it: ./kobaltw assemble  Please see the web site for the full documentation. Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/cbeust/kobalt"	""	"true"
"Build tools"	"gradle/gradle-script-kotlin"	"https://github.com/gradle/gradle-script-kotlin"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"259"	"28"	"7"	"GitHub - gradle/gradle-script-kotlin: Kotlin language support for Gradle build scripts Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 28 Star 259 Fork 7 gradle/gradle-script-kotlin Code Issues 37 Pull requests 2 Wiki Pulse Graphs Kotlin language support for Gradle build scripts http://gradle.org/blog/kotlin-meets-gradle 294 commits 7 branches 6 releases Fetching contributors Kotlin 99.4% Shell 0.6% Kotlin Shell Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags buildscript-failure-1 gradle-3.0-milestone-1 idea-hack master project-properties refactor-buildscript-handling script-def-2 Nothing to show v1.0.0-M1 v1.0.0-M1a v0.2.1 v0.2.0 v0.1.1 v0.1.0 Nothing to show New pull request Latest commit 6e77758 Jul 14, 2016 bamboo Upgrade to Kotlin 1.1-M01 🎉 … Resolves #98 Resolves #93 Resolves #92 Permalink Failed to load latest commit information. .teamcity/GradleScriptKotlin Re-enable tests on TeamCity Jul 11, 2016 buildSrc Upgrade to Kotlin 1.1-M01 🎉 Jul 15, 2016 doc/release-notes Add 0.2.0 release notes Jun 21, 2016 gradle/wrapper Update wrappers to latest snapshot distro Jul 12, 2016 samples Update plugin download link to latest 1.1-M01 Jul 13, 2016 src Upgrade to Kotlin 1.1-M01 🎉 Jul 15, 2016 .editorconfig Generate Gradle wrapper at v2.13 Apr 27, 2016 .gitignore Do not ignore ktscfg xml files Jun 16, 2016 .mrconfig Add .mrconfig with entries for project and wiki May 20, 2016 LICENSE.md Add Apache v2 LICENSE.md May 16, 2016 README.md Polish README May 18, 2016 build.gradle Upgrade to Kotlin 1.1-M01 🎉 Jul 15, 2016 build.gradle.kts Remove `ServiceRegistry` overload from SPI implementation Jul 12, 2016 gradlew Update wrappers to latest snapshot distro Jul 8, 2016 gradlew.bat Update wrappers to latest snapshot distro Jul 8, 2016 kotlin-version.txt Upgrade to Kotlin 1.1-M01 🎉 Jul 15, 2016 settings.gradle Introduce Gradle build Apr 27, 2016 update-wrapper.sh Remove update-wrapper.sh doc for now May 20, 2016 README.md Gradle Script Kotlin Welcome! Gradle Script Kotlin provides support for writing Gradle build scripts using JetBrains' Kotlin language. It aims to provide Gradle users with a rich, flexible and statically-typed approach to developing build logic in conjunction with the best IDE and tooling experience possible. You can read more about the project in our announcement blog post and check out the frequently asked questions in the project wiki. Getting Started The fastest way to get up and running with a Kotlin-based Gradle build is to work with one of the samples. You'll find complete instructions in the README there. Issue Tracking Found a bug? Have an idea for an improvement? Feel free to add an issue. If you're dealing with what you believe to be an issue with Kotlin itself or the Kotlin Plugin for IDEA, you may want to search JetBrains' YouTrack first to see if it is a known issue. In any case, feel free to add an issue here for it as well. We'd like to know and track what our users are experiencing regardless whether the issue is with Gradle Script Kotlin or with Kotlin itself. Staying in Touch Come chat with us in the #gradle channel of the public Kotlin Slack instance. License Like the rest of Gradle, Gradle Script Kotlin is released under version 2.0 of the Apache License. Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/gradle/gradle-script-kotlin"	""	"true"
"Misc"	"brikk/brikk"	"https://github.com/brikk/brikk"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"14"	"1"	"0"	"GitHub - brikk/brikk: brikk dependency manager (Kotlin, KotlinJS, Java, ...) Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 1 Star 14 Fork 0 brikk/brikk Code Issues 2 Pull requests 0 Pulse Graphs brikk dependency manager (Kotlin, KotlinJS, Java, ...) 12 commits 1 branch 0 releases Fetching contributors Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags master Nothing to show Nothing to show New pull request Fetching latest commit… Cannot retrieve the latest commit at this time. Permalink Failed to load latest commit information. gradle/wrapper README.md build.gradle gradle.properties gradlew gradlew.bat settings.gradle README.md brikk brikk dependency manager (Kotlin, KotlinJS, Java, ...) THIS IS UNDER DEVELOPMENT, DOC DRIVEN DEVELOPMENT SO NOT ALL IS IMPLEMENTED YET What is brikk Brikk is a dependency management system for the JVM that is more similar to NPM or JSPM in that it downloads and installs dependencies outside of the build. It can also integrate with build systems to handle dependency resolution and management, or to notify of conflicts, upgrades available, emergency patches, and more. Installing artifacts into project A simple maven artifact: brikk install maven:group/artifact brikk install shortPackageName  A github repo via Jitpack.io: brikk install github:user/repo  And you can install specific versions rather than latest: brikk install maven:group/artifact@version brikk install shortPackageName@version  Versions can be either semantic version compatibility range or tilde compatibility ranges. Any other constraits can also be included as tags: brikk install maven:group/artifact@version(tags)  More on tags later... Installations can be a list of artifacts space or comma delimited. Aliasing on install: And any install can be aliased for later easy referencing, although an alias cannot be the same as any existing shortPackageName in the brikk metadata repository: brikk install someAlias=maven:group/artifact/version brikk install someAlias=github:user/repo  An alias can apply to a group of artifacts in one of these two forms: brikk install someAlias=[artifact1, artifact2, ... artifactN] someOtherAlias=otherArtifact brikk install someAlias=artifact1 someAlias=artifact2 someAlias=artifactN someOtherAlias=otherArtifact  Using brikk add will add a second version to the project, at which point each module must specify the version required, or will use the default version added by brikk install Adding artifacts to a project module brikk use aliasOrShortNameOrFullReference in modulePath  where modulePath is the path compatible with the current build system's view of module heirarchy (i.e. "":module:submodule"" or ""module/submodule"" for gradle) Adding can also be grouped for both artifacts and modules: brikk use alias1 alias2 in module1 module2  And for dependencies between modules: brikk use modulePath in otherModulePath  TODO: module scopes (brikk use alias in module1:testCompile ... brikk use alias in module1:[runtime, testCompile]) Updating after VCS pull After pulling from VCS, your brikk configuration may be out of date with the local repo, just simply: brikk install  to check that all packages are installed. Upgrading Packages brikk update  This will upgrade any packages within the version ranges allowed (semver or tilde) and inform about any that are available but outside of the ranges. To update a single package: brikk update aliasOrShortPackageName  You can also test if an upgrade will be API compatible with your current version with: brikk test update brikk test update aliasOrShortPackageName  And any API changes are reported, along with highlighting those called by your project. This includes checking for problems caused by transitive dependencies and possible incompatibilities. This includes Kotlin inline functions that might contain static calls which would be changed accidentally by a library version change. (A -> B -> C with inlines, B expects method Foo in position 3 of a class, A changes the version of C where Foo is in position 5, now B is calling the wrong method. oops!) Inspecting Dependencies brikk inspect  Conflict resolution brikk does not allow the same class name to appear more than once in a given module class path, unless the binary contents of the class are identical. If this happens a conflict is reported. But thankfully brikk can solve most conflicts with bundling. You can ask brikk to bundle a used library to hide parts of it that are a problem, including its transititve dependencies. A package can be bundled (jarjar) with optional renaming (shading) brikk bundle aliasOrShortPackageName packages otherAliasOrShortPackageName, ... [renamed packagePrefixes=optionalRename, ...]  This is different than Maven and Gradle where you cannot shade your dependencies before your build and then use the bundled package. Or upgrade the version of a dependency for one module (multiple versions in the project are allowed): brikk use aliasOrShortNameOrFullReference@version in moduleName  Or upgrade the version of a transitive dependnecy within a dependency: brikk use aliasOrShortNameOrFullReference@version in aliasOrShortNameOrFullReference  Or exclude a dependency: brikk exclude aliasOrShortNameOrFullReference from aliasOrShortNameOrFullReference  brikk will recommend strategies for conflict resolution that make the smallest safe changes (API and binary compatibility, fewest versions in the code base, etc). IDE and Build system support brikk will use your global settings to automatically generate build system or IDE files when you run: brikk build  It detects build.gradle and can add an apply-able file for gradle, or pom.xml to add a parent pom with dependencies defined, or if the build.gradle already uses the brikk plugin then do nothing, and also detect if you have an IDE project in the directory which would then have its library definitions and modules updated to the correct versions. You can request specific transforms using: brikk build intellij brikk build eclipse brikk build gradle brikk build maven brikk build intellij gradle ...  Note that brikk can be used with stand-alone Intellij projects to manage dependencies without a build tool. TODO: brikk can install the dependencies that are gradle / maven plugins as well Tags A build can have tags, these are specified in the brikk metadata repository, or come from files embedded in published JARs, and some from scanning the actual JARs to determine their values from data within class files. The tags include things like: jdk=7 kotlinAbi=25 scalaBin=2.11 os=macosx And during dependency resolution you can apply tags to ensure you are getting what is expected: brikk install maven:group/artifact@version(tags)  Some tags are auto-applied, for example kotlinAbi will match against the version of any included Kotlin compiler plugin, runtime, library. And Scala the same. You can set tags for your build that must be met by any library that has the tag: brikk enforce tag jdk=7+  TODO: tags can also be IVY descriptors, or file types (i.e. doc vs. jar) Editing brikk.confg without the CLI The brikk configuration file can be edited without the CLI, it is a Typesafe Config compatible file and every CLI action just modifies the file. brikk metadata repository The metadata repository is a Github based Git repo that contains extra metadata about libraries. When scanned and information is inferred, it is added here for quicker access by brikk. A library owner can issue pull requests to manually change metadata for their libraries, and other data is added automatically by the system, and community recommendations and common solutions for projects are also added after moderation or a solution becomes common enough to automatically be promoted. TODO: types of things in the metadata repository: short names for packages (unique in system, can be infered from github user/repo as well which can be identified in poms) DO NOT USE flags, on bad versions of libs Bundling instructions for best bundling, and if prebundled versions exist BOL - Things that must have the same version number or pattern (i.e. Kotlin compiler, stdlib, runtime, reflect) that should be in sync (or jackson, jackson-kotlin-module, jackson databind, ...) Auto-upgrade flags (the author says ""this should auto upgrade to version V2 from V1, regardless of version strategy"") Suggested scope for the library (i.e. JUNIT automatically goes to testCompile unless overridden) Any transitive dependencies that should be in compile scope instead of runtime (all are treated as runtime otherwise) IDE information for brikk plugin to show warnings The API diff between versions The binary compatibility between versions (which classes differ, or the same by binary contents) Source of shaded classes (which shaded classes come from other libraries and which) A version breaks semantic versioning strategy with identified API breakage OTHER ROADMAP brikk can delegate to JSPM for javascript packages used by KotlinJS brikk needs to work with multi-platform builds so that it can provide dependencies for each platform since tags will differ brikk can share already downloaded dependencies between users on local network brikk can watch compiler output (via build pluigin) and when a dependency is missing or in the wrong scope, can suggest an action brikk can be a build plugin as well doing live dependency updates at the start of a build brikk can be a build plugin that checks if brikk needs brikk install since something changed and hasn't been applied Kotlin module files break shading Kotlin code, so we need a shader that can deal with these files as well OSGI? JPM4J did things for this, but what, why, how? plugin model so other systems (Buck, Bazel) can be supported easily by other contributors. (Issue #1 and #2 in issue tracking) tab completion for package names and such from command-line live dependencies to other projects on disk (you have source of A normally using bin of B, but now want to modify B at same time) live dependencies from other developer machines (developer 1 working on A that uses B, developer 2 changing B in realtime, when successful build with tests, let developer 1 have the results immediately) build receipts stats collector (and send to server) unbundle command Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/brikk/brikk"	""	"true"
"Desktop"	"ice1000/Dekoder"	"https://github.com/ice1000/Dekoder"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"10"	"3"	"1"	"GitHub - ice1000/Dekoder: A kotlin music player, materially designed. Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 3 Star 10 Fork 1 ice1000/Dekoder Code Issues 0 Pull requests 0 Pulse Graphs A kotlin music player, materially designed. 131 commits 1 branch 5 releases Fetching contributors Kotlin 89.5% Java 8.2% CSS 2.3% Kotlin Java CSS Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags master Nothing to show v1.3 v1.2 v1.1 v1.0 v0.1 Nothing to show New pull request Latest commit dec3655 Jul 11, 2016 ice1000 committed on GitHub Merge pull request #3 from KotlinCN/master … merge progress Permalink Failed to load latest commit information. .idea 算了。。我累了。 Jul 1, 2016 art fix lots of bugs Jun 3, 2016 lib 算了。。我累了。 Jul 1, 2016 out/artifacts 终于完成了。 Jul 1, 2016 src 算了。。我累了。 Jun 30, 2016 .gitignore 算了。。我累了。 Jun 30, 2016 LICENSE.md 写到半夜寝室突然进来个人，吓死我啊你 May 20, 2016 README-ZH.md 终于完成了。 Jul 1, 2016 README.md 终于完成了。 Jun 30, 2016 dekoder.iml 算了。。我累了。 Jul 1, 2016 README.md Dekoder What this is This is a cross-platform music player. Materially Designed, and written in pure kotlin but with a javaFX GUI. You can see this repo on KotlinBy awesome-kotlin or KotlinCN awesome-kotlin. Language 简体中文 TODO list Read mata data. GUI Play and stop the media. Progress bar Pause Refresh list Next and previous song List looping Play list Read the wave Media format DSL Supported formats *.wav *.mp3-low-quality (this was so f#cking exciting!!!!) used open source projects JFoenix Description A kotlin music player. Dekoder is a desktop music player powered by JavaSound. Written in pure Kotlin but with a JavaFX GUI interface written in Java. build Copy this jar to the lib directory, and you can run it. releases v0.1 preview is the earliest but simplest version. v1.0 stable is the earliest stable version. This supports playing wav files, listing files, and playing and stop. v1.1 stable has implement the 'next' 'previous' and 'refresh' button. v1.2 stable new 'Exit' button to close this software without leaving any running thread, and various bugs fixed. v1.3 stable Supporting mp3 files. So exciting. Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/ice1000/Dekoder"	""	"true"
"Examples"	"Kotlin/kotlin-koans"	"https://github.com/Kotlin/kotlin-koans"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"405"	"38"	"281"	"GitHub - Kotlin/kotlin-koans: Kotlin workshop Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 38 Star 405 Fork 281 Kotlin/kotlin-koans Code Issues 0 Pull requests 1 Pulse Graphs Kotlin workshop 138 commits 3 branches 0 releases 23 contributors Kotlin 93.9% Java 6.1% Kotlin Java Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags development master resolutions Nothing to show Nothing to show New pull request Latest commit 86cba7a Jun 20, 2016 svtk committed on GitHub Merge pull request #61 from klingel/improve-method-arg-naming-for-39 … Improve `getCellColor` naming of arguments Permalink Failed to load latest commit information. .idea Fixed 'Html_Demo' configuration Feb 16, 2016 lib Removed 'annotations.jar' Nov 19, 2015 src Improve `getCellColor` naming of arguments Jun 18, 2016 test Implicit Nothing for member functions Mar 31, 2016 .classpath Add Eclipse project files to allow easy import into Eclipse workspace Nov 19, 2015 .gitignore Minor changes in project Oct 23, 2015 .project Place Kotlin buider before Java builder for Eclipse settings Nov 27, 2015 LICENSE.txt add MIT license Jun 16, 2015 README.md Copied the description of how to work with the project Apr 22, 2016 kotlin-koans.iml Renamed module to kotlin-koans Nov 18, 2015 README.md Kotlin Koans Kotlin Koans are a series of exercises to get you familiar with the Kotlin Syntax. Each exercise is created as a failing unit test and your job is to make it pass. Open up the project in IntelliJ IDEA or your favorite editor. Run 'All tests' and fix them. How to work with Koans using this project You have 42 tasks to do. Each task lives in its function: from task0 to task41. You regularly have to change the function taskN by replacing its body (which starts out as the function invocation todoTaskN()), with the correct code according to the problem. The function todoTaskN() throws an exception, so you have to replace that invocation with meaningful code. Using documentation argument you can open the related part of Kotlin online documentation. Press F1 (Quick Documentation) on docN(), then ""See also"" section gives you a link. Using references argument you can usually navigate and see the code mentioned in the task description. The repository has two branches, master which contains the exercises for you to do and resolutions which contains the resolved exercises. Make sure you don’t cheat! Other ways to solve Koans Note that you can solve the similar tasks using Educational Plugin or online: Educational Plugin https://blog.jetbrains.com/kotlin/2016/03/kotlin-educational-plugin online version of koans http://try.kotl.in The koans tasks for web-demo and educational plugin can be found here: https://github.com/Kotlin/kotlin-koans-edu. Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/Kotlin/kotlin-koans"	""	"true"
"Examples"	"JetBrains/kotlin-examples"	"https://github.com/JetBrains/kotlin-examples"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"374"	"57"	"85"	"GitHub - JetBrains/kotlin-examples: Various examples for Kotlin Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 57 Star 374 Fork 85 JetBrains/kotlin-examples Code Issues 6 Pull requests 3 Pulse Graphs Various examples for Kotlin 106 commits 2 branches 0 releases 14 contributors Kotlin 92.2% Java 7.8% Kotlin Java Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags master yan.temp.update.examples Nothing to show Nothing to show New pull request Latest commit 96f3950 Jul 12, 2016 yole update to Dokka 0.9.9; extend the example Permalink Failed to load latest commit information. gradle extend the example; update to Dokka 0.9.9 Jul 12, 2016 maven update to Dokka 0.9.9; extend the example Jul 12, 2016 README.md Initial commit Mar 18, 2013 README.md kotlin-examples Various examples for Kotlin Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/JetBrains/kotlin-examples"	""	"true"
"Examples"	"JetBrains/swot"	"https://github.com/jetbrains/swot"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"186"	"24"	"2714"	"GitHub - JetBrains/swot: Identify email addresses or domains names that belong to colleges or universities. Help automate the process of approving or rejecting academic discounts. Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 24 Star 186 Fork 2,714 JetBrains/swot forked from leereilly/swot Code Pull requests 17 Pulse Graphs Identify email addresses or domains names that belong to colleges or universities. Help automate the process of approving or rejecting academic discounts. 4,251 commits 5 branches 22 releases 1,351 contributors Kotlin 100.0% Kotlin Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags master revert-171-add_maricopa_community_college revert-439-master revert-741-patch-3 revert-1932-patch-4 Nothing to show v0.3.1 v0.3.0 v0.2.13 v0.2.12 v0.2.11 v0.2.10 v0.2.9 v0.2.8 v0.2.7 v0.2.6 v0.2.5 v0.2.4 v0.2.3 v0.2.2 v0.2.1 v0.2.0 v0.1.5 v0.1.4 v0.1.3 v0.1.2 v0.1.1 v0.1.0 Nothing to show New pull request #2124 Compare This branch is 3728 commits ahead, 1014 commits behind leereilly:master. Latest commit 78f7e57 Jul 11, 2016 philipto committed on GitHub Merge pull request #2108 from mborgraeve/patch-2 … Create depinfonancy.txt Permalink Failed to load latest commit information. .idea deleted some duplicated files with wrong extensions, other than .txt Jun 22, 2016 lib Merge pull request #2108 from mborgraeve/patch-2 Jul 11, 2016 src/swot Fix compilation for kotlin dev_213 Feb 1, 2016 test/swot Fix compilation for kotlin dev_213 Feb 1, 2016 .document Initial commit to email. Jan 30, 2012 .gitignore include .idea to .gitignore Jun 17, 2015 CONTRIBUTING.md Change CONTRIBUTING.md links to JetBrains fork Nov 9, 2015 LICENSE.txt Update LICENSE.txt May 24, 2013 README.md Update README.md Mar 16, 2016 VERSION Version bump to 0.3.1 Jun 19, 2014 swot.iml junit, that includes hamcrest Sep 25, 2014 README.md swot JetBrains uses this swot repository to grant free licenses for JetBrains tools to students and teachers worldwide. If your email is in one of the domains listed in this repository, you are entitled to request your free license from JetBrains. Visit http://jetbrains.com/student to request! There is lib/domains directory which contains hierarcicaly structured list of email domains belonged to various educational institutions. The domains are mostly owned by colleges and universities, and also by groups of schools united together because they are sharing the same email domains between several institutions, such as Township High School District 211 of Cook County, Illinois. If you know a school, college or university which is not in this list, feel free to submit a pull request to add it. Which educational institutions can be added to the repository? Your pull request for adding a new email domain to the repository will be satisfied if all of the conditions below are met: The domain is used by an educational institution, which offers at least one long-term course (one year or longer), and the course is somehow related to IT (it is in computer science, software engineering, statistics, bioinformatics, etc.) The educational institution has a physically existing location, where students attend classes in the classrooms. In general, we do not include online universities to this repository. NOTE: If an organization provides primary and secondary education only (i.e., no high or higher education programs), it shall not be included into the list. Primary and secondary school students usually do not need professional developer tools, and in case they learn some programming, we are glad to offer them Community versions of the tools, which are free to everybody, such as PyCharm Community Edition, etc. If you represent a primary or secondary school and you are certain of the necessity of professional version of a JetBrains tool for your school, please contact JetBrains sales team via https://www.jetbrains.com/support/sales/ How to add a domain to this repository To add a domain, make a pull request. You must be familiar with git tool or GitHub user interface in order to make a pull request. We review your request and merge it (i.e., accept it) if it meets the following rules: Each domain is represented by a single .txt file in the repository. If there is a file lib/domains/edu/mit.txt, it means that e-mail domain mit.edu is included into the repository. Please note that the repository uses reverse order of the name components, and also note that .txt extension is mandatory. Example: add file /lib/domains/ng/edu/unaab.txt to add a domain unaab.edu.ng to the repository. Pull request can include one or more files which you wish to add. Each file in the repository has to contain a name of the university, which the domain represented by the file belongs to. For example, a file /lib/domains/ng/edu/unaab.txt has to contain a line in it: ""Federal University of Agriculture, Abeokuta"". First line of the file has to contain an official name of the educational organization. Other lines can contain other known names of the university. A university in a non-English speaking country can have a line containing the university name in their native language, and another line with the name in English. If the domain is shared among several institutions, such a school district domain, please add the last line starting with dot (.) followed by a word ""group"". Example: .group How to add the domain quicker We merge pull requests manually, and check the information which you have provided us with prior to merge. Thus, if you wish to make the verification easier for us and therefore much quicker, please mention the following in your comment to the request: the university official website URL, if different from the domain you are submitting an URL of a page on the official website where an IT-related long-term (>1 year) course is offered by the university an URL of a page or another proof (.pdf or a screenshot are OK) showing that the university recognizes the domain which you are submitting as an official email domain for the students. How to change a domain to this repository If a university changes its email domain or name, you can submit a pull request with necessary changes. Additional references Please refer to CONTRIBUTING.md file of this repository to read more about repository structure and contributing rules. FAQ There are many domains in my university, how can I add all of them? If all the domains used for teachers' and students' email are in the same upper-level domain, you can add the upper-level domain. For example, if there is a domain joedoe.org owned by a university, and there are subdomains such as stud.joedoe.org and prof.joedoe.org, used by the students and the teachers respectively, you can add joedoe.org domain only, and both students and teachers will be able to request their free licenses. However, if the upper-level domain is also used by alumni, research staff, and other people who do not participate in education directly, we encourage you to add separate subdomains, if it is possible. If the university uses several email domains in different upper-level domains (for example, euroacademia.ee and euroacademia.eu), please submit several files with different paths and the same content (i.e., same name of the university) in your pull request. Some universities have their names duplicated in the first and the second line in respective .txt file in this repository. Shall I put the university name twice in my .txt file to have the domain added? No, it's not needed. However, nothing bad happens if you do it, don't worry. It does not affect our decision on your request. Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/jetbrains/swot"	""	"true"
"Examples"	"robfletcher/midcentury-ipsum"	"https://github.com/robfletcher/midcentury-ipsum"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"2"	"1"	"5"	"GitHub - robfletcher/midcentury-ipsum: Swingin’ filler text for your jet-age web page. Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 1 Star 2 Fork 5 robfletcher/midcentury-ipsum Code Issues 0 Pull requests 0 Pulse Graphs Swingin’ filler text for your jet-age web page. http://midcentury-ipsum.herokuapp.com/ 136 commits 1 branch 0 releases Fetching contributors Kotlin 55.7% CSS 33.7% JavaScript 5.3% HTML 5.3% Kotlin CSS JavaScript HTML Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags master Nothing to show Nothing to show New pull request Fetching latest commit… Cannot retrieve the latest commit at this time. Permalink Failed to load latest commit information. gradle src .gitignore LICENSE Procfile README.md build.gradle gradlew gradlew.bat settings.gradle README.md A filler text generator built with Ratpack. Mid-Century Ipsum is live at midcentury-ipsum.herokuapp.com. Append a number to the URL to get that many paragraphs of text (the default is 4). You can also use an Accept header to get text/plain or application/json data instead of HTML. Pull requests with additional text welcome – just edit corpus.txt! Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/robfletcher/midcentury-ipsum"	""	"true"
"Examples"	"robfletcher/lazybones-kotlin"	"https://github.com/robfletcher/lazybones-kotlin"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"0"	"0"	"1"	"GitHub - robfletcher/lazybones-kotlin: The Lazybones app migrated to Kotlin as a learning exercise Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 0 Star 0 Fork 1 robfletcher/lazybones-kotlin forked from pledbrook/lazybones-kotlin Code Pull requests 0 Pulse Graphs The Lazybones app migrated to Kotlin as a learning exercise 316 commits 1 branch 0 releases Fetching contributors Groovy 42.7% Kotlin 37.9% Java 19.3% Handlebars 0.1% Groovy Kotlin Java Handlebars Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags master Nothing to show Nothing to show New pull request Pull request Compare This branch is even with pledbrook:master. Fetching latest commit… Cannot retrieve the latest commit at this time. Permalink Failed to load latest commit information. gradle/wrapper Update Gradle wrapper to 2.2.1. Dec 17, 2014 lazybones-app lazybones-gradle-plugin lazybones-templates media .gitignore Issue 2 May 3, 2013 .travis.yml CONTRIBUTING.md LICENSE README.md build.gradle codenarc.groovy gradlew gradlew.bat settings.gradle README.md Lazybones Project Creation Tool Lazybones was born out of frustration that Ratpack does not and will not have a command line tool that will bootstrap a project. It's a good decision for Ratpack, but I'm lazy and want tools to do the boring stuff for me. The tool is very simple: it allows you to create a new project structure for any framework or library for which the tool has a template. You can even contribute templates by sending pull requests to this GitHub project or publishing the packages to the relevant Bintray repository (more info available below). The concept of Lazybones is very similar to Maven archetypes, and what Yeoman does for web applications. Lazybones also includes a subtemplates feature that resembles the behaviour of Yeoman's sub-generators, allowing you to generate optional extras (controllers, scaffolding etc.) inside a project. Developers Peter Ledbrook Kyle Boon Tommy Barker Contributors Luke Daley Tomas Lin Russell Hart Dave Syer Andy Duncan Running it Grab lazybones from gvm: gvm install lazybones  or alternatively, grab the distribution from Bintray, unpack it to a local directory, and then add its 'bin' directory to your PATH environment variable. Creating projects To create a new project, run lazybones create <template name> <template version> <target directory>  So if you wanted to create a skeleton Ratpack project in a new 'my-rat-app' directory you would run lazybones create ratpack-lite 0.1 my-rat-app  The version is optional and if you leave it out, Lazybones will install the latest version of the template it can find. Named templates are all stored on Bintray. By default, Lazybones searches for templates in the pledbrook/lazybones-templates repository, but you can use other Bintray repositories by adding some configuration - set the Custom Repositories section under Configuration later in this document. You're not limited to only Bintray as you can install templates directly from a URL too: lazybones create http://dl.bintray.com/kyleboon/lazybones/java-basic-template-0.1.zip my-app  Of course it can be pretty laborious copying and pasting URLs around, so Lazybones allows you to configure aliases for URLs that you use frequently. By adding the following configuration to your Lazybones settings file, ~/.lazybones/config.groovy (see below for more details on this), you can install the template by name: templates {     mappings {         myTmpl = ""http://dl.bintray.com/...""     } }  In other words, you could now run lazybones create myTmpl my-app  Note that when using the URL option, there is no need to specify a version. You should also be aware that mappings take precedence, i.e. if a mapping has the same name as an existing template, the mapping is used. This essentially creates a simple override mechanism. There is just one more thing to say about the create command: by default it creates the specified directory and puts the initial project in there. If you want to unpack a template in the current directory instead, for example if you have already created the project directory, then just pass '.' as the directory: lazybones create ratpack .  Once you have created a new project from a template, you may notice that the project directory contains a .lazybones sub directory. You may delete this, but then you won't be able to use the generate command (see next section) if the project template has support for it. Many project templates request information from you, such as a project name, a group ID, a default package, etc. If this is the umpteenth time you have created a project from a given template, then answering the questions can become tedious. There is also the problem of scripting and automation when you want to create a project without user intervention. The solution to both these issues is to pass the values on the command line: lazybones create ratpack 0.2 ratapp -Pgroup=org.example -Ppackage=org.example.myapp  The -P option allows you to pass property values into the project templates without user intervention. The key is to know what the property names are, and that comes down to the project template. At the moment, the best way to find out what those properties are is to look at the post-install script itself. The last option to mention is --with-git which will automatically create a new git repository in the project directory. The only requirement is that you have the git command on your path. Sub-templates As of Lazybones version 0.7, project templates can incorporate subtemplates. Imagine that you have just created a new web application project from a template and that template documents that you can create new controllers using a sub- template named controller. To use it, just cd into the project directory and run lazybones generate controller  This will probably ask you for the name of the controller and its package before generating the corresponding controller file in your project. You can reuse the command to create as many controllers as you need. As with the create command, you can also pass in property values on the command line if the subtemplate is parameterised: lazybones generate controller -Ppackage=org.example.myapp -Pclass=Book  The last option available to you as a user is template qualifiers. These only work if the subtemplate supports them, but they allow you to pass additional information in a concise way: lazybones generate artifact::controller  In this case, the template name is artifact, but we have qualified it with an extra controller. You can pass in as many qualifiers as you want, you just separate them with ::. Note that you do not specify a version with the generate command. This is because the subtemplates are embedded directly in the project template, and so there can only be one version available to you. Finding out what templates are available To see what templates you can install, run lazybones list  This will list all aliases and remote templates. If you want to see what templates you have cached locally, run lazybones list --cached  In fact, --cached is implied if Lazybones can't connect to the internet. You can also find out more about a template through the info command: lazybones info <template name>  This will print a description of the template and what versions are available for it. If you're offline, this will simply display an error message. Configuration Lazybones will run out of the box without any extra configuration, but the tool does allow you to override the default behaviour via a fixed set of configuration options. These options can be provided in a number of ways following a set order of precedence: System properties of the form lazybones.*, which can be passed into the app via either JAVA_OPTS or LAZYBONES_OPTS environment variables. For example: env JAVA_OPTS=""-Dlazybones.config.file=/path/to/my-custom-default-config.groovy"" lazybones ...  Highest precedence, i.e. it overrides all other sources of setting data. User configuration file in $USER_HOME/.lazybones/config.groovy. This is parsed using Groovy's ConfigSlurper, so if you're familiar with that syntax you'll be right at home. Otherwise, just see the examples below. (Since 0.8) A JSON configuration file in $USER_HOME/.lazybones/managed-config.groovy that is used by the config commands. You can edit it this as well. A Groovy-based default configuration file that is provided by the application itself, but you can specify an alternative file via the lazybones.config.file system property. Lazybones also provides a convenient mechanism for setting and removing options via the command line: the config command. Command line configuration The config command provides several sub-commands that allow you to interact with the persisted Lazybones configuration; specifically, the JSON config file. You run a sub-command via lazybones config <sub-cmd> <args>  where <sub-cmd> is one of: set <option> <value> [<value> ...] Allows you to change the value of a configuration setting. Multiple values are treated as a single array/list value. The new value replaces any existing one. add <option> <value> Appends an extra value to an existing array/list setting. Reports an error if the setting doesn't accept multiple values. If the setting doesn't already have a value, this command will initialise it with an array containing the given value. clear <option> Removes a setting from the configuration, effectively reverting it to whatever the internal default is. show [--all] <option> Shows the current value of a setting. You can use the --all argument (without a setting name) to display all the current settings and their values. list Displays all the configuration settings supported by Lazybones. So what configuration settings are you likely to customise? Custom repositories Lazybones will by default download the templates from a specific Bintray repository. If you want to host template packages in a different repository you can add it to Lazybone's search path via the bintrayRepositories setting: bintrayRepositories = [       ""kyleboon/lazybones"",       ""pledbrook/lazybones-templates"" ]  If a template exists in more than one repository, it will be downloaded from the first repository in the list that it appears in. Package aliases If you regularly use a template at a specific URL rather than from Bintray, then you will want to alias that URL to a name. That's where template mappings (or aliases) come in. The aliases are defined as normal settings of the form templates.mappings.<alias> = <url>  In a Groovy configuration file, you can define multiple aliases in a block: templates {     mappings {         test = ""http://dl.dropboxusercontent.com/u/29802534/custom-ratpack.zip""         after = ""file:///var/tmp/afterburnerfx-2.0.0.zip""     } }  Alternatively, add them from the command line like this: lazybones config set templates.mappings.after file:///var/tmp/afterburnerfx-2.0.0.zip  The aliases will always be available to you until you remove them from the persisted configuration. Setting a proxy (and other system properties) (Since 0.8.1) Many people have to work behind a proxy, but Lazybones didn't make it easy to configure one. In fact the only way to do it was to add the relevant system properties to a JAVA_OPTS environment variable. From 0.8.1, you now have another option. Lazybones has stolen the idea of having a special form of configuration option for system properties from Gradle. So if you define a property with a systemProp. prefix, it will be added as a system property internally. So to configure an HTTP proxy, you only need to add the following to your Lazybones configuration: systemProp {     http {         proxyHost = ""localhost""         proxyPort = 8181     }     https {         proxyHost = ""localhost""         proxyPort = 8181     } }  You do need to make sure that you configure both HTTP and HTTPS for Lazybones to work properly. General options These are miscellaneous options that can be overridden on the command line: // <-- This starts a line comment // Set logging level - overridden by command line args options.logLevel = ""SEVERE""  The logging level can either be overridden using the same logLevel setting: lazybones --logLevel SEVERE info ratpack  or via --verbose, --quiet, and --info options: lazybones --verbose info ratpack  The logging level can be one of: OFF SEVERE WARNING INFO FINE FINEST ALL Building it This project is split into two parts: The lazybones command line tool; and The project templates. The command line tool The command line tool is created via Gradle's application plugin. The main class is uk.co.cacoethes.lazybones.LazyBonesMain, which currently implements all the sub-commands (create, list, etc.) as concrete methods. The main class plus everything else under src/main is packaged into a lazybones JAR that is included in the distribution zip. The application Gradle plugin generates a lazybones script that then runs the main class with all required dependencies on the classpath. To build the distribution, simply run ./gradlew distZip  The project templates The project templates are simply directory structures with whatever files in them that you want. Ultimately, the template project directories will be zipped up and stored on Bintray. From there, lazybones downloads the zips on demand and caches them in a local user directory (currently ~/.lazybones/templates). If you want empty directories to form part of the project template, then simply add an empty .retain file to each one. When the template archive is created, any .retain files are filtered out (but the containing directories are included). To package up a template, simply run ./gradlew packageTemplate<TemplateName>  The name of the project template comes from the containing directory, which is assumed to be lowercase hyphenated. The template name is the equivalent camel case form. So the template directory structure in src/templates/ratpack-lite results in a template called 'RatpackLite', which can be packaged with ./gradlew packageTemplateRatpackLite  The project template archive will be created in the build directory with the name '-template-.zip'. See the small section below on how the template version is derived. You can also package all the templates in one fell swoop: ./gradlew packageAllTemplates  Once a template is packaged up, you can publish it to a generic (non-Maven) Bintray repository by running ./gradlew publishTemplate<TemplateName>  This will initially fail, because the build does not know where to publish to. That's quickly fixed by adding a gradle.properties file in the root of this project that contains at least these properties: repo.username=your_bintray_username repo.apiKey=your_bintray_apikey  You can then publish new versions of templates whenever you want. Note that you cannot republish with this mechanism, so remember to increment the version if you need to. Finally, you can publish the whole shebang (unusual) with ./gradlew publishAllTemplates  If you don't want to publish your template you can install it locally using the installTemplate rule.  ./gradlew installTemplate<TemplateName>  This will install the template to ~/.lazybones/templates so that you can use it without moving it to bintray first. And that's it for the project templates. Template versions You define the version of a template by putting a VERSION file in the root directory of the template that contains just the version number. For example, you specify a version of 1.2.8 for the ratpack-lite template by adding the file src/templates/ratpack-lite/VERSION with the contents 1.2.8  That's it! The VERSION file will automatically be excluded from the project template archive. Contributing templates Read the Template Developers Guide for information on how to create and publish Lazybones templates. Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/robfletcher/lazybones-kotlin"	""	"true"
"Examples"	"wangjiegulu/KotlinAndroidSample"	"https://github.com/wangjiegulu/KotlinAndroidSample"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"13"	"2"	"0"	"GitHub - wangjiegulu/KotlinAndroidSample: Android sample with kotlin. Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 2 Star 13 Fork 0 wangjiegulu/KotlinAndroidSample Code Issues 0 Pull requests 0 Pulse Graphs Android sample with kotlin. 7 commits 2 branches 0 releases Fetching contributors Kotlin 96.5% Java 3.5% Kotlin Java Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags feature-rapidorm master Nothing to show Nothing to show New pull request Fetching latest commit… Cannot retrieve the latest commit at this time. Permalink Failed to load latest commit information. app gradle/wrapper .gitignore LICENSE README.md build.gradle gradlew gradlew.bat README.md KotlinAndroidSample 1. NetWork with Kotlin + OkHttp + RxJava / RxAndroid Request url(""https://github.com/wangjiegulu"") and update UI: ""https://github.com/wangjiegulu"".request().get().rxExecute()                     .map({ r -> r.body().string() })                     .observeOnMain()                     .subscribeSafeNext { result -> Log.d(TAG, ""request result: $result""); resultTv.setText(""Http request succeed, see log"") } 2. Inject views & events with AndroidInject library Inject ""tv""(TextView) view and inject click event of the button. @AILayout(R.layout.activity_inject) public class InjectWithAIActivity : BaseActivity(){     @AIView(R.id.activity_inject_tv)     private var tv: TextView? = null;      override fun onCreate(savedInstanceState: Bundle?) {         super.onCreate(savedInstanceState)         tv?.setText(""TextView inject succeed"")     }      @AIClick(R.id.activity_inject_btn)     public fun onClick(view: View){         when(view.getId()){             R.id.activity_inject_btn -> toast(""clicked, button inject succeed!"")         }     }  } 3. Database operation with RapidORM Checkout feature-rapidorm branch, Checkout RapidORM library, setting.gradle Configuration: include ':app', ':RapidORM' project("":RapidORM"").projectDir = new File(settingsDir, ""[Your relative path of RapidORM library]""); @Table public data class Person : Serializable{     @Column(primaryKey = true)     var id: Int? = null;     @Column     var name: String? = null;     @Column     var email: String? = null;     @Column     var student: Boolean? = null; }  // Get Person dao var personDao = DatabaseFactory.getDao(javaClass<PersonDaoImpl>());  // insert var p = Person() p.id = 100023L; p.name = ""wangjie"" p.email = ""tiantian.china.2@gmail.com"" p.student = true; personDao.insert(generatePerson());  // delete personDao.deleteBuilder()         .setWhere(Where.eq(""student"", true))         .delete(personDao)  // update p.student = false personDao.update(p)  // query personDao.queryAll() Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/wangjiegulu/KotlinAndroidSample"	""	"true"
"Examples"	"dodyg/Kotlin101"	"https://github.com/dodyg/Kotlin101"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"55"	"4"	"15"	"GitHub - dodyg/Kotlin101: 101 examples for Kotlin Programming language. Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 4 Star 55 Fork 15 dodyg/Kotlin101 Code Issues 0 Pull requests 0 Pulse Graphs 101 examples for Kotlin Programming language. 75 commits 2 branches 0 releases Fetching contributors Kotlin 100.0% Kotlin Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags gh-pages master Nothing to show Nothing to show New pull request Latest commit 864cb9d Feb 24, 2016 dodyg Merge pull request #1 from ksmirenko/master … Update for Kotlin 1.0 Permalink Failed to load latest commit information. .idea Refactored and fixed errors for the project to work with Kotlin 1.0. Feb 24, 2016 lib Refactored and fixed errors for the project to work with Kotlin 1.0. Feb 24, 2016 src Refactored and fixed errors for the project to work with Kotlin 1.0. Feb 24, 2016 .gitignore Add ignore for kotlin-runtime. Jun 16, 2012 Kotlin101.iml Add operator overloading sample and switch to java 7 sdk Jul 26, 2012 LICENSE.TXT Initial commit. Jun 7, 2012 README.md Refactored and fixed errors for the project to work with Kotlin 1.0. Feb 24, 2016 README.md This is a collection of runnable console applications that highlights the features of Kotlin programming language. The use of console application enable an easy way to demonstrate features of Kotlin programming language quickly. All the code here compiles under Kotlin Plugin 1.0.0. I find it useful when I forgot certain Kotlin construct. Instead of looking up on the documentation, I just quickly checked the snippets in Kotlin101. Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/dodyg/Kotlin101"	""	"true"
"Libraries"	"Kotlin/anko"	"https://github.com/Kotlin/anko"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"2941"	"157"	"190"	"GitHub - Kotlin/anko: Pleasant Android application development Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 157 Star 2,941 Fork 190 Kotlin/anko Code Issues 51 Pull requests 3 Pulse Graphs Pleasant Android application development 737 commits 2 branches 14 releases 28 contributors Kotlin 99.2% Other 0.8% Kotlin Other Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags master rr/dev Nothing to show v0.9 v0.8.3 v0.8.2 v0.8.1 v0.8 v0.7.3 v0.7.2 v0.7.1 v0.7 v0.6.3 v0.6.2 v0.6.1 v0.6 v0.5 Nothing to show New pull request Latest commit 6e3abb1 Jul 12, 2016 yanex Update Kotlin plugin to 1.0.3 Permalink Failed to load latest commit information. .idea Launch compile & robolectric tests using Gradle Jun 15, 2016 anko Launch compile & robolectric tests using Gradle Jun 15, 2016 doc ADVANCED.doc: Update examples Jun 9, 2016 gradle/wrapper Update Gradle version to 2.10 Apr 20, 2016 idea-runner Add IDEA run configuration Apr 4, 2015 utils Launch compile & robolectric tests using Gradle Jun 15, 2016 .gitignore Update .gitignore May 19, 2016 CHANGELOG.md Update CHANGELOG.md Mar 2, 2016 LICENSE Initial release. Aug 18, 2014 README.md Bump up gradle deps version nos. (#209) Jun 14, 2016 anko.iml Launch compile & robolectric tests using Gradle Jun 15, 2016 build.gradle Launch compile & robolectric tests using Gradle Jun 15, 2016 build_artifacts.xml Fix task name in build_artifacts.xml May 25, 2016 download_android_sdk.xml Refactoring: split static/ to different modules, rename modules Apr 20, 2016 gradlew Load Maven dependencies using Gradle Jul 7, 2015 gradlew.bat Load Maven dependencies using Gradle Jul 7, 2015 local.properties Launch compile & robolectric tests using Gradle Jun 15, 2016 update_dependencies.xml Update Kotlin plugin to 1.0.3 Jul 12, 2016 update_dependencies_idea.xml Update the asm-src location Jul 12, 2016 version.txt Move version number to version.txt. Update version to 0.9 May 19, 2016 README.md Anko is a library which makes Android application development faster and easier. It makes your code clean and easy to read, and lets you forget about rough edges of Android SDK for Java. Just a brief example. Here is a ""hello world"" written with Anko: verticalLayout {     val name = editText()     button(""Say Hello"") {         onClick { toast(""Hello, ${name.text}!"") }     } } Code above creates a button inside a LinearLayout and attaches an OnClickListener to that button. As you might have guessed, it's a DSL for Android. It is written in Kotlin. Contents Why Anko? Why DSL? Supporting existing code How it works Is it extensible? Using with Gradle Using as Jar library Which Anko libraries are available and which do I need? Building Anko Understanding Anko Basics Helper methods Layouts and LayoutParams Listeners Resources, colors and dimensions Instance shorthands UI wrapper Include tag Styles Anko Preview Plugin Advanced topics Intents Services Configuration qualifiers Dialogs and toasts Asynchronous tasks Logging Using SQLite Extending Anko Using SQLite Why Anko? Why DSL? By default, UI in Android is written using XML. That is inconvenient in the following ways: It is not typesafe It is not null-safe It forces you to write almost the same code for every layout you make XML is parsed on the device wasting CPU time and battery Most of all, it allows no code reuse. While you can create UI programmatically, it's hardly done because it's somewhat ugly and hard to maintain. Here's a plain Kotlin version (one in Java is even longer): val act = this val layout = LinearLayout(act) layout.orientation = LinearLayout.VERTICAL val name = EditText(act) val button = Button(act) button.text = ""Say Hello"" button.setOnClickListener {     Toast.makeText(act, ""Hello, ${name.text}!"", Toast.LENGTH_SHORT).show() } layout.addView(name) layout.addView(button) A DSL makes the same logic easy to read, easy to write and there is no runtime overhead. Here it is again: verticalLayout {     val name = editText()     button(""Say Hello"") {         onClick { toast(""Hello, ${name.text}!"") }     } } Supporting existing code You don't have to rewrite all your UI with Anko. You can keep your old classes written in Java. Moreover, if you still want (or have) to write a Kotlin activity class and inflate an XML layout for some reason, you can use View properties, which would make things easier: // Same as findViewById(), simpler to use val name = find<TextView>(R.id.name) name.hint = ""Enter your name"" name.onClick { /*do something*/ } You can make your code even more compact by using Kotlin Android Extensions. How it works There is no 🎩. Anko consists of some Kotlin extension functions and properties arranged into type-safe builders, as described under Type Safe Builders. Since it's somewhat tedious to write all these extensions by hand, they're generated automatically using android.jar files from Android SDK as sources. Is it extensible? Short answer: yes. For example, you might want to use a MapView in the DSL. Then just write this in any Kotlin file from where you could import it: public inline fun ViewManager.mapView(theme: Int = 0) = mapView(theme) {} public inline fun ViewManager.mapView(theme: Int = 0, init: MapView.() -> Unit) = ankoView({ MapView(it) }, theme, init) { MapView(it) } is a factory function for your custom View. It accepts a Context instance. So now you can write this: frameLayout {     val mapView = mapView().lparams(width = matchParent) } Also see Extending Anko if you need to create top-level DSL views. Using with Gradle There's a template project showing how to include Anko library into your Android Gradle project. Basically, all you have to do is to add an additional repository and a compile dependency: dependencies {     compile 'org.jetbrains.anko:anko-sdk15:0.9' // sdk19, sdk21, sdk23 are also available     compile 'org.jetbrains.anko:anko-support-v4:0.9' // In case you need support-v4 bindings     compile 'org.jetbrains.anko:anko-appcompat-v7:0.9' // For appcompat-v7 bindings } Using as Jar library If your project is not based on Gradle, just attach jars from the releases page or from the jcenter repository as project library dependencies and that's it. Which Anko libraries are available and which do I need? If you don't need the DSL features of Anko, you can just reference org.jetbrains.anko:anko-common, and that's all you have to do. If you need the DSL features of Anko, you need to reference different libraries. First, you need to reference a main library based on which minSdkVersion you target. anko-common is referenced by those libraries, so you don't need to specify it yourself. Here are the available libraries: org.jetbrains.anko:anko-sdk15 for 15 <= minSdkVersion < 19 org.jetbrains.anko:anko-sdk19 for 19 <= minSdkVersion < 21 org.jetbrains.anko:anko-sdk21 for 21 <= minSdkVersion < 23 org.jetbrains.anko:anko-sdk23 for 23 <= minSdkVersion Then, for any Android Support library you referenced in your build.gradle, you need to add the matching Anko library, if you want some more Anko magic for those specific Android Support libraries. Here are all available Anko Android Support libraries: org.jetbrains.anko:anko-support-v4 org.jetbrains.anko:anko-appcompat-v7 org.jetbrains.anko:anko-cardview-v7 org.jetbrains.anko:anko-gridlayout-v7 org.jetbrains.anko:anko-recyclerview-v7 org.jetbrains.anko:anko-design org.jetbrains.anko:anko-percent Here is an example: android {     ...     defaultConfig {         ...         minSdkVersion 15 // Min SDK version is 15 in this example         targetSdkVersion 23         ...     }     ... }  dependencies {     ...     // Note the used support libs     compile 'com.android.support:appcompat-v7:23.1.1'     compile 'com.android.support:design:23.1.1'     compile 'com.android.support:recyclerview-v7:23.1.1'      compile ""org.jetbrains.kotlin:kotlin-stdlib:$kotlin-version""     compile ""org.jetbrains.anko:anko-sdk15:$anko-version"" // So here it's 15 too      // Anko libs matching support libs     compile ""org.jetbrains.anko:anko-appcompat-v7:$anko-version""     compile ""org.jetbrains.anko:anko-design:$anko-version""     compile ""org.jetbrains.anko:anko-recyclerview-v7:$anko-version"" } Building Anko Instructions for building Anko are located under Building. Understanding Anko As mentioned above, Anko is written in Kotlin. In case you are not familiar with Kotlin, please refer to kotlinlang.org. Kotlin is similar enough to Java, so learning it will be easy. Basics In Anko, you don't need to inherit from any special classes: just use standard Activity, Fragment, FragmentActivity or whatever you want. First of all, import org.jetbrains.anko.* to use Anko DSL in your classes. DSL is available in onCreate(): override fun onCreate(savedInstanceState: Bundle?) {     super.onCreate(savedInstanceState)      verticalLayout {         padding = dip(30)         editText {             hint = ""Name""             textSize = 24f         }         editText {             hint = ""Password""             textSize = 24f         }         button(""Login"") {             textSize = 26f         }     } } 🐧 There's no explicit call to setContentView(R.layout.something): Anko sets content views automatically for Activities (and only for them). hint and textSize are synthetic extension properties bound to JavaBean-style getters and setters, padding is an extension property from Anko. Either of these exists for most View properties allowing you to write text = ""Some text"" instead of setText(""Some text""). verticalLayout (a LinearLayout but already with a LinearLayout.VERTICAL orientation), editText and button are extension functions. Such functions also exist for almost every View in Android framework, and they work in Activities, Fragments (both default and that from android.support package) and even for Context. If you have a Context instance, you can write DSL constructs like this: val name: EditText = with(myContext) {     editText {         hint = ""Name""     } } AnkoComponent Although you can use the DSL directly (in onCreate() or everywhere else), without creating any extra classes, it is often convenient to have UI in the separate class. If you use the provided AnkoComponent interface, you also you get a DSL layout preview feature for free. class MyActivity : AppCompatActivity() {     override fun onCreate(savedInstanceState: Bundle?, persistentState: PersistableBundle?) {         super.onCreate(savedInstanceState, persistentState)         MyActivityUI().setContentView(this)     } }  class MyActivityUI : AnkoComponent<MyActivity> {     override fun createView(ui: AnkoContext<MyActivity>) = with(ui) {         verticalLayout {             val name = editText()             button(""Say Hello"") {                 onClick { ctx.toast(""Hello, ${name.text}!"") }             }         }     } } Helper methods As you probably noticed earlier, the button() function in the previous section accepts a String parameter. Such helper methods exist for some views such as TextView, EditText, Button or ImageView. If you don't need to set any properties for some particular View, you can omit {} and write button(""Ok"") or even just button(): verticalLayout {     button(""Ok"")     button(""Cancel"") } Layouts and LayoutParams Positioning of widgets inside parent containers can be tuned using LayoutParams. In XML it looks like this: <ImageView      android:layout_width=""wrap_content""     android:layout_height=""wrap_content""     android:layout_marginLeft=""5dip""     android:layout_marginTop=""10dip""     android:src=""@drawable/something"" /> In Anko, you specify LayoutParams right after a View description using lparams(): linearLayout {     button(""Login"") {         textSize = 26f     }.lparams(width = wrapContent) {         horizontalMargin = dip(5)         topMargin = dip(10)     } } If you specify lparams(), but omit width and/or height, their default values are both WRAP_CONTENT. But you always can pass them explicitly: use named arguments. Some convenient helper properties to notice: horizontalMargin sets both left and right margins, verticalMargin set top and bottom ones, and margin sets all four margins simultaneously. Note that lparams() are different for different layouts, for example, in the case of RelativeLayout: val ID_OK = 1  relativeLayout {     button(""Ok"") {         id = ID_OK     }.lparams { alignParentTop() }      button(""Cancel"").lparams { below(ID_OK) } } Listeners You can set listeners from Anko code: button(""Login"") {     onClick {         login(name, password)     } } It would be the same as this: button.setOnClickListener(object : OnClickListener {     override fun onClick(v: View) {         login(name, password)     } }) Anko is very helpful when you have listeners with lots of methods. Consider the following code written without using Anko: seekBar.setOnSeekBarChangeListener(object: OnSeekBarChangeListener {     override fun onProgressChanged(seekBar: SeekBar, progress: Int, fromUser: Boolean) {         // Something     }     override fun onStartTrackingTouch(seekBar: SeekBar?) {         // Just an empty method     }     override fun onStopTrackingTouch(seekBar: SeekBar) {         // Another empty method     } }) And now with Anko: seekBar {     onSeekBarChangeListener {         onProgressChanged { seekBar, progress, fromUser ->             // Something         }     } } If you set onProgressChanged() and onStartTrackingTouch() for the same View, these two ""partially defined"" listeners will be merged. For the same listener method, last wins. Resources, Colors and Dimensions Using resource identifiers All examples in the previous chapters used raw Java strings, but it is hardly a good practice. Typically you put all your string data into res/values/ directory and access it at runtime calling, for example, getString(R.string.login). Fortunately, in Anko you can pass resource identifiers both to helper methods (button(R.string.login)) and to extension properties (button { textResource = R.string.login }). Note that the property name is not the same: instead of text, hint, image, we now use textResource, hintResource and imageResource. 🐧 Resource properties always throw AnkoException when read. Colors Two simple extension functions to make the code more readable. Function Result 0xff0000.opaque non-transparent red 0x99.gray.opaque non-transparent #999999 gray Dimensions You can specify dimension values in dip (density-independent pixels) or in sp (scale-independent pixels): dip(dipValue) or sp(spValue). Note that the textSize property already accepts sp (textSize = 16f). Use px2dip and px2sp to convert backwards. Instance shorthands Sometimes you need to pass a Context instance to some Android SDK method from your Activity code. Usually you can just use this, but what if you're inside the inner class? You would probably write SomeActivity.this in case of Java and this@SomeActivity if you're writing in Kotlin. With Anko you can just write ctx. It is an extension property which works both inside Activity and Service and is even accessible from Fragment (it uses getActivity() method under the hood). You can also get an Activity instance using act extension property. UI wrapper Before the Beginning of Time Anko always used UI tag as a top-level DSL element: UI {     editText {         hint = ""Name""     } } You can still use this tag if you want. And it would be much easier to extend DSL as you have to declare only one ViewManager.customView function. See Extending Anko for more information. Include tag It is easy to insert an XML layout into DSL. Use the include() function: include<View>(R.layout.something) {     backgroundColor = Color.RED }.lparams(width = matchParent) { margin = dip(12) } You can use lparams() as usual, and if you provide a specific type instead of View, you can also use this type inside {}: include<TextView>(R.layout.textfield) {     text = ""Hello, world!"" } Styles Anko supports styling: style() is simply a function that accepts View, is applied for the View itself, and then recursively to each child of a View if it is a ViewGroup: verticalLayout {     editText {         hint = ""Name""     }     editText {         hint = ""Password""     } }.style { view -> when(view) {     is EditText -> view.textSize = 20f }} Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/Kotlin/anko"	""	"true"
"Libraries"	"JakeWharton/kotterknife"	"https://github.com/JakeWharton/kotterknife"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"754"	"47"	"77"	"GitHub - JakeWharton/kotterknife: View ""injection"" library for Android. Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 47 Star 754 Fork 77 JakeWharton/kotterknife Code Issues 4 Pull requests 10 Pulse Graphs View ""injection"" library for Android. 69 commits 1 branch 0 releases Fetching contributors Kotlin 90.9% Shell 9.1% Kotlin Shell Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags master Nothing to show Nothing to show New pull request Latest commit b379946 Mar 28, 2016 JakeWharton Merge pull request #40 from pine613/patch-1 … Kotlin v1.0.1 released Permalink Failed to load latest commit information. .buildscript Auto-deploy snapshots from Travis CI to Sonatype. Dec 20, 2014 art Art and logo. Oct 20, 2014 gradle beta++, sdkVersion++, supportLib++, gradleWrapper++ Dec 16, 2015 src update Kotlin version to 1.0.0 Feb 16, 2016 .gitignore Initial commit. Oct 19, 2014 .travis.yml beta++, sdkVersion++, supportLib++, gradleWrapper++ Dec 17, 2015 LICENSE.txt Add full license file. Oct 20, 2014 README.md Optional list binding is not nullable. Oct 20, 2014 build.gradle Kotlin v1.0.1 released Mar 29, 2016 gradle.properties Upload a SNAPSHOT. Oct 20, 2014 gradlew Initial commit. Oct 20, 2014 README.md Kotter Knife Butter Knife-esque view binding for Kotlin. public class PersonView(context: Context, attrs: AttributeSet?) : LinearLayout(context, attrs) {   val firstName: TextView by bindView(R.id.first_name)   val lastName: TextView by bindView(R.id.last_name)    // Optional binding.   val details: TextView? by bindOptionalView(R.id.details)    // List binding.   val nameViews: List<TextView> by bindViews(R.id.first_name, R.id.last_name)    // List binding with optional items being omitted.   val nameViews: List<TextView> by bindOptionalViews(R.id.first_name, R.id.middle_name, R.id.last_name) } These methods are available on subclasses of Activity, Dialog, ViewGroup, Fragment, the support library Fragment, and recycler view's ViewHolder. Download Currently not available via Maven Central. A SNAPSHOT is available in the Sonatype snapshot repo. compile 'com.jakewharton:kotterknife:0.1.0-SNAPSHOT' You can also copy ButterKnife.kt into your source tree. The file depends on the 'support-v4' and 'recyclerview-v7' libraries but the dependency is easily removed by deleting a few lines. Comments, suggestions, and pull requests are encouraged! License Copyright 2014 Jake Wharton  Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at     http://www.apache.org/licenses/LICENSE-2.0  Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.  Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/JakeWharton/kotterknife"	""	"true"
"Libraries"	"nsk-mironov/kotlin-jetpack"	"https://github.com/nsk-mironov/kotlin-jetpack"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"93"	"3"	"4"	"GitHub - nsk-mironov/kotlin-jetpack: A collection of useful extension methods for Android Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 3 Star 93 Fork 4 nsk-mironov/kotlin-jetpack Code Issues 5 Pull requests 0 Pulse Graphs A collection of useful extension methods for Android 109 commits 2 branches 4 releases Fetching contributors Kotlin 100.0% Kotlin Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags develop master Nothing to show 0.14.2 0.14.1 0.13.3 0.13.2 Nothing to show New pull request Latest commit cad048d Feb 15, 2016 nsk-mironov Update Readme Permalink Failed to load latest commit information. gradle jetpack-bindings-arguments jetpack-bindings-preferences Code cleanup Feb 5, 2016 jetpack-bindings-resources jetpack-bindings-sample .gitignore LICENSE.txt README.md build.gradle gradle.properties gradlew gradlew.bat settings.gradle README.md Kotlin Jetpack A collection of useful extension methods for Android Arguments Bindings Preferences Bindings Resources Bindings Arguments Bindings public class ArgumentsFragment : Fragment() {   public companion object {     public fun newInstance(): ArgumentsFragment = ArgumentsFragment().apply {       arguments = Bundle().apply {         putBoolean(""extra_boolean"", true)       }     }   }    // Required binding without default value   val booleanOrThrow by bindArgument<Boolean>(""extra_boolean"")    // Required binding with default value   val booleanOrDefault by bindArgument<Boolean>(""extra_boolean"", false)    // Optional binding   val booleanOrNull by bindOptionalArgument<Boolean>(""extra_boolean"") } These methods can be used with Activity, Fragment, and support library Fragment subclasses. You can also implement ArgumentsAware interface to provide a custom arguments source. Full list of supported bindings: bindArgument<Boolean> / bindOptionalArgument<Boolean> bindArgument<Double> / bindOptionalArgument<Double> bindArgument<Int> / bindOptionalArgument<Int> bindArgument<Long> / bindOptionalArgument<Long> bindArgument<String> / bindOptionalArgument<String> bindArgument<CharSequence> / bindOptionalArgument<CharSequence> bindArgument<Float> / bindOptionalArgument<Float> bindArgument<Enum> / bindOptionalArgument<Enum> bindArgument<Parcelable> / bindOptionalArgument<Parcelable> bindArgument<Serializable> / bindOptionalArgument<Serializable> Every bindXXXArgument returns a ReadWriteProperty so they can be used with var's as well. In this case you don't have to deal with Bundle at all. No explicit Bundle creation, no silly EXTRA_XXX constants, no annoying Bundle.putXXX and Bundle.getXXX calls. Everything just works: public class UserProfileFragment : Fragment() {   public companion object {     public fun newInstance(): UserProfileFragment = UserProfileFragment().apply {       this.firstName = ""Vladimir""       this.lastName = ""Mironov""     }   }    // extra name is automatically inferred from property name (""firstName"" in this case)   var firstName by bindArgument<String>()    // you can also provide a default value using ""default"" named argument   var lastName by bindArgument<String>(default = """") } Gradle dependency: compile ""com.github.vmironov.jetpack:jetpack-bindings-arguments:0.14.2"" Preferences Bindings public class PreferencesFragment : Fragment() {   // Boolean preference   var boolean by bindPreference<Boolean>(""boolean"", false)    // Float preference   var float by bindPreference<Float>(""float"", 0.0f)    // Integer preference   var integer by bindPreference<Int>(""integer"", 1)    // Long preference   var long by bindPreference<Long>(""long"", 1L)    // String preference   var string by bindPreference<String>(""string"", ""default"") } These methods can be used with Context, Fragment, support library Fragment, View, and ViewHolder subclasses. The example above uses a default SharedPreferences instance. You can always provide a custom one by implementing PreferencesAware interface: public class PreferencesFragment : Fragment() {   val preferences = PreferencesAware {     activity.getSharedPreferences(""CustomSharedPreferences"", Context.MODE_PRIVATE)   }    var boolean by preferences.bindPreference<Boolean>(""boolean"", false)   var float by preferences.bindPreference<Float>(""float"", 0.0f)   var integer by preferences.bindPreference<Int>(""integer"", 1)   var long by preferences.bindPreference<Long>(""long"", 1L)   var string by preferences.bindPreference<String>(""string"", ""default"")    // Optional preferences are supported as well   var optionalLong by preferences.bindOptionalPreference<Long>()   var optionalString by preferences.bindOptionalPreference<String>() } Although only Boolean, Float, Int, Long and String preferences are supported by default, the library can be easily extented to support custom type of preference. Adapter interface can be implemented in order to convert any type to a supported one. Here is an example how to imlement json-based preferences using Gson: public inline fun <reified E : Any> Any.bindGsonPreference(default: E, key: String? = null): ReadWriteProperty<Any, E> {   return bindPreference(default, GsonPreferenceAdapter(E::class.java), key) }  public inline fun <reified E : Any> Any.bindGsonPreference(noinline default: () -> E, key: String? = null): ReadWriteProperty<Any, E> {   return bindPreference(default, GsonPreferenceAdapter(E::class.java), key) }  public class GsonPreferenceAdapter<T>(val clazz: Class<T>, val gson: Gson = GsonPreferenceAdapter.GSON) : Adapter<T, String> {   override fun type(): Class<String> = String::class.java   override fun fromPreference(preference: String): T = gson.fromJson(preference, clazz)   override fun toPreference(value: T): String = gson.toJson(value)    public companion object {     public val GSON = Gson()   } }  Usage: public data class Profile(val firstName: String? = null, val lastName: String? = null)  public class ProfileManager(val context: Context) {   public var profile by bindGsonPreference(Profile()) } Gradle dependency: compile ""com.github.vmironov.jetpack:jetpack-bindings-preferences:0.14.2"" Resources Bindings public class ResourcesFragment : Fragment() {   // Boolean resource binding   val boolean by bindResource<Boolean>(R.boolean.boolean_resource)    // Color resource binding   val color by bindResource<Int>(R.color.color_resource)    // Drawable resource binding #1   val bitmap by bindResource<BitmapDrawable>(R.drawable.drawable_bitmap)    // Drawable resource binding #2   val vector by bindResource<VectorDrawable>(R.drawable.drawable_vector)    // Dimension resource binding   val dimension by bindResource<Int>(R.dimen.dimen_resource)    // String resource binding   val string by bindResource<String>(R.string.string_resource) } These methods can be used with Activity, Context, Fragment, support library Fragment, View, and ViewHolder subclasses. You can also implement ResourcesAware interface to provide a custom resources source. Full list of supported bindings: bindResource<Boolean>(R.boolean.boolean_resource) bindResource<Int>(R.integer.integer_resource) bindResource<Int>(R.color.color_resource) bindResource<ColorStateList>(R.color.color_resource) bindResource<Drawable>(R.drawable.drawable_resource) bindResource<Int>(R.dimen.dimen_resource) bindResource<Float>(R.dimen.dimen_resource) bindResource<String>(R.string.string_resource) bindResource<CharSequence>(R.string.string_resource) bindResource<IntArray>(R.array.array_resource) bindResource<Array<String>>(R.array.array_resource) bindResource<Array<CharSequence>>(R.array.array_resource) Gradle dependency: compile ""com.github.vmironov.jetpack:jetpack-bindings-resources:0.14.2"" License Copyright 2015 Vladimir Mironov  Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at     http://www.apache.org/licenses/LICENSE-2.0  Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.  Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/nsk-mironov/kotlin-jetpack"	""	"true"
"Libraries"	"pawegio/KAndroid"	"https://github.com/pawegio/KAndroid"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"343"	"26"	"21"	"GitHub - pawegio/KAndroid: Kotlin library for Android Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 26 Star 343 Fork 21 pawegio/KAndroid Code Issues 0 Pull requests 0 Pulse Graphs Kotlin library for Android 78 commits 1 branch 0 releases Fetching contributors Kotlin 97.2% Java 2.8% Kotlin Java Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags master Nothing to show Nothing to show New pull request Latest commit af13a8e Jul 6, 2016 pawegio committed on GitHub Update README.md Permalink Failed to load latest commit information. art Added logo Mar 27, 2015 gradle/wrapper Updated copyrights May 6, 2016 kandroid Updated to Kotlin 1.0.3, few changes in logging Jul 6, 2016 .gitignore Changes in gitignore Apr 2, 2015 LICENSE Initial commit Mar 26, 2015 README.md Update README.md Jul 6, 2016 build.gradle Updated to Kotlin 1.0.3, few changes in logging Jul 6, 2016 gradle.properties Updated copyrights May 6, 2016 gradlew Added project Mar 26, 2015 gradlew.bat Added project Mar 26, 2015 settings.gradle Updated copyrights May 6, 2016 README.md KAndroid Kotlin library for Android providing useful extensions to eliminate boilerplate code in Android SDK and focus on productivity. Library is compatible with Kotlin 1.0.3 build. Download Download latest version with Gradle: repositories {     jcenter() }  dependencies {     compile 'com.pawegio.kandroid:kandroid:0.6.6@aar' } Usage Binding views // instead of findViewById(R.id.textView) as TextView val textView = find<TextView>(R.id.textView) Accessing ViewGroup children /* instead of: for (i in 0..layout - 1) {     layout.getChildAt(i).visibility = View.GONE } */ layout.views.forEach { it.visibility = View.GONE } TextWatcher /* instead of: editText.addTextChangedListener(object : TextWatcher {     override fun beforeTextChanged(s: CharSequence?, start: Int, count: Int, after: Int) {         before()     }     override fun onTextChanged(s: CharSequence?, start: Int, before: Int, count: Int) {         onChange()     }     override fun afterTextChanged(s: Editable?) {         after()     } }) */ editText.textWatcher {     beforeTextChanged { text, start, count, after -> before() }     onTextChanged { text, start, before, count -> onChange() }     afterTextChanged { text -> after() } } SearchView extensions /* instead of: searchView.setOnQueryTextListener(object : SearchView.OnQueryTextListener {     override fun onQueryTextChange(q: String): Boolean {         update(q)         return false     }      override fun onQueryTextSubmit(q: String): Boolean {         return false     } }) */ searchView.onQueryChange { query -> update(query) }  /* instead of: searchView.setOnQueryTextListener(object : SearchView.OnQueryTextListener {     override fun onQueryTextChange(q: String): Boolean {         return false     }      override fun onQueryTextSubmit(q: String): Boolean {         update(q)         return false     } }) */ searchView.onQuerySubmit { query -> update(query) } SeekBar extension /* instead of: seekBar.setOnSeekBarChangeListener(object : SeekBar.OnSeekBarChangeListener {     override fun onStopTrackingTouch(seekBar: SeekBar) {      }      override fun onStartTrackingTouch(seekBar: SeekBar?) {      }      override fun onProgressChanged(seekBar: SeekBar, progress: Int, fromUser: Boolean) {         mediaPlayer.seekTo(progress)     }  }) */ seekBar.onProgressChanged { progress, fromUser ->      if (fromUser) mediaPlayer.seekTo(progress)  } Using system services // instead of getSystemService(Context.WINDOW_SERVICE) as WindowManager windowManager // instead of getSystemService(Context.POWER_SERVICE) as PowerManager powerManager // instead of getSystemService(Context.NOTIFICATION_SERVICE) as NotificationManager notificationManager // instead of getSystemService(Context.USER_SERVICE) as UserManager userManager // etc. Toast messages longToast(""I'm long toast message!"") toast(""Hi, I'm short one!"") Layout inflater // instead of LayoutInflater.from(context).inflate(R.layout.some_layout, null, false) context.inflateLayout(R.layout.some_layout) // or context.inflateLayout(R.layout.some_layout, attachToRoot = true) Using Intents // instead of Intent(this, javaClass<SampleActivity>()) val intent = IntentFor<SampleActivity>(this) // instead of startActivity(Intent(this, javaClass<SampleActivity>())) startActivity<SampleActivity>() // instead of startActivityForResult(Intent(this, javaClass<SampleActivity>()), REQUEST_CODE) startActivityForResult<SampleActivity>(REQUEST_CODE) Logging // using javaClass.simpleName as a TAG w(""Warn log message"") e(""Error log message"") wtf(""WTF log message"") // using lambda log method v { ""Verbose log message"" } d { ""Debug log message"" } i { ""Info log message"" } // or with custom TAG v(""CustomTag"", ""Verbose log message with custom tag"") Threading // instead of Thread(Runnable { /* long execution */ }).start() runAsync {     // long execution }  // delayed run (e.g. after 1000 millis) // equals Handler().postDelayed(Runnable { /* delayed execution */ }, delayMillis) runDelayed(1000) {     // delayed execution }  // run on Main Thread outside Activity // equals Handler(Looper.getMainLooper()).post(Runnable { /* UI update */ }) runOnUiThread {     // UI update }  // delayed run on Main Thread // equals Handler(Looper.getMainLooper()).postDelayed(Runnable { /* delayed UI update */ }, delayMillis) runDelayedOnUiThread(5000) {     // delayed UI update } From/To API SDK // instead of if (Build.VERSION.SDK_INT >= 21) { /* run methods available since API 21 */ } fromApi(21) {     // run methods available since API 21 }  // instead of if (Build.VERSION.SDK_INT < 16) { /* handle devices using older APIs */ } toApi(16) {     // handle devices running older APIs } // or // instead of if (Build.VERSION.SDK_INT <= 16) { /* handle devices using older APIs */ } toApi(16, inclusive = true) {     // handle devices running older APIs } Loading animation from xml // instead of AnimationUtils.loadAnimation(applicationContext, R.anim.slide_in_left) loadAnimation(R.anim.slide_in_left) Web intents with url validation // instead of Intent(Intent.ACTION_VIEW, Uri.parse(""http://github.com"")) WebIntent(""http://github.com"") More Under development so expect soon. Apps using KAndroid (contact me or create new pull request to add your apps) Recorder License Copyright 2015-2016 Paweł Gajda  Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at     http://www.apache.org/licenses/LICENSE-2.0  Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.  Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/pawegio/KAndroid"	""	"true"
"Libraries"	"chibatching/Kotpref"	"https://github.com/chibatching/Kotpref"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"75"	"4"	"4"	"GitHub - chibatching/Kotpref: Kotpref - Android SharedPreferences delegation library for Kotlin Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 4 Star 75 Fork 4 chibatching/Kotpref Code Issues 0 Pull requests 0 Pulse Graphs Kotpref - Android SharedPreferences delegation library for Kotlin 152 commits 1 branch 19 releases 2 contributors Kotlin 100.0% Kotlin Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags master Nothing to show v1.3.1 v1.3.0 v1.2.0 v1.1.0 v1.0.1 v1.0.0 v0.10.0 v0.9.0 v0.8.0 v0.7.0 v0.6.0 v0.5.0 v0.4.1 v0.4.0 v0.3.1 v0.3.0 v0.2.0 v0.1.0 v0.0.1 Nothing to show New pull request Latest commit 607d657 Jun 23, 2016 chibatching committed on GitHub Update README.md Permalink Failed to load latest commit information. .idea Add consumer proguard config Dec 8, 2015 gradle/wrapper Bump up android gradle plugin version. Feb 5, 2016 kotpref Bump patch version number Jun 12, 2016 sample Enable proguard on debug build type setting Jun 12, 2016 .gitignore Exclude *.iml from git management Apr 23, 2016 LICENSE Update LICENSE Apr 24, 2016 README.md Update README.md Jun 23, 2016 build.gradle Update build tools May 17, 2016 gradle.properties Initial commit Aug 3, 2015 gradlew Initial commit Aug 2, 2015 gradlew.bat Initial commit Aug 2, 2015 settings.gradle Rename directory Aug 3, 2015 wercker.yml Enable gradle cache on wercker Jun 12, 2016 README.md Kotpref Android SharedPreference delegation for Kotlin. Install compile 'com.chibatching:kotpref:1.3.1' How to use Declare preference model object UserInfo : KotprefModel() {     var name: String by stringPrefVar()     var code: String? by stringNullablePrefVar()     var age: Int by intPrefVar(default = 14)     var highScore: Long by longPrefVar()     var rate: Float by floatPrefVar()     val prizes: MutableSet<String> by stringSetPrefVal {         val set = TreeSet<String>()         set.add(""Beginner"")         return@stringSetPrefVal set     } } Set up Kotpref.init(context) Read and Write UserInfo.name = ""chibatching"" UserInfo.code = ""DAEF2599-7FC9-49C5-9A11-3C12B14A6898"" UserInfo.age = 30 UserInfo.highScore = 49219902 UserInfo.rate = 49.21F UserInfo.prizes.add(""Bronze"") UserInfo.prizes.add(""Silver"") UserInfo.prizes.add(""Gold"")  Log.d(TAG, ""User name: ${UserInfo.name}"") Log.d(TAG, ""User code: ${UserInfo.code}"") Log.d(TAG, ""User age: ${UserInfo.age}"") Log.d(TAG, ""User high score: ${UserInfo.highScore}"") Log.d(TAG, ""User rate: ${UserInfo.rate}"") UserInfo.prizes.forEachIndexed { i, s -> Log.d(TAG, ""prize[$i]: ${s}"") } Bulk edit UserInfo.bulk {     name = ""chibatching Jr""     code = ""451B65F6-EF95-4C2C-AE76-D34535F51B3B""     age = 2     highScore = 3901     rate = 0.4F     prizes.clear()     prizes.add(""New Born"") } Result shared preference xml XML file name equals model class name. If model class named UserInfo, XML file name is UserInfo.xml. <?xml version='1.0' encoding='utf-8' standalone='yes' ?> <map>     <long name=""highScore"" value=""49219902"" />     <set name=""prizes"">         <string>Beginner</string>         <string>Bronze</string>         <string>Gold</string>         <string>Silver</string>     </set>     <string name=""name"">chibatching</string>     <string name=""code"">DAEF2599-7FC9-49C5-9A11-3C12B14A6898</string>     <int name=""age"" value=""30"" />     <float name=""rate"" value=""49.21"" /> </map> Options Change default value var age: Int by intPrefVar(18) or var age: Int by intPrefVar(default = 18) Change preference key You can custom preference key or use from string resources. var useFunc1: Boolean by booleanPrefVar(key = ""use_func1"") var mode: Int by intPrefVar(default = 1, key = R.string.pref_mode) Change XML file name Override kotprefName property. object UserInfo : KotprefModel() {     override val kotprefName: String = ""user_info"" Change SharedPreference mode Override kotprefMode property. Default is Context.MODE_PRIVATE. object UserInfo : KotprefModel() {     override val kotprefMode: Int = Context.MODE_MULTI_PROCESS License Copyright 2015 Takao Chiba     Licensed under the Apache License, Version 2.0 (the ""License"");    you may not use this file except in compliance with the License.    You may obtain a copy of the License at         http://www.apache.org/licenses/LICENSE-2.0     Unless required by applicable law or agreed to in writing, software    distributed under the License is distributed on an ""AS IS"" BASIS,    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.    See the License for the specific language governing permissions and    limitations under the License.  Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/chibatching/Kotpref"	""	"true"
"Libraries"	"TouK/bubble"	"https://github.com/TouK/bubble"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"42"	"19"	"4"	"GitHub - TouK/bubble: Screen orientation detector for android Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 19 Star 42 Fork 4 TouK/bubble Code Issues 0 Pull requests 0 Pulse Graphs Screen orientation detector for android 76 commits 6 branches 2 releases Fetching contributors Kotlin 100.0% Kotlin Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags feature/listener_based_api feature/readme feature/sophisticated_orientation_recognition feature/tidy_up_build.gradle master readme Nothing to show release-1.0.0 release-1.0.0-alpha Nothing to show New pull request Fetching latest commit… Cannot retrieve the latest commit at this time. Permalink Failed to load latest commit information. bubble gradle img readme_assets sample .gitignore .travis.yml LICENSE README.md build.gradle gradle.properties gradlew settings.gradle README.md Bubble is an Android library for obtaining screen orientation. By default, Android supports screen orientation changes by providing a callback. Unfortunately this mechanism has a huge drawback. When system handles the screen orientation change it recreates the view from scratch, making it impossible to create smooth transitions. Moreover if you lock the activity's orientation in AndroidManifest, the callback is not invoked any more. Thus if you would like to have a custom view transition on a screen orientation change, you have to detect it by yourself what is pretty complicated. Thanks to Bubble you could achieve result as in a camera application. Widgets can be rotated without recreating the whole activity: Kotlin The Library, sample and unit tests are written fully in Kotlin and Bubble still is fully compatible with typical Java-Andorid projects. Import Import to project: compile 'pl.touk.android:bubble:1.0.0' Usage Bubble provides information about screen orientation each time new orientation is detected. Provided orientation is one of the following: PORTRAIT REVERSE_PORTRAIT LANDSCAPE REVERSE_LANDSCAPE To get information from Bubble you have to register for events, and if you do not want to receive events any more, should unregister to avoid memory leaks. Bubble provides two APIs that can be used. RxJava Please notice sample is written in Kotlin. class BubbleSampleActivity : AppCompatActivity() {     val bubble: Bubble = Bubble()      override fun onCreate(savedInstanceState: Bundle?) {         super.onCreate(savedInstanceState)         setContentView(R.layout.activity_bubble_sample)         textView = findViewById(R.id.label) as TextView         bubble.register(this)             .subscribe { bubbleEvent: BubbleEvent -> rotateTo(bubbleEvent.orientation) }     }     ... } Callback Please notice sample is written in Kotlin. class BubbleSampleActivity : AppCompatActivity() {     val bubble: Bubble = Bubble()      override fun onCreate(savedInstanceState: Bundle?) {         super.onCreate(savedInstanceState)         setContentView(R.layout.activity_bubble_sample)         textView = findViewById(R.id.label) as TextView         bubble.register({ bubbleEvent: BubbleEvent -> rotateTo(bubbleEvent.orientation) }, this)     }     ... } How does it work Bubble uses an accelerometer to obtain Pitch and Roll of a telephone. An accelerometer is very sensitive so values are bunched and then Bubble produce a new event base on the bunch and the last obtained orientation. License Copyright 2015 original author or authors  Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at     http://www.apache.org/licenses/LICENSE-2.0  Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.  Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/TouK/bubble"	""	"true"
"Libraries"	"ragunathjawahar/kaffeine"	"https://github.com/ragunathjawahar/kaffeine"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"88"	"5"	"9"	"GitHub - ragunathjawahar/kaffeine: Kaffeine is a Kotlin-flavored Android library for accelerating development. Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 5 Star 88 Fork 9 ragunathjawahar/kaffeine Code Issues 0 Pull requests 2 Pulse Graphs Kaffeine is a Kotlin-flavored Android library for accelerating development. 91 commits 1 branch 0 releases Fetching contributors Kotlin 99.4% Java 0.6% Kotlin Java Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags master Nothing to show Nothing to show New pull request Latest commit 34fcba8 Apr 3, 2015 ragunathjawahar [ResourceDelegate] Use the lazy delegate from Kotlin's standard library. Permalink Failed to load latest commit information. gradle/wrapper Initial commit. Jan 29, 2015 kaffeine-recyclerview-v7 [Module] Add recyclerview-v7 module. Mar 28, 2015 kaffeine-showcase [ResourceDelegate] Use the lazy delegate from Kotlin's standard library. Apr 3, 2015 kaffeine [ResourceDelegate] Use the lazy delegate from Kotlin's standard library. Apr 3, 2015 .gitignore Initial commit. Jan 29, 2015 .travis.yml [Travis] Grant write permission to Gradle wrapper. Mar 22, 2015 README.md [Readme] Words of caution. Mar 29, 2015 build.gradle [Dependencies] Add Kotlin Android Extensions plugin. Mar 29, 2015 gradle-mvn-push.gradle [Project] Publish to maven central. Mar 24, 2015 gradle.properties [Rename] Rename from Shorthand to Kaffeine. Mar 26, 2015 gradlew Initial commit. Jan 29, 2015 gradlew.bat Initial commit. Jan 29, 2015 settings.gradle [Module] Add recyclerview-v7 module. Mar 28, 2015 README.md Kaffeine Kaffeine is a Kotlin-flavored Android library for accelerating development. Several Words of Caution Besides the obvious productivity advantages, if you are using this project - be prepared to shoot yourself in the foot or to blow your legs off. This is an experimental project that I am working on while I learn Kotlin and functional programming. Some of the lucrative approaches used in this project may not be best practices and I don't have any guarantees over the API. Don't be surprised if the API changes for every SNAPSHOT. If you are trending along a safe path, this project is definitely not for you. I may highlight caveats in some of the approaches if I am smart enough to figure them out. But, feel free to throw some light if you spot some dumbness (or a lot) along the lane. Activities & Services Example: Start an Activity Java Intent intent = new Intent(this, SuperPowersActivity.class); intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK); intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP); startActivity(intent); Kotlin val flags = flags(Intent.FLAG_ACTIVITY_NEW_TASK, Intent.FLAG_ACTIVITY_CLEAR_TOP) startActivity<SuperPowersActivity>(flags) Layout Inflation Java LayoutInflater layoutInflater = LayoutInflater.from(this); View awesomeView = layoutInflater.inflate(R.layout.my_awesome_layout, null); Kotlin val awesomeView = inflateLayout(R.layout.my_awesome_layout) Logs Example: Logging Java String tag = this.getClass().getName(); Log.i(tag, ""Howdy! Info""); Log.d(tag, ""Knock knock! Debug""); Log.e(tag, ""Grim, Error""); Log.wtf(tag, ""Damn! WTF""); // Nope, not what you think. Refer the docs :P Kotlin i(""Howdy! Info"") d(""Knock knock! Debug"") e(""Grim, Error"") wtf(""Damn! WTF"") Preferences Example: Single Preference Java SharedPreferences preferences = PreferenceManager.getDefaultSharedPreferences(this); Editor editor = preferences.edit(); editor.putBoolean(""KEY_WALKTHROUGH_COMPLETE"", complete); if (Build.VERSION.SDK_INT < Build.VERSION_CODES.GINGERBREAD) {   editor.commit(); } else {   editor.apply(); } Kotlin getDefaultSharedPreferences().putBoolean(""KEY_WALKTHROUGH_COMPLETE"", complete) Example: Bulk Preferences Kotlin getDefaultSharedPreferences()   .bulk()   .putBoolean(""KEY_WALKTHROUGH_COMPLETE"", complete)   .putString(""KEY_LAST_USED"", lastUsedIso8601Date)   .applyBulk() Toasts Example: Short Message Java Toast.makeText(this, R.string.welcome, Toast.LENGTH_SHORT).show(); Kotlin showShortToast(R.string.welcome) Example: Custom Toast Java Toast toast = new Toast(this); toast.setView(view); toast.setDuration(Toast.LENGTH_LONG); toast.show(); Kotlin showShortToast(view) System Services Java AlarmManager alarmManager = (AlarmManager) context.getSystemService(Context.ALARM_SERVICE); NotificationManager notificationManager = (NotificationManager) context.getSystemService(Context.NOTIFICATION_SERVICE); Kotlin val alarmManager = context.alarmManager() val notificationManager = context.notificationManager() Resources Example: Typeface from Assets Java AssetManager assetManager = getAssets(); Typeface sourceSansPro = Typeface.createFromAsset(assetManager, ""fonts/source-sans-pro.ttf""); Kotlin val sourceSansPro = typefaceFromAssets(""fonts/source-sans-pro.ttf"") More... More extensions under development. Maven <dependency>     <groupId>com.mobsandgeeks</groupId>     <artifactId>kaffeine</artifactId>     <version>0.1-SNAPSHOT</version> </dependency>  Gradle dependencies {     compile 'com.mobsandgeeks:kaffeine:0.1-SNAPSHOT' }  Snapshots In your {project_base}/build.gradle file, include the following. allprojects {     repositories {         mavenCentral()         maven {             url ""https://oss.sonatype.org/content/repositories/snapshots/""         }     } }  License Copyright 2015 Mobs & Geeks  Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at     http://www.apache.org/licenses/LICENSE-2.0  Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.  Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/ragunathjawahar/kaffeine"	""	"true"
"Libraries"	"mcxiaoke/kotlin-koi"	"https://github.com/mcxiaoke/kotlin-koi"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"95"	"8"	"9"	"GitHub - mcxiaoke/kotlin-koi: Koi, a lightweight kotlin library for Android Development. Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 8 Star 95 Fork 9 mcxiaoke/kotlin-koi Code Issues 0 Pull requests 0 Pulse Graphs Koi, a lightweight kotlin library for Android Development. https://github.com/mcxiaoke/kotlin-koi 53 commits 1 branch 8 releases 1 contributor Kotlin 99.4% Shell 0.6% Kotlin Shell Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags master Nothing to show v0.5.3 v0.5.1 v0.5.0 v0.4.0 v0.3.0 v0.2.0 v0.1.2 v0.1.0 Nothing to show New pull request Latest commit e31e9f0 May 17, 2016 mcxiaoke using kotlin 1.0.2, release 0.5.3 Permalink Failed to load latest commit information. async update gradle-mvn-push url May 3, 2016 core update gradle-mvn-push url May 3, 2016 docs add empty network module, ui module, todo Jan 31, 2016 gradle/wrapper update gradle plugin May 3, 2016 network update gradle-mvn-push url May 3, 2016 samples update doc for async safe function May 3, 2016 ui update gradle-mvn-push url May 3, 2016 .gitignore init koi kotin for android project Jan 27, 2016 LICENSE Initial commit Jan 26, 2016 README.md using kotlin 1.0.2, release 0.5.3 May 17, 2016 base.gradle fix sample, fix kotlin compile Feb 16, 2016 build.gradle using kotlin 1.0.2, release 0.5.3 May 17, 2016 deploy-local.sh init koi kotin for android project Jan 27, 2016 deploy-remote.sh init koi kotin for android project Jan 27, 2016 gradle.properties using kotlin 1.0.2, release 0.5.3 May 17, 2016 gradlew init koi kotin for android project Jan 27, 2016 gradlew.bat init koi kotin for android project Jan 27, 2016 settings.gradle move async to standalone module, reduce core lib size Feb 1, 2016 README.md Koi - A lightweight Kotlin library for Android Koi include many useful extensions and functions, they can help reducing the boilerplate code in Android applications. Specifically, Koi include a powerful extension function named asyncSafe. Gradle Latest Version: Compiled with Kotlin 1.0.2. compile 'com.mcxiaoke.koi:core:0.5.3' // useful extensions (only ~100k) compile 'com.mcxiaoke.koi:async:0.5.3' // async functions (only ~70k) Usage Context Extensions Activity Functions Fragment Functions Easy to use Toast Easy to Inflate Layout Useful Functions Easy to create Intent Easy to Start Activity Easy to Start Service Network State Notification Builder Package Functions System Service Easy to Log View Extensions View Listeners 1 View Listeners 2 ListView Listeners View Utils Adapter Extensions Easy to Create Adapter Bundle Extensions Bundle Builder Parcelable Extensions Easy to create Parcelable Collection Extensions Collection to String Map to String List Append Database Extensions Easy to get Cursor Value Easy to convert Cursor to Model Easy to use Transaction IO Extensions Easy to close Stream Stream doSafe Function readString/readList readString/readList using doSafe writeString/writeList using doSafe File Read and Write Handler Extensions Easy to use Handler Other Extensions Date Functions Number Functions String Functions Crypto Functions Check API Level Device Functions Preconditions Thread Functions Create Thread Pool Main Thread Functions Context Check Safe Functions Async Functions With Context Check 1 With Context Check 2 Without Context Check With Delay Custom Executor Context Extensions Activity Functions // available for Activity fun activityExtensions() {     val act = getActivity() // Activity     act.restart() // restart Activity     val app = act.getApp() // Application     val app2 = act.application  // Application     // Activity.find()     // Fragment.find()     // View.find()     val textView = act.find<TextView>(android.R.id.text1) } Fragment Functions // available for Fragment fun fragmentExtensions() {     val act = activity // Activity     val app = getApp() // Application     val textView = find<TextView>(android.R.id.text1) // view.findViewById     val imageView = find<TextView>(android.R.id.icon1) // view.findViewById     } Easy to use Toast // available for Context fun toastExtensions() {     // available in Activity/Fragment/Service/Context     toast(R.string.app_name)     toast(""this is a toast"")     longToast(R.string.app_name)     longToast(""this is a long toast"") } Easy to Inflate Layout     // available for Context     fun inflateLayout() {         val view1 = inflate(R.layout.activity_main)         val viewGroup = view1 as ViewGroup         val view2 = inflate(android.R.layout.activity_list_item, viewGroup, false)     } Useful Functions // available for Context fun miscExtensions() {     val hasCamera = hasCamera()      mediaScan(Uri.parse(""file:///sdcard/Pictures/koi/cat.png""))     addToMediaStore(File(""/sdcard/Pictures/koi/cat.png""))      val batteryStatusIntent = getBatteryStatus()     val colorValue = getResourceValue(android.R.color.darker_gray) } Easy to create Intent // available for Context fun intentExtensions() {     val extras = Bundle { putString(""key"", ""value"") }     val intent1 = newIntent<MainActivity>()     val intent2 = newIntent<MainActivity>(Intent.FLAG_ACTIVITY_NEW_TASK, extras) } Easy to Start Activity // available for Activity fun startActivityExtensions() {     startActivity<MainActivity>()     // equal to     startActivity(Intent(this, MainActivity::class.java))      startActivity<MainActivity>(Intent.FLAG_ACTIVITY_SINGLE_TOP, Bundle())     startActivity<MainActivity>(Bundle())      startActivityForResult<MainActivity>(100)     startActivityForResult<MainActivity>(Bundle(), 100)     startActivityForResult<MainActivity>(200, Intent.FLAG_ACTIVITY_CLEAR_TOP) } Easy to Start Service // available for Context fun startServiceExtensions() {     startService<BackgroundService>()     startService<BackgroundService>(Bundle()) } Network State // available for Context fun networkExtensions() {     val name = networkTypeName()     val operator = networkOperator()     val type = networkType()     val wifi = isWifi()     val mobile = isMobile()     val connected = isConnected() } Notification Builder // available for Context fun notificationExtensions() {     // easy way using Notification.Builder     val notification = newNotification() {         this.setColor(0x0099cc)                 .setAutoCancel(true)                 .setContentTitle(""Notification Title"")                 .setContentText(""Notification Message Text"")                 .setDefaults(0)                 .setGroup(""koi"")                 .setVibrate(longArrayOf(1, 0, 0, 1))                 .setSubText(""this is a sub title"")                 .setSmallIcon(android.R.drawable.ic_dialog_info)                 .setLargeIcon(null)     } } Package Functions // available for Context fun packageExtensions() {     val isYoutubeInstalled = isAppInstalled(""com.google.android.youtube"")     val isMainProcess = isMainProcess()     val disabled = isComponentDisabled(MainActivity::class.java)     enableComponent(MainActivity::class.java)      val sig = getPackageSignature()     val sigString = getSignature()     println(dumpSignature()) } System Service // available for Context // easy way to get system service, no cast fun systemServices() {     val wm = getWindowService()     val tm = getTelephonyManager()     val nm = getNotificationManager()     val cm = getConnectivityManager()     val am = getAccountManager()     val acm = getActivityManager()     val alm = getAlarmManager()     val imm = getInputMethodManager()     val inflater = getLayoutService()     val lm = getLocationManager()     val wifi = getWifiManager() } Easy to Log // available for Context fun logExtensions() {     KoiConfig.logEnabled = true //default is false     // true == Log.VERBOSE     // false == Log.ASSERT     // optional     KoiConfig.logLevel = Log.VERBOSE // default is Log.ASSERT     //      logv(""log functions available in Context"")  //Log.v     logd(""log functions available in Context"")  //Log.d     loge(""log functions available in Context"")   //Log.e      // support lazy evaluated message     logv { ""lazy eval message lambda"" }  //Log.v     logw { ""lazy eval message lambda"" }  //Log.w } View Extensions View Listeners 1 fun viewListeners1() {     val view = View(this)     // View.OnClickListener     view.onClick { print(""view clicked"") }     // View.OnLongClickListener     view.onLongClick { print(""view long clicked"");false }     // View.OnKeyListener     view.onKeyEvent { view, keyCode, event ->         print(""keyEvent: action:${event.action} code:$keyCode"")         false     }     // View.OnTouchListener     view.onTouchEvent { view, event ->         when (event.actionMasked) {             MotionEvent.ACTION_DOWN -> print(""touch down"")             MotionEvent.ACTION_UP -> print(""touch up"")             MotionEvent.ACTION_MOVE -> print(""touch move"")         }         false     }     // View.OnFocusChangeListener     view.onFocusChange { view, hasFocus ->         print(""focus changed = $hasFocus"")     } } View Listeners 2 fun viewListeners2() {     // TextWatcher     val editText = EditText(this)     editText.onTextChange { text, start, before, count ->         print(""text changed: $text"")     }      // OnCheckedChangeListener     val checkBox = CheckBox(this)     checkBox.onCheckedChanged { button, isChecked ->         print(""CheckBox value changed:$isChecked"")     }      // OnSeekBarChangeListener     val seekBar = SeekBar(this)     seekBar.onProgressChanged { seekBar, progress, fromUser ->         print(""seekBar progress: $progress"")     } } ListView Listeners fun listViewListeners() {     val listView = ListView(this)     // OnItemClickListener     listView.onItemClick { parent, view, position, id ->         print(""onItemClick: position=$position"")     }     // OnScrollListener     listView.onScrollChanged { view, scrollState ->         print(""scroll state changed"")     } } View Utils // available for View fun viewSample() {     val w = dm.widthPixels     val h = dm.heightPixels     val v1 = 32.5f     val dp1 = v1.pxToDp()     val v2 = 24f     val px1 = v2.dpToPx()     val dp2 = pxToDp(56)     val px2 = dpToPx(32)     val dp3 = 72.pxToDp()     val px3 = 48.dpToPx()      hideSoftKeyboard()     val editText = EditText(context)     editText.showSoftKeyboard()     editText.toggleSoftKeyboard() } Adapter Extensions Easy to Create Adapter // easy way to create array adapter fun adapterFunctions() {     listView.adapter = quickAdapterOf(             android.R.layout.simple_list_item_2,             (1..100).map { ""List Item No.$it"" })     { binder, data ->         binder.setText(android.R.id.text1, data)         binder.setText(android.R.id.text2, ""Index: ${binder.position}"")     }      val adapter2 = quickAdapterOf<String>(android.R.layout.simple_list_item_1) {         binder, data ->         binder.setText(android.R.id.text1, data)     }     adapter2.addAll(listOf(""Cat"", ""Dog"", ""Rabbit""))      val adapter3 = quickAdapterOf<Int>(android.R.layout.simple_list_item_1,             arrayOf(1, 2, 3, 4, 5, 6)) {         binder, data ->         binder.setText(android.R.id.text1, ""Item Number: $data"")     }      val adapter4 = quickAdapterOf<Int>(android.R.layout.simple_list_item_1,             setOf(22, 33, 4, 5, 6, 8, 8, 8)) {         binder, data ->         binder.setText(android.R.id.text1, ""Item Number: $data"")     } } Bundle Extensions Bundle Builder // available in any where fun bundleExtension() {     // easy way to create bundle     val bundle = Bundle {         putString(""key"", ""value"")         putInt(""int"", 12345)         putBoolean(""boolean"", false)         putIntArray(""intArray"", intArrayOf(1, 2, 3, 4, 5))         putStringArrayList(""strings"", arrayListOf(""Hello"", ""World"", ""Cat""))     }      // equal to using with     val bundle2 = Bundle()     with(bundle2) {         putString(""key"", ""value"")         putInt(""int"", 12345)         putBoolean(""boolean"", false)         putIntArray(""intArray"", intArrayOf(1, 2, 3, 4, 5))         putStringArrayList(""strings"", arrayListOf(""Hello"", ""World"", ""Cat""))     } } Parcelable Extensions Easy to create Parcelable // easy way to create Android Parcelable class data class Person(val name: String, val age: Int) : Parcelable {     override fun writeToParcel(dest: Parcel, flags: Int) {         dest.writeString(name)         dest.writeInt(age)     }      override fun describeContents(): Int = 0     protected constructor(p: Parcel) : this(name = p.readString(), age = p.readInt()) {}     companion object {         // using createParcel         @JvmField val CREATOR = createParcel { Person(it) }     } } Collection Extensions Collection to String fun collectionToString() {     val pets = listOf<String>(""Cat"", ""Dog"", ""Rabbit"", ""Fish"")     // list to string, delimiter is space     val string1 = pets.asString(delim = "" "") // ""Cat Dog Rabbit Fish""     // default delimiter is comma     val string2 = pets.asString() // ""Cat,Dog,Rabbit,Fish""     val numbers = arrayOf(2016, 2, 2, 20, 57, 40)     // array to string, default delimiter is comma     val string3 = numbers.asString() // ""2016,2,2,20,57,40""     // array to string, delimiter is -     val string4 = numbers.asString(delim = ""-"") // 2016-2-2-20-57-40     // using Kotlin stdlib     val s1 = pets.joinToString()     val s2 = numbers.joinToString(separator = ""-"", prefix = ""<"", postfix = "">"") } Map to String fun mapToString() {     val map = mapOf<String, Int>(             ""John"" to 30,             ""Smith"" to 50,             ""Alice"" to 22     )     // default delimiter is ,     val string1 = map.asString() // ""John=30,Smith=50,Alice=22""     // using delimiter /     val string2 = map.asString(delim = ""/"") // ""John=30/Smith=50/Alice=22""     // using stdlib     map.asSequence().joinToString { ""${it.key}=${it.value}"" } } List Append fun appendAndPrepend() {     val numbers = (1..6).toArrayList()     println(numbers.joinToString()) // ""1, 2, 3, 4, 5, 6, 7""     numbers.head() // .dropLast(1)     numbers.tail() //.drop(1)     val numbers2 = 100.appendTo(numbers) //     val numbers3 = 2016.prependTo(numbers) } Database Extensions Easy to get Cursor Value // available for Cursor fun cursorValueExtensions() {     val cursor = this.writableDatabase.query(""table"", null, null, null, null, null, null)     cursor.moveToFirst()     do {         val intVal = cursor.intValue(""column-a"")         val stringVal = cursor.stringValue(""column-b"")         val longVal = cursor.longValue(""column-c"")         val booleanValue = cursor.booleanValue(""column-d"")         val doubleValue = cursor.doubleValue(""column-e"")         val floatValue = cursor.floatValue(""column-f"")          // no need to do like this, so verbose         cursor.getInt(cursor.getColumnIndexOrThrow(""column-a""))         cursor.getString(cursor.getColumnIndexOrThrow(""column-b""))     } while (cursor.moveToNext()) } Easy to convert Cursor to Model // available for Cursor // transform cursor to model object fun cursorToModels() {     val where = "" age>? ""     val whereArgs = arrayOf(""20"")     val cursor = this.readableDatabase.query(""users"", null, where, whereArgs, null, null, null)     val users1 = cursor.map {         UserInfo(                 stringValue(""name""),                 intValue(""age""),                 stringValue(""bio""),                 booleanValue(""pet_flag""))     }      // or using mapAndClose     val users2 = cursor.mapAndClose {         UserInfo(                 stringValue(""name""),                 intValue(""age""),                 stringValue(""bio""),                 booleanValue(""pet_flag""))     }      // or using Cursor?mapTo(collection, transform()) } Easy to use Transaction // available for SQLiteDatabase and SQLiteOpenHelper // auto apply transaction to db operations fun inTransaction() {     val db = this.writableDatabase     val values = ContentValues()      // or db.transaction     transaction {         db.execSQL(""insert into users (?,?,?) (1,2,3)"")         db.insert(""users"", null, values)     }     // equal to     db.beginTransaction()     try {         db.execSQL(""insert into users (?,?,?) (1,2,3)"")         db.insert(""users"", null, values)         db.setTransactionSuccessful()     } finally {         db.endTransaction()     } } IO Extensions Easy to close Stream // available for Closeable fun closeableSample() {     val input = FileInputStream(File(""readme.txt""))     try {         val string = input.readString(""UTF-8"")     } catch(e: IOException) {         e.printStackTrace()     } finally {         input.closeQuietly()     } } Stream doSafe Function // simple way, equal to closeableSample // InputStream.doSafe{} fun doSafeSample() {     val input = FileInputStream(File(""readme.txt""))     input.doSafe {         val string = readString(""UTF-8"")     } } readString/readList // available for InputStream/Reader fun readStringAndList1() {     val input = FileInputStream(File(""readme.txt""))     try {         val reader = input.reader(Encoding.CHARSET_UTF_8)          val string1 = input.readString(Encoding.UTF_8)         val string2 = input.readString(Encoding.CHARSET_UTF_8)          val list1 = input.readList()         val list2 = input.readList(Encoding.CHARSET_UTF_8)      } catch(e: IOException) {      } finally {         input.closeQuietly()     } } readString/readList using doSafe // available for InputStream/Reader //equal to readStringAndList1 fun readStringAndList2() {     val input = FileInputStream(File(""readme.txt""))     input.doSafe {         val reader = reader(Encoding.CHARSET_UTF_8)          val string1 = readString(Encoding.UTF_8)         val string2 = readString(Encoding.CHARSET_UTF_8)          val list1 = readList()         val list2 = readList(Encoding.CHARSET_UTF_8)     } } writeString/writeList using doSafe fun writeStringAndList() {     val output = FileOutputStream(""output.txt"")     output.doSafe {         output.writeString(""hello, world"")         output.writeString(""Alic's Adventures in Wonderland"", charset = Encoding.CHARSET_UTF_8)          val list1 = listOf<Int>(1, 2, 3, 4, 5)         val list2 = (1..8).map { ""Item No.$it"" }         output.writeList(list1, charset = Encoding.CHARSET_UTF_8)         output.writeList(list2)     } } File Read and Write fun fileReadWrite() {     val directory = File(""/Users/koi/workspace"")     val file = File(""some.txt"")      val text1 = file.readText()     val text2 = file.readString(Encoding.CHARSET_UTF_8)     val list1 = file.readList()     val list2 = file.readLines(Encoding.CHARSET_UTF_8)      file.writeText(""hello, world"")     file.writeList(list1)     file.writeList(list2, Encoding.CHARSET_UTF_8)      val v1 = file.relativeToOrNull(directory)     val v2 = file.toRelativeString(directory)      // clean files in directory     directory.clean()       val file1 = File(""a.txt"")     val file2 = File(""b.txt"")     file1.copyTo(file2, overwrite = false) } Handler Extensions Easy to use Handler // available for Handler // short name for functions fun handlerFunctions() {     val handler = Handler()     handler.atNow { print(""perform action now"") }     // equal to     handler.post { print(""perform action now"") }      handler.atFront { print(""perform action at first"") }     // equal to     handler.postAtFrontOfQueue { print(""perform action at first"") }      handler.atTime(timestamp() + 5000, { print(""perform action after 5s"") })     // equal to     handler.postAtTime({ print(""perform action after 5s"") }, 5000)      handler.delayed(3000, { print(""perform action after 5s"") })     // equal to     handler.postDelayed({ print(""perform action after 5s"") }, 3000) } Other Extensions Date Functions // available in any where fun dateSample() {     val nowString = dateNow()     val date = dateParse(""2016-02-02 20:30:45"")     val dateStr1 = date.asString()     val dateStr2 = date.asString(SimpleDateFormat(""yyyyMMdd.HHmmss""))     val dateStr3 = date.asString(""yyyy-MM-dd-HH-mm-ss"")      // easy way to get timestamp     val timestamp1 = timestamp()     // equal to     val timestamp2 = System.currentTimeMillis()     val dateStr4 = timestamp1.asDateString() } Number Functions fun numberExtensions() {     val number = 179325344324902187L     println(number.readableByteCount())      val bytes = byteArrayOf(1, 7, 0, 8, 9, 4, 125)     println(bytes.hexString()) } String Functions // available for String fun stringExtensions() {     val string = ""hello, little cat!""     val quotedString = string.quote()     val isBlank = string.isBlank()     val hexBytes = string.toHexBytes()     val s1 = string.trimAllWhitespace()     val c = string.containsWhitespace()      val url = ""https://github.com/mcxiaoke/kotlin-koi?year=2016&encoding=utf8&a=b#changelog""     val urlNoQuery = url.withoutQuery()      val isNameSafe = url.isNameSafe()     val fileName = url.toSafeFileName()     val queries = url.toQueries()      val path = ""/Users/koi/workspace/String.kt""     val baseName = path.fileNameWithoutExtension()     val extension = path.fileExtension()     val name = path.fileName() } Crypto Functions // available in any where fun cryptoFunctions() {     val md5 = HASH.md5(""hello, world"")     val sha1 = HASH.sha1(""hello, world"")     val sha256 = HASH.sha256(""hello, world"") } Check API Level // available in any where fun apiLevelFunctions() {     // Build.VERSION.SDK_INT     val v = currentVersion()     val ics = icsOrNewer()     val kk = kitkatOrNewer()     val bkk = beforeKitkat()     val lol = lollipopOrNewer()     val mar = marshmallowOrNewer() } Device Functions // available in any where fun deviceSample() {     val a = isLargeHeap     val b = noSdcard()     val c = noFreeSpace(needSize = 10 * 1024 * 1024L)     val d = freeSpace() } Preconditions // available in any where // null and empty check fun preconditions() {     throwIfEmpty(listOf(), ""collection is null or empty"")     throwIfNull(null, ""object is null"")     throwIfTrue(currentVersion() == 10, ""result is true"")     throwIfFalse(currentVersion() < 4, ""result is false"") } Thread Functions Create Thread Pool // available in any where fun executorFunctions() {     // global main handler     val uiHandler1 = CoreExecutor.mainHandler     // or using this function     val uiHandler2 = koiHandler()      // global executor service     val executor = CoreExecutor.executor     // or using this function     val executor2 = koiExecutor()      // create thread pool functions     val pool1 = newCachedThreadPool(""cached"")     val pool2 = newFixedThreadPool(""fixed"", 4)     val pool3 = newSingleThreadExecutor(""single"") } Main Thread Functions // available in any where fun mainThreadFunctions() {     //check current thread     // call from any where     val isMain = isMainThread()      // execute in main thread     mainThread {         print(""${(1..8).asSequence().joinToString()}"")     }      // delay execute in main thread     mainThreadDelay(3000) {         print(""execute after 3000 ms"")     } } Context Check     // isContextAlive function impl     fun <T> isContextAlive(context: T?): Boolean {         return when (context) {             null -> false             is Activity -> !context.isFinishing             is Fragment -> context.isAdded             is android.support.v4.app.Fragment -> context.isAdded             is Detachable -> !context.isDetached()             else -> true         }     } Safe Functions // available in any where fun safeFunctions() {     val context = this     // check Activity/Fragment lifecycle     val alive = isContextAlive(context)      fun func1() {         print(""func1"")     }     // convert to safe function with context check     // internal using  isContextAlive     val safeFun1 = safeFunction(::func1)      // call function with context check     // internal using isContextAlive     safeExecute(::func1)      // direct use     safeExecute { print(""func1"") } } Async Functions class AsyncFunctionsSample {     private val intVal = 1000     private var strVal: String? = null } With Context Check 1 // async functions with context check // internal using isContextAlive // context alive: // !Activity.isFinishing // Fragment.isAdded // !Detachable.isDetached // // available in any where // using in Activity/Fragment better fun asyncSafeFunction1() {     // safe means context alive check     // async     asyncSafe {         print(""action executed only if context alive "")         // if you want get caller context         // maybe null         val ctx = getCtx()         // you can also using outside variables         // not recommended         // if context is Activity or Fragment         // may cause memory leak         print(""outside value, $intVal $strVal"")          // you can using mainThreadSafe here         // like a callback         mainThreadSafe {             // also with context alive check             // if context dead, not executed             print(""code here executed in main thread"")         }         // if you don't want context check, using mainThread{}         mainThread {             // no context check             print(""code here executed in main thread"")         }     }     // if your result or error is nullable     // using asyncSafe2, just as asyncSafe     // but type of result and error is T?, Throwable? } With Context Check 2 fun asyncSafeFunction2() {      // async with callback     asyncSafe(             {                 print(""action executed in async thread"")                 listOf<Int>(1, 2, 3, 4, 5)             },             { result, error ->                 // in main thread                 print(""callback executed in main thread"")             }) } fun asyncSafeFunction3() {     // async with success/failure callback     asyncSafe(             {                 print(""action executed in async thread"")                 ""this string is result of the action""                 // throw RuntimeException(""action error"")             },             { result ->                 // if action success with no exception                 print(""success callback in main thread result:$result"")             },             { error ->                 // if action failed with exception                 print(""failure callback in main thread, error:$error"")             }) } Without Context Check // if you don't want context check // using asyncUnsafe series functions // just replace asyncSafe with asyncUnsafe fun asyncUnsafeFunctions() {     // async     asyncUnsafe {         print(""action executed with no context check "")         // may cause memory leak         print(""outside value, $intVal $strVal"")          mainThread {             // no context check             print(""code here executed in main thread"")         }     } } Custom Executor     val executor = Executors.newFixedThreadPool(4)     asyncSafe(executor) {         print(""action executed in async thread"")         mainThreadSafe {             print(""code here executed in main thread"")         }     } With Delay // async functions with delay // with context check // if context died, not executed // others just like asyncSafe fun asyncDelayFunctions() {     // usage see asyncSafe     asyncDelay(5000) {         print(""action executed after 5000ms only if context alive "")          // you can using mainThreadSafe here         // like a callback         mainThreadSafe {             // also with context alive check             // if context dead, not executed             print(""code here executed in main thread"")         }         // if you don't want context check, using mainThread{}         mainThread {             // no context check             print(""code here executed in main thread"")         }     } } About Me Contacts Blog: http://blog.mcxiaoke.com Github: https://github.com/mcxiaoke Email: github@mcxiaoke.com Projects awesome-kotlin: https://github.com/mcxiaoke/awesome-kotlin Android-Next: https://github.com/mcxiaoke/Android-Next PackerNg: https://github.com/mcxiaoke/packer-ng-plugin gradle-packer-plugin: https://github.com/mcxiaoke/gradle-packer-plugin xBus: https://github.com/mcxiaoke/xBus ReacitveX Docs: https://github.com/mcxiaoke/RxDocs MQTT Translation: https://github.com/mcxiaoke/mqtt Fanfou App: https://github.com/mcxiaoke/minicat Fanfou Opensource: https://github.com/mcxiaoke/fanfouapp-opensource Volley Mirror: https://github.com/mcxiaoke/android-volley License Copyright 2015, 2016 Xiaoke Zhang  Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at     http://www.apache.org/licenses/LICENSE-2.0  Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.  Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/mcxiaoke/kotlin-koi"	""	"true"
"Libraries"	"BennyWang/KBinding"	"https://github.com/BennyWang/KBinding"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"263"	"18"	"37"	"GitHub - BennyWang/KBinding: Android MVVM framework write in kotlin, develop Android has never been so fun. Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 18 Star 263 Fork 37 BennyWang/KBinding Code Issues 3 Pull requests 1 Pulse Graphs Android MVVM framework write in kotlin, develop Android has never been so fun. 136 commits 2 branches 6 releases Fetching contributors Kotlin 83.3% Java 16.7% Kotlin Java Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: develop Switch branches/tags Branches Tags develop master Nothing to show 0.2.0 0.1.4 0.1.3 0.1.2 0.1.1 0.1.0 Nothing to show New pull request Latest commit 89b10fc Jul 12, 2016 BennyWang update README.md Permalink Failed to load latest commit information. gradle update gradle version and some warnings Mar 6, 2016 kbinding-adapterview update autoadapter to 0.2.4 Jul 9, 2016 kbinding-annotations refactor code structure Mar 7, 2016 kbinding-common release 0.2.1 Mar 13, 2016 kbinding-compiler refactor and bug fix Mar 11, 2016 kbinding-support-v4 release 0.2.1 Mar 13, 2016 kbinding fix bugs and upgrade kotlin and anko version May 16, 2016 sample update autoadapter to 0.2.4 Jul 8, 2016 .gitignore add files Nov 12, 2015 README.md update README.md Jul 12, 2016 build.gradle update autoadapter to 0.2.4 Jul 8, 2016 gradle.properties update autoadapter to 0.2.4 Jul 8, 2016 gradlew add bintray to gradle Dec 24, 2015 gradlew.bat initial commit Nov 12, 2015 settings.gradle release 0.2.1 Mar 13, 2016 README.md KBinding Android MVVM framework write in kotlin, base on anko, simple but powerful. It depends on my another project AutoAdapter(A library for simplifying adapter creation) Contents BindingMode OneWay: Binding from model to view TwoWay: Binding from model to view and view to model OneWayToSource: Binding from view to model OneTime: Binding from model to view, and auto release after first emit Simple Binding verticalLayout {     editText {         bind { text(""name"", mode = TwoWay) }     }     button {         bind { click(""hello"") }     } } class SimpleViewModel() : ViewModel() {     @delegate:Property     var name: String by Delegates.property(""Jason"")      // all the parameter for Command is optional, first parameter pass by event Observable, second parameter is lambda (Boolean) -> Unit     @Command     val hello(canExecute: (Boolean) -> Unit) {         toast(""Hello, ${name}!"")     } } Multiple Binding //login button enabled only when name and password not empty class ArrayToBooleanConverter : MultipleConverter<Boolean> {     override fun convert(params: Array<Any>): Boolean {         params.forEach {             if(it.toString().isEmpty()) return false         }         return true     } } verticalLayout {     editText {         bind { text(""name"", mode = TwoWay) }     }     editText {             bind { text(""password"", mode = TwoWay) }         }     button {         bind { enabled(""name"", ""password"", mode = OneWay, converter = ArrayToBooleanConverter()) }         bind { click(""login"") }     } } class LoginViewModel() : ViewModel() {     @delegate:Property     var name: String by Delegates.property(""xxx@xxxx.co"")      @delegate:Property     var password: String by Delegates.property(""xxxxxx"")      @Command     val login() {         //login processing     } } DependencyProperty and ExtractProperty // @DependencyProperty will generate binding for nameAndSymbol depends on stock, stock changes then nameAndSymbol changes // @ExtractProperty will generate binding for stock properties, for example code below, Property name and price will generated. If hasPrefix = true, then Property stock.name stock.price will generated. class StockViewModel() : ViewModel() {     @delegate:ExtractProperty(         ""name"", ""price"",         hasPrefix = false     )     var stock: Stock? by Delegates.property()      @delegate:DependencyProperty(""stock"")     var nameAndSymbol: String by Delegates.property { stock?.name + stock?.symbol } } Wait/Until //wait/until just like OneTime binding, but it need apply action, for example below, it wait for market from model, then decide how to display relativeLayout {     wait { until(""market"", converter = viewOfMarket) { inflate(it, this@verticalLayout) }  } } Extend Binding Property Event     fun View.click(path: String) : PropertyBinding = commandBinding(path, clicks(), enabled()) Property     fun View.enabled(vararg paths: String, mode: OneWay = BindingMode.OneWay, converter: OneWayConverter<Boolean> = EmptyOneWayConverter()) : PropertyBinding = oneWayPropertyBinding(paths, enabled(), false, converter)       //this implements four binding mode for TextView, if just need OneWay mode, remove last three lines, some for other mode     fun TextView.text(vararg paths: String, mode: OneWay = BindingMode.OneWay, converter: OneWayConverter<out CharSequence> = EmptyOneWayConverter()) : PropertyBinding = oneWayPropertyBinding(paths, text(), false, converter)     fun TextView.text(vararg paths: String, mode: OneTime, converter: OneWayConverter<out CharSequence> = EmptyOneWayConverter()) : PropertyBinding = oneWayPropertyBinding(paths, text(), true, converter)     fun TextView.text(path: String, mode: OneWayToSource, converter: OneWayConverter<*> = EmptyOneWayConverter<String>()) : PropertyBinding = oneWayPropertyBinding(path, textChanges2(), converter)     fun TextView.text(path: String, mode: TwoWay, converter: TwoWayConverter<String, *> = EmptyTwoWayConverter<String, String>()) : PropertyBinding = twoWayPropertyBinding(path, textChanges2(), text(), converter) Using with Gradle // library with Annotation process dose not upload to bintray yet, coming soon! dependencies {     compile 'com.benny.library:kbinding:0.2.0'     kapt 'com.benny.library:kbinding-compiler:0.2.2'      // for common bindings, View, TextView, and ...     compile 'com.benny.library:kbinding-common:0.2.2'     // for recyclerview bindings     compile 'com.benny.library:kbinding-recyclerview-v7:0.2.2'     // for support v4 bindings     compile 'com.benny.library:kbinding-support-v4:0.2.2' } Contribute Now is just the beginning of KBinding, so everyone interested in this library, just fork it and pull requests to me. Let's make it a little better. Discussion QQ Group: 516157585 Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/BennyWang/KBinding"	""	"true"
"Libraries"	"inaka/KillerTask"	"https://github.com/inaka/KillerTask"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"7"	"47"	"0"	"GitHub - inaka/KillerTask: Android AsyncTask wrapper library, written in Kotlin Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 47 Star 7 Fork 0 inaka/KillerTask Code Issues 0 Pull requests 1 Pulse Graphs Android AsyncTask wrapper library, written in Kotlin 61 commits 2 branches 5 releases Fetching contributors Kotlin 86.1% Java 13.9% Kotlin Java Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags master ramabit.test Nothing to show v1.4 v1.3 v1.2 v1.1 v1.0 Nothing to show New pull request Latest commit e0c1d7f Feb 25, 2016 tenmaster Merge pull request #23 from inaka/ramabit.fix … fixing dependency Permalink Failed to load latest commit information. gradle/wrapper library .gitignore LICENSE README.md build.gradle gradle.properties gradlew gradlew.bat settings.gradle #4 change 'app' with 'library' and configure jitpack.io Jan 21, 2016 README.md KillerTask This is a Kotlin Android library to create async background tasks. Inspired by TinyTask, but more beautiful and easy to use for Kotlin Android developments. Abstract Android's AsyncTasks are highly criticized for being bad, unreliable, outdated, etc. Are they perfect? No. Do we have better alternatives? Sure, but sometimes all we want is a quick and simple way to run something in the background. What is it, really? Just a wrapper around an AsyncTask, with a funny looking API. The main difference between KillerTask and TinyTask is that this library is written in Kotlin language, very different from Java. To learn how to use Kotlin in your Android app you can visit: Android development with Kotlin How to download and install it Add the following to your build.gradle file: repositories {     maven {         url ""https://jitpack.io""     } }  dependencies {     // ...   compile 'com.github.inaka:killertask:v1.2'   // ... } Code examples     val onSuccess: (String) -> Unit = {         result: String ->         Log.wtf(""result"", result)     }      val onFailed: (Exception?) -> Unit = {         e: Exception? ->         Log.wtf(""result"", e.toString())     }      val doWork: () -> String = {         ""test"" // implicit return     }      var killerTask = KillerTask(doWork, onSuccess, onFailed)     killerTask.go() // to execute it     killerTask.cancel() // to cancel it Or simply you can do:     KillerTask(             { ""test"" }, // task             {result: String -> Log.wtf(""result"", result)}, // onSuccess actions             {e: Exception? -> Log.wtf(""result"", e.toString())} // onFailed actions         ).go() Actually, the only strongly necessary parameter is the first one (the main task):     KillerTask({ Log.wtf(""LOG"", ""KillerTask is awesome"") }).go() // only main task     KillerTask(             { Log.wtf(""LOG"", ""KillerTask is awesome"") }, // main task             { Log.wtf(""LOG"", ""Super awesome!"")} // onSuccess     ).go()     KillerTask(             { // main task                 Log.wtf(""LOG"", ""KillerTask is awesome"")                 ""super"" // implicit return             },             {}, // onSuccess is empty             { e: Exception? -> Log.wtf(""LOG"", e.toString()) } // onFailed     ).go() Example of an app using KillerTask Kotlillon Contact Us For questions or general comments regarding the use of this library, please use our public hipchat room. If you find any bugs or have a problem while using this library, please open an issue in this repo (or a pull request :)). And you can check all of our open-source projects at inaka.github.io Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/inaka/KillerTask"	""	"true"
"Libraries"	"grandstaish/paperparcel"	"https://github.com/grandstaish/paperparcel"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"172"	"13"	"7"	"GitHub - grandstaish/paperparcel: Android Parcelable boilerplate annotation processor Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 13 Star 172 Fork 7 grandstaish/paperparcel Code Issues 12 Pull requests 0 Wiki Pulse Graphs Android Parcelable boilerplate annotation processor 294 commits 4 branches 19 releases 3 contributors Java 99.8% Kotlin 0.2% Java Kotlin Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags dev kotlin-extensions master typeadapters Nothing to show 1.0.0 1.0.0-rc5 1.0.0-rc4 1.0.0-rc3 1.0.0-rc2 1.0.0-rc1 1.0.0-beta8 1.0.0-beta7 1.0.0-beta6 1.0.0-beta5 1.0.0-beta4 1.0.0-beta3 1.0.0-beta2 1.0.0-beta1 0.9.9 0.9.8 0.9.7 0.9.6 0.9.5 Nothing to show New pull request Latest commit a31ee69 May 27, 2016 grandstaish Update download info to 1.0.0 Permalink Failed to load latest commit information. compiler Closes #51: stop using SerializableProperty for enums Apr 14, 2016 examples Delete java8 sample app until Android N is officially released Apr 11, 2016 gradle Add license to maven distribution Mar 28, 2016 paperparcel-java7 Remove CREATOR from PaperParcels and require that the user creates it… Mar 28, 2016 paperparcel-java8 Remove CREATOR from PaperParcels and require that the user creates it… Mar 28, 2016 paperparcel-kotlin Remove CREATOR from PaperParcels and require that the user creates it… Mar 28, 2016 paperparcel Fix for Kotlin 1.0.2-EAP May 4, 2016 .gitignore Organise .gitignore Mar 30, 2016 .travis.yml Fix travis build Mar 28, 2016 README.md Update download info to 1.0.0 May 27, 2016 build.gradle Disallow manual implementations of writeToParcel or CREATOR in AutoVa… Apr 11, 2016 gradle.properties Add gradle.properties back Feb 28, 2016 gradlew Initial checkin Dec 20, 2015 gradlew.bat Initial checkin Dec 19, 2015 settings.gradle Delete java8 sample app until Android N is officially released Apr 11, 2016 README.md PaperParcel http://blog.bradcampbell.nz/introducing-paperparcel/ Overview PaperParcel is an annotation processor that automatically generates type-safe Parcelable boilerplate code for Kotlin and Java. PaperParcel supports Kotlin Data Classes, Google's AutoValue via an AutoValue Extension, or just regular Java bean objects (for lack of a better word). Annotated data classes can contain any type that would normally be able to be parcelled. This includes all the basic Kotlin/Java types, Lists, Maps, Sets, Arrays, SparseArrays, Kotlin object declarations, and many more (the full list can be found here). PaperParcel is 100% generated code, no reflection or byte-code manipulation is involved. You can see all the generated classes yourself by viewing the auto-generated PaperParcelMapping class after a build. Usage All documentation can be found in the wiki: For Kotlin users, see Kotlin Usage For AutoValue users, see AutoValue Usage For Java users, see Java Usage Type Adapters Occasionally when using PaperParcel you might find the need to parcel an unknown type, or modify how an object is read/written to a Parcel. TypeAdapters allow you to do this. A good example of when you might want this functionality is with java.util.Date objects. By default, PaperParcel will recognise Date as Serializable, and use Serialization as the Parcel reading/writing mechanism. Serialization is slow, so you might want to write a custom TypeAdapter for a Date object. Defining TypeAdapters for a particular type automatically allows the use of this type with any container type, e.g. a TypeAdapter for Date will apply to the Date elements in List<Map<String, Date>>. For information on how to define and use TypeAdapters, see the Type Adapters wiki page. Limitations Classes with type parameters cannot be annotated with @PaperParcel E.g.: you can't do the following: @PaperParcel  data class BadExample<T>(   val child: T ) An issue has been raised for this here. Download (Kotlin) kapt {     generateStubs = true } repositories {     maven { url 'https://jitpack.io' } } dependencies {     compile 'com.github.grandstaish.paperparcel:paperparcel:1.0.0'     compile 'com.github.grandstaish.paperparcel:paperparcel-kotlin:1.0.0'     kapt 'com.github.grandstaish.paperparcel:compiler:1.0.0' } Download (AutoValue) repositories {     jcenter()     maven { url 'https://jitpack.io' } } dependencies {     provided 'com.google.auto.value:auto-value:1.2'     apt 'com.google.auto.value:auto-value:1.2'     compile 'com.github.grandstaish.paperparcel:paperparcel:1.0.0'     apt 'com.github.grandstaish.paperparcel:compiler:1.0.0' } Note that the android-apt plugin must be applied. Download (Java) repositories {     maven { url 'https://jitpack.io' } } dependencies {     compile 'com.github.grandstaish.paperparcel:paperparcel:1.0.0'     compile 'com.github.grandstaish.paperparcel:paperparcel-java7:1.0.0'     apt 'com.github.grandstaish.paperparcel:compiler:1.0.0' } Note that the android-apt plugin must be applied. Proguard In addition to the default Android rules set by proguard-android.txt in the SDK, add the following rules to your project proguard file: -dontwarn org.jetbrains.annotations.** -keepclassmembers class nz.bradcampbell.paperparcel.PaperParcelMapping {   static ** FROM_ORIGINAL;   static ** FROM_PARCELABLE; }  Contributing I would love contributions to this project if you think of anything you would like to see in the project or find any bugs. If you would like to contribute, first raise a GitHub issue so we can discuss the change you want to make. The best way to contribute is to fork the project on github then send me a pull request via github. If you create your own fork, it might help to enable rebase by default when you pull by executing git config --global pull.rebase true. This will avoid your local repo having too many merge commits which will help keep your pull request simple and easy to apply. License Copyright 2015 Bradley Campbell.  Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at     http://www.apache.org/licenses/LICENSE-2.0  Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.  Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/grandstaish/paperparcel"	""	"true"
"Libraries"	"graknol/AnvilKotlin"	"https://github.com/graknol/AnvilKotlin"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"3"	"2"	"0"	"GitHub - graknol/AnvilKotlin: A simple Kotlin wrapper around Anvil. Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 2 Star 3 Fork 0 graknol/AnvilKotlin Code Issues 0 Pull requests 0 Pulse Graphs A simple Kotlin wrapper around Anvil. 58 commits 1 branch 7 releases 1 contributor Kotlin 100.0% Kotlin Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags master Nothing to show 0.4.0 0.3.1 0.3.0 0.2.0 0.1.2 0.1.1 0.1.0 Nothing to show New pull request Latest commit 2b3799b May 18, 2016 graknol Update README.md Permalink Failed to load latest commit information. .idea Added lparams (works like Anko's) May 18, 2016 anvil Added lparams (works like Anko's) May 18, 2016 appcompat Added lparams (works like Anko's) May 18, 2016 cardview Added lparams (works like Anko's) May 18, 2016 design Added lparams (works like Anko's) May 18, 2016 gradle/wrapper `compile project(path: """", configuration: """")` instead of `compile ht… May 2, 2016 gridlayout Added lparams (works like Anko's) May 18, 2016 recyclerview Added lparams (works like Anko's) May 18, 2016 support Added lparams (works like Anko's) May 18, 2016 .gitignore Added more instructions to the README, and added the correct license. May 4, 2016 LICENSE Added more instructions to the README, and added the correct license. May 4, 2016 README.md Update README.md May 18, 2016 build.gradle Added lparams (works like Anko's) May 18, 2016 gradle.properties Added lparams (works like Anko's) May 18, 2016 gradlew `compile project(path: """", configuration: """")` instead of `compile ht… May 2, 2016 gradlew.bat `compile project(path: """", configuration: """")` instead of `compile ht… May 2, 2016 settings.gradle Added lparams (works like Anko's) May 18, 2016 README.md AnvilKotlin A simple Kotlin wrapper around Anvil. The only purpose of this library is to provide type safety to Anvil through Kotlin. Nothing more, nothing less. Enjoy! :) Get it Add the JitPack repo to your root build.gradle file: allprojects {     repositories {         ...         maven { url ""https://jitpack.io"" }     } } The possible library strings are: dependencies {     // Remember, you still need to set up the equivalent Anvil ones!      // SDK libraries     compile 'com.github.graknol.AnvilKotlin:anvil:0.4.0:sdk15Release@aar'     compile 'com.github.graknol.AnvilKotlin:anvil:0.4.0:sdk19Release@aar'     compile 'com.github.graknol.AnvilKotlin:anvil:0.4.0:sdk21Release@aar'      // Support libraries     compile 'com.github.graknol.AnvilKotlin:cardview:0.4.0@aar'     compile 'com.github.graknol.AnvilKotlin:gridlayout:0.4.0@aar'     compile 'com.github.graknol.AnvilKotlin:recyclerview:0.4.0@aar'     compile 'com.github.graknol.AnvilKotlin:support:0.4.0@aar'     compile 'com.github.graknol.AnvilKotlin:design:0.4.0@aar'     compile 'com.github.graknol.AnvilKotlin:appcompat:0.4.0@aar' } How to use it Use the functions from each library (these are found in graknol.anvil.kotlin) to create views and then use the functions on this, for instance: val fooContent: Anvil.Renderable.() -> Unit = {     coordinatorLayout {         appBarLayout {             size(MATCH, WRAP)             toolbar {                 size(MATCH, dip(48))             }         }     } }  // Just to demonstrate that you can indeed style views by a lambda (think, theme classes with functions like this in it). val styleNavDrawer: AppCompatDSLListViewCompat.() -> Unit = {     choiceMode(ListView.CHOICE_MODE_SINGLE)     divider(resources.getDrawable(android.R.color.transparent))     dividerHeight(0)     backgroundColor(hex(""#111111"")) }  class ExampleView(c: Context) : RenderableView(c) {     fun view() {         linearLayout {             backgroundColor(someIntColorValue)             appCompatButton {                 text(""click me!"")                 onClick(View.OnClickListener {                     doSomethingCool()                 })             }              drawerLayout {                 // Look at the top of this snippet                 fooContent()                  listViewCompat {                     size(dip(240), MATCH)                     // Look at the top of this snippet                     styleNavDrawer()                  }.lparams {                     gravity = START                     weight = 1f                 }             }              // If there are functions missing in the DSL, do this little trick:             with(Anvil.currentView<LinearLayout>()) {                 // Magic!                 whicheverFunctionIsMissing()                 andAllOthers()             }         }     } } The reason for the ""seemingly redundant"" typing of OnClickListener above, is simply that Kotlin does not automatically convert Kotlin parameters to SAMs (Single abstract method), and there are too many functions in the different library for me to patch every single one of them. PS: Some listeners have multiple functions, so you'll end up writing those like this anyway ;) Splitting the code is ~~ugly not that ugly anymore, YAY :) Most issues are not present anymore. If there's something bothering you on this area, DO NOT hesitate to open an issue (we really need all the input we can get). License Code is distributed under the MIT license, feel free to use it in your proprietary projects as well. Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/graknol/AnvilKotlin"	""	"true"
"Frameworks"	"nekocode/kotgo"	"https://github.com/nekocode/kotgo"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"533"	"37"	"76"	"GitHub - nekocode/kotgo: An android development framework on kotlin using MVP architecture. Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 37 Star 533 Fork 76 nekocode/kotgo Code Issues 1 Pull requests 0 Wiki Pulse Graphs 🎏 An android development framework on kotlin using MVP architecture. 225 commits 2 branches 31 releases Fetching contributors Kotlin 81.2% Python 18.6% Java 0.2% Kotlin Python Java Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags dev master Nothing to show 1.0.7 1.0.6 1.0.5 1.0.4 1.0.3 1.0.2 1.0.1 1.0.0 0.9.6 0.9.4 0.9.2 0.9.1 0.9.0 0.8.4 0.8.3 0.8.2 0.8.1 0.8.0 0.7.0 0.6.2 0.6.1 0.6.0 0.5.1 0.5.0 0.4.4 0.4.3 0.4.2 0.3.9 0.3.8 0.3.0 0.2.1 Nothing to show New pull request Latest commit b682e24 Jul 1, 2016 nekocode Update libs and add unit tests Permalink Failed to load latest commit information. art Use kotlin android extensions Jun 7, 2016 component Remove kotterknife Jun 7, 2016 data Update libs and add unit tests Jul 1, 2016 gradle/wrapper prepared for publishling to jitpack Mar 1, 2016 sample Reformat code and update readme Jun 7, 2016 .gitignore Update .gitginore May 11, 2016 README.md Update libs and add unit tests Jun 30, 2016 README_CN.md Update libs and add unit tests Jun 30, 2016 build.gradle Use kotlin android extensions Jun 7, 2016 config.gradle Update libs and add unit tests Jun 30, 2016 gradle.properties Update libs and add unit tests Jun 30, 2016 gradlew first commit Jul 17, 2015 gradlew.bat first commit Jul 17, 2015 project_creator.py Update libs and add unit tests Jun 30, 2016 settings.gradle added checklifecycle extensions Mar 5, 2016 README.md README/中文文档 Create Template Project You can create a new Kotgo template project fast by using the following command. Just paste and execute it at a terminal prompt. Have fun! python -c ""$(curl -fsSL https://raw.githubusercontent.com/nekocode/kotgo/master/project_creator.py)"" Of course, you can also download the python script to your local disk to run it. It depends on the requests lib. Description Kotgo is an android development framework using MVP architecture. It is built with pure Kotlin. Related articles Zhihu Column Package structure com.nekocode.baseframework ├─ data │  ├─ DO │  ├─ exception │  ├─ repo │  └─ service │  ├─ ui │  └─ screen_one │     ├─ Presenter.kt │     └─ Activity.kt │ └─ App.kt  Layer Data Layer: It likes the traditional Model Layer, includes DO(Data Object), service, repository, exception or other element directories. It uses the DOs or other meta object to interact with the Presenter Layer. View Layer: Including activity, fragment, view. Only concerned with the user interaction, as well as view manipulation (animation, interface input, output and update, etc.). Presenter Layer: Control logic layer. Contains the logic to respond to the events, updates the model (both the business logic and the application data), and alters the state of the view. Kotlin kotlin version: 1.0.3 Libraries anko: 0.8.3 rxkotlin: 0.55.0 retrofit: 2.0.2 picasso: 2.5.2 hawk: 1.23 stetho: 1.3.1 paperparcel: 1.0.0 Screenshots Thanks to gank.io. The sample App fetchs beautiful girl photos' information from it. Another better sample: Check this Use Component Library You can only use the kotgo's component library with gradle. It provides many useful tools to help you to build a MVP project fast and simply. Just add the JitPack repository to your root build.gradle: repositories {     maven { url ""https://jitpack.io"" } } And then add the dependency to your sub build.gradle: dependencies {     compile 'com.github.nekocode:kotgo:<lastest-version>' } More Flexible RxLifecycle!! It helps you to bind the RxJava subscriptions into the lifecycle of Activity and Fragment. It will terminate the RxJava subscription when the activity or fragment is destorying or detaching. And the most importent thing is that it can be used anywhere (such in Prensenter), It's more flexible then the RxLifecycle. MeiziRepo.getMeizis(50, 1).onUI().bindLifecycle(view).subscribe {     view.refreshMeizis(it) } Powerful RxBus!! It simulates the Event Bus by RxJava. It uses many syntax sugar of Kotlin to make subscribing the Bus's events easier. And it is also binded into the lifecyle of Activity and Fragment automatically. You can just send events everywhere. And then subscribe events in the class that implements from RxLifecycle.Impl without worrying about casuing any leaks! RxBus.send(""Success"") RxBus.subscribe(String::class.java) { showToast(it) } The Prsenter Inherited From Fragment!! Using the Fragment to implement Presenter maybe is one of the best ways! Now we can move the logic which depended on Activity's lifecycle to Presenter. And we can also use setRetainInstance(true) to solve the screen rotation problem. It look like this: class MeiziPresenter(): BasePresenter(), Contract.Presenter {     var view: Contract.View? = null      override fun onAttach(activity: Activity?) {         super.onAttach(activity)         view = getParent() as Contract.View     }      override fun onCreate(savedInstanceState: Bundle?) {         super.onCreate(savedInstanceState)         // Do something     } } Simple Dependency Injection!! Look at these code. We can inherit the Dependency class for storing some denpendencies providing. object TestDep : Dependency() {     override fun createDependencies() {         bindSingleton<Int> {             args ->             args[0] as Int         }     } } And then use the following code to inject dependency. val int = TestDep.inject<Int> Supporting for Single Activity Multiple Fragment Architecture!! You can build applications that have only one activity with the help of the FragmentActivity provided by the Component Library. It provides following functions for helping you manage the fragment stack. push(fragmentTag, classType, args) pushForResult(originalTag, requestCode, fragmentTag, classType, args) pop() get(fragmentTag) getFragmentTopInStack() startActivityForResult(fragmentTag, intent, requestCode, options) We also deal with more details, look at the FragmentActivity.kt. Others It also contains some other useful tools and extensions. Check the util package for more details. Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/nekocode/kotgo"	""	"true"
"Projects"	"antoniolg/Bandhook-Kotlin"	"https://github.com/antoniolg/Bandhook-Kotlin"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"625"	"40"	"98"	"GitHub - antoniolg/Bandhook-Kotlin: A showcase music app for Android entirely written using Kotlin language Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 40 Star 625 Fork 98 antoniolg/Bandhook-Kotlin Code Issues 8 Pull requests 1 Pulse Graphs A showcase music app for Android entirely written using Kotlin language 53 commits 1 branch 0 releases 4 contributors Kotlin 100.0% Kotlin Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags master Nothing to show Nothing to show New pull request Latest commit 13cc909 Jul 14, 2016 antoniolg committed on GitHub Merge pull request #20 from pvg-alex/add-albums … Add albums Permalink Failed to load latest commit information. app Add inflate method extension to ViewGroup, use it is adapters Jul 10, 2016 art Update Readme.md Mar 25, 2015 gradle/wrapper update gradle May 6, 2016 .gitignore Initial commit Mar 22, 2015 LICENSE Merge with origin/master Mar 22, 2015 Readme.md Update key location in readme Jul 12, 2016 build.gradle Migrate to design support library, add view pager for artist bio and … Jul 8, 2016 settings.gradle Bump Kotlin version to M14 Oct 8, 2015 Readme.md Bandhook Kotlin This project is a small replica of the app I developed some time ago. Bandhook can still be found on Play Store At the moment it will only connect to LastFm and retrieve some music bands. It will let navigate to the artist detail. This is what you´ll get: The purpose of the project is to show a complex (at least in architecture) project entirely written using Kotlin. This example also supports the articles written in antonioleiva.com related to Kotlin for Android: Kotlin for Android (I): Introduction Kotlin for Android (II): Create a new project Kotlin for Android (III): Extension functions and default values Kotlin for Android (IV): Custom Views and Android Extensions This sample project is still in development, and could easily break or have some messy code. However, any idea or suggestion to improve it will be welcomed. Feel free to open an issue if you think something could be improved. How to use this project You can use Android Studio or Intellij to work with this repository. First thing you will need to compile this project is to get an API Key from Last.fm. It will we used to connect to the service that will provide artists info. Then create a resource file app/src/main/res/values/api_key.xml (this path is ignored by git) with the following content: <string name=""last_fm_api_key"">YOUR_KEY</string> Two plugins for Android Studio are also required: Kotlin and Kotlin Extensions for Android Many ideas on how this project is organized were taken from Clean Contacts project, by PaNaVTEC. There are some slight differences, but reading How to start section will be helpful. License Copyright 2015 Antonio Leiva  Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at     http://www.apache.org/licenses/LICENSE-2.0  Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.  Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/antoniolg/Bandhook-Kotlin"	""	"true"
"Projects"	"antoniolg/Kotlin-for-Android-Developers"	"https://github.com/antoniolg/Kotlin-for-Android-Developers"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"267"	"28"	"41"	"GitHub - antoniolg/Kotlin-for-Android-Developers: Companion App for the book Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 28 Star 267 Fork 41 antoniolg/Kotlin-for-Android-Developers Code Issues 1 Pull requests 0 Pulse Graphs Companion App for the book http://antonioleiva.com/kotlin-android-developers/ 21 commits 1 branch 0 releases 1 contributor Kotlin 100.0% Kotlin Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags master Nothing to show Nothing to show New pull request Latest commit 536d1bd Oct 22, 2015 antoniolg Add license to files Permalink Failed to load latest commit information. app Add license to files Feb 15, 2016 art Chapter 3: Creating a project Feb 15, 2016 gradle/wrapper Add license to files Feb 15, 2016 .gitignore Chapter 3: Creating a project Feb 15, 2016 LICENSE Chapter 3: Creating a project Feb 15, 2016 README.md Chapter 3: Creating a project Feb 15, 2016 build.gradle Add license to files Feb 15, 2016 settings.gradle Add license to files Feb 15, 2016 README.md Kotlin for Android Developers (the book) This is the code used you can use to follow the book. https://leanpub.com/kotlin-for-android-developers Are you tired of using an ancient, inexpressive and unsafe language to develop your Android apps? Do you cry out loud every time you see a Null Pointer Exception in your bug tracker? Then Kotlin is your solution! A language specifically created for Java developers, easy to learn, expressive, null safe and really intuitive. Your productivity will boost and your apps will become more robust. Learn Kotlin the easy way by example and discover the tricks that will make coding easier. About the book In this book, I'll be creating an Android app from ground using Kotlin as the main language. The idea is to learn the language by example, instead of following a typical structure. I'll be stopping to explain the most interesting concepts and ideas about Kotlin, comparing it with Java 7. This way, you can see what the differences are and which parts of the language will help you speed up your work. This book is not meant to be a language reference, but a tool for Android developers to learn Kotlin and be able to continue with their own projects by themselves. I'll be solving many of the typical problems we have to face in our daily lives by making use of the language expressiveness and some other really interesting tools and libraries. The book is very practical, so it is recommended to follow the examples and the code in front of a computer and try everything it's suggested. You could, however, take a first read to get a broad idea and then dive into practice. As you could read in previous pages (and probably the site were you downloaded), this is a lean publication. This means that the book is written and progresses with you. I'll continually write new content and review the existing based on your comments and your suggestions. In the end, it will also be your book. I want this book to be the perfect tool for Android developers, and as such, all the help and ideas will be welcomed. Thanks for becoming part of this exciting project. License Copyright 2015 Antonio Leiva  Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at     http://www.apache.org/licenses/LICENSE-2.0  Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.  Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/antoniolg/Kotlin-for-Android-Developers"	""	"true"
"Projects"	"damianpetla/kotlin-dagger-example"	"https://github.com/damianpetla/kotlin-dagger-example"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"264"	"19"	"19"	"GitHub - damianpetla/kotlin-dagger-example: Example of Android project showing integration with Kotlin and Dagger 2 Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 19 Star 264 Fork 19 damianpetla/kotlin-dagger-example Code Issues 0 Pull requests 0 Pulse Graphs Example of Android project showing integration with Kotlin and Dagger 2 32 commits 1 branch 0 releases Fetching contributors Kotlin 91.9% Java 8.1% Kotlin Java Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags master Nothing to show Nothing to show New pull request Latest commit d43c6e1 Jul 5, 2016 damianpetla upgraded to Kotlin 1.0.3 Permalink Failed to load latest commit information. app upgraded to Kotlin 1.0.3 Jul 5, 2016 gradle/wrapper update to Kotlin 1.0.0 RC Feb 7, 2016 .gitignore init commit Dec 14, 2014 README.md move dagger classes to Kotlin Oct 28, 2015 build.gradle upgraded to Kotlin 1.0.3 Jul 5, 2016 gradle.properties updated Kotlin to 1.0.2 May 27, 2016 gradlew init commit Dec 14, 2014 gradlew.bat init commit Dec 14, 2014 settings.gradle init commit Dec 14, 2014 README.md kotlin-dagger-example This project demonstrate how to setup an Android Project with Kotlin and Dagger 2. It's based on Dagger 2 example Known issues/limitations When lateinit modifier is used, your variable cannot be used in init{} block. It will not compile. So in that case I suggest to move code from that block into a separate function and then call that function from init{} block. More than Dagger This sample project includes some more dependencies which are very usefull. It's like a base setup for almost every project using Kotlin. So you will find there Anko libraries. You can uncomment Anko's DSL libraries if you need them. There is also a set of Rx dependencies. Rx works really great with Kotlin. At last but not least there my favourite networking dependencies from Square. Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/damianpetla/kotlin-dagger-example"	""	"true"
"Projects"	"dodyg/AndroidRivers"	"https://github.com/dodyg/AndroidRivers"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"234"	"24"	"64"	"GitHub - dodyg/AndroidRivers: Anxiety free news reader for Android - developed using Kotlin Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 24 Star 234 Fork 64 dodyg/AndroidRivers Code Issues 3 Pull requests 0 Pulse Graphs Anxiety free news reader for Android - developed using Kotlin http://rivers.silverkeytech.com 606 commits 3 branches 0 releases 11 contributors Java 85.4% Kotlin 14.6% Java Kotlin Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags community gh-pages master Nothing to show Nothing to show New pull request Latest commit 589ea91 Oct 6, 2015 dodyg Merge pull request #21 from ilya-g/master … Fix compilation and replace some deprecated symbol usages Permalink Failed to load latest commit information. .idea Suppress warning on parameter changed on override Feb 8, 2014 HoloEverywhere-master Update to Kotlin 0.62255 Feb 8, 2014 NewsEngine Replace deprecated sortBy usages. Oct 5, 2015 NewsEngineTests Replace deprecated assert usages Oct 5, 2015 assets Release 1.15 Oct 24, 2013 gen/com/silverkeytech/android_rivers Commit to the latest Kotlin version 0.6.433 Sep 25, 2013 lib Update kotlin runtime to M14. Oct 5, 2015 proguard_logs Release 1.11 Apr 2, 2013 res Add search term in craiglist acttivity. Sep 29, 2013 src Replace deprecated sortBy usages. Oct 5, 2015 .gitignore Update to kotlin 0.7.976 Jun 9, 2014 AndroidManifest.xml Add search term in craiglist acttivity. Sep 29, 2013 AndroidRivers.iml Update to Kotlin 0.62255 Feb 8, 2014 License.txt Update license information Dec 12, 2012 README.md Update readme. Jul 8, 2014 ant.properties Initial commit Nov 14, 2012 build.xml Initial commit Nov 14, 2012 local.properties Initial commit Nov 14, 2012 proguard-project.txt Reformat code and optimize import Mar 26, 2013 project.properties Update Android SDK to 4.2.2 (17) Jun 19, 2013 README.md Android River is a modern Android 2.2 news app. It's now version 1.15. Android River has the following features: Read RSS 1.0, RSS 2.0 and ATOM 1.0. Create your own custom River of News out of feeds. Read RiverJs format. Read OPML and display them in an outline. Download and play Podcast with a custom made podcast player. Create RSS feeds out of Google News, Kayak.com deals and Craigslist. Feature a frequently updated sources of feeds to subscribe to. There is no login required to use any of the functionality. There are no ads. It is super fast. It is efficient with data/battery usage. It has the awesome Holo theme applied even from Android 2.2. Tweets links easily or read articles for later (great integration with Pocket) The website for this project is at http://rivers.silverkeytech.com. Android River can be downloaded at Google Store http://goo.gl/kShgp. This code is licensed under GPL version 3. Please read license.txt. I develop Android Rivers using Kotlin programming language version M8. It might not be obvious that this is Kotlin project since there are a lot of Java code in the project. Most of these Java code are open source libraries that Android Rivers include in source form by necessity. Most of the Kotlin code is located at NewsEngine module and com.silverkeytech.android_rivers package at the main project. By reading Android Rivers source code, you will learn about: Using SQLite database. High performance XML parsing. High performance JSON parsing. Implementing a media player. Writing Android Service. Accessing Android Clipboard. Fragments. Implementing Holo theme in Android 2.2 above. Using Library modules. First class Outliner UI support. Asynchronous operations. Managing file system. Creating custom dialogs. Implementing Sliding Menu. Asynchronous HTTP calls. Integrating Android Java library. Implementing Arabic language support. Implement EventBus. Open Source Library used: ActionBar Sherlock - Apache License 2.0 Tree-view-list-android google-gson - Apache License 2.0 http-request Simple Java Xml Parser Scribe-Java HoloEverywhere Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/dodyg/AndroidRivers"	""	"true"
"Projects"	"MakinGiants/banjen-android-banjo-tuner"	"https://github.com/MakinGiants/banjen-android-banjo-tuner"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"0"	"1"	"0"	"GitHub - MakinGiants/banjen-android-banjo-tuner: Android app to help to tune a banjo Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 1 Star 0 Fork 0 MakinGiants/banjen-android-banjo-tuner Code Issues 0 Pull requests 0 Pulse Graphs Android app to help to tune a banjo http://www.makingiants.com/android_banjo_tuner 73 commits 3 branches 3 releases Fetching contributors Kotlin 99.1% Shell 0.9% Kotlin Shell Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags develop gh-pages master Nothing to show 1.3.1 1.3.0 1.0.1 Nothing to show New pull request Latest commit 9908674 Jul 1, 2016 danielgomezrico Update dependencies and sdk to 24 Permalink Failed to load latest commit information. app Update dependencies and sdk to 24 Jul 1, 2016 gradle/wrapper Update dependencies and sdk to 24 Jul 1, 2016 scripts Update dependencies and sdk to 24 Jul 1, 2016 .gitignore = gitignore. Sep 15, 2015 CHANGELOG.md = v 1.3.0. Feb 14, 2016 LICENSE EDIT readme and new IDE Android Studio Sep 12, 2014 README.md Update README.md Jan 25, 2016 build.gradle Update dependencies and sdk to 24 Jul 1, 2016 gradle.properties EDIT project to Android Studio Sep 12, 2014 gradlew EDIT project to Android Studio Sep 13, 2014 gradlew.bat EDIT project to Android Studio Sep 13, 2014 local.properties Update dependencies and sdk to 24 Jul 1, 2016 settings.gradle EDIT project to Android Studio Sep 13, 2014 README.md Android Banjo Tuner Google Play Android app to help to tune a 4 string banjo Developed with Android Studio v2.0 preview 7. License Apache Version 2.0 Contributing Please fork this repository and contribute back using pull requests. Any contributions, large or small, major features, bug fixes, additional language translations, unit/integration tests are welcomed and appreciated but will be thoroughly reviewed and discussed. About MakinGIANTS http://www.makingiants.com here.makin.giants@gmail.com Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/MakinGiants/banjen-android-banjo-tuner"	""	"true"
"Projects"	"inaka/kotlillon"	"https://github.com/inaka/kotlillon"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"10"	"48"	"1"	"GitHub - inaka/kotlillon: Android Kotlin Examples Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 48 Star 10 Fork 1 inaka/kotlillon Code Issues 1 Pull requests 0 Pulse Graphs Android Kotlin Examples 75 commits 2 branches 0 releases 4 contributors Kotlin 97.7% Java 2.3% Kotlin Java Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags master sebas.SystemPrefs Nothing to show Nothing to show New pull request Latest commit 2ac398b Mar 7, 2016 griveroa-inaka Merge pull request #30 from inaka/ramabit.fixes … +1 Permalink Failed to load latest commit information. app avoiding warnings Mar 4, 2016 gradle/wrapper main list of examples and example of sliding tabs Dec 23, 2015 .gitignore adapt gitignore to internal conventions Mar 1, 2016 LICENSE Update LICENSE Dec 23, 2015 README.md Initial commit Dec 23, 2015 build.gradle #15 example using KillerTask Jan 21, 2016 gradle.properties main list of examples and example of sliding tabs Dec 23, 2015 gradlew main list of examples and example of sliding tabs Dec 23, 2015 gradlew.bat main list of examples and example of sliding tabs Dec 23, 2015 kotlillon.iml #15 example using KillerTask Jan 21, 2016 settings.gradle main list of examples and example of sliding tabs Dec 23, 2015 README.md kotlillon Android Kotlin Examples Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/inaka/kotlillon"	""	"true"
"Projects"	"MakinGiants/todayhistory"	"https://github.com/MakinGiants/todayhistory"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"5"	"1"	"0"	"GitHub - MakinGiants/todayhistory: Android app that shows what happened today in the history. Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 1 Star 5 Fork 0 MakinGiants/todayhistory Code Issues 0 Pull requests 0 Pulse Graphs Android app that shows what happened today in the history. 70 commits 3 branches 1 release Fetching contributors Kotlin 97.2% Shell 2.8% Kotlin Shell Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags develop feature/update_dependencies master Nothing to show 0.1.0 Nothing to show New pull request Fetching latest commit… Cannot retrieve the latest commit at this time. Permalink Failed to load latest commit information. api app gradle/wrapper img scripts .gitignore .travis.yml README.md build.gradle debug.keystore gradle.properties gradlew gradlew.bat settings.gradle README.md Today History Android app Master: Develop: Code Coverage: App that shows what happened today in history. Details Written in Kotlin. Android Studio 2.1 preview 4. MVP architecture modularized into api and app. Unit tests for presenters and non android code. Travis tests for pull requests check. Code Coverage show up on pull requests with codecov.io. Proguard setup to minify apk size. License Apache Version 2.0 Contributing Please fork this repository and contribute back using pull requests. Any contributions, large or small, major features, bug fixes, additional language translations, unit/integration tests are welcomed and appreciated but will be thoroughly reviewed and discussed. About MakinGIANTS http://www.makingiants.com here.makin.giants@gmail.com Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/MakinGiants/todayhistory"	""	"true"
"Projects"	"RxKotlin/Pocket"	"https://github.com/RxKotlin/Pocket"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"6"	"6"	"2"	"GitHub - RxKotlin/Pocket: This is a first kotlin project Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 6 Star 6 Fork 2 RxKotlin/Pocket Code Issues 0 Pull requests 0 Pulse Graphs This is a first kotlin project 192 commits 2 branches 1 release Fetching contributors Kotlin 96.1% HTML 2.6% Java 1.3% Kotlin HTML Java Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags master refactor-evernote Nothing to show use-realm Nothing to show New pull request Latest commit b0f5ce6 Jul 4, 2016 githubchen001 committed on GitHub Merge pull request #50 from RxKotlin/modifySaveEveryNoteButton … add shareToEveryNoteButton Permalink Failed to load latest commit information. app gradle/wrapper lib screenshot .gitignore .travis.yml README.md build.gradle gradle.properties gradlew gradlew.bat settings.gradle README.md SmallPocket This is a first kotlin app, help user to save links easily, and can export to Evernote as weekly. Steps: copy link anywhere open SmallPocket query save or not click OK input tags for this link click save click link item show detail Architectural Model Link Tag CoreLink CoreTag RealmLink RealTag View IMainView IListView MainActivity LinkListFragment Presenter IMainPresenter ILinkListPresenter MainPresenter LinkListPresenter Our Libray writen by Kotlin An HTML render engin HtmlTemplateEngine 3rd Part Libs RxKotlin Realm Volley JsoupXpath HockeyApp base-adapter-helper License The MIT License (MIT) Copyright (c) <year> <copyright holders>  Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the ""Software""), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:  The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.  THE SOFTWARE IS PROVIDED ""AS IS"", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.  Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/RxKotlin/Pocket"	""	"true"
"Projects"	"SidneyXu/AndroidDemoIn4Languages"	"https://github.com/SidneyXu/AndroidDemoIn4Languages"	""	"null"	"null"	"null"	"null"	"null"	"null"	"null"	"126"	"8"	"10"	"GitHub - SidneyXu/AndroidDemoIn4Languages: Comparison among Java, Groovy, Scala, Kotlin in Android Development. Skip to content Personal Open source Business Explore Sign up Sign in Pricing Blog Support Search GitHub This repository Watch 8 Star 126 Fork 10 SidneyXu/AndroidDemoIn4Languages Code Issues 2 Pull requests 0 Pulse Graphs Comparison among Java, Groovy, Scala, Kotlin in Android Development. 31 commits 1 branch 0 releases Fetching contributors Java 28.5% Scala 28.2% Groovy 22.0% Kotlin 21.3% Java Scala Groovy Kotlin Clone or download Use SSH Clone with HTTPS Use Git or checkout with SVN using the web URL. Use HTTPS Clone with SSH Use an SSH key and passphrase from account. Open in Desktop Download ZIP Find file Branch: master Switch branches/tags Branches Tags master Nothing to show Nothing to show New pull request Latest commit b007ac7 May 19, 2016 1 SidneyXu Add new comparison and update report. Permalink Failed to load latest commit information. GroovyAndroid 1. Fix groovy proguard bug. May 7, 2016 JavaAndroid 1. Fix groovy proguard bug. May 7, 2016 KotlinAndroid Update kotlin to v1.0.2 May 18, 2016 ScalaAndroid 1. Fix groovy proguard bug. May 7, 2016 .gitignore 1. Fix groovy proguard bug. May 7, 2016 README.md Add new comparison and update report. May 19, 2016 README_CN.md Update kotlin to v1.0.2 May 18, 2016 README_JP.md Update kotlin to v1.0.2 May 18, 2016 README.md 中文版 日本語 AndroidDemoIn4Languages A simple Android application written in Java, Groovy, Scala and Kotlin in order to find out what is the better language for Android development. ChangeLog 2016.5.19 Update Kotlin from v1.0.0 to v1.0.2 How to Compare? Only import the minimal dependencies. Dependence Report In Java Import com.android.support:appcompat-v7:23.3.0 In Groovy Import com.android.support:appcompat-v7:23.3.0 Import org.codehaus.groovy:groovy:2.4.6:grooid Import org.codehaus.groovy:groovy-json:2.4.6 In Scala Import com.android.support:appcompat-v7:23.3.0 Import org.scala-lang:scala-library:2.11.7 In Kotlin Import com.android.support:appcompat-v7:23.3.0 Import org.jetbrains.kotlin:kotlin-stdlib:1.0.2 Analysis Report Line Counter Language Files Blank Lines Comment Lines Code Lines Java 3 20 0 157 Groovy 3 23 9 140 Scala 3 32 9 127 Kotlin 3 23 9 136 Size Counter Language Disable Proguard (bytes) Enable Proguard (bytes) Java 1,228,376 772,571 Groovy 3,003,235 1,759,722 Scala over 65536 methods 1,026,688 Kotlin 1,525,725 736,843 Method Counter Language Disable Proguard Enable Proguard Java 163,06 7,065 Groovy 46,791 23,775 Scala over 65536 methods 12,180 Kotlin 21,776 7,198 Notice Update Kotlin version v1.0.0 -> v1.0.2 method 23236 -> 21776 method(proguard) 7124 -> 7198 size 1,594,619 -> 1,525,725 size(proguard) 776.281 -> 736,843 Build Speed Test on MacBook Pro (Retina, 15-inch, Mid 2014 & APPLE SSD SM0256F Media) Gradle task: ./gradlew :app:clean :app:assembleDebug SBT task: sbt app/clean app/android:package Language Gradle Plugin Spend (secs) SBT Spend (secs) Java 2.1.0-rc1 ≈ 7 0.13.11 ≈ 9 Groovy 1.5.0 ≈ 21 0.13.11 - Scala 1.3.1 ≈ 23 0.13.11 ≈ 21 Kotlin 2.1.0-rc1 ≈ 8 0.13.11 ≈ 16 Coding Comparison Find View Java TextView title = (TextView)view.findViewById(android.R.id.text1); Groovy def title = view.findViewById(android.R.id.text1) as TextView Scala val title = view.findViewById(android.R.id.text1).asInstanceOf[TextView] Kotlin With Kotlin Android Extensions enabled (no extra dependencies needed): val title = view.text1 Note: as a fallback, one can use the more traditional cast-based approach: val title = view.findViewById(android.R.id.text1) as TextView OnClickListener Java button.setOnClickListener(new View.OnClickListener() {     @Override     void onClick(final View v) {       //  do something     } }) Groovy button.onClickListener = {     //  do something } Scala button.onClick((v: View) =>     //  do something ) Kotlin button.setOnClickListener {     //  do something } Callback Java public interface FindCallback {     void onFinish(List<String> results, Exception e); } private void findCountries(FindCallback doneCallback) {     try {         //  a long time mission         doneCallback.onFinish(results, null);     } catch (Exception e) {         doneCallback.onFinish(null, e);     } } findCountries(new FindCallback(){     void onFinish(List<String> results, Exception e){       //  handle result     } }); Groovy def findCountries(Closure doneCallback) {     try {         //  a long time mission         doneCallback(results, null)     } catch (e) {         doneCallback(null, e)     } } findCountries{ List<String> results, Exception e ->   //  handle result }); Scala def findCountries(doneCallback: (ArrayBuffer[String], Exception) => Unit):Unit = {     try {         //  a long time mission         doneCallback(results, null)     } catch {         case e: Exception => doneCallback(null, e)     } } findCountries((names: ArrayBuffer[String], e: Exception) =>   //  handle result ) Kotlin fun findCountries(doneCallback: (List<String>?, Exception?) -> Unit) {     try {         //  a long time mission         doneCallback(results, null)     } catch (e: Exception) {         doneCallback(null, e)     } } findCountries{ list, e ->   //  handle result } Extension Scala object AndroidContext {    implicit class RichContext(ctx: Context) {     def toast(msg: String) = Toast.makeText(ctx, msg, Toast.LENGTH_SHORT).show()      def progress(): ProgressDialog = {       val progressDialog = new ProgressDialog(ctx)       progressDialog.setProgressStyle(ProgressDialog.STYLE_SPINNER)       progressDialog.setCancelable(false)       progressDialog     }   }  }  import AndroidContext._ this.toast(msg) this.progress().show() Kotlin fun Activity.toast(message: CharSequence?, duration: Int = Toast.LENGTH_SHORT) {     Toast.makeText(this, message, duration).show() }  fun Activity.progress() = ProgressDialog(this).apply {     setProgressStyle(ProgressDialog.STYLE_SPINNER)     setCancelable(false) } Switch Java String result; switch (obj) {     case 1:         result = ""Result is 1"";         break;     case 10:         result = ""Result is 10"";         break;     default:         result = ""Default result"";         break; } Groovy def result switch (obj) {     case 0:         result = ""Object equals""         break     case 11..20:         result = ""Range contains""         break     case [1, 2, 3]:         result = ""List contains""         break     case Float:         result = ""Class instance""         break     case { it % 3 == 0 }:         result = ""Closure""         break     case ~'[0-9]{3}':         result = ""Pattern match""         break     default:         result = ""Default""         break } Scala val result = foo match {   case 0 => ""Object equals""   case i if i == 10 || i == 11 => ""Expression""   case i: Int => s""Class instance holds $i""   case List(1, 2, _*) => ""List contains""   case Number(n) => s""Case class holds $n""   case t: {def length: Int} => ""Duck type""   case _ => ""Default"" } Kotlin var result = when (foo) {     0 -> ""Object equals""     3, 10 -> ""Or""     in 11..20 -> ""Range contains""     is Date -> ""Class instance""     !in 4..30 -> ""Range not contain""     else -> ""Default"" } 3rd Party Libraries Scala Scaloid Kotlin Anko Who use these languages? TODO Community Support Java Native Support Groovy Official Support Scala No Support Kotlin Official Support Conclusion The futher comparison to be continue... Contact GitHub API Training Shop Blog About © 2016 GitHub, Inc. Terms Privacy Security Status Help Something went wrong with that request. Please try again. You signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session."	"null"	"https://github.com/SidneyXu/AndroidDemoIn4Languages"	""	"true"
